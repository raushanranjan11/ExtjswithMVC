var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var d=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;while(!(h=b.next()).done){d.push(c.call(g,h.value))}}else {var i=b.length;for(var e=0;e<i;e++){d.push(c.call(g,b[e]))}}return d};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,e){var b=this;if(b instanceof String){b=String(b)}var f=b.length;for(var c=e||0;c<f;c++){if(b[c]==d||Object.is(b[c],d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es6','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];delete b[a];try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a|'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){var b=this.onSettledCallbacks_;for(var a=0;a<b.length;++a){b[a].call();b[a]=null}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(function(){d.asyncExecute(callback)})}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.executeAsyncGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if(isConformant()){return c}var a='$jscomp_hidden_'+Math.random().toString().substring(2);function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){var g=!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(j){return !1}}();if(g){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(e,d){var a=c(this,e);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:d};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=d}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=i(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var h=0;var i=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++h;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(c,d,h){c=Number(c);d=Number(d);var b,g,f;var e=Math.max(Math.abs(c),Math.abs(d));for(b=2;b<arguments.length;b++){e=Math.max(e,Math.abs(arguments[b]))}if(e>1.0E100||e<1.0E-100){c=c/e;d=d/e;f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/e;f+=g*g}return Math.sqrt(f)*e}else {f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Object.assign',function(a){if(a){return a}var b=function(e,f){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(!b){continue}for(var c in b){if($jscomp.owns(b,c)){e[c]=b[c]}}}return e};return b},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){var c=!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}();if(c){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(b){function isConformant(){if(!b||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var a=new b([c]);if(!a.has(c)||a.has(d)){return !1}a['delete'](c);a.add(d);return !a.has(c)&&a.has(d)}catch(e){return !1}}if(isConformant()){return b}var a=function(a){this.map_=new WeakMap();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};a.prototype.add=function(a){this.map_.set(a,!0);return this};a.prototype.has=function(a){return this.map_.has(a)};a.prototype['delete']=function(a){return this.map_['delete'](a)};return a},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}var Ext=Ext||{};if(!Ext.Toolbar){Ext.Toolbar={}}if(!Ext.app){Ext.app={}}if(!Ext.app.bind){Ext.app.bind={}}if(!Ext.app.domain){Ext.app.domain={}}if(!Ext.app.route){Ext.app.route={}}if(!Ext.button){Ext.button={}}if(!Ext.container){Ext.container={}}if(!Ext.core){Ext.core={}}if(!Ext.data){Ext.data={}}if(!Ext.data.field){Ext.data.field={}}if(!Ext.data.flash){Ext.data.flash={}}if(!Ext.data.identifier){Ext.data.identifier={}}if(!Ext.data.operation){Ext.data.operation={}}if(!Ext.data.proxy){Ext.data.proxy={}}if(!Ext.data.reader){Ext.data.reader={}}if(!Ext.data.schema){Ext.data.schema={}}if(!Ext.data.session){Ext.data.session={}}if(!Ext.data.validator){Ext.data.validator={}}if(!Ext.data.writer){Ext.data.writer={}}if(!Ext.dd){Ext.dd={}}if(!Ext.direct){Ext.direct={}}if(!Ext.dom){Ext.dom={}}if(!Ext.dom.Element){Ext.dom.Element={}}if(!Ext.event){Ext.event={}}if(!Ext.event.gesture){Ext.event.gesture={}}if(!Ext.event.publisher){Ext.event.publisher={}}if(!Ext.form){Ext.form={}}if(!Ext.form.Action){Ext.form.Action={}}if(!Ext.form.action){Ext.form.action={}}if(!Ext.form.field){Ext.form.field={}}if(!Ext.form.trigger){Ext.form.trigger={}}if(!Ext.fx){Ext.fx={}}if(!Ext.fx.easing){Ext.fx.easing={}}if(!Ext.fx.target){Ext.fx.target={}}if(!Ext.grid){Ext.grid={}}if(!Ext.grid.column){Ext.grid.column={}}if(!Ext.grid.feature){Ext.grid.feature={}}if(!Ext.grid.header){Ext.grid.header={}}if(!Ext.grid.locking){Ext.grid.locking={}}if(!Ext.grid.plugin){Ext.grid.plugin={}}if(!Ext.grid.property){Ext.grid.property={}}if(!Ext.layout){Ext.layout={}}if(!Ext.layout.boxOverflow){Ext.layout.boxOverflow={}}if(!Ext.layout.component){Ext.layout.component={}}if(!Ext.layout.component.field){Ext.layout.component.field={}}if(!Ext.layout.container){Ext.layout.container={}}if(!Ext.layout.container.border){Ext.layout.container.border={}}if(!Ext.layout.container.boxOverflow){Ext.layout.container.boxOverflow={}}if(!Ext.list){Ext.list={}}if(!Ext.menu){Ext.menu={}}if(!Ext.mixin){Ext.mixin={}}if(!Ext.overrides){Ext.overrides={}}if(!Ext.overrides.app){Ext.overrides.app={}}if(!Ext.overrides.data){Ext.overrides.data={}}if(!Ext.overrides.dom){Ext.overrides.dom={}}if(!Ext.overrides.event){Ext.overrides.event={}}if(!Ext.overrides.event.publisher){Ext.overrides.event.publisher={}}if(!Ext.panel){Ext.panel={}}if(!Ext.perf){Ext.perf={}}if(!Ext.picker){Ext.picker={}}if(!Ext.resizer){Ext.resizer={}}if(!Ext.scroll){Ext.scroll={}}if(!Ext.selection){Ext.selection={}}if(!Ext.slider){Ext.slider={}}if(!Ext.state){Ext.state={}}if(!Ext.tab){Ext.tab={}}if(!Ext.tip){Ext.tip={}}if(!Ext.toolbar){Ext.toolbar={}}if(!Ext.tree){Ext.tree={}}if(!Ext.util){Ext.util={}}if(!Ext.util.paintmonitor){Ext.util.paintmonitor={}}if(!Ext.util.sizemonitor){Ext.util.sizemonitor={}}if(!Ext.util.translatable){Ext.util.translatable={}}if(!Ext.ux){Ext.ux={}}if(!Ext.ux.data){Ext.ux.data={}}if(!Ext.ux.form){Ext.ux.form={}}if(!Ext.view){Ext.view={}}if(!Ext.window){Ext.window={}}var ExtThemeNeptune=ExtThemeNeptune||{};if(!ExtThemeNeptune.form){ExtThemeNeptune.form={}}if(!ExtThemeNeptune.form.field){ExtThemeNeptune.form.field={}}if(!ExtThemeNeptune.grid){ExtThemeNeptune.grid={}}if(!ExtThemeNeptune.grid.column){ExtThemeNeptune.grid.column={}}if(!ExtThemeNeptune.layout){ExtThemeNeptune.layout={}}if(!ExtThemeNeptune.layout.component){ExtThemeNeptune.layout.component={}}if(!ExtThemeNeptune.menu){ExtThemeNeptune.menu={}}if(!ExtThemeNeptune.panel){ExtThemeNeptune.panel={}}if(!ExtThemeNeptune.picker){ExtThemeNeptune.picker={}}if(!ExtThemeNeptune.resizer){ExtThemeNeptune.resizer={}}if(!ExtThemeNeptune.toolbar){ExtThemeNeptune.toolbar={}}var MyApp=MyApp||{};if(!MyApp.model){MyApp.model={}}if(!MyApp.store){MyApp.store={}}if(!MyApp.view){MyApp.view={}}if(!MyApp.view.login){MyApp.view.login={}}if(!MyApp.view.main){MyApp.view.main={}}if(!MyApp.view.movie){MyApp.view.movie={}}(function(q){var e,p=['constructor','toString','valueOf','toLocaleString'],n={},m={},k=0,l,j,a,b,o,f,c,d,g,h,i,t=function(){var s,t;j=Ext.Base;a=Ext.ClassManager;b=Ext.Class;for(s=p.length;s-->0;){t=1<<s;m[n[t]=p[s]]=t}for(s in m){k|=m[s]}k=~k;Function.prototype.$isFunction=1;i=!!a.addAlias;o=b.getPreprocessor('config').fn;f=b.getPreprocessor('cachedConfig');f=f&&f.fn;h=b.getPreprocessor('privates');h=h&&h.fn;d=b.getPreprocessor('platformConfig');d=d&&d.fn;c=a.postprocessors.platformConfig;c=c&&c.fn;g=a.postprocessors.deprecated;g=g&&g.fn;e=j.$staticMembers;if(!e){e=[];for(l in j){if(j.hasOwnProperty(l)){e.push(l)}}}q.derive=r;return r.apply(this,arguments)},s=function(f,d,o){var l=o.enumerableMembers,j=f.prototype,b,h,k,e,m;if(!d){return}if(i){f.addMembers(d)}else {for(b in d){e=d[b];if(e&&e.$isFunction&&!e.$isClass&&e!==Ext.emptyFn&&e!==Ext.identityFn){m=j.hasOwnProperty(b)&&j[b];if(m){e.$previous=m}j[b]=h=e;h.$owner=f;h.$name=b}else {j[b]=e}}for(k=1;l;k<<=1){if(l&k){l&=~k;b=n[k];j[b]=h=d[b];h.$owner=f;h.$name=b}}}if(d.platformConfig&&c){c.call(a,f.$className,f,d)}if(d.deprecated&&g){g.call(a,f.$className,f,d)}},r=function(u,Q,c,L,E,M,O,B,D,G,N){var g=function ctor(){return this.constructor.apply(this,arguments)||null},m=g,v={enumerableMembers:L&k,onCreated:N,onBeforeCreated:s,aliases:B},p=c.alternateClassName||[],P=Ext.global,F,z,l,K,y,C,H,r,x,w,n,I,t,J=a.alternateToName||a.maps.alternateToName,A=a.nameToAlternates||a.maps.nameToAlternates;for(l=e.length;l-->0;){H=e[l];g[H]=j[H]}if(c.$isFunction){c=c(g)}v.data=c;x=c.statics;delete c.statics;c.$className=u;if('$className' in c){g.$className=c.$className}g.extend(Q);r=g.prototype;if(E){g.xtype=c.xtype=E[0];r.xtypes=E}r.xtypesChain=M;r.xtypesMap=O;c.alias=B;m.triggerExtended(g,c,v);if(c.onClassExtended){g.onExtended(c.onClassExtended,g);delete c.onClassExtended}if(c.privates&&h){h.call(b,g,c)}if(x){if(i){g.addStatics(x)}else {for(w in x){if(x.hasOwnProperty(w)){t=x[w];if(t&&t.$isFunction&&!t.$isClass&&t!==Ext.emptyFn&&t!==Ext.identityFn){g[w]=I=t;I.$owner=g;I.$name=w}g[w]=t}}}}if(c.inheritableStatics){g.addInheritableStatics(c.inheritableStatics);delete c.inheritableStatics}if(r.onClassExtended){m.onExtended(r.onClassExtended,m);delete r.onClassExtended}if(c.platformConfig&&d){d.call(b,g,c);delete c.platformConfig}if(c.config){o.call(b,g,c)}if(c.cachedConfig&&f){f.call(b,g,c);delete c.cachedConfig}v.onBeforeCreated(g,v.data,v);for(l=0,y=D&&D.length;l<y;++l){g.mixin.apply(g,D[l])}for(l=0,y=B.length;l<y;l++){F=B[l];a.setAlias?a.setAlias(g,F):a.addAlias(g,F)}if(c.singleton){m=new g()}if(!(p instanceof Array)){p=[p]}n=a.getName(m);for(l=0,K=p.length;l<K;l++){z=p[l];a.classes[z]=m;if(i){a.addAlternate(g,z)}else {if(n){J[z]=n;p=A[n]||(A[n]=[]);p.push(z)}}}for(l=0,y=G.length;l<y;l+=2){C=G[l];if(!C){C=P}C[G[l+1]]=m}a.classes[u]=m;if(!i){if(n&&n!==u){J[u]=n;p=A[n]||(A[n]=[]);p.push(u)}}delete r.alternateClassName;if(v.onCreated){v.onCreated.call(m,m)}if(u){a.triggerCreated(u)}return m};q.derive=t})(Ext.cmd={});var Ext=Ext||{};Ext._startTime=Date.now?Date.now():+new Date();(function(){var d=this,g=Object.prototype,c=g.toString,b=['valueOf','toLocaleString','toString','constructor'],a=function(){},e=function(a){return a},f=function(){var a=f.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},j=Ext.manifest||{},k,h=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,i=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=d;a.$nullFn=e.$nullFn=a.$emptyFn=e.$identityFn=!0;for(k in {toString:1}){b=null}Ext.enumerables=b;Ext.apply=function(c,a,g){if(g){Ext.apply(c,g)}if(c&&a&&typeof a==='object'){var e,f,d;for(e in a){c[e]=a[e]}if(b){for(f=b.length;f--;){d=b[f];if(a.hasOwnProperty(d)){c[d]=a[d]}}}}return c};Ext.buildSettings=Ext.apply({baseCSSPrefix:'x-'},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:'ext-',isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||'Ext',emptyFn:a,identityFn:e,frameStartTime:+new Date(),manifest:j,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,makeIdSelector:function(a){return '#'+a},id:function(a,c){if(a&&a.id){return a.id}var b=(c||Ext.idPrefix)+ ++Ext.idSeed;if(a){a.id=b}return b},returnId:function(a){return a.getId()},returnTrue:function(){return !0},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(b,c){var a;if(b){for(a in c){if(b[a]===undefined){b[a]=c[a]}}}return b},now:d.performance&&d.performance.now?function(){return performance.now()}:Date.now||(Date.now=function(){return +new Date()}),destroy:function(){var c=arguments.length,b,a;for(b=0;b<c;b++){a=arguments[b];if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else {if(a.isStore){a.destroyStore()}else {if(Ext.isFunction(a.destroy)){a.destroy()}}}}}return null},destroyMembers:function(b){for(var a,c=1,d=arguments,e=d.length;c<e;c++){a=d[c];if(b[a]!=null){b[a]=Ext.destroy(b[a])}}},override:function(a,c){if(a.$isClass){a.override(c)}else {if(typeof a=='function'){Ext.apply(a.prototype,c)}else {var e=a.self,b,d;if(e&&e.$isClass){for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(typeof d==='function'){d.$name=b;d.$owner=e;d.$previous=a.hasOwnProperty(b)?a[b]:f}a[b]=d}}}else {Ext.apply(a,c)}}}return a},valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},isEmpty:function(a,b){return a==null||(!b?a==='':!1)||Ext.isArray(a)&&a.length===0},isArray:'isArray' in Array?Array.isArray:function(a){return c.call(a)==='[object Array]'},isDate:function(a){return c.call(a)==='[object Date]'},isMSDate:function(a){if(!Ext.isString(a)){return !1}return i.test(a)},isObject:c.call(null)==='[object Object]'?function(a){return a!==null&&a!==undefined&&c.call(a)==='[object Object]'&&a.ownerDocument===undefined}:function(a){return c.call(a)==='[object Object]'},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(b){var a=typeof b;return a==='string'||a==='number'||a==='boolean'},isFunction:typeof document!=='undefined'&&typeof document.getElementsByTagName('body')==='function'?function(a){return !!a&&c.call(a)==='[object Function]'}:function(a){return !!a&&typeof a==='function'},isNumber:function(a){return typeof a==='number'&&isFinite(a)},isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return typeof a==='string'},isBoolean:function(a){return typeof a==='boolean'},isElement:function(a){return a?a.nodeType===1:!1},isTextNode:function(a){return a?a.nodeName==='#text':!1},isDefined:function(a){return typeof a!=='undefined'},isIterable:function(a){if(!a||typeof a.length!=='number'||typeof a==='string'||Ext.isFunction(a)){return !1}if(!a.propertyIsEnumerable){return !!a.item}if(a.hasOwnProperty('length')&&!a.propertyIsEnumerable('length')){return !0}return h.test(c.call(a))},isDebugEnabled:a,clone:function(a){if(a===null||a===undefined){return a}if(a.nodeType&&a.cloneNode){return a.cloneNode(!0)}var g=c.call(a),e,i,f,d,h;if(g==='[object Date]'){return new Date(a.getTime())}if(g==='[object Array]'){e=a.length;d=[];while(e--){d[e]=Ext.clone(a[e])}}else {if(g==='[object Object]'&&a.constructor===Object){d={};for(h in a){d[h]=Ext.clone(a[h])}if(b){for(i=b.length;i--;){f=b[i];if(a.hasOwnProperty(f)){d[f]=a[f]}}}}}return d||a},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace,b;if(a===undefined){b=0;do{a='ExtBox'+ ++b}while(d[a]!==undefined);d[a]=Ext;this.uniqueGlobalNamespace=a}return a},functionFactoryCache:{},cacheableFunctionFactory:function(){var f=this,a=Array.prototype.slice.call(arguments),e=f.functionFactoryCache,d,b,c;if(Ext.isSandboxed){c=a.length;if(c>0){c--;a[c]='var Ext=window.'+Ext.name+';'+a[c]}}d=a.join('');b=e[d];if(!b){b=Function.prototype.constructor.apply(Function.prototype,a);e[d]=b}return b},functionFactory:function(){var b=Array.prototype.slice.call(arguments),a;if(Ext.isSandboxed){a=b.length;if(a>0){a--;b[a]='var Ext=window.'+Ext.name+';'+b[a]}}return Function.prototype.constructor.apply(Function.prototype,b)},Logger:{verbose:a,log:a,info:a,warn:a,error:function(a){throw new Error(a)},deprecate:a},getElementById:function(a){return document.getElementById(a)}});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0})();(function(){function toString(){var d=this,b=d.sourceClass,a=d.sourceMethod,c=d.msg;if(a){if(c){a+='(): ';a+=c}else {a+='()'}}if(b){a=a?b+'.'+a:b}return a||c||''}Ext.Error=function(b){if(Ext.isString(b)){b={msg:b}}var a=new Error();Ext.apply(a,b);a.message=a.message||a.msg;a.toString=toString;return a};Ext.apply(Ext.Error,{ignore:!1,raise:function(a){a=a||{};if(Ext.isString(a)){a={msg:a}}var d=this,c=d.raise.caller,e,b;if(c){if(!a.sourceMethod&&(b=c.$name)){a.sourceMethod=b}if(!a.sourceClass&&(b=c.$owner)&&(b=b.$className)){a.sourceClass=b}}if(d.handle(a)!==!0){e=toString.call(a);throw new Ext.Error(a)}},handle:function(){return this.ignore}})})();Ext.deprecated=function(a){return Ext.emptyFn};Ext.Array=new function(){var c=Array.prototype,b=c.slice,f=function(){var a=[],b,c=20;if(!a.splice){return !1}while(c--){a.push('A')}a.splice(15,0,'F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F');b=a.length;a.splice(13,0,'XXX');if(b+1!==a.length){return !1}return !0}(),i='indexOf' in c,h=!0;function stableSort(b,f){var c=b.length,d=new Array(c),e=new Array(c),a;for(a=0;a<c;a++){d[a]=a}d.sort(function(a,c){return f(b[a],b[c])||a-c});for(a=0;a<c;a++){e[a]=b[d[a]]}for(a=0;a<c;a++){b[a]=e[a]}return b}try{if(typeof document!=='undefined'){b.call(document.getElementsByTagName('body'))}}catch(q){h=!1}var g=function(b,a){return a<0?Math.max(0,b.length+a):Math.min(b.length,a)},d=function(a,n,m,d){var e=d?d.length:0,i=a.length,f=g(a,n);if(f===i){if(e){a.push.apply(a,d)}}else {var k=Math.min(m,i-f),c=f+k,h=c+e-k,l=i-c,j=i-k,b;if(h<c){for(b=0;b<l;++b){a[h+b]=a[c+b]}}else {if(h>c){for(b=l;b--;){a[h+b]=a[c+b]}}}if(e&&f===j){a.length=j;a.push.apply(a,d)}else {a.length=j+e;for(b=0;b<e;++b){a[f+b]=d[b]}}}return a},k=function(a,c,d,b){if(b&&b.length){if(c===0&&!d){a.unshift.apply(a,b)}else {if(c<a.length){a.splice.apply(a,[c,d].concat(b))}else {a.push.apply(a,b)}}}else {a.splice(c,d)}return a},o=function(b,c,a){return d(b,c,a)},m=function(a,c,b){a.splice(c,b);return a},n=function(a,f,c){var e=g(a,f),h=a.slice(f,g(a,e+c));if(arguments.length<4){d(a,e,c)}else {d(a,e,c,b.call(arguments,3))}return h},l=function(a){return a.splice.apply(a,b.call(arguments,1))},e=f?m:o,j=f?k:d,p=f?l:n,a={binarySearch:function(h,i,c,b,d){var g=h.length,e,f;if(c instanceof Function){d=c;c=0;b=g}else {if(b instanceof Function){d=b;b=g}else {if(c===undefined){c=0}if(b===undefined){b=g}d=d||a.lexicalCompare}}--b;while(c<=b){e=c+b>>1;f=d(i,h[e]);if(f>=0){c=e+1}else {if(f<0){b=e-1}}}return c},defaultCompare:function(a,b){return a<b?-1:a>b?1:0},lexicalCompare:function(a,b){a=String(a);b=String(b);return a<b?-1:a>b?1:0},each:function(c,e,d,g){c=a.from(c);var b,f=c.length;if(g!==!0){for(b=0;b<f;b++){if(e.call(d||c[b],c[b],b,c)===!1){return b}}}else {for(b=f-1;b>-1;b--){if(e.call(d||c[b],c[b],b,c)===!1){return b}}}return !0},forEach:'forEach' in c?function(a,c,b){return a.forEach(c,b)}:function(b,d,c){for(var a=0,e=b.length;a<e;a++){d.call(c,b[a],a,b)}},indexOf:i?function(a,d,b){return c.indexOf.call(a,d,b)}:function(d,e,b){var a,c=d.length;for(a=b<0?Math.max(0,c+b):b||0;a<c;a++){if(d[a]===e){return a}}return -1},contains:i?function(a,b){return c.indexOf.call(a,b)!==-1}:function(b,d){var a,c;for(a=0,c=b.length;a<c;a++){if(b[a]===d){return !0}}return !1},toArray:function(a,d,c){if(!a||!a.length){return []}if(typeof a==='string'){a=a.split('')}if(h){return b.call(a,d||0,c||a.length)}var f=[],e;d=d||0;c=c?c<0?a.length+c:c:a.length;for(e=d;e<c;e++){f.push(a[e])}return f},pluck:function(b,f){var d=[],a,e,c;for(a=0,e=b.length;a<e;a++){c=b[a];d.push(c[f])}return d},map:'map' in c?function(a,c,b){return a.map(c,b)}:function(b,f,d){var c=[],a=0,e=b.length;for(;a<e;a++){c[a]=f.call(d,b[a],a,b)}return c},every:'every' in c?function(a,c,b){return a.every(c,b)}:function(b,d,c){var a=0,e=b.length;for(;a<e;++a){if(!d.call(c,b[a],a,b)){return !1}}return !0},some:'some' in c?function(a,c,b){return a.some(c,b)}:function(b,d,c){var a=0,e=b.length;for(;a<e;++a){if(d.call(c,b[a],a,b)){return !0}}return !1},equals:function(b,c){var d=b.length,e=c.length,a;if(b===c){return !0}if(d!==e){return !1}for(a=0;a<d;++a){if(b[a]!==c[a]){return !1}}return !0},clean:function(d){var c=[],b=0,e=d.length,a;for(;b<e;b++){a=d[b];if(!Ext.isEmpty(a)){c.push(a)}}return c},unique:function(e){var b=[],d=0,f=e.length,c;for(;d<f;d++){c=e[d];if(a.indexOf(b,c)===-1){b.push(c)}}return b},filter:'filter' in c?function(a,c,b){return a.filter(c,b)}:function(b,e,d){var c=[],a=0,f=b.length;for(;a<f;a++){if(e.call(d,b[a],a,b)){c.push(b[a])}}return c},findBy:function(b,e,c){var a=0,d=b.length;for(;a<d;a++){if(e.call(c||b,b[a],a)){return b[a]}}return null},from:function(c,e){if(c===undefined||c===null){return []}if(Ext.isArray(c)){return e?b.call(c):c}var d=typeof c;if(c&&c.length!==undefined&&d!=='string'&&(d!=='function'||!c.apply)){return a.toArray(c)}return [c]},remove:function(b,d){var c=a.indexOf(b,d);if(c!==-1){e(b,c,1)}return b},include:function(b,c){if(!a.contains(b,c)){b.push(c)}},clone:function(a){return b.call(a)},merge:function(){var e=b.call(arguments),d=[],c,f;for(c=0,f=e.length;c<f;c++){d=d.concat(e[c])}return a.unique(d)},intersect:function(){var m=[],f=b.call(arguments),g,o,r,d,k,j,q,n,p,l,c,h,i;if(!f.length){return m}g=f.length;for(c=k=0;c<g;c++){j=f[c];if(!d||j.length<d.length){d=j;k=c}}d=a.unique(d);e(f,k,1);q=d.length;g=f.length;for(c=0;c<q;c++){n=d[c];l=0;for(h=0;h<g;h++){o=f[h];r=o.length;for(i=0;i<r;i++){p=o[i];if(n===p){l++;break}}}if(l===g){m.push(n)}}return m},difference:function(i,f){var c=b.call(i),h=c.length,d,a,g;for(d=0,g=f.length;d<g;d++){for(a=0;a<h;a++){if(c[a]===f[d]){e(c,a,1);a--;h--}}}return c},slice:[1,2].slice(1,undefined).length?function(a,c,d){return b.call(a,c,d)}:function(a,c,d){if(typeof c==='undefined'){return b.call(a)}if(typeof d==='undefined'){return b.call(a,c)}return b.call(a,c,d)},sort:function(c,b){return stableSort(c,b||a.lexicalCompare)},flatten:function(b){var a=[];function rFlatten(f){var c,e,d;for(c=0,e=f.length;c<e;c++){d=f[c];if(Ext.isArray(d)){rFlatten(d)}else {a.push(d)}}return a}return rFlatten(b)},min:function(d,e){var b=d[0],c,f,a;for(c=0,f=d.length;c<f;c++){a=d[c];if(e){if(e(b,a)===1){b=a}}else {if(a<b){b=a}}}return b},max:function(d,e){var b=d[0],c,f,a;for(c=0,f=d.length;c<f;c++){a=d[c];if(e){if(e(b,a)===-1){b=a}}else {if(a>b){b=a}}}return b},mean:function(b){return b.length>0?a.sum(b)/b.length:undefined},sum:function(b){var d=0,a,e,c;for(a=0,e=b.length;a<e;a++){c=b[a];d+=c}return d},toMap:function(c,b,e){var d={},a=c.length;if(!b){while(a--){d[c[a]]=a+1}}else {if(typeof b==='string'){while(a--){d[c[a][b]]=a+1}}else {while(a--){d[b.call(e,c[a])]=a+1}}}return d},toValueMap:function(g,d,k,f){var b={},e=g.length,j,i,h,l,c,a;if(!d){while(e--){a=g[e];b[a]=a}}else {if(!(l=typeof d!=='string')){f=k}i=f===1;j=f===2;while(e--){a=g[e];c=l?d.call(k,a):a[d];if(i){if(c in b){b[c].push(a)}else {b[c]=[a]}}else {if(j&&c in b){if((h=b[c]) instanceof Array){h.push(a)}else {b[c]=[h,a]}}else {b[c]=a}}}}return b},erase:e,insert:function(a,b,c){return j(a,b,0,c)},replace:j,splice:p,push:function(a){var d=arguments.length,c=1,b;if(a===undefined){a=[]}else {if(!Ext.isArray(a)){a=[a]}}for(;c<d;c++){b=arguments[c];Array.prototype.push[Ext.isIterable(b)?'apply':'call'](a,b)}return a},numericSortFn:function(a,b){return a-b}};Ext.each=a.each;a.union=a.merge;Ext.min=a.min;Ext.max=a.max;Ext.sum=a.sum;Ext.mean=a.mean;Ext.flatten=a.flatten;Ext.clean=a.clean;Ext.unique=a.unique;Ext.pluck=a.pluck;Ext.toArray=function(){return a.toArray.apply(a,arguments)};return a}();Ext.String=function(){var p=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,q=/('|\\)/g,r=/\{\d+\}/,l=/([-.*+?\^${}()|\[\]\/\\])/g,n=/^\s+|\s+$/g,m=/\s+/,o=/(^[^a-z]*|[^\w])/gi,c,a,b,d,i=function(b,a){return c[a]},h=function(c,b){return b in a?a[b]:String.fromCharCode(parseInt(b.substr(2),10))},e=function(b,a){if(b===null||b===undefined||a===null||a===undefined){return !1}return a.length<=b.length},k={useFormat:!1,compiled:!0,stringFormat:!0},g={},j=function(a){if(r.test(a)){a=new Ext.Template(a,k);return function(){return a.apply(arguments)}}else {return function(){return a}}},f;return f={insert:function(b,c,a){if(!b){return c}if(!c){return b}var d=b.length;if(!a&&a!==0){a=d}if(a<0){a*=-1;if(a>=d){a=0}else {a=d-a}}if(a===0){b=c+b}else {if(a>=b.length){b+=c}else {b=b.substr(0,a)+c+b.substr(a)}}return b},startsWith:function(b,a,d){var c=e(b,a);if(c){if(d){b=b.toLowerCase();a=a.toLowerCase()}c=b.lastIndexOf(a,0)===0}return c},endsWith:function(b,a,d){var c=e(b,a);if(c){if(d){b=b.toLowerCase();a=a.toLowerCase()}c=b.indexOf(a,b.length-a.length)!==-1}return c},createVarName:function(a){return a.replace(o,'')},htmlEncode:function(a){return !a?a:String(a).replace(b,i)},htmlDecode:function(a){return !a?a:String(a).replace(d,h)},hasHtmlCharacters:function(a){return b.test(a)},addCharacterEntities:function(g){var i=[],h=[],e,f;for(e in g){f=g[e];a[e]=f;c[f]=e;i.push(f);h.push(e)}b=new RegExp('('+i.join('|')+')','g');d=new RegExp('('+h.join('|')+'|&#[0-9]{1,5};)','g')},resetCharacterEntities:function(){c={};a={};this.addCharacterEntities({'&amp;':'&','&gt;':'>','&lt;':'<','&quot;':'"','&#39;':"'"})},urlAppend:function(a,b){if(!Ext.isEmpty(b)){return a+(a.indexOf('?')===-1?'?':'&')+b}return a},trim:function(a){if(a){a=a.replace(p,'')}return a||''},capitalize:function(a){if(a){a=a.charAt(0).toUpperCase()+a.substr(1)}return a||''},uncapitalize:function(a){if(a){a=a.charAt(0).toLowerCase()+a.substr(1)}return a||''},ellipsis:function(a,c,e){if(a&&a.length>c){if(e){var b=a.substr(0,c-2),d=Math.max(b.lastIndexOf(' '),b.lastIndexOf('.'),b.lastIndexOf('!'),b.lastIndexOf('?'));if(d!==-1&&d>=c-15){return b.substr(0,d)+'...'}}return a.substr(0,c-3)+'...'}return a},escapeRegex:function(a){return a.replace(l,'\\$1')},createRegex:function(b,d,e,c){var a=b;if(b!=null&&!b.exec){a=f.escapeRegex(String(b));if(d!==!1){a='^'+a}if(e!==!1){a+='$'}a=new RegExp(a,c!==!1?'i':'')}return a},escape:function(a){return a.replace(q,'\\$1')},toggle:function(b,a,c){return b===a?c:a},leftPad:function(c,d,b){var a=String(c);b=b||' ';while(a.length<d){a=b+a}return a},format:function(a){var b=g[a]||(g[a]=j(a));return b.apply(this,arguments)},repeat:function(c,a,d){if(a<1){a=0}for(var b=[],e=a;e--;){b.push(c)}return b.join(d||'')},splitWords:function(a){if(a&&typeof a=='string'){return a.replace(n,'').split(m)}return a||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=function(){var a,b=/(\\.)/g,f=/([gGhHisucUOPZ]|MS)/,e=/([djzmnYycU]|MS)/,g=/\\/gi,c=/\{(\d+)\}/g,d=new RegExp('\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/'),h=['var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,','def = me.defaults,','from = Ext.Number.from,','results = String(input).match(me.parseRegexes[{0}]);','if(results){','{1}','if(u != null){','v = new Date(u * 1000);','}else{','dt = me.clearTime(new Date);','y = from(y, from(def.y, dt.getFullYear()));','m = from(m, from(def.m - 1, dt.getMonth()));','dayMatched = d !== undefined;','d = from(d, from(def.d, dt.getDate()));','if (!dayMatched) {','dt.setDate(1);','dt.setMonth(m);','dt.setFullYear(y);','daysInMonth = me.getDaysInMonth(dt);','if (d > daysInMonth) {','d = daysInMonth;','}','}','h  = from(h, from(def.h, dt.getHours()));','i  = from(i, from(def.i, dt.getMinutes()));','s  = from(s, from(def.s, dt.getSeconds()));','ms = from(ms, from(def.ms, dt.getMilliseconds()));','if(z >= 0 && y >= 0){','v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);','v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);','}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){','v = null;','}else{','if (W) {','year = y || (new Date()).getFullYear();','jan4 = new Date(year, 0, 4, 0, 0, 0);','d = jan4.getDay();','week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));','v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));','} else {','v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);','}','}','}','}','if(v){','if(zz != null){','v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);','}else if(o){',"v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));",'}','}','return v;'].join('\n');function xf(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(c,function(d,c){return b[c]})}return a={now:Date.now,toString:function(a){if(!a){a=new Date()}var b=Ext.String.leftPad;return a.getFullYear()+'-'+b(a.getMonth()+1,2,'0')+'-'+b(a.getDate(),2,'0')+'T'+b(a.getHours(),2,'0')+':'+b(a.getMinutes(),2,'0')+':'+b(a.getSeconds(),2,'0')},getElapsed:function(b,c){return Math.abs(b-(c||a.now()))},useStrict:!1,formatCodeToRegex:function(c,d){var b=a.parseCodes[c];if(b){b=typeof b=='function'?b():b;a.parseCodes[c]=b}return b?Ext.applyIf({c:b.c?xf(b.c,d||'{0}'):b.c},b):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{'MS':function(b,c){var a=(b||'').match(d);return a?new Date(((a[1]||'')+a[2])*1):null},'time':function(b,c){var a=parseInt(b,10);if(a||a===0){return new Date(a)}return null},'timestamp':function(b,c){var a=parseInt(b,10);if(a||a===0){return new Date(a*1000)}return null}},parseRegexes:[],formatFunctions:{'MS':function(){return '\\/Date('+this.getTime()+')\\/'},'time':function(){return this.getTime().toString()},'timestamp':function(){return a.format(this,'U')}},y2kYear:50,MILLI:'ms',SECOND:'s',MINUTE:'mi',HOUR:'h',DAY:'d',MONTH:'mo',YEAR:'y',defaults:{},dayNames:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],monthNames:['January','February','March','April','May','June','July','August','September','October','November','December'],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:'m/d/Y',getShortMonthName:function(a){return Ext.Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Ext.Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Ext.Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return f.test(a.replace(b,''))},formatContainsDateInfo:function(a){return e.test(a.replace(b,''))},unescapeFormat:function(a){return a.replace(g,'')},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:'Ext.Date.getShortDayName(this.getDay())',j:'this.getDate()',l:'Ext.Date.dayNames[this.getDay()]',N:'(this.getDay() ? this.getDay() : 7)',S:'Ext.Date.getSuffix(this)',w:'this.getDay()',z:'Ext.Date.getDayOfYear(this)',W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:'Ext.Date.monthNames[this.getMonth()]',m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:'Ext.Date.getShortMonthName(this.getMonth())',n:'(this.getMonth() + 1)',t:'Ext.Date.getDaysInMonth(this)',L:'(Ext.Date.isLeapYear(this) ? 1 : 0)',o:'(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))',Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:'((this.getHours() % 12) ? this.getHours() % 12 : 12)',G:'this.getHours()',h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:'Ext.Date.getGMTOffset(this)',P:'Ext.Date.getGMTOffset(this, true)',T:'Ext.Date.getTimezone(this)',Z:'(this.getTimezoneOffset() * -60)',c:function(){var d,c,b,f,e;for(d='Y-m-dTH:i:sP',c=[],b=0,f=d.length;b<f;++b){e=d.charAt(b);c.push(e=='T'?"'T'":a.getFormatCode(e))}return c.join(' + ')},U:'Math.round(this.getTime() / 1000)'},isValid:function(c,i,h,e,f,g,d){e=e||0;f=f||0;g=g||0;d=d||0;var b=a.add(new Date(c<100?100:c,i-1,h,e,f,g,d),a.YEAR,c<100?c-100:0);return c==b.getFullYear()&&i==b.getMonth()+1&&h==b.getDate()&&e==b.getHours()&&f==b.getMinutes()&&g==b.getSeconds()&&d==b.getMilliseconds()},parse:function(e,b,c){var d=a.parseFunctions;if(d[b]==null){a.createParser(b)}return d[b].call(a,e,Ext.isDefined(c)?c:a.useStrict)},parseDate:function(d,b,c){return a.parse(d,b,c)},getFormatCode:function(c){var b=a.formatCodes[c];if(b){b=typeof b=='function'?b():b;a.formatCodes[c]=b}return b||"'"+Ext.String.escape(c)+"'"},createFormat:function(f){var d=[],c=!1,b='',e;for(e=0;e<f.length;++e){b=f.charAt(e);if(!c&&b=='\\'){c=!0}else {if(c){c=!1;d.push("'"+Ext.String.escape(b)+"'")}else {if(b=='\n'){d.push("'\\n'")}else {d.push(a.getFormatCode(b))}}}}a.formatFunctions[f]=Ext.functionFactory('return '+d.join('+'))},createParser:function(f){var k=a.parseRegexes.length,j=1,d=[],g=[],c=!1,e='',i=0,m=f.length,l=[],b;for(;i<m;++i){e=f.charAt(i);if(!c&&e=='\\'){c=!0}else {if(c){c=!1;g.push(Ext.String.escape(e))}else {b=a.formatCodeToRegex(e,j);j+=b.g;g.push(b.s);if(b.g&&b.c){if(b.calcAtEnd){l.push(b.c)}else {d.push(b.c)}}}}}d=d.concat(l);a.parseRegexes[k]=new RegExp('^'+g.join('')+'$','i');a.parseFunctions[f]=Ext.functionFactory('input','strict',xf(h,k,d.join('')))},parseCodes:{d:{g:1,c:'d = parseInt(results[{0}], 10);\n',s:'(3[0-1]|[1-2][0-9]|0[1-9])'},j:{g:1,c:'d = parseInt(results[{0}], 10);\n',s:'(3[0-1]|[1-2][0-9]|[1-9])'},D:function(){for(var c=[],b=0;b<7;c.push(a.getShortDayName(b)),++b){}return {g:0,c:null,s:'(?:'+c.join('|')+')'}},l:function(){return {g:0,c:null,s:'(?:'+a.dayNames.join('|')+')'}},N:{g:0,c:null,s:'[1-7]'},S:{g:0,c:null,s:'(?:st|nd|rd|th)'},w:{g:0,c:null,s:'[0-6]'},z:{g:1,c:'z = parseInt(results[{0}], 10);\n',s:'(\\d{1,3})'},W:{g:1,c:'W = parseInt(results[{0}], 10);\n',s:'(\\d{2})'},F:function(){return {g:1,c:'m = parseInt(me.getMonthNumber(results[{0}]), 10);\n',s:'('+a.monthNames.join('|')+')'}},M:function(){for(var c=[],b=0;b<12;c.push(a.getShortMonthName(b)),++b){}return Ext.applyIf({s:'('+c.join('|')+')'},a.formatCodeToRegex('F'))},m:{g:1,c:'m = parseInt(results[{0}], 10) - 1;\n',s:'(1[0-2]|0[1-9])'},n:{g:1,c:'m = parseInt(results[{0}], 10) - 1;\n',s:'(1[0-2]|[1-9])'},t:{g:0,c:null,s:'(?:\\d{2})'},L:{g:0,c:null,s:'(?:1|0)'},o:{g:1,c:'y = parseInt(results[{0}], 10);\n',s:'(\\d{4})'},Y:{g:1,c:'y = parseInt(results[{0}], 10);\n',s:'(\\d{4})'},y:{g:1,c:'var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n',s:'(\\d{1,2})'},a:{g:1,c:'if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}',s:'(am|pm|AM|PM)',calcAtEnd:!0},A:{g:1,c:'if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}',s:'(AM|PM|am|pm)',calcAtEnd:!0},g:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(1[0-2]|[0-9])'},G:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(2[0-3]|1[0-9]|[0-9])'},h:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(1[0-2]|0[1-9])'},H:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(2[0-3]|[0-1][0-9])'},i:{g:1,c:'i = parseInt(results[{0}], 10);\n',s:'([0-5][0-9])'},s:{g:1,c:'s = parseInt(results[{0}], 10);\n',s:'([0-5][0-9])'},u:{g:1,c:'ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n',s:'(\\d+)'},O:{g:1,c:['o = results[{0}];','var sn = o.substring(0,1),','hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),','mn = o.substring(3,5) % 60;',"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join('\n'),s:'([+-]\\d{4})'},P:{g:1,c:['o = results[{0}];','var sn = o.substring(0,1),','hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),','mn = o.substring(4,6) % 60;',"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join('\n'),s:'([+-]\\d{2}:\\d{2})'},T:{g:0,c:null,s:'[A-Z]{1,5}'},Z:{g:1,c:'zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n',s:'([+-]?\\d{1,5})'},c:function(){var d=[],b=[a.formatCodeToRegex('Y',1),a.formatCodeToRegex('m',2),a.formatCodeToRegex('d',3),a.formatCodeToRegex('H',4),a.formatCodeToRegex('i',5),a.formatCodeToRegex('s',6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:['if(results[8]) {',"if(results[8] == 'Z'){",'zz = 0;',"}else if (results[8].indexOf(':') > -1){",a.formatCodeToRegex('P',8).c,'}else{',a.formatCodeToRegex('O',8).c,'}','}'].join('\n')}],c,e;for(c=0,e=b.length;c<e;++c){d.push(b[c].c)}return {g:1,c:d.join(''),s:[b[0].s,'(?:','-',b[1].s,'(?:','-',b[2].s,'(?:','(?:T| )?',b[3].s,':',b[4].s,'(?::',b[5].s,')?','(?:(?:\\.|,)(\\d+))?','(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?',')?',')?',')?'].join('')}},U:{g:1,c:'u = parseInt(results[{0}], 10);\n',s:'(-?\\d+)'}},dateFormat:function(c,b){return a.format(c,b)},isEqual:function(a,b){if(a&&b){return a.getTime()===b.getTime()}return !(a||b)},format:function(d,b){var c=a.formatFunctions;if(!Ext.isDate(d)){return ''}if(c[b]==null){a.createFormat(b)}return c[b].call(d)+''},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,'$1$2').replace(/[^A-Z]/g,'')},getGMTOffset:function(c,b){var a=c.getTimezoneOffset();return (a>0?'-':'+')+Ext.String.leftPad(Math.floor(Math.abs(a)/60),2,'0')+(b?':':'')+Ext.String.leftPad(Math.abs(a%60),2,'0')},getDayOfYear:function(c){var e=0,b=Ext.Date.clone(c),f=c.getMonth(),d;for(d=0,b.setDate(1),b.setMonth(0);d<f;b.setMonth(++d)){e+=a.getDaysInMonth(b)}return e+c.getDate()-1},getWeekOfYear:function(){var a=86400000,b=7*a;return function(c){var e=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()+3)/a,d=Math.floor(e/7),f=(new Date(d*b)).getUTCFullYear();return d-Math.floor(Date.UTC(f,0,7)/b)+1}}(),isLeapYear:function(b){var a=b.getFullYear();return !!((a&3)==0&&(a%100||a%400==0&&a))},getFirstDayOfMonth:function(b){var a=(b.getDay()-(b.getDate()-1))%7;return a<0?a+7:a},getLastDayOfMonth:function(b){return a.getLastDateOfMonth(b).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(b){return new Date(b.getFullYear(),b.getMonth(),a.getDaysInMonth(b))},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return d==1&&a.isLeapYear(c)?29:b[d]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return 'st';case 2:case 22:return 'nd';case 3:case 23:return 'rd';default:return 'th';}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return (new Date(a.getFullYear(),0,1)).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(b,f){if(f){return Ext.Date.clearTime(Ext.Date.clone(b))}var e=b.getDate(),c,d;b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);if(b.getDate()!=e){for(c=1,d=a.add(b,Ext.Date.HOUR,c);d.getDate()!=e;c++,d=a.add(b,Ext.Date.HOUR,c)){}b.setDate(e);b.setHours(d.getHours())}return b},add:function(f,h,c){var b=Ext.Date.clone(f),i=Ext.Date,d,g,e=0;if(!h||c===0){return b}g=c-parseInt(c,10);c=parseInt(c,10);if(c){switch(h.toLowerCase()){case Ext.Date.MILLI:b.setTime(b.getTime()+c);break;case Ext.Date.SECOND:b.setTime(b.getTime()+c*1000);break;case Ext.Date.MINUTE:b.setTime(b.getTime()+c*60*1000);break;case Ext.Date.HOUR:b.setTime(b.getTime()+c*60*60*1000);break;case Ext.Date.DAY:b.setDate(b.getDate()+c);break;case Ext.Date.MONTH:d=f.getDate();if(d>28){d=Math.min(d,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(f),Ext.Date.MONTH,c)).getDate())};b.setDate(d);b.setMonth(f.getMonth()+c);break;case Ext.Date.YEAR:d=f.getDate();if(d>28){d=Math.min(d,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(f),Ext.Date.YEAR,c)).getDate())};b.setDate(d);b.setFullYear(f.getFullYear()+c);break;}}if(g){switch(h.toLowerCase()){case Ext.Date.MILLI:e=1;break;case Ext.Date.SECOND:e=1000;break;case Ext.Date.MINUTE:e=1000*60;break;case Ext.Date.HOUR:e=1000*60*60;break;case Ext.Date.DAY:e=1000*60*60*24;break;case Ext.Date.MONTH:d=a.getDaysInMonth(b);e=1000*60*60*24*d;break;case Ext.Date.YEAR:d=a.isLeapYear(b)?366:365;e=1000*60*60*24*d;break;}if(e){b.setTime(b.getTime()+e*g)}}return b},subtract:function(d,b,c){return a.add(d,b,-c)},between:function(c,b,d){var a=c.getTime();return b.getTime()<=a&&a<=d.getTime()},compat:function(){var f=window.Date,b,g=['useStrict','formatCodeToRegex','parseFunctions','parseRegexes','formatFunctions','y2kYear','MILLI','SECOND','MINUTE','HOUR','DAY','MONTH','YEAR','defaults','dayNames','monthNames','monthNumbers','getShortMonthName','getShortDayName','getMonthNumber','formatCodes','isValid','parseDate','getFormatCode','createFormat','createParser','parseCodes'],h=['dateFormat','format','getTimezone','getGMTOffset','getDayOfYear','getWeekOfYear','isLeapYear','getFirstDayOfMonth','getLastDayOfMonth','getDaysInMonth','getSuffix','clone','isDST','clearTime','add','between'],j=g.length,i=h.length,e,d,c;for(c=0;c<j;c++){e=g[c];f[e]=a[e]}for(b=0;b<i;b++){d=h[b];f.prototype[d]=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a[d].apply(a,b)}}},diff:function(e,d,f){var b=Ext.Date,a,c=+d-e;switch(f){case b.MILLI:return c;case b.SECOND:return Math.floor(c/1000);case b.MINUTE:return Math.floor(c/60000);case b.HOUR:return Math.floor(c/3600000);case b.DAY:return Math.floor(c/86400000);case 'w':return Math.floor(c/604800000);case b.MONTH:a=d.getFullYear()*12+d.getMonth()-(e.getFullYear()*12+e.getMonth());if(Ext.Date.add(e,f,a)>d){return a-1}else {return a};case b.YEAR:a=d.getFullYear()-e.getFullYear();if(Ext.Date.add(e,f,a)>d){return a-1}else {return a};}},align:function(c,d,b){var a=new Date(+c);switch(d.toLowerCase()){case Ext.Date.MILLI:return a;break;case Ext.Date.SECOND:a.setUTCSeconds(a.getUTCSeconds()-a.getUTCSeconds()%b);a.setUTCMilliseconds(0);return a;break;case Ext.Date.MINUTE:a.setUTCMinutes(a.getUTCMinutes()-a.getUTCMinutes()%b);a.setUTCSeconds(0);a.setUTCMilliseconds(0);return a;break;case Ext.Date.HOUR:a.setUTCHours(a.getUTCHours()-a.getUTCHours()%b);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);return a;break;case Ext.Date.DAY:if(b==7||b==14){a.setUTCDate(a.getUTCDate()-a.getUTCDay()+1)};a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);return a;break;case Ext.Date.MONTH:a.setUTCMonth(a.getUTCMonth()-(a.getUTCMonth()-1)%b,1);a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);return a;break;case Ext.Date.YEAR:a.setUTCFullYear(a.getUTCFullYear()-a.getUTCFullYear()%b,1,1);a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);return c;break;}}}}();Ext.Function={flexSetter:function(a){return function(b,e){var c,d;if(b!==null){if(typeof b!=='string'){for(c in b){if(b.hasOwnProperty(c)){a.call(this,c,b[c])}}if(Ext.enumerables){for(d=Ext.enumerables.length;d--;){c=Ext.enumerables[d];if(b.hasOwnProperty(c)){a.call(this,c,b[c])}}}}else {a.call(this,b,e)}}return this}},bind:function(e,c,b,a){if(arguments.length===2){return function(){return e.apply(c,arguments)}}var f=e,d=Array.prototype.slice;return function(){var g=b||arguments;if(a===!0){g=d.call(arguments,0);g=g.concat(b)}else {if(typeof a=='number'){g=d.call(arguments,0);Ext.Array.insert(g,a,b)}}return f.apply(c||Ext.global,g)}},bindCallback:function(b,e,a,d,c){return function(){var f=Ext.Array.slice(arguments);return Ext.callback(b,e,a?a.concat(f):f,d,c)}},pass:function(c,a,b){if(!Ext.isArray(a)){if(Ext.isIterable(a)){a=Ext.Array.clone(a)}else {a=a!==undefined?[a]:[]}}return function(){var d=a.slice();d.push.apply(d,arguments);return c.apply(b||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(c,b,d,a){if(!Ext.isFunction(b)){return c}else {a=Ext.isDefined(a)?a:null;return function(){var e=this,f=arguments;b.target=e;b.method=c;return b.apply(d||e||Ext.global,f)!==!1?c.apply(e||Ext.global,f):a}}},createDelayed:function(a,e,b,c,d){if(b||c){a=Ext.Function.bind(a,b,c,d)}return function(){var g=this,f=Array.prototype.slice.call(arguments);setTimeout(function(){a.apply(g,f)},e)}},defer:function(a,b,d,e,c){a=Ext.Function.bind(a,d,e,c);if(b>0){return setTimeout(Ext.supports.TimeoutActualLateness?function(){a()}:a,b)}a();return 0},createSequence:function(a,b,c){if(!b){return a}else {return function(){var d=a.apply(this,arguments);b.apply(c||this,arguments);return d}}},createBuffered:function(e,b,c,d){var a;return function(){var f=d||Array.prototype.slice.call(arguments,0),g=c||this;if(a){clearTimeout(a)}a=setTimeout(function(){e.apply(g,f)},b)}},createAnimationFrame:function(f,c,e,a){var d=Ext.Function,b;a=a||3;return function(){var g=e||Array.prototype.slice.call(arguments,0);c=c||this;if(a===3){d.cancelAnimationFrame(b)}if(a&1||!b){b=d.requestAnimationFrame(function(){b=null;f.apply(c,g)})}}},requestAnimationFrame:function(){var b=0,a=window,c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(d){var c=Ext.now(),a=Math.max(0,16-(c-b)),e=window.setTimeout(function(){d(c+a)},a);b=c+a;return e};return function(a){return c(a)}}(),cancelAnimationFrame:function(){var a=window,b=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||function(a){clearTimeout(a)};return function(a){b(a)}}(),createThrottled:function(h,e,c){var d=0,b,f,a,g=function(){h.apply(c,f);d=Ext.now();a=null};return function(){if(!c){c=this}b=Ext.now()-d;f=arguments;if(b>=e){clearTimeout(a);g()}else {if(!a){a=setTimeout(g,e-b)}}}},createBarrier:function(a,c,b){return function(){if(!--a){c.apply(b,arguments)}}},interceptBefore:function(b,a,e,d){var c=b[a]||Ext.emptyFn;return b[a]=function(){var f=e.apply(d||this,arguments);c.apply(this,arguments);return f}},interceptAfter:function(b,a,e,d){var c=b[a]||Ext.emptyFn;return b[a]=function(){c.apply(this,arguments);return e.apply(d||this,arguments)}},makeCallback:function(b,a){return function(){return a[b].apply(a,arguments)}}};Ext.defer=Ext.Function.defer;Ext.pass=Ext.Function.pass;Ext.bind=Ext.Function.bind;Ext.Number=new function(){var b=this,d=(0.9).toFixed()!=='1',c=Math,a={count:!1,inclusive:!1,wrap:!0};Ext.apply(b,{Clip:{DEFAULT:a,COUNT:Ext.applyIf({count:!0},a),INCLUSIVE:Ext.applyIf({inclusive:!0},a),NOWRAP:Ext.applyIf({wrap:!1},a)},clipIndices:function(d,c,f){f=f||a;var h=0,i=f.wrap,g,b,e;c=c||[];for(e=0;e<2;++e){g=b;b=c[e];if(b==null){b=h}else {if(e&&f.count){b+=g;b=b>d?d:b}else {if(i){b=b<0?d+b:b}if(e&&f.inclusive){++b}b=b<0?0:b>d?d:b}}h=d}c[0]=g;c[1]=b<g?g:b;return c},constrain:function(d,c,b){var a=parseFloat(d);return a<c?c:a>b?b:a},snap:function(a,c,e,f){var d;if(a===undefined||a<e){return e||0}if(c){d=a%c;if(d!==0){a-=d;if(d*2>=c){a+=c}else {if(d*2<-c){a-=c}}}}return b.constrain(a,e,f)},snapInRange:function(a,d,c,e){var f;c=c||0;if(a===undefined||a<c){return c}if(d&&(f=(a-c)%d)){a-=f;f*=2;if(f>=d){a+=d}}if(e!==undefined){if(a>(e=b.snapInRange(e,d,c))){a=e}}return a},toFixed:d?function(d,a){a=a||0;var b=c.pow(10,a);return (c.round(d*b)/b).toFixed(a)}:function(b,a){return b.toFixed(a)},from:function(a,b){if(isFinite(a)){a=parseFloat(a)}return !isNaN(a)?a:b},randomInt:function(a,b){return c.floor(c.random()*(b-a+1)+a)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}});Ext.num=function(){return b.from.apply(this,arguments)}}();(function(){var b=function(){},a=Ext.Object={chain:Object.create||function(a){b.prototype=a;var c=new b();b.prototype=null;return c},clear:function(b){var c=a.getKeys(b),d=c.length;while(d--){delete b[c[d]]}return b},freeze:Object.freeze?function(b,c){if(b&&typeof b==='object'&&!Object.isFrozen(b)){Object.freeze(b);if(c){for(var d in b){a.freeze(b[d],c)}}}return b}:Ext.identityFn,toQueryObjects:function(e,c,f){var g=a.toQueryObjects,d=[],b,h;if(Ext.isArray(c)){for(b=0,h=c.length;b<h;b++){if(f){d=d.concat(g(e+'['+b+']',c[b],!0))}else {d.push({name:e,value:c[b]})}}}else {if(Ext.isObject(c)){for(b in c){if(c.hasOwnProperty(b)){if(f){d=d.concat(g(e+'['+b+']',c[b],!0))}else {d.push({name:e,value:c[b]})}}}}else {d.push({name:e,value:c})}}return d},toQueryString:function(g,j){var c=[],h=[],d,e,i,f,b;for(d in g){if(g.hasOwnProperty(d)){c=c.concat(a.toQueryObjects(d,g[d],j))}}for(e=0,i=c.length;e<i;e++){f=c[e];b=f.value;if(Ext.isEmpty(b)){b=''}else {if(Ext.isDate(b)){b=Ext.Date.toString(b)}}h.push(encodeURIComponent(f.name)+'='+encodeURIComponent(String(b)))}return h.join('&')},fromQueryString:function(q,r){var o=q.replace(/^\?/,'').split('&'),d={},e,j,b,f,k,p,m,c,h,i,n,g,a,l;for(k=0,p=o.length;k<p;k++){m=o[k];if(m.length>0){j=m.split('=');b=decodeURIComponent(j[0]);f=j[1]!==undefined?decodeURIComponent(j[1]):'';if(!r){if(d.hasOwnProperty(b)){if(!Ext.isArray(d[b])){d[b]=[d[b]]}d[b].push(f)}else {d[b]=f}}else {i=b.match(/(\[):?([^\]]*)\]/g);n=b.match(/^([^\[]+)/);b=n[0];g=[];if(i===null){d[b]=f;continue}for(c=0,h=i.length;c<h;c++){a=i[c];a=a.length===2?'':a.substring(1,a.length-1);g.push(a)}g.unshift(b);e=d;for(c=0,h=g.length;c<h;c++){a=g[c];if(c===h-1){if(Ext.isArray(e)&&a===''){e.push(f)}else {e[a]=f}}else {if(e[a]===undefined||typeof e[a]==='string'){l=g[c+1];e[a]=Ext.isNumeric(l)||l===''?[]:{}}e=e[a]}}}}}return d},each:function(a,d,c){c=c||a;for(var b in a){if(a.hasOwnProperty(b)){if(d.call(c,b,a[b],a)===!1){return}}}},eachValue:function(a,d,b){b=b||a;for(var c in a){if(a.hasOwnProperty(c)){if(d.call(b,a[c])===!1){return}}}},merge:function(d){var g=1,j=arguments.length,i=a.merge,h=Ext.clone,f,c,b,e;for(;g<j;g++){f=arguments[g];for(c in f){b=f[c];if(b&&b.constructor===Object){e=d[c];if(e&&e.constructor===Object){i(e,b)}else {d[c]=h(b)}}else {d[c]=b}}}return d},mergeIf:function(c){var e=1,g=arguments.length,f=Ext.clone,d,b,a;for(;e<g;e++){d=arguments[e];for(b in d){if(!(b in c)){a=d[b];if(a&&a.constructor===Object){c[b]=f(a)}else {c[b]=a}}}}return c},getKey:function(b,c){for(var a in b){if(b.hasOwnProperty(a)&&b[a]===c){return a}}return null},getValues:function(b){var c=[],a;for(a in b){if(b.hasOwnProperty(a)){c.push(b[a])}}return c},getKeys:typeof Object.keys=='function'?function(a){if(!a){return []}return Object.keys(a)}:function(b){var c=[],a;for(a in b){if(b.hasOwnProperty(a)){c.push(a)}}return c},getSize:function(b){var c=0,a;for(a in b){if(b.hasOwnProperty(a)){c++}}return c},isEmpty:function(a){for(var b in a){if(a.hasOwnProperty(b)){return !1}}return !0},equals:function(){var a=function(b,c){var a;for(a in b){if(b.hasOwnProperty(a)){if(b[a]!==c[a]){return !1}}}return !0};return function(b,c){if(b===c){return !0}if(b&&c){return a(b,c)&&a(c,b)}else {if(!b&&!c){return b===c}else {return !1}}}}(),fork:function(c){var f=Ext.Array,d,e,b;if(c&&c.constructor===Object){d=a.chain(c);for(e in c){b=c[e];if(b){if(b.constructor===Object){d[e]=a.fork(b)}else {if(b instanceof Array){d[e]=Ext.Array.clone(b)}}}}}else {d=c}return d},defineProperty:'defineProperty' in Object?Object.defineProperty:function(b,c,a){if(!Object.prototype.__defineGetter__){return}if(a.get){b.__defineGetter__(c,a.get)}if(a.set){b.__defineSetter__(c,a.set)}},classify:function(c){var h=c,e=[],f={},g=function(){var b=0,d=e.length,a;for(;b<d;b++){a=e[b];this[a]=new f[a]()}},b,d;for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(d&&d.constructor===Object){e.push(b);f[b]=a.classify(d)}}}g.prototype=h;return g}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf})();Ext.apply(Ext,{escapeId:function(){var c=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,e=/([\W]{1})/g,a=/^(\d)/g,d=function(b,a){return '\\'+a},b=function(b,a){return '\\00'+a.charCodeAt(0).toString(16)+' '};return function(f){return c.test(f)?f:f.replace(e,d).replace(a,b)}}(),callback:function(b,a,e,h,c,g){if(!b){return}var d=a==='this';if(b.charAt){if((!a||d)&&c){a=c.resolveListenerScope(d?a:g)}b=a[b]}else {if(d){a=g||c}else {if(!a){a=c}}}var f;if(b&&Ext.isFunction(b)){a=a||Ext.global;if(h){Ext.defer(b,h,a,e)}else {if(e){f=b.apply(a,e)}else {f=b.call(a)}}}return f},coerce:function(a,e){var d=Ext.typeOf(a),c=Ext.typeOf(e),b=typeof a==='string';if(d!==c){switch(c){case 'string':return String(a);case 'number':return Number(a);case 'boolean':return b&&(!a||a==='false')?!1:Boolean(a);case 'null':return b&&(!a||a==='null')?null:a;case 'undefined':return b&&(!a||a==='undefined')?undefined:a;case 'date':return b&&isNaN(a)?Ext.Date.parse(a,Ext.Date.defaultFormat):Date(Number(a));}}return a},copyTo:function(e,d,a,f){if(typeof a=='string'){a=a.split(/[,;\s]/)}var c,g=a?a.length:0,b;for(c=0;c<g;c++){b=a[c];if(f||d.hasOwnProperty(b)){e[b]=d[b]}}return e},extend:function(){var a=Object.prototype.constructor,b=function(b){for(var a in b){if(!b.hasOwnProperty(a)){continue}this[a]=b[a]}};return function(c,d,g){if(Ext.isObject(d)){g=d;d=c;c=g.constructor!==a?g.constructor:function(){d.apply(this,arguments)}}var h=function(){},e,f=d.prototype;h.prototype=f;e=c.prototype=new h();e.constructor=c;c.superclass=f;if(f.constructor===a){f.constructor=d}c.override=function(a){Ext.override(c,a)};e.override=b;e.proto=e;c.override(g);c.extend=function(a){return Ext.extend(c,a)};return c}}(),iterate:function(a,c,b){if(Ext.isEmpty(a)){return}if(b===undefined){b=a}if(Ext.isIterable(a)){Ext.Array.each.call(Ext.Array,a,c,b)}else {Ext.Object.each.call(Ext.Object,a,c,b)}},urlEncode:function(){var a=Ext.Array.from(arguments),b='';if(Ext.isString(a[1])){b=a[1]+'&';a[1]=!1}return b+Ext.Object.toQueryString.apply(Ext.Object,a)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(d){if(!Ext.isReady){return {}}var b=Ext._scrollbarSize;if(d||!b){var c=document.body,a=document.createElement('div');a.style.width=a.style.height='100px';a.style.overflow='scroll';a.style.position='absolute';c.appendChild(a);Ext._scrollbarSize=b={width:a.offsetWidth-a.clientWidth,height:a.offsetHeight-a.clientHeight};c.removeChild(a)}return b},typeOf:function(){var a=/\S/,d=Object.prototype.toString,c={number:1,string:1,'boolean':1,'undefined':1},b={'[object Array]':'array','[object Date]':'date','[object Boolean]':'boolean','[object Number]':'number','[object RegExp]':'regexp'};return function(e){if(e===null){return 'null'}var f=typeof e,g,h;if(c[f]){return f}g=b[h=d.call(e)];if(g){return g}if(f==='function'){return 'function'}if(f==='object'){if(e.nodeType!==undefined){if(e.nodeType===3){return a.test(e.nodeValue)?'textnode':'whitespace'}else {return 'element'}}return 'object'}return h}}(),factory:function(a,f,b,d){var e=Ext.ClassManager,c;if(!a||a.isInstance){if(b&&b!==a){b.destroy()}return a}if(d){if(typeof a=='string'){return e.instantiateByAlias(d+'.'+a)}else {if(Ext.isObject(a)&&'type' in a){return e.instantiateByAlias(d+'.'+a.type,a)}}}if(a===!0){return b||Ext.create(f)}if('xtype' in a){c=e.instantiateByAlias('widget.'+a.xtype,a)}else {if('xclass' in a){c=Ext.create(a.xclass,a)}}if(c){if(b){b.destroy()}return c}if(b){return b.setConfig(a)}return Ext.create(f,a)},log:function(){var a=function(){};a.info=a.warn=a.error=Ext.emptyFn;return a}()});(function(){var b=[''],c=/([^\d\.])/,e=/[^\d]/g,f=/[\-+]/g,g=/\s/g,d=/_/g,a;Ext.Version=a=function(k,p){var b=this,n=b.padModes,o,m,g,h,j,l,i;if(k.isVersion){k=k.version}b.version=i=String(k).toLowerCase().replace(d,'.').replace(f,'');o=i.charAt(0);if(o in n){i=i.substring(1);g=n[o]}else {g=p?n[p]:0}b.pad=g;l=i.search(c);b.shortVersion=i;if(l!==-1){b.release=j=i.substr(l,k.length);b.shortVersion=i.substr(0,l);j=a.releaseValueMap[j]||j}b.releaseValue=j||g;b.shortVersion=b.shortVersion.replace(e,'');b.parts=h=i.split('.');for(m=h.length;m--;){h[m]=parseInt(h[m],10)}if(g===Infinity){h.push(g)}b.major=h[0]||g;b.minor=h[1]||g;b.patch=h[2]||g;b.build=h[3]||g;return b};a.prototype={isVersion:!0,padModes:{'~':NaN,'^':Infinity},release:'',compareTo:function(f){var g=this,m=g.pad,j=g.parts,h=j.length,e=f.isVersion?f:new a(f),n=e.pad,k=e.parts,i=k.length,l=Math.max(h,i),b,c,d;for(b=0;b<l;b++){c=b<h?j[b]:m;d=b<i?k[b]:n;if(c<d){return -1}if(c>d){return 1}}c=g.releaseValue;d=e.releaseValue;if(c<d){return -1}if(c>d){return 1}return 0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(a){return this.compareTo(a)>0},isGreaterThanOrEqual:function(a){return this.compareTo(a)>=0},isLessThan:function(a){return this.compareTo(a)<0},isLessThanOrEqual:function(a){return this.compareTo(a)<=0},equals:function(a){return this.compareTo(a)===0},match:function(a){a=String(a);return this.version.substr(0,a.length)===a},toArray:function(){var a=this;return [a.getMajor(),a.getMinor(),a.getPatch(),a.getBuild(),a.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(a){return this.compareTo(a)>0},lt:function(a){return this.compareTo(a)<0},gtEq:function(a){return this.compareTo(a)>=0},ltEq:function(a){return this.compareTo(a)<=0}};Ext.apply(a,{aliases:{from:{extjs:'ext',core:'sencha-core'},to:{ext:['extjs'],'sencha-core':['core']}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,'#':-2,p:-1,pl:-1},getComponentValue:function(a){return !a?0:isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10)},compare:function(b,c){var d=b.isVersion?b:new a(b);return d.compareTo(c)},set:function(g,f,c){var b=a.aliases.to[f],d=c.isVersion?c:new a(c),e;g[f]=d;if(b){for(e=b.length;e-->0;){g[b[e]]=d}}return d}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(b){var c=Ext.compatVersions,d;if(!b){d=c.ext||c.touch||c.core}else {d=c[a.aliases.from[b]||b]}return d||Ext.getVersion(b)},setCompatVersion:function(b,c){a.set(Ext.compatVersions,b,c)},setVersion:function(b,c){Ext.lastRegisteredVersion=a.set(Ext.versions,b,c);return this},getVersion:function(c){var b=Ext.versions;if(!c){return b.ext||b.touch||b.core}return b[a.aliases.from[c]||c]},checkVersion:function(o,j){var p=Ext.isArray(o),s=a.aliases.from,q=p?o:b,t=q.length,n=Ext.versions,r=n.ext||n.touch,l,c,f,i,h,m,d,e,k;if(!p){b[0]=o}for(l=0;l<t;++l){if(!Ext.isString(d=q[l])){f=Ext.checkVersion(d.and||d.or,!d.or);if(d.not){f=!f}}else {if(d.indexOf(' ')>=0){d=d.replace(g,'')}c=d.indexOf('@');if(c<0){e=d;k=r}else {m=d.substring(0,c);if(!(k=n[s[m]||m])){if(j){return !1}continue}e=d.substring(c+1)}c=e.indexOf('-');if(c<0){if(e.charAt(c=e.length-1)==='+'){i=e.substring(0,c);h=null}else {i=h=e}}else {if(c>0){i=e.substring(0,c);h=e.substring(c+1)}else {i=null;h=e.substring(c+1)}}f=!0;if(i){i=new a(i,'~');f=i.ltEq(k)}if(f&&h){h=new a(h,'~');f=h.gtEq(k)}}if(f){if(!j){return !0}}else {if(j){return !1}}}return !!j},deprecate:function(b,e,c,d){if(a.compare(Ext.getVersion(b),e)<1){c.call(d)}}})})();(function(c){var d=c&&c.packages||{},b=c&&c.compatibility,a,e;for(a in d){e=d[a];Ext.setVersion(a,e.version)}if(b){if(Ext.isString(b)){Ext.setCompatVersion('core',b)}else {for(a in b){Ext.setCompatVersion(a,b[a])}}}if(!d.ext&&!d.touch){Ext.setVersion('ext','5')}})(Ext.manifest);Ext.Config=function(b){var c=this,a=b.charAt(0).toUpperCase()+b.substr(1);c.name=b;c.names={internal:'_'+b,initializing:'is'+a+'Initializing',apply:'apply'+a,update:'update'+a,set:'set'+a,get:'get'+a,initGet:'initGet'+a,doSet:'doSet'+a,changeEvent:b.toLowerCase()+'change'}};Ext.Config.map={};Ext.Config.get=function(a){var b=Ext.Config.map,c=b[a]||(b[a]=new Ext.Config(a));return c};Ext.Config.prototype={self:Ext.Config,isConfig:!0,getGetter:function(){return this.getter||(this.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.setter=this.makeSetter())},getInternalName:function(a){return a.$configPrefixed?this.names.internal:this.name},makeGetter:function(c){var b=this.name,a=this.names.internal;return function(){var d=this.$configPrefixed?a:b;return this[d]}},makeInitGetter:function(){var e=this.name,a=this.names,d=a.set,c=a.get,b=a.initializing;return function(){var a=this;a[b]=!0;delete a[c];a[d](a.config[e]);delete a[b];return a[c].apply(a,arguments)}},makeSetter:function(h){var g=this.name,a=this.names,c=a.internal,f=a.get,e=a.apply,d=a.update,b;b=function(b){var a=this,i=a.$configPrefixed?c:g,j=a[i],k=a[e],l=a[d];delete a[f];if(!k||(b=k.call(a,b,j))!==undefined){if(b!==(j=a[i])){a[i]=b;if(l){l.call(a,b,j)}}}return a};b.$isDefault=!0;return b}};(function(){var c=Ext.Config,b=c.map,a=Ext.Object;Ext.Configurator=function(d){var b=this,e=d.prototype,c=d.superclass?d.superclass.self.$config:null;b.cls=d;if(c){b.configs=a.chain(c.configs);b.cachedConfigs=a.chain(c.cachedConfigs);b.initMap=a.chain(c.initMap);b.values=a.chain(c.values)}else {b.configs={};b.cachedConfigs={};b.initMap={};b.values={}}e.config=e.defaultConfig=b.values;d.$config=b};Ext.Configurator.prototype={self:Ext.Configurator,initList:null,add:function(s,l){var k=this,m=k.cls,j=k.configs,u=k.cachedConfigs,p=k.initMap,g=m.prototype,t=k.values,o,f,r,h,d,i,b,q,n,e;l=!!l;for(b in s){e=s[b];o=e&&e.constructor===Object;f=o&&'$value' in e?e:null;if(f){r=!!f.cached;h=f.merge;e=f.$value;delete f.$value}d=j[b];if(d){if(l){h=d.merge;if(!h){continue}f=null}else {h=h||d.merge}i=t[b];if(h){e=h.call(m,e,i,l)}else {if(o){if(i&&i.constructor===Object){e=a.merge({},i,e)}}}}else {j[b]=d=c.get(b);if(r){u[b]=!0}q=d.names;if(!g[n=q.get]){g[n]=d.getGetter()}if(!g[n=q.set]){g[n]=d.getSetter()}}if(f){if(d.owner!==m){j[b]=d=Ext.Object.chain(d);d.owner=m}Ext.apply(d,f)}if(e!==null){p[b]=!0}else {if(g.$configPrefixed){g[j[b].names.internal]=null}else {g[j[b].name]=null}if(b in p){p[b]=!1}}t[b]=e}},configure:function(c,k){var j=this,u=j.configs,y=j.initMap,q=j.initListMap,l=j.initList,h=j.cls.prototype,i=a.fork(j.values),z=!c.$configStrict,r=0,w=!l,o,b,m,x,g,p,n,e,d,f,t,v,s;if(w){j.initList=l=[];j.initListMap=q={};for(d in y){x=y[d];b=u[d];t=b.cached;if(x){e=b.names;f=i[d];if(!h[e.set].$isDefault||h[e.apply]||h[e.update]||typeof f==='object'){if(t){(o||(o=[])).push(b)}else {l.push(b);q[d]=!0}c[e.get]=b.initGetter||b.getInitGetter()}else {h[b.getInternalName(h)]=f}}else {if(t){h[b.getInternalName(h)]=undefined}}}}if(o){for(g=0,n=o.length;g<n;++g){e=(b=o[g]).names;d=b.name;m=e.get;p=b.getInternalName(h);c[p]=null;c[e.set](i[d]);delete c[m];h[p]=c[p]}}if(w){if(c.afterCachedConfig&&!c.afterCachedConfig.$nullFn){c.afterCachedConfig(k)}}c.config=i;for(g=0,n=l.length;g<n;++g){b=l[g];c[b.names.get]=b.initGetter||b.getInitGetter()}if(k){for(d in k){f=k[d];b=u[d];if(!b){if(z){c[d]=f}}else {if(!b.lazy){++r}if(!q[d]){c[b.names.get]=b.initGetter||b.getInitGetter()}v=b.merge;if(v){f=v.call(c,f,i[d],!1)}else {if(f&&f.constructor===Object){s=i[d];if(s&&s.constructor===Object){f=a.merge(i[d],f)}else {f=Ext.clone(f)}}}}i[d]=f}}if(c.beforeInitConfig&&!c.beforeInitConfig.$nullFn){if(c.beforeInitConfig(k)===!1){return}}if(k){for(d in k){if(!r){break}b=u[d];if(b&&!b.lazy){--r;e=b.names;m=e.get;if(c.hasOwnProperty(m)){c[e.set](i[d]);delete c[e.get]}}}}for(g=0,n=l.length;g<n;++g){b=l[g];e=b.names;m=e.get;if(!b.lazy&&c.hasOwnProperty(m)){c[e.set](i[b.name]);delete c[m]}}},getCurrentConfig:function(c){var e=c.defaultConfig,d={},a;for(a in e){d[a]=c[b[a].names.get]()}return d},reconfigure:function(c,f,n){var k=c.config,l=c.defaultConfig,m=c.initialConfig,g=[],d,h,e,j,a,i;for(a in f){if(n&&a in m){continue}k[a]=f[a];if(a in l){g.push(a);d=b[a];c[d.names.get]=d.initGetter||d.getInitGetter()}}for(e=0,j=g.length;e<j;e++){a=g[e];i=b[a].names;h=i.get;if(c.hasOwnProperty(h)){c[i.set](f[a]);delete c[h]}}}}})();Ext.Base=function(j){var c=[],d,g=[],k=function(d,f){var b=this,a,e,c;if(d){e=Ext.Config.map[d];c=e.names.get;if(f&&b.hasOwnProperty(c)){a=b.config[d]}else {a=b[c]()}}else {a=b.getCurrentConfig()}return a},i=function(a){return function(){return this[a].apply(this,arguments)}},l=Ext.Version,h=/^\d/,f={},e={},a=function(){},b=a.prototype;Ext.apply(a,{$className:'Ext.Base',$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(o){var s=this,n=[],t=Ext.getCompatVersion(o.name),c,g,r,u,e,k,p,f,m,b,v,a,q,d;for(g in o){if(h.test(g)){d=new Ext.Version(g);d.deprecations=o[g];n.push(d)}}n.sort(l.compare);for(r=n.length;r--;){c=(d=n[r]).deprecations;e=s.prototype;q=c.statics;k=t&&t.lt(d);if(!k){break}while(c){m=c.methods;if(m){for(b in m){a=m[b];f=null;if(!a){}else {if(Ext.isString(a)){if(k){f=i(a)}}else {u='';if(a.message||a.fn){a=a.fn}p=e.hasOwnProperty(b)&&e[b];if(k&&a){a.$owner=s;a.$name=b;if(p){a.$previous=p}f=a}}}if(f){e[b]=f}}}c=q;q=null;e=s}}},extend:function(e){var c=this,h=e.prototype,d,a,i,g,f;d=c.prototype=Ext.Object.chain(h);d.self=c;c.superclass=d.superclass=h;if(!e.$isClass){for(a in b){if(a in d){d[a]=b[a]}}}f=h.$inheritableStatics;if(f){for(a=0,i=f.length;a<i;a++){g=f[a];if(!c.hasOwnProperty(g)){c[g]=e[g]}}}if(e.$onExtended){c.$onExtended=e.$onExtended.slice()}c.getConfigurator()},$onExtended:[],triggerExtended:function(){var c=this.$onExtended,d=c.length,a,b;if(d>0){for(a=0;a<d;a++){b=c[a];b.fn.apply(b.scope||this,arguments)}}},onExtended:function(b,a){this.$onExtended.push({fn:b,scope:a});return this},addStatics:function(a){this.addMembers(a,!0);return this},addInheritableStatics:function(e){var c,b,d=this.prototype,a,f;c=d.$inheritableStatics;b=d.$hasInheritableStatics;if(!c){c=d.$inheritableStatics=[];b=d.$hasInheritableStatics={}}for(a in e){if(e.hasOwnProperty(a)){f=e[a];this[a]=f;if(!b[a]){b[a]=!0;c.push(a)}}}return this},addMembers:function(c,i,o){var e=this,k=Ext.Function.clone,d=i?e:e.prototype,l=!i&&d.defaultConfig,h=Ext.enumerables,m=c.privates,f,g,n,a,b;if(m){delete c.privates;e.addMembers(m,i,!0)}for(b in c){if(c.hasOwnProperty(b)){a=c[b];if(typeof a==='function'&&!a.$isClass&&!a.$nullFn){if(a.$owner){a=k(a)}if(d.hasOwnProperty(b)){a.$previous=d[b]}a.$owner=e;a.$name=b}else {if(l&&b in l){(f||(f={}))[b]=a;continue}}d[b]=a}}if(f){e.addConfig(f)}if(h){for(g=0,n=h.length;g<n;++g){if(c.hasOwnProperty(b=h[g])){a=c[b];if(a&&!a.$nullFn){if(a.$owner){a=k(a)}a.$owner=e;a.$name=b;if(d.hasOwnProperty(b)){a.$previous=d[b]}}d[b]=a}}}return this},addMember:function(a,b){f[a]=b;this.addMembers(f);delete f[a];return this},borrow:function(f,a){var g=f.prototype,d={},b,e,c;a=Ext.Array.from(a);for(b=0,e=a.length;b<e;b++){c=a[b];d[c]=g[c]}return this.addMembers(d)},override:function(a){var b=this,d=a.statics,c=a.inheritableStatics,e=a.config,g=a.mixins,f=a.cachedConfig;if(d||c||e){a=Ext.apply({},a)}if(d){b.addMembers(d,!0);delete a.statics}if(c){b.addInheritableStatics(c);delete a.inheritableStatics}if(e){b.addConfig(e);delete a.config}if(f){b.addCachedConfig(f);delete a.cachedConfig}delete a.mixins;b.addMembers(a);if(g){b.mixin(g)}return b},callParent:function(b){var a;return (a=this.callParent.caller)&&(a.$previous||(a=a.$owner?a:a.caller)&&a.$owner.superclass.self[a.$name]).apply(this,b||c)},callSuper:function(b){var a;return (a=this.callSuper.caller)&&((a=a.$owner?a:a.caller)&&a.$owner.superclass.self[a.$name]).apply(this,b||c)},mixin:function(m,k){var c=this,a,b,e,h,d,i,g,l,f;if(typeof m!=='string'){f=m;if(f instanceof Array){for(d=0,i=f.length;d<i;d++){a=f[d];c.mixin(a.prototype.mixinId||a.$className,a)}}else {for(var n in f){c.mixin(n,f[n])}}return}a=k.prototype;b=c.prototype;if(a.onClassMixedIn){a.onClassMixedIn.call(k,c)}if(!b.hasOwnProperty('mixins')){if('mixins' in b){b.mixins=Ext.Object.chain(b.mixins)}else {b.mixins={}}}for(e in a){l=a[e];if(e==='mixins'){Ext.applyIf(b.mixins,l)}else {if(!(e==='mixinId'||e==='config')&&b[e]===undefined){b[e]=l}}}h=a.$inheritableStatics;if(h){for(d=0,i=h.length;d<i;d++){g=h[d];if(!c.hasOwnProperty(g)){c[g]=k[g]}}}if('config' in a){c.addConfig(a.config,!0)}b.mixins[m]=a;return c},addConfig:function(b,a){var c=this.$config||this.getConfigurator();c.add(b,a)},addCachedConfig:function(b,c){var a={};for(key in b){a[key]={cached:!0,$value:b[key]}}this.addConfig(a,c)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:j(function(a,b){e[a]=function(){return this[b].apply(this,arguments)};this.override(e);delete e[a]})});for(d in a){if(a.hasOwnProperty(d)){g.push(d)}}a.$staticMembers=g;a.getConfigurator();a.addMembers({isInstance:!0,$className:'Ext.Base',$configPrefixed:!0,$configStrict:!0,statics:function(){var a=this.statics.caller,b=this.self;if(!a){return b}return a.$owner},callParent:function(d){var a,b=(a=this.callParent.caller)&&(a.$previous||(a=a.$owner?a:a.caller)&&a.$owner.superclass[a.$name]);return b.apply(this,d||c)},callSuper:function(d){var a,b=(a=this.callSuper.caller)&&((a=a.$owner?a:a.caller)&&a.$owner.superclass[a.$name]);return b.apply(this,d||c)},self:a,constructor:function(){return this},getConfigurator:function(){return this.$config||this.self.getConfigurator()},initConfig:function(b){var a=this,c=a.getConfigurator();a.initConfig=Ext.emptyFn;a.initialConfig=b||{};c.configure(a,b);return a},beforeInitConfig:Ext.emptyFn,getConfig:k,setConfig:function(a,d){var c=this,b;if(typeof a==='string'){b=Ext.Config.map[a];if(!b){Ext.Logger.error("Invalid property name for setter: '"+a+"' for '"+this.$className+"'.")}this[b.names.set](d)}else {if(a){c.getConfigurator().reconfigure(c,a)}}return c},getCurrentConfig:function(){var a=this.getConfigurator();return a.getCurrentConfig(this)},hasConfig:function(a){return a in this.defaultConfig},getInitialConfig:function(b){var a=this.config;if(!b){return a}return a[b]},link:function(b,a){var c=this.$links||(this.$links={});c[b]=!0;this[b]=a;return a},unlink:function(){var c,d,b,a;for(c=0,d=arguments.length;c<d;c++){b=arguments[c];if(this.hasOwnProperty(b)){a=this[b];if(a){if(a.isInstance&&!a.isDestroyed){a.destroy()}else {if(a.parentNode&&'nodeType' in a){a.parentNode.removeChild(a)}}}delete this[b]}}return this},destroy:function(){this.destroy=Ext.emptyFn;this.isDestroyed=!0;if(this.hasOwnProperty('$links')){this.unlink.apply(this,Ext.Object.getKeys(this.$links));this.$links=null}}});b.callOverridden=b.callParent;return a}(Ext.Function.flexSetter);(function(){var a,c=Ext.Base,b=c.$staticMembers;function makeCtor(a){function constructor(){return this.constructor.apply(this,arguments)||null}return constructor}Ext.Class=a=function(b,c,d){if(typeof b!='function'){d=c;c=b;b=null}if(!c){c={}}b=a.create(b,c);a.process(b,c,d);return b};Ext.apply(a,{makeCtor:makeCtor,onBeforeCreated:function(a,c,b){a.addMembers(c);b.onCreated.call(a,a)},create:function(a,f){var e=b.length,d;if(!a){a=makeCtor()}while(e--){d=b[e];a[d]=c[d]}return a},process:function(l,f,k){var j=f.preprocessors||a.defaultPreprocessors,o=this.preprocessors,e={onBeforeCreated:this.onBeforeCreated},d=[],b,c,g,n,h,m,i;delete f.preprocessors;l._classHooks=e;for(g=0,n=j.length;g<n;g++){b=j[g];if(typeof b=='string'){b=o[b];c=b.properties;if(c===!0){d.push(b.fn)}else {if(c){for(h=0,m=c.length;h<m;h++){i=c[h];if(f.hasOwnProperty(i)){d.push(b.fn);break}}}}}else {d.push(b)}}e.onCreated=k?k:Ext.emptyFn;e.preprocessors=d;this.doProcess(l,f,e)},doProcess:function(f,g,b){var c=this,d=b.preprocessors,a=d.shift(),e=c.doProcess;for(;a;a=d.shift()){if(a.call(c,f,g,b,e)===!1){return}}b.onBeforeCreated.apply(c,arguments)},preprocessors:{},registerPreprocessor:function(a,e,b,c,d){if(!c){c='last'}if(!b){b=[a]}this.preprocessors[a]={name:a,properties:b||!1,fn:e};this.setDefaultPreprocessorPosition(a,c,d);return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){this.defaultPreprocessors=Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(d,a,e){var b=this.defaultPreprocessors,c;if(typeof a=='string'){if(a==='first'){b.unshift(d);return this}else {if(a==='last'){b.push(d);return this}}a=a==='after'?1:-1}c=Ext.Array.indexOf(b,e);if(c!==-1){Ext.Array.splice(b,Math.max(0,c+a),0,d)}return this}});a.registerPreprocessor('extend',function(b,c,i){var h=Ext.Base,g=h.prototype,f=c.extend,a,e,d;delete c.extend;if(f&&f!==Object){a=f}else {a=h}e=a.prototype;if(!a.$isClass){for(d in g){if(!e[d]){e[d]=g[d]}}}b.extend(a);b.triggerExtended.apply(b,arguments);if(c.onClassExtended){b.onExtended(c.onClassExtended,b);delete c.onClassExtended}},!0);a.registerPreprocessor('privates',function(c,d){var a=d.privates,b=a.statics;delete d.privates;delete a.statics;c.addMembers(a,!1,!0);if(b){c.addMembers(b,!0,!0)}});a.registerPreprocessor('statics',function(b,a){b.addStatics(a.statics);delete a.statics});a.registerPreprocessor('inheritableStatics',function(b,a){b.addInheritableStatics(a.inheritableStatics);delete a.inheritableStatics});a.registerPreprocessor('platformConfig',function(l,g,m){var i=g.platformConfig,j=g.config||{},d=Ext.theme||(Ext.theme={name:'Default'}),e,f,a,b,k,c,h;delete g.platformConfig;d=d&&d.name;if(!Ext.filterPlatform){Ext.filterPlatform=function(c){var b=!1,a=navigator.userAgent,e,k;c=[].concat(c);function isPhone(a){var b=/Mobile(\/|\s)/.test(a);return /(iPhone|iPod)/.test(a)||!/(Silk)/.test(a)&&(/(Android)/.test(a)&&(/(Android 2)/.test(a)||b))||/(BlackBerry|BB)/.test(a)&&b||/(Windows Phone)/.test(a)}function isTablet(a){return !isPhone(a)&&(/iPad/.test(a)||/Android/.test(a)||/(RIM Tablet OS)/.test(a)||/MSIE 10/.test(a)&&/; Touch/.test(a))}var n=window.location.search.substr(1),h=n.split('&'),j={},f,d;for(d=0;d<h.length;d++){var i=h[d].split('=');j[i[0]]=i[1]}f=j.platform;if(f){return c.indexOf(f)!=-1}for(e=0,k=c.length;e<k;e++){switch(c[e]){case 'phone':b=isPhone(a);break;case 'tablet':b=isTablet(a);break;case 'desktop':b=!isPhone(a)&&!isTablet(a);break;case 'ios':b=/(iPad|iPhone|iPod)/.test(a);break;case 'android':b=/(Android|Silk)/.test(a);break;case 'blackberry':b=/(BlackBerry|BB)/.test(a);break;case 'safari':b=/Safari/.test(a)&&!/(BlackBerry|BB)/.test(a);break;case 'chrome':b=/Chrome/.test(a);break;case 'ie10':b=/MSIE 10/.test(a);break;}if(b){return !0}}return !1}}for(b=0,k=i.length;b<k;b++){a=i[b];e=a.platform;delete a.platform;f=[].concat(a.theme);h=f.length;delete a.theme;if(e&&Ext.filterPlatform(e)){Ext.merge(j,a)}if(h){for(c=0;c<h;c++){if(Ext.theme.name==f[c]){Ext.merge(j,a)}}}}});a.registerPreprocessor('config',function(b,a){if(a.hasOwnProperty('$configPrefixed')){b.prototype.$configPrefixed=a.$configPrefixed}b.addConfig(a.config)});a.registerPreprocessor('cachedConfig',function(b,a){if(a.hasOwnProperty('$configPrefixed')){b.prototype.$configPrefixed=a.$configPrefixed}b.addCachedConfig(a.cachedConfig)});a.registerPreprocessor('mixins',function(e,b,a){var d=b.mixins,c=a.onCreated;delete b.mixins;a.onCreated=function(){a.onCreated=c;e.mixin(d);return a.onCreated.apply(this,arguments)}});Ext.extend=function(d,c,b){if(arguments.length===2&&Ext.isObject(c)){b=c;c=d;d=null}var e;if(!c){throw new Error('[Ext.extend] Attempting to extend from a class which has not been loaded on the page.')}b.extend=c;b.preprocessors=['extend','statics','inheritableStatics','mixins','platformConfig','config'];if(d){e=new a(d,b);e.prototype.constructor=d}else {e=new a(b)}e.prototype.override=function(e){for(var a in e){if(e.hasOwnProperty(a)){this[a]=e[a]}}};return e}})();Ext.Inventory=function(){var a=this;a.names=[];a.paths={};a.alternateToName={};a.aliasToName={};a.nameToAliases={};a.nameToAlternates={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(a,b){return this.addMapping(a,b,this.aliasToName,this.nameToAliases)},addAlternate:function(b,a){return this.addMapping(b,a,this.alternateToName,this.nameToAlternates)},addMapping:function(h,m,k,j){var f=h.$className||h,c=f,l=this._array1,d,a,b,e,i,g;if(Ext.isString(f)){c={};c[f]=m}for(b in c){a=c[b];if(Ext.isString(a)){l[0]=a;a=l}i=a.length;g=j[b]||(j[b]=[]);for(e=0;e<i;++e){if(!(d=a[e])){continue}if(k[d]!==b){k[d]=b;g.push(d)}}}},getAliasesByName:function(a){return this.nameToAliases[a]||null},getAlternatesByName:function(a){return this.nameToAliases[a]||null},getNameByAlias:function(a){return this.aliasToName[a]||''},getNameByAlternate:function(a){return this.alternateToName[a]||''},getNamesByExpression:function(k,e,r){var g=this,q=g.aliasToName,p=g.alternateToName,m=g.nameToAliases,o=g.nameToAlternates,i=r?e:{},l=[],n=Ext.isString(k)?[k]:k,t=n.length,s=g.wildcardRe,f,j,c,b,d,a,h;for(j=0;j<t;++j){if((f=n[j]).indexOf('*')<0){if(!(a=q[f])){if(!(a=p[f])){a=f}}if(!(a in i)&&!(e&&a in e)){i[a]=1;l.push(a)}}else {h=new RegExp('^'+f.replace(s,'(.*?)')+'$');for(a in m){if(!(a in i)&&!(e&&a in e)){if(!(b=h.test(a))){d=(c=m[a]).length;while(!b&&d-->0){b=h.test(c[d])}c=o[a];if(c&&!b){d=c.length;while(!b&&d-->0){b=h.test(c[d])}}}if(b){i[a]=1;l.push(a)}}}}}return l},getPath:function(a){var e=this,d=e.paths,b='',c;if(a in d){b=d[a]}else {c=e.getPrefix(a);if(c){a=a.substring(c.length+1);b=d[c];if(b){b+='/'}}b+=a.replace(e.dotRe,'/')+'.js'}return b},getPrefix:function(a){if(a in this.paths){return a}var d=this.getPrefixes(),e=d.length,b,c;while(e-->0){b=(c=d[e]).length;if(b<a.length&&a.charAt(b)==='.'&&c===a.substring(0,b)){return c}}return ''},getPrefixes:function(){var b=this,a=b.prefixes;if(!a){b.prefixes=a=b.names.slice(0);a.sort(b._compareNames)}return a},removeName:function(a){var c=this,j=c.aliasToName,i=c.alternateToName,h=c.nameToAliases,g=c.nameToAlternates,f=h[a],e=g[a],b,d;delete h[a];delete g[a];if(f){for(b=f.length;b--;){if(a===(d=f[b])){delete j[d]}}}if(e){for(b=e.length;b--;){if(a===(d=e[b])){delete i[d]}}}},resolveName:function(a){var c=this,b;if(!(a in c.nameToAliases)){if(!(b=c.aliasToName[a])){b=c.alternateToName[a]}}return b||a},select:function(b,f){var e=this,a={},d={excludes:a,exclude:function(){e.getNamesByExpression(arguments,a,!0);return this}},c;for(c in b){d[c]=e.selectMethod(a,b[c],f||b)}return d},selectMethod:function(a,c,b){var d=this;return function(f){var e=Ext.Array.slice(arguments,1);e.unshift(d.getNamesByExpression(f,a));return c.apply(b,e)}},setPath:Ext.Function.flexSetter(function(b,c){var a=this;a.paths[b]=c;a.names.push(b);a.prefixes=null;return a}),_compareNames:function(b,c){var a=b.length-c.length;if(!a){a=b<c?-1:1}return a}};Ext.ClassManager=function(l,c,m,g,e){var n=Ext.Class.makeCtor,a=Ext.apply(new Ext.Inventory(),{classes:{},classState:{},existCache:{},namespaceRewrites:[{from:'Ext.',to:Ext}],enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(f){var h,j,d,b,i;if(a.classes[f]||a.existCache[f]){return !0}b=e;i=a.parseNamespace(f);for(h=0,j=i.length;h<j;h++){d=i[h];if(typeof d!=='string'){b=d}else {if(!b||!b[d]){return !1}b=b[d]}}a.triggerCreated(f);return !0},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},triggerCreated:function(b){if(!a.existCache[b]){a.triggerExists(b)}a.classState[b]+=20;a.notify(b,a.createdListeners,a.nameCreatedListeners)},onCreated:function(f,d,b){a.addListener(f,d,b,a.createdListeners,a.nameCreatedListeners)},triggerExists:function(b,d){a.existCache[b]=d||1;a.classState[b]+=20;a.notify(b,a.existsListeners,a.nameExistsListeners)},onExists:function(f,d,b){a.addListener(f,d,b,a.existsListeners,a.nameExistsListeners)},notify:function(n,d,p){var o=a.getAlternatesByName(n),h=[n],b,j,k,q,f,i;for(b=0,j=d.length;b<j;b++){f=d[b];f.fn.call(f.scope,n)}while(h){for(b=0,j=h.length;b<j;b++){i=h[b];d=p[i];if(d){for(k=0,q=d.length;k<q;k++){f=d[k];f.fn.call(f.scope,i)}delete p[i]}}h=o;o=null}},addListener:function(b,h,a,i,d){if(Ext.isArray(a)){b=Ext.Function.createBarrier(a.length,b,h);for(f=0;f<a.length;f++){this.addListener(b,null,a[f],i,d)}return}var f,j={fn:b,scope:h};if(a){if(this.isCreated(a)){b.call(h,a);return}if(!d[a]){d[a]=[]}d[a].push(j)}else {i.push(j)}},parseNamespace:function(f){var n=this.namespaceParseCache,a,j,o,b,k,d,h,i,p;if(this.enableNamespaceParseCache){if(n.hasOwnProperty(f)){return n[f]}}a=[];j=this.namespaceRewrites;o=e;b=f;for(i=0,p=j.length;i<p;i++){k=j[i];d=k.from;h=k.to;if(b===d||b.substring(0,d.length)===d){b=b.substring(d.length);if(typeof h!=='string'){o=h}else {a=a.concat(h.split('.'))}break}}a.push(o);a=a.concat(b.split('.'));if(this.enableNamespaceParseCache){n[f]=a}return a},setNamespace:function(k,j){var a=e,f=this.parseNamespace(k),i=f.length-1,h=f[i],d,b;for(d=0;d<i;d++){b=f[d];if(typeof b!=='string'){a=b}else {if(!a[b]){a[b]={}}a=a[b]}}a[h]=j;return a[h]},createNamespaces:function(){var b=e,h,a,d,f,j,i;for(d=0,j=arguments.length;d<j;d++){h=this.parseNamespace(arguments[d]);for(f=0,i=h.length;f<i;f++){a=h[f];if(typeof a!=='string'){b=a}else {if(!b[a]){b[a]={}}b=b[a]}}}return b},set:function(a,f){var b=this,d=b.getName(f);b.classes[a]=b.setNamespace(a,f);if(d&&d!==a){b.addAlternate(d,a)}return this},get:function(h){var i=this.classes,a,f,b,d,j;if(i[h]){return i[h]}a=e;f=this.parseNamespace(h);for(d=0,j=f.length;d<j;d++){b=f[d];if(typeof b!=='string'){a=b}else {if(!a||!a[b]){return null}a=a[b]}}return a},addNameAliasMappings:function(a){this.addAlias(a)},addNameAlternateMappings:function(a){this.addAlternate(a)},getByAlias:function(a){return this.get(this.getNameByAlias(a))},getName:function(a){return a&&a.$className||''},getClass:function(a){return a&&a.self||null},create:function(d,b,h){var f=n(d);if(typeof b==='function'){b=b(f)}b.$className=d;return new l(f,b,function(){var p=b.postprocessors||a.defaultPostprocessors,s=a.postprocessors,j=[],f,k,r,n,q,i,o;delete b.postprocessors;for(k=0,r=p.length;k<r;k++){f=p[k];if(typeof f==='string'){f=s[f];i=f.properties;if(i===!0){j.push(f.fn)}else {if(i){for(n=0,q=i.length;n<q;n++){o=i[n];if(b.hasOwnProperty(o)){j.push(f.fn);break}}}}}else {j.push(f)}}b.postprocessors=j;b.createdFn=h;a.processCreate(d,this,b)})},processCreate:function(a,b,f){var d=this,h=f.postprocessors.shift(),i=f.createdFn;if(!h){if(a){d.set(a,b)}delete b._classHooks;if(i){i.call(b,b)}if(a){d.triggerCreated(a)}return}if(h.call(d,a,b,f,d.processCreate)!==!1){d.processCreate(a,b,f)}},createOverride:function(k,b,n){var d=this,f=b.override,o=b.requires,q=b.uses,a=b.mixins,i,p=b.compatibility,h,j=function(){var p,s,r,t,u;if(!h){s=o?o.slice(0):[];if(a){if(!(i=a instanceof Array)){for(t in a){if(Ext.isString(p=a[t])){s.push(p)}}}else {for(r=0,u=a.length;r<u;++r){if(Ext.isString(p=a[r])){s.push(p)}}}}h=!0;if(s.length){Ext.require(s,j);return}}if(i){for(r=0,u=a.length;r<u;++r){if(Ext.isString(p=a[r])){a[r]=Ext.ClassManager.get(p)}}}else {if(a){for(t in a){if(Ext.isString(p=a[t])){a[t]=Ext.ClassManager.get(p)}}}}p=d.get(f);delete b.override;delete b.compatibility;delete b.requires;delete b.uses;Ext.override(p,b);d.triggerCreated(k);if(q){Ext['Loader'].addUsedClasses(q)}if(n){n.call(p,p)}};d.triggerExists(k,2);if(!p||Ext.checkVersion(p)){d.onCreated(j,d,f)}return d},instantiateByAlias:function(){var d=arguments[0],a=m.call(arguments),b=this.getNameByAlias(d);a[0]=b;return Ext.create.apply(Ext,a)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(b,a){a=g(a,!0);a.unshift(b);return Ext.create.apply(Ext,a)},getInstantiator:function(d){var h=this.instantiators,b,a,f;b=h[d];if(!b){a=d;f=[];for(a=0;a<d;a++){f.push('a['+a+']')}b=h[d]=new Function('c','a','return new c('+f.join(',')+')')}return b},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,h,b,d,f){if(!d){d='last'}if(!b){b=[a]}this.postprocessors[a]={name:a,properties:b||!1,fn:h};this.setDefaultPostprocessorPosition(a,d,f);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=g(a);return this},setDefaultPostprocessorPosition:function(f,a,h){var b=this.defaultPostprocessors,d;if(typeof a==='string'){if(a==='first'){b.unshift(f);return this}else {if(a==='last'){b.push(f);return this}}a=a==='after'?1:-1}d=Ext.Array.indexOf(b,h);if(d!==-1){Ext.Array.splice(b,Math.max(0,d+a),0,f)}return this}});a.registerPostprocessor('alias',function(i,h,f){var b=Ext.Array.from(f.alias),a,d;for(a=0,d=b.length;a<d;a++){c=b[a];this.addAlias(h,c)}},['xtype','alias']);a.registerPostprocessor('singleton',function(b,d,a,f){if(a.singleton){f.call(this,b,new d(),a)}else {return !0}return !1});a.registerPostprocessor('alternateClassName',function(j,i,h){var a=h.alternateClassName,b,f,d;if(!(a instanceof Array)){a=[a]}for(b=0,f=a.length;b<f;b++){d=a[b];this.set(d,i)}});a.registerPostprocessor('debugHooks',function(f,a,d){var b=a.isInstance?a.self:a;delete b.prototype.debugHooks});a.registerPostprocessor('deprecated',function(f,a,d){var b=a.isInstance?a.self:a;b.addDeprecations(d.deprecated);delete b.prototype.deprecated});Ext.apply(Ext,{create:function(){var b=arguments[0],h=typeof b,d=m.call(arguments,1),f;if(h==='function'){f=b}else {if(h!=='string'&&d.length===0){d=[b];if(!(b=b.xclass)){b=d[0].xtype;if(b){b='widget.'+b}}}b=a.resolveName(b);f=a.get(b)}if(!f){Ext.syncRequire(b);f=a.get(b)}return a.getInstantiator(d.length)(f,d)},widget:function(k,b){var h=k,f,d,i,j;if(typeof h!=='string'){b=k;h=b.xtype}else {b=b||{}}if(b.isComponent){return b}f='widget.'+h;d=a.getNameByAlias(f);if(!d){j=!0}i=a.get(d);if(j||!i){return Ext.create(f,b)}return new i(b)},createByAlias:c(a,'instantiateByAlias'),define:function(b,d,f){if(d.override){a.classState[b]=20;return a.createOverride.apply(a,arguments)}a.classState[b]=10;return a.create.apply(a,arguments)},undefine:function(b){var j=a.classes,f,h,d,i;delete a.namespaceParseCache[b];delete j[b];delete a.existCache[b];delete a.classState[b];a.removeName(b);f=a.parseNamespace(b);h=f.length-1;d=f[0];for(i=1;i<h;i++){d=d[f[i]];if(!d){return}}try{delete d[f[h]]}catch(p){d[f[h]]=undefined}},getClassName:c(a,'getName'),getDisplayName:function(a){if(a){if(a.displayName){return a.displayName}if(a.$name&&a.$class){return Ext.getClassName(a.$class)+'#'+a.$name}if(a.$className){return a.$className}}return 'Anonymous'},getClass:c(a,'getClass'),namespace:c(a,'createNamespaces')});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;l.registerPreprocessor('className',function(b,a){if('$className' in a){b.$className=a.$className}},!0,'first');l.registerPreprocessor('alias',function(r,f){var o=r.prototype,d=g(f.xtype),j=g(f.alias),k='widget.',q=k.length,n=Array.prototype.slice.call(o.xtypesChain||[]),i=Ext.merge({},o.xtypesMap||{}),a,h,p,b;for(a=0,h=j.length;a<h;a++){p=j[a];if(p.substring(0,q)===k){b=p.substring(q);Ext.Array.include(d,b)}}r.xtype=f.xtype=d[0];f.xtypes=d;for(a=0,h=d.length;a<h;a++){b=d[a];if(!i[b]){i[b]=!0;n.push(b)}}f.xtypesChain=n;f.xtypesMap=i;Ext.Function.interceptAfter(f,'onClassCreated',function(){var j=o.mixins,k,p;for(k in j){if(j.hasOwnProperty(k)){p=j[k];d=p.xtypes;if(d){for(a=0,h=d.length;a<h;a++){b=d[a];if(!i[b]){i[b]=!0;n.push(b)}}}}}});for(a=0,h=d.length;a<h;a++){b=d[a];Ext.Array.include(j,k+b)}f.alias=j},['xtype','alias']);if(Ext.manifest){var i=Ext.manifest,k=i.classes,d=i.paths,j={},h={},b,f,o;if(d){if(i.bootRelative){baseUrl=Ext.Boot.baseUrl;for(path in d){if(d.hasOwnProperty(path)){d[path]=baseUrl+d[path]}}}a.setPath(d)}if(k){for(b in k){h[b]=[];j[b]=[];f=k[b];if(f.alias){j[b]=f.alias}if(f.alternates){h[b]=f.alternates}}}a.addAlias(j);a.addAlternate(h)}return a}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);Ext.env||(Ext.env={});Ext.env.Browser=function(d,q){var j=this,r=j.browserPrefixes,s=j.enginePrefixes,m=d.match(new RegExp('((?:'+Ext.Object.getValues(r).join(')|(?:')+'))([\\w\\._]+)')),p=d.match(new RegExp('((?:'+Ext.Object.getValues(s).join(')|(?:')+'))([\\w\\._]+)')),h=j.browserNames,c=h.other,i=j.engineNames,f=i.other,e='',l='',a='',o=!1,k,b,g;j.userAgent=d;if(m){c=h[Ext.Object.getKey(r,m[1])];e=new Ext.Version(m[2])}if(p){f=i[Ext.Object.getKey(s,p[1])];l=new Ext.Version(p[2])}if(f=='Trident'&&c!='IE'){c='IE';var n=d.match(/.*rv:(\d+.\d+)/);if(n&&n.length){n=n[1];e=new Ext.Version(n)}}if(d.match(/FB/)&&c=='Other'){c=h.safari;f=i.webkit}if(d.match(/Android.*Chrome/g)){c='ChromeMobile'}if(d.match(/OPR/)){c='Opera';m=d.match(/OPR\/(\d+.\d+)/);e=new Ext.Version(m[1])}Ext.apply(this,{engineName:f,engineVersion:l,name:c,version:e});this.setFlag(c,!0,q);if(e){a=e.getMajor()||'';if(j.is.IE){a=parseInt(a,10);b=document.documentMode;if(b==7||a==7&&b!=8&&b!=9&&b!=10){a=7}else {if(b==8||a==8&&b!=8&&b!=9&&b!=10){a=8}else {if(b==9||a==9&&b!=7&&b!=8&&b!=10){a=9}else {if(b==10||a==10&&b!=7&&b!=8&&b!=9){a=10}}}}if(a<=7){Ext.isIE7m=!0}if(a<=8){Ext.isIE8m=!0}if(a<=9){Ext.isIE9m=!0}if(a>=7){Ext.isIE7p=!0}if(a>=8){Ext.isIE8p=!0}if(a>=9){Ext.isIE9p=!0}if(a>=10){Ext.isIE10p=!0}}Ext.chromeVersion=Ext.isChrome?a:0;Ext.firefoxVersion=Ext.isFirefox?a:0;Ext.ieVersion=Ext.isIE?a:0;Ext.operaVersion=Ext.isOpera?a:0;Ext.safariVersion=Ext.isSafari?a:0;Ext.webKitVersion=Ext.isWebKit?a:0;this.setFlag(c+a,!0,q);this.setFlag(c+e.getShortVersion())}for(k in h){if(h.hasOwnProperty(k)){g=h[k];this.setFlag(g,c===g)}}this.setFlag(g);if(l){this.setFlag(f+(l.getMajor()||''));this.setFlag(f+l.getShortVersion())}for(k in i){if(i.hasOwnProperty(k)){g=i[k];this.setFlag(g,f===g,q)}}this.setFlag('Standalone',!!navigator.standalone);this.setFlag('Ripple',!!document.getElementById('tinyhippos-injected')&&!Ext.isEmpty(window.top.ripple));this.setFlag('WebWorks',!!window.blackberry);if(typeof window.PhoneGap!='undefined'||typeof window.Cordova!='undefined'||typeof window.cordova!='undefined'){o=!0;this.setFlag('PhoneGap');this.setFlag('Cordova')}else {if(!!window.isNK){o=!0;this.setFlag('Sencha')}}if(/(Glass)/i.test(d)){this.setFlag('GoogleGlass')}if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(d)){o=!0}this.setFlag('WebView',o);this.isStrict=Ext.isStrict=document.compatMode=='CSS1Compat';this.isSecure=/^https/i.test(window.location.protocol);this.identity=c+a+(this.isStrict?'Strict':'Quirks')};Ext.env.Browser.prototype={constructor:Ext.env.Browser,browserNames:{ie:'IE',firefox:'Firefox',safari:'Safari',chrome:'Chrome',opera:'Opera',dolfin:'Dolfin',webosbrowser:'webOSBrowser',chromeMobile:'ChromeMobile',chromeiOS:'ChromeiOS',silk:'Silk',other:'Other'},engineNames:{webkit:'WebKit',gecko:'Gecko',presto:'Presto',trident:'Trident',other:'Other'},enginePrefixes:{webkit:'AppleWebKit/',gecko:'Gecko/',presto:'Presto/',trident:'Trident/'},browserPrefixes:{ie:'MSIE ',firefox:'Firefox/',chrome:'Chrome/',safari:'Version/',opera:'OPR/',dolfin:'Dolfin/',webosbrowser:'wOSBrowser/',chromeMobile:'CrMo/',chromeiOS:'CriOS/',silk:'Silk/'},styleDashPrefixes:{WebKit:'-webkit-',Gecko:'-moz-',Trident:'-ms-',Presto:'-o-',Other:''},stylePrefixes:{WebKit:'Webkit',Gecko:'Moz',Trident:'ms',Presto:'O',Other:''},propertyPrefixes:{WebKit:'webkit',Gecko:'moz',Trident:'ms',Presto:'o',Other:''},is:function(a){return !!this.is[a]},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(b,a,c){if(typeof a=='undefined'){a=!0}this.is[b]=a;this.is[b.toLowerCase()]=a;if(c){Ext['is'+b]=a}return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(b){var a=this.propertyPrefixes[this.engineName];if(a.length>0){return a+Ext.String.capitalize(b)}return b},getPreferredTranslationMethod:function(a){if(typeof a=='object'&&'translationMethod' in a&&a.translationMethod!=='auto'){return a.translationMethod}else {if(this.is.AndroidStock2||this.is.IE){return 'scrollposition'}else {return 'csstransform'}}}};(function(a){Ext.browser=new Ext.env.Browser(a,!0);Ext.userAgent=a.toLowerCase()})(Ext.global.navigator.userAgent);Ext.env.OS=function(k,l,a){var j=this,g=j.names,h=j.prefixes,b,c='',n=j.is,d,m,f,i,e;a=a||Ext.browser;for(d in h){if(h.hasOwnProperty(d)){m=h[d];f=k.match(new RegExp('(?:'+m+')([^\\s;]+)'));if(f){b=g[d];e=f[1];if(e&&e=='HTC_'){c=new Ext.Version('2.3')}else {if(e&&e=='Silk/'){c=new Ext.Version('2.3')}else {c=new Ext.Version(f[f.length-1])}}break}}}if(!b){b=g[(k.toLowerCase().match(/mac|win|linux/)||['other'])[0]];c=new Ext.Version('')}this.name=b;this.version=c;if(l){this.setFlag(l.replace(/ simulator$/i,''))}this.setFlag(b);if(c){this.setFlag(b+(c.getMajor()||''));this.setFlag(b+c.getShortVersion())}for(d in g){if(g.hasOwnProperty(d)){i=g[d];if(!n.hasOwnProperty(b)){this.setFlag(i,b===i)}}}if(this.name=='iOS'&&window.screen.height==568){this.setFlag('iPhone5')}if(a.is.Safari||a.is.Silk){if(this.is.Android2||this.is.Android3||a.version.shortVersion==501){a.setFlag('AndroidStock');a.setFlag('AndroidStock2')}if(this.is.Android4){a.setFlag('AndroidStock');a.setFlag('AndroidStock4')}}};Ext.env.OS.prototype={constructor:Ext.env.OS,names:{ios:'iOS',android:'Android',windowsPhone:'WindowsPhone',webos:'webOS',blackberry:'BlackBerry',rimTablet:'RIMTablet',mac:'MacOS',win:'Windows',tizen:'Tizen',linux:'Linux',bada:'Bada',chrome:'ChromeOS',other:'Other'},prefixes:{tizen:'(Tizen )',ios:'i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ',android:'(Android |HTC_|Silk/)',windowsPhone:'Windows Phone ',blackberry:'(?:BlackBerry|BB)(?:.*)Version/',rimTablet:'RIM Tablet OS ',webos:'(?:webOS|hpwOS)/',bada:'Bada/',chrome:'CrOS '},is:function(a){return !!this[a]},name:null,version:null,setFlag:function(b,a){if(typeof a=='undefined'){a=!0}if(this.flags){this.flags[b]=a}this.is[b]=a;this.is[b.toLowerCase()]=a;return this}};(function(){var h=Ext.global.navigator,i=h.userAgent,e=Ext.env.OS,f=Ext.is||(Ext.is={}),a,c,b;e.prototype.flags=f;Ext.os=a=new e(i,h.platform);c=a.name;Ext['is'+c]=!0;Ext.isMac=f.Mac=f.MacOS;var d=window.location.search.match(/deviceType=(Tablet|Phone)/),g=window.deviceType;if(d&&d[1]){b=d[1]}else {if(g==='iPhone'){b='Phone'}else {if(g==='iPad'){b='Tablet'}else {if(!a.is.Android&&!a.is.iOS&&!a.is.WindowsPhone&&/Windows|Linux|MacOS/.test(c)){b='Desktop';Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else {if(a.is.iPad||a.is.RIMTablet||a.is.Android3||Ext.browser.is.Silk||a.is.Android4&&i.search(/mobile/i)==-1){b='Tablet'}else {b='Phone'}}}}}a.setFlag(b,!0);a.deviceType=b;delete e.prototype.flags})();Ext.feature={has:function(a){return !!this.has[a]},testElements:{},getTestElement:function(a,b){if(a===undefined){a='div'}else {if(typeof a!=='string'){return a}}if(b){return document.createElement(a)}if(!this.testElements[a]){this.testElements[a]=document.createElement(a)}return this.testElements[a]},isStyleSupported:function(a,d){var b=this.getTestElement(d).style,c=Ext.String.capitalize(a);if(typeof b[a]!=='undefined'||typeof b[Ext.browser.getStylePrefix(a)+c]!=='undefined'){return !0}return !1},isStyleSupportedWithoutPrefix:function(b,c){var a=this.getTestElement(c).style;if(typeof a[b]!=='undefined'){return !0}return !1},isEventSupported:function(e,d){if(d===undefined){d=window}var a=this.getTestElement(d),b='on'+e.toLowerCase(),c=b in a;if(!c){if(a.setAttribute&&a.removeAttribute){a.setAttribute(b,'');c=typeof a[b]==='function';if(typeof a[b]!=='undefined'){a[b]=undefined}a.removeAttribute(b)}}return c},getStyle:function(a,c){var b=a.ownerDocument.defaultView,d=(b?b.getComputedStyle(a,null):a.currentStyle)||a.style;return d[c]},getSupportedPropertyName:function(c,a){var b=Ext.browser.getVendorProperyName(a);if(b in c){return b}else {if(a in c){return a}}return null},detect:function(f){var a=this,e=document,k=a.toRun||a.tests,h=k.length,d=e.createElement('div'),i=[],l=Ext.supports,m=a.has,g,b,j,c;if(!Ext.theme){Ext.theme={name:'Default'}}Ext.theme.is={};Ext.theme.is[Ext.theme.name]=!0;d.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';if(f){e.body.appendChild(d)}j=a.preDetected[Ext.browser.identity]||[];while(h--){b=k[h];c=j[h];g=b.name;if(c===undefined){if(!f&&b.ready){i.push(b);continue}c=b.fn.call(a,e,d)}l[g]=m[g]=c}if(f){e.body.removeChild(d)}a.toRun=i},report:function(){var b=[],c=this.tests.length,a;for(a=0;a<c;++a){b.push(this.has[this.tests[a].name]?1:0)}Ext.log(Ext.browser.identity+': ['+b.join(',')+']')},preDetected:{},tests:[{name:'CSSPointerEvents',fn:function(a){return 'pointerEvents' in a.documentElement.style}},{name:'CSS3BoxShadow',fn:function(a){return 'boxShadow' in a.documentElement.style||'WebkitBoxShadow' in a.documentElement.style||'MozBoxShadow' in a.documentElement.style}},{name:'ClassList',fn:function(a){return !!a.documentElement.classList}},{name:'TimeoutActualLateness',fn:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}},{name:'Canvas',fn:function(){var a=this.getTestElement('canvas');return !!(a&&a.getContext&&a.getContext('2d'))}},{name:'Svg',fn:function(a){return !!(a.createElementNS&&!!a.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect)}},{name:'Vml',fn:function(){var a=this.getTestElement(),b=!1;a.innerHTML='<!--[if vml]><br><![endif]-->';b=a.childNodes.length===1;a.innerHTML='';return b}},{name:'TouchEvents',fn:function(){return this.isEventSupported('touchend')}},{name:'Touch',fn:function(){return this.isEventSupported('touchend')||navigator.maxTouchPoints||navigator.msMaxTouchPoints}},{name:'PointerEvents',fn:function(){return navigator.pointerEnabled}},{name:'MSPointerEvents',fn:function(){return navigator.msPointerEnabled}},{name:'Orientation',fn:function(){return 'orientation' in window&&this.isEventSupported('orientationchange')}},{name:'OrientationChange',fn:function(){return this.isEventSupported('orientationchange')}},{name:'DeviceMotion',fn:function(){return this.isEventSupported('devicemotion')}},{names:['Geolocation','GeoLocation'],fn:function(){return 'geolocation' in window.navigator}},{name:'SqlDatabase',fn:function(){return 'openDatabase' in window}},{name:'WebSockets',fn:function(){return 'WebSocket' in window}},{name:'Range',fn:function(){return !!document.createRange}},{name:'CreateContextualFragment',fn:function(){var a=!!document.createRange?document.createRange():!1;return a&&!!a.createContextualFragment}},{name:'History',fn:function(){return 'history' in window&&'pushState' in window.history}},{name:'CssTransforms',fn:function(){return this.isStyleSupported('transform')}},{name:'CssTransformNoPrefix',fn:function(){return this.isStyleSupportedWithoutPrefix('transform')}},{name:'Css3dTransforms',fn:function(){return this.has('CssTransforms')&&this.isStyleSupported('perspective')&&!Ext.browser.is.AndroidStock2}},{name:'CssAnimations',fn:function(){return this.isStyleSupported('animationName')}},{names:['CssTransitions','Transitions'],fn:function(){return this.isStyleSupported('transitionProperty')}},{names:['Audio','AudioTag'],fn:function(){return !!this.getTestElement('audio').canPlayType}},{name:'Video',fn:function(){return !!this.getTestElement('video').canPlayType}},{name:'LocalStorage',fn:function(){try{if('localStorage' in window&&window['localStorage']!==null){localStorage.setItem('sencha-localstorage-test','test success');localStorage.removeItem('sencha-localstorage-test');return !0}}catch(b){}return !1}},{name:'XHR2',fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&'withCredentials' in new XMLHttpRequest()}},{name:'XHRUploadProgress',fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var a=new XMLHttpRequest();return a&&'upload' in a&&'onprogress' in a.upload}return !1}},{name:'NumericInputPlaceHolder',fn:function(){return !(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:'ProperHBoxStretching',ready:!0,fn:function(){var a=document.createElement('div'),b=a.appendChild(document.createElement('div')),d=b.appendChild(document.createElement('div')),c;a.setAttribute('style','width: 100px; height: 100px; position: relative;');b.setAttribute('style','position: absolute; display: -ms-flexbox; display: -webkit-flex; display: -moz-flexbox; display: flex; -ms-flex-direction: row; -webkit-flex-direction: row; -moz-flex-direction: row; flex-direction: row; min-width: 100%;');d.setAttribute('style','width: 200px; height: 50px;');document.body.appendChild(a);c=b.offsetWidth;document.body.removeChild(a);return c>100}},{name:'matchesSelector',fn:function(){var a=document.documentElement,d='matches',e='webkitMatchesSelector',b='msMatchesSelector',c='mozMatchesSelector';return a[d]?d:a[e]?e:a[b]?b:a[c]?c:null}},{name:'RightMargin',ready:!0,fn:function(c,b){var a=c.defaultView;return !(a&&a.getComputedStyle(b.firstChild.firstChild,null).marginRight!='0px')}},{name:'DisplayChangeInputSelectionBug',fn:function(){var a=Ext.webKitVersion;return 0<a&&a<533}},{name:'DisplayChangeTextAreaSelectionBug',fn:function(){var a=Ext.webKitVersion;return 0<a&&a<534.24}},{name:'TransparentColor',ready:!0,fn:function(c,b,a){a=c.defaultView;return !(a&&a.getComputedStyle(b.lastChild,null).backgroundColor!='transparent')}},{name:'ComputedStyle',ready:!0,fn:function(b,c,a){a=b.defaultView;return a&&a.getComputedStyle}},{name:'Float',fn:function(a){return 'cssFloat' in a.documentElement.style}},{name:'CSS3BorderRadius',ready:!0,fn:function(d){var b=['borderRadius','BorderRadius','MozBorderRadius','WebkitBorderRadius','OBorderRadius','KhtmlBorderRadius'],c=!1,a;for(a=0;a<b.length;a++){if(d.documentElement.style[b[a]]!==undefined){return !0}}return c}},{name:'CSS3LinearGradient',fn:function(i,c){var a='background-image:',e='-webkit-gradient(linear, left top, right bottom, from(black), to(white))',b='linear-gradient(left top, black, white)',g='-moz-'+b,h='-ms-'+b,f='-o-'+b,d=[a+e,a+b,a+g,a+h,a+f];c.style.cssText=d.join(';');return (''+c.style.backgroundImage).indexOf('gradient')!==-1&&!Ext.isIE9}},{name:'MouseEnterLeave',fn:function(a){return 'onmouseenter' in a.documentElement&&'onmouseleave' in a.documentElement}},{name:'MouseWheel',fn:function(a){return 'onmousewheel' in a.documentElement}},{name:'Opacity',fn:function(b,a){if(Ext.isIE8){return !1}a.firstChild.style.cssText='opacity:0.73';return a.firstChild.style.opacity=='0.73'}},{name:'Placeholder',fn:function(a){return 'placeholder' in a.createElement('input')}},{name:'Direct2DBug',fn:function(a){return Ext.isString(a.documentElement.style.msTransformOrigin)&&Ext.isIE10m}},{name:'BoundingClientRect',fn:function(a){return 'getBoundingClientRect' in a.documentElement}},{name:'RotatedBoundingClientRect',ready:!0,fn:function(e){var d=e.body,c=!1,b=this.getTestElement(),a=b.style;if(b.getBoundingClientRect){a.WebkitTransform=a.MozTransform=a.OTransform=a.transform='rotate(90deg)';a.width='100px';a.height='30px';d.appendChild(b);c=b.getBoundingClientRect().height!==100;d.removeChild(b)}return c}},{name:'IncludePaddingInWidthCalculation',ready:!0,fn:function(b,a){return a.childNodes[1].firstChild.offsetWidth==210}},{name:'IncludePaddingInHeightCalculation',ready:!0,fn:function(b,a){return a.childNodes[1].firstChild.offsetHeight==210}},{name:'TextAreaMaxLength',fn:function(a){return 'maxlength' in a.createElement('textarea')}},{name:'GetPositionPercentage',ready:!0,fn:function(b,a){return Ext.feature.getStyle(a.childNodes[2],'left')=='10%'}},{name:'PercentageHeightOverflowBug',ready:!0,fn:function(d){var c=!1,b,a;if(Ext.getScrollbarSize().height){a=this.getTestElement();b=a.style;b.height='50px';b.width='50px';b.overflow='auto';b.position='absolute';a.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>','</div>'].join('');d.body.appendChild(a);if(a.firstChild.offsetHeight===50){c=!0}d.body.removeChild(a)}return c}},{name:'xOriginBug',ready:!0,fn:function(e,b){b.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var a=document.getElementById('b1').getBoundingClientRect(),c=document.getElementById('b2').getBoundingClientRect(),d=document.getElementById('b3').getBoundingClientRect();return c.left!==a.left&&d.right!==a.right}},{name:'ScrollWidthInlinePaddingBug',ready:!0,fn:function(c){var d=!1,a,b;b=c.createElement('div');a=b.style;a.height='50px';a.width='50px';a.padding='10px';a.overflow='hidden';a.position='absolute';b.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';c.body.appendChild(b);if(b.scrollWidth===70){d=!0}c.body.removeChild(b);return d}},{name:'rtlVertScrollbarOnRight',ready:!0,fn:function(d,c){c.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var a=c.firstChild,b=a.firstChild;return b.offsetLeft+b.offsetWidth!==a.offsetLeft+a.offsetWidth}},{name:'rtlVertScrollbarOverflowBug',ready:!0,fn:function(c,b){b.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var a=b.firstChild;return a.clientHeight===a.offsetHeight}},{identity:'defineProperty',fn:function(){if(Ext.isIE8m){Ext.Object.defineProperty=Ext.emptyFn;return !1}return !0}},{identify:'nativeXhr',fn:function(){if(typeof XMLHttpRequest!=='undefined'){return !0}XMLHttpRequest=function(){try{return new ActiveXObject('MSXML2.XMLHTTP.3.0')}catch(b){return null}};return !1}},{name:'SpecialKeyDownRepeat',fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera&&Ext.operaVersion<12)}},{name:'EmulatedMouseOver',fn:function(){return Ext.os.is.iOS}},{name:'Hashchange',fn:function(){var a=document.documentMode;return 'onhashchange' in window&&(a===undefined||a>7)}},{name:'MinWidthTableCellBug',ready:!0,fn:function(){if(Ext.isIE8){return !1}var a=document.createElement('div'),b=document.createElement('div'),c;a.setAttribute('style','display:table;table-layout:fixed;');b.setAttribute('style','display:table-cell;min-width:50px;');a.appendChild(b);document.body.appendChild(a);a.offsetWidth;a.style.width='25px';c=a.offsetWidth;document.body.removeChild(a);return c===50}}]};Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:0,bound:0,delay:1,firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var a=Ext.env.Ready,b=document;if(!a.bound){if(b.readyState=='complete'){a.onReadyEvent({type:b.readyState||'body'})}else {a.bound=1;if(Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop){a.bound=2;b.addEventListener('deviceready',a.onReadyEvent,!1)}b.addEventListener('DOMContentLoaded',a.onReadyEvent,!1);window.addEventListener('load',a.onReadyEvent,!1)}}},block:function(){++this.blocks},fireReady:function(){var a=Ext.env.Ready;if(!a.state){Ext._readyTime=Ext.now();Ext.isDomReady=!0;a.state=1;Ext.feature.detect(!0);if(!a.delay){a.handleReady()}else {if(navigator.standalone){a.timer=setTimeout(function(){a.timer=null;a.handleReadySoon()},1)}else {a.handleReadySoon()}}}},handleReady:function(){var a=this;if(a.state===1){if(a.isPaused()){a.handleReadySoon(250)}else {a.state=2;Ext._beforeReadyTime=Ext.now();a.invokeAll();Ext._afterReadytime=Ext.now()}}},handleReadySoon:function(b){var a=this;if(!a.timer){a.timer=setTimeout(function(){a.timer=null;a.handleReady()},b||a.delay)}},invoke:function(a){var b=a.delay;if(b){setTimeout(function(){a.fn.call(a.scope)},b)}else {a.fn.call(a.scope)}},invokeAll:function(){var a=this,b=a.listeners,c;if(!a.blocks){Ext.isReady=!0}a.firing=!0;while(b.length){if(a.sortGeneration!==a.generation){a.sortGeneration=a.generation;b.sort(a.sortFn)}c=b.pop();if(a.blocks&&!c.dom){b.push(c);break}a.invoke(c)}a.firing=!1},isPaused:function(){return (location.search||'').indexOf('ext-pauseReadyFire')>0&&!Ext._continueFireReady},makeListener:function(d,c,b){var a={fn:d,id:++this.nextId,scope:c,dom:!1,priority:0};if(b){Ext.apply(a,b)}a.phase=a.dom?0:1;return a},on:function(e,d,c){var a=Ext.env.Ready,b=a.makeListener(e,d,c);if(a.state===2&&!a.firing&&(b.dom||!a.blocks)){a.invoke(b)}else {a.listeners.push(b);++a.generation;if(!a.bound){a.bind()}}},onReadyEvent:function(b){var a=Ext.env.Ready;if(a.bound>0){a.unbind();a.bound=-1}if(!a.state){a.fireReady()}},sortFn:function(a,b){return -(a.phase-b.phase||b.priority-a.priority||a.id-b.id)},unblock:function(){var a=this;if(a.blocks){if(!--a.blocks){if(a.state===2&&!a.firing){a.invokeAll()}}}},unbind:function(){var a=this,b=document;if(a.bound>1){b.removeEventListener('deviceready',a.onReadyEvent,!1)}b.removeEventListener('DOMContentLoaded',a.onReadyEvent,!1);window.removeEventListener('load',a.onReadyEvent,!1)}};(function(){var a=Ext.env.Ready;if(Ext.isIE8){Ext.apply(a,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var b=!0;try{document.documentElement.doScroll('left')}catch(c){b=!1}if(b&&document.body){a.onReadyEvent({type:'doScroll'})}else {a.scrollTimer=setTimeout(a.pollScroll,20)}return b},bind:function(){if(a.bound){return}var b=document,c;try{c=window.frameElement===undefined}catch(d){}if(!c||!b.documentElement.doScroll){a.pollScroll=Ext.emptyFn}else {if(a.pollScroll()){return}}if(b.readyState=='complete'){a.onReadyEvent({type:'already '+(b.readyState||'body')})}else {b.attachEvent('onreadystatechange',a.onReadyStateChange);window.attachEvent('onload',a.onReadyEvent);a.bound=1}},unbind:function(){document.detachEvent('onreadystatechange',a.onReadyStateChange);window.detachEvent('onload',a.onReadyEvent);if(Ext.isNumber(a.scrollTimer)){clearTimeout(a.scrollTimer);a.scrollTimer=null}},onReadyStateChange:function(){var b=document.readyState;if(a.readyStatesRe.test(b)){a.onReadyEvent({type:b})}}})}Ext.onDocumentReady=function(e,d,b){var c={dom:!0};if(b){Ext.apply(c,b)}a.on(e,d,c)};Ext.onReady=function(d,c,b){a.on(d,c,b)};a.bind()})();Ext.Loader=new function(){var a=this,b=Ext.ClassManager,i=Ext.Boot,o=Ext.Class,c=Ext.env.Ready,k=Ext.Function.alias,h=['extend','mixins','requires'],j={},m=[],f=[],g=[],l={},d={},e={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:'_dc',paths:b.paths,preserveScripts:!0,scriptCharset:undefined},n={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:'loadDelay'};Ext.apply(a,{isInHistory:j,isLoading:!1,history:m,config:e,readyListeners:f,optionalRequires:g,requiresMap:l,hasFileLoadError:!1,scriptsLoading:0,syncModeEnabled:!1,missingQueue:d,init:function(){var k=document.getElementsByTagName('script'),m=k[k.length-1].src,n=m.substring(0,m.lastIndexOf('/')+1),l=Ext._classPathMetadata,h=Ext.Microloader,g=Ext.manifest,d,i,j,e,f;if(!b.getPath('Ext')){b.setPath('Ext',n+'src')}if(l){Ext._classPathMetadata=null;a.addClassPathMappings(l)}if(g){d=g.loadOrder;i=Ext.Boot.baseUrl;if(d&&g.bootRelative){for(j=d.length,e=0;e<j;e++){f=d[e];f.path=i+f.path}}}if(h){c.block();h.onMicroloaderReady(function(){c.unblock()})}},setConfig:Ext.Function.flexSetter(function(b,d){if(b==='paths'){a.setPath(d)}else {e[b]=d;var c=n[b];if(c){i.setConfig(c===!0?b:c,d)}}return a}),getConfig:function(a){return a?e[a]:e},setPath:function(){b.setPath.apply(b,arguments);return a},addClassPathMappings:function(c){b.setPath(c);return a},addBaseUrlClassPathMappings:function(a){for(var b in a){a[b]=i.baseUrl+a[b]}Ext.Loader.addClassPathMappings(a)},getPath:function(a){return b.getPath(a)},require:function(c,f,e,d){if(d){return a.exclude(d).require(c,f,e)}var g=b.getNamesByExpression(c);return a.load(g,f,e)},syncRequire:function(){var b=a.syncModeEnabled;a.syncModeEnabled=!0;var c=a.require.apply(a,arguments);a.syncModeEnabled=b;return c},exclude:function(d){var c=b.select({require:function(b,e,c){return a.load(b,e,c)},syncRequire:function(b,g,e){var c=a.syncModeEnabled;a.syncModeEnabled=!0;var f=a.load(b,g,e);a.syncModeEnabled=c;return f}});c.exclude(d);return c},load:function(h,c,l){if(c){if(c.length){c=a.makeLoadCallback(h,c)}c=c.bind(l||Ext.global)}var f=[],m=h.length,g,j,k,i=[],n=b.classState;for(j=0;j<m;++j){g=b.resolveName(h[j]);if(!b.isCreated(g)){f.push(g);d[g]=a.getPath(g);if(!n[g]){i.push(d[g])}}}k=f.length;if(k){a.missingCount+=k;Ext.each(f,function(e,d){b.onExists(function(){var b=Ext.Boot.canonicalUrl(i[d]),a=Ext.Boot.scripts[b];if(a&&!a.done){Ext.Boot.notifyAll(a)}},a,e)});b.onExists(function(){if(c){Ext.callback(c,l,arguments)}a.checkReady()},a,f);if(!e.enabled){Ext.Error.raise('Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class'+(f.length>1?'es':'')+': '+f.join(', '))}if(i.length){a.loadScripts({url:i,_classNames:f})}else {a.checkReady()}}else {if(c){c.call(l)}a.checkReady()}if(a.syncModeEnabled){if(m===1){return b.get(h[0])}}return a},makeLoadCallback:function(a,c){return function(){var e=[],d=a.length;while(d-->0){e[d]=b.get(a[d])}return c.apply(this,e)}},onLoadFailure:function(){var b=this,c=b.onError;a.hasFileLoadError=!0;--a.scriptsLoading;if(c){c.call(b.userScope,b)}a.checkReady()},onLoadSuccess:function(){var b=this,c=b.onLoad;--a.scriptsLoading;if(c){c.call(b.userScope,b)}a.checkReady()},onReady:function(g,e,h,d){if(h){c.on(g,e,d)}else {var b=c.makeListener(g,e,d);if(a.isLoading){f.push(b)}else {c.invoke(b)}}},addUsedClasses:function(b){var c,d,e;if(b){b=typeof b==='string'?[b]:b;for(d=0,e=b.length;d<e;d++){c=b[d];if(typeof c==='string'&&!Ext.Array.contains(g,c)){g.push(c)}}}return a},triggerReady:function(){var d,b=g;if(a.isLoading&&b.length){g=[];a.require(b)}else {a.isLoading=!1;f.sort(c.sortFn);while(f.length&&!a.isLoading){d=f.pop();c.invoke(d)}c.unblock()}},historyPush:function(b){if(b&&!j[b]){j[b]=!0;m.push(b)}return a},loadScripts:function(g){var c=Ext.manifest,f=c&&c.loadOrder,d=c&&c.loadOrderMap,b;++a.scriptsLoading;if(f&&!d){c.loadOrderMap=d=i.createLoadOrderMap(f)}a.checkReady();b=Ext.apply({loadOrder:f,loadOrderMap:d,charset:e.scriptCharset,success:a.onLoadSuccess,failure:a.onLoadFailure,sync:a.syncModeEnabled,_classNames:[]},g);b.userScope=b.scope;b.scope=b;i.load(b)},loadScriptsSync:function(c){var b=a.syncModeEnabled;a.syncModeEnabled=!0;a.loadScripts({url:c});a.syncModeEnabled=b},loadScriptsSyncBasePrefix:function(c){var b=a.syncModeEnabled;a.syncModeEnabled=!0;a.loadScripts({url:c,prependBaseUrl:!0});a.syncModeEnabled=b},loadScript:function(b){var d=typeof b==='string',e=b instanceof Array,c=!e&&!d,j=c?b.url:b,f=c&&b.onError,h=c&&b.onLoad,i=c&&b.scope,g={url:j,scope:i,onLoad:h,onError:f,_classNames:[]};a.loadScripts(g)},flushMissingQueue:function(){var a,f,e=0,c=0;for(a in d){e++;f=d[a];if(b.isCreated(a)){delete d[a]}else {if(b.existCache[a]===2){delete d[a]}else {++c}}}this.missingCount=c},checkReady:function(){var d=a.isLoading,b;a.flushMissingQueue();b=a.missingCount+a.scriptsLoading;if(b&&!d){c.block();a.isLoading=!!b}else {if(!b&&d){a.triggerReady()}}}});Ext.require=k(a,'require');Ext.syncRequire=k(a,'syncRequire');Ext.exclude=k(a,'exclude');o.registerPreprocessor('loader',function(o,g,q,p){var r=this,j=[],t,k=b.getName(o),i,e,n,m,d,f,c,s;for(i=0,n=h.length;i<n;i++){f=h[i];if(g.hasOwnProperty(f)){c=g[f];if(typeof c=='string'){j.push(c)}else {if(c instanceof Array){for(e=0,m=c.length;e<m;e++){d=c[e];if(typeof d=='string'){j.push(d)}}}else {if(typeof c!='function'){for(e in c){if(c.hasOwnProperty(e)){d=c[e];if(typeof d=='string'){j.push(d)}}}}}}}}if(j.length===0){return}if(k){l[k]=j}(k?a.exclude(k):a).require(j,function(){for(i=0,n=h.length;i<n;i++){f=h[i];if(g.hasOwnProperty(f)){c=g[f];if(typeof c=='string'){g[f]=b.get(c)}else {if(c instanceof Array){for(e=0,m=c.length;e<m;e++){d=c[e];if(typeof d=='string'){g[f][e]=b.get(d)}}}else {if(typeof c!='function'){for(var a in c){if(c.hasOwnProperty(a)){d=c[a];if(typeof d=='string'){g[f][a]=b.get(d)}}}}}}}}p.call(r,o,g,q)});return !1},!0,'after','className');b.registerPostprocessor('uses',function(l,m,h){var d=Ext.manifest,e=d&&d.loadOrder,k=d&&d.classes,b,g,i,j,c,f;if(e){g=k[l];if(g&&!isNaN(c=g.idx)){i=e[c];b=i.uses;f={};for(j=b.length,c=0;c<j;c++){f[b[c]]=!0}b=Ext.Boot.getPathsFromIndexes(f,e,!0);if(b.length>0){a.loadScripts({url:b,sequential:!0})}}}if(h.uses){b=h.uses;a.addUsedClasses(b)}});b.onCreated(a.historyPush);a.init()}();Ext._endTime=(new Date()).getTime();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.cmd.derive('Ext.mixin.Identifiable',Ext.Base,{statics:{uniqueIds:{}},isIdentifiable:!0,mixinId:'identifiable',idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:'ext-',defaultIdSeparator:'-',getOptimizedId:function(){return this.id},getUniqueId:function(){var e=this.id,c,b,f,d,a;if(!(e||e===0)){c=this.self.prototype;b=this.defaultIdSeparator;d=Ext.mixin.Identifiable.uniqueIds;if(!c.hasOwnProperty('identifiablePrefix')){f=this.xtype;if(f){a=this.defaultIdPrefix+f.replace(this.idCleanRegex,b)+b}else {if(!(a=c.$className)){a=this.defaultIdPrefix+'anonymous'+b}else {a=a.replace(this.idCleanRegex,b).toLowerCase()+b}}c.identifiablePrefix=a}a=this.identifiablePrefix;if(!d.hasOwnProperty(a)){d[a]=0}e=this.id=a+ ++d[a]}this.getUniqueId=this.getOptimizedId;return e},setId:function(a){this.id=a},getId:function(){var a=this.id;if(!a){a=this.getUniqueId()}this.getId=this.getOptimizedId;return a}},0,0,0,0,0,0,[Ext.mixin,'Identifiable'],0);Ext.cmd.derive('Ext.event.gesture.Recognizer',Ext.Base,{handledEvents:[],config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a);return this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,onTouchCancel:Ext.emptyFn,fail:function(){return !1},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.event.gesture,'Recognizer'],0);Ext.cmd.derive('Ext.event.gesture.SingleTouch',Ext.event.gesture.Recognizer,{inheritableStatics:{NOT_SINGLE_TOUCH:'Not Single Touch',TOUCH_MOVED:'Touch Moved',EVENT_CANCELED:'Event Canceled'},onTouchStart:function(a){if(a.touches.length>1){return this.fail(this.self.NOT_SINGLE_TOUCH)}},onTouchCancel:function(){return !1}},0,0,0,0,0,0,[Ext.event.gesture,'SingleTouch'],0);Ext.cmd.derive('Ext.event.gesture.DoubleTap',Ext.event.gesture.SingleTouch,{inheritableStatics:{DIFFERENT_TARGET:'Different Target'},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:['singletap','doubletap'],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(c){var a=this,b;if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===!1){return !1}b=a.lastStartPoint=c.changedTouches[0].point;a.startPoint=a.startPoint||b;a.startTime=c.time;clearTimeout(a.singleTapTimer)},onTouchMove:function(c){var a=this,b=c.changedTouches[0].point;if(Math.abs(b.getDistanceTo(a.lastStartPoint))>=a.getMoveDistance()){a.startPoint=null;return a.fail(a.self.TOUCH_MOVED)}},onTouchEnd:function(b){var a=this,f=a.getMaxDuration(),d=b.time,g=b.target,e=a.lastTapTime,h=a.lastTarget,i=b.changedTouches[0].point,c;a.lastTapTime=d;a.lastTarget=g;if(e){c=d-e;if(c<=f&&Math.abs(i.getDistanceTo(a.startPoint))<=a.getTapDistance()){if(g!==h){return a.fail(a.self.DIFFERENT_TARGET)}a.lastTarget=null;a.lastTapTime=0;a.fire('doubletap',b,{touch:b.changedTouches[0],duration:c});a.startPoint=null;return}}if(d-a.startTime>f){a.fireSingleTap(b)}else {a.setSingleTapTimer(b)}},setSingleTapTimer:function(b){var a=this;a.singleTapTimer=setTimeout(function(){a.fireSingleTap(b)},a.getMaxDuration())},fireSingleTap:function(b,a){this.fire('singletap',b,{touch:a});this.startPoint=null}},0,0,0,0,0,0,[Ext.event.gesture,'DoubleTap'],0);Ext.cmd.derive('Ext.event.gesture.Drag',Ext.event.gesture.SingleTouch,{isStarted:!1,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:['dragstart','drag','dragend','dragcancel'],config:{minDistance:8},constructor:function(){Ext.event.gesture.SingleTouch.prototype.constructor.apply(this,arguments);this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(a){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===!1){if(this.isStarted&&this.lastMoveEvent!==null){this.lastMoveEvent.isStopped=!1;this.onTouchEnd(this.lastMoveEvent)}return !1}this.startTime=a.time;this.startPoint=a.changedTouches[0].point},tryDragStart:function(a){var f=this.startPoint,b=a.changedTouches[0],c=b.point,e=this.getMinDistance(),d=this.info;if(Math.abs(c.getDistanceTo(f))>=e){this.isStarted=!0;this.previousPoint=this.lastPoint=c;this.resetInfo('x',a,b);this.resetInfo('y',a,b);d.time=a.time;this.fire('dragstart',a,d)}},onTouchMove:function(a){if(!this.isStarted){this.tryDragStart(a)}if(!this.isStarted){return}var b=a.changedTouches[0],c=b.point;if(this.lastPoint){this.previousPoint=this.lastPoint}this.lastPoint=c;this.lastMoveEvent=a;this.updateInfo('x',a,b);this.updateInfo('y',a,b);this.info.time=a.time;this.fire('drag',a,this.info)},onAxisDragEnd:function(b,a){var c=a.time-a.previousTime[b];if(c>0){a.flick.velocity[b]=(a[b]-a.previous[b])/c}},resetInfo:function(b,h,g){var f=this.lastPoint[b],d=this.startPoint[b],e=f-d,c=b.toUpperCase(),a=this.info;a.touch=g;a.delta[b]=e;a.absDelta[b]=Math.abs(e);a.previousTime[b]=this.startTime;a.previous[b]=d;a[b]=f;a.direction[b]=0;a['start'+c]=this.startPoint[b];a['previous'+c]=a.previous[b];a['page'+c]=a[b];a['delta'+c]=a.delta[b];a['absDelta'+c]=a.absDelta[b];a['previousDelta'+c]=0;a.startTime=this.startTime},updateInfo:function(b,l,k){var e=this,d=e.lastPoint[b],g=e.previousPoint[b],f=e.startPoint[b],i=d-f,a=e.info,h=a.direction,c=b.toUpperCase(),j=a.previous[b];a.touch=k;a.delta[b]=i;a.absDelta[b]=Math.abs(i);if(d!==j&&d!==a[b]){a.previous[b]=a[b];a.previousTime[b]=a.time}a[b]=d;if(d>g){h[b]=1}else {if(d<g){h[b]=-1}}a['start'+c]=f;a['previous'+c]=a.previous[b];a['page'+c]=a[b];a['delta'+c]=a.delta[b];a['absDelta'+c]=a.absDelta[b];a['previousDelta'+c]=a.previous[b]-f;a.startTime=e.startTime},onTouchEnd:function(a){this.doEnd(a)},onTouchCancel:function(a){this.doEnd(a,!0);return !1},doEnd:function(a,d){if(!this.isStarted){this.tryDragStart(a)}if(this.isStarted){var c=a.changedTouches[0],e=c.point,b=this.info;this.isStarted=!1;this.lastPoint=e;this.updateInfo('x',a,c);this.updateInfo('y',a,c);b.time=a.time;this.onAxisDragEnd('x',b);this.onAxisDragEnd('y',b);this.fire(d?'dragcancel':'dragend',a,b);this.startPoint=null;this.previousPoint=null;this.lastPoint=null;this.lastMoveEvent=null}}},1,0,0,0,0,0,[Ext.event.gesture,'Drag'],0);Ext.cmd.derive('Ext.event.gesture.Swipe',Ext.event.gesture.SingleTouch,{handledEvents:['swipestart','swipe','swipecancel'],inheritableStatics:{MAX_OFFSET_EXCEEDED:'Max Offset Exceeded',MAX_DURATION_EXCEEDED:'Max Duration Exceeded',DISTANCE_NOT_ENOUGH:'Distance Not Enough'},config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(b){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===!1){return !1}var a=b.changedTouches[0];this.startTime=b.time;this.isHorizontal=!0;this.isVertical=!0;this.startX=a.pageX;this.startY=a.pageY},onTouchMove:function(b){var f=b.changedTouches[0],h=f.pageX,i=f.pageY,k=h-this.startX,l=i-this.startY,c=Math.abs(h-this.startX),d=Math.abs(i-this.startY),j=b.time-this.startTime,g=this.getMinDistance(),m=b.time,a,e;if(m-this.startTime>this.getMaxDuration()){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(this.isHorizontal&&d>this.getMaxOffset()){this.isHorizontal=!1}if(this.isVertical&&c>this.getMaxOffset()){this.isVertical=!1}if(!this.isVertical||!this.isHorizontal){if(this.isHorizontal&&c<g){a=k<0?'left':'right';e=c}else {if(this.isVertical&&d<g){a=l<0?'up':'down';e=d}}}if(a&&!this.started){this.started=!0;this.fire('swipestart',b,{touch:f,direction:a,distance:e,duration:j})}if(!this.isHorizontal&&!this.isVertical){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(a){if(this.onTouchMove(a)===!1){return !1}var d=a.changedTouches[0],k=d.pageX,l=d.pageY,h=k-this.startX,i=l-this.startY,f=Math.abs(h),g=Math.abs(i),e=this.getMinDistance(),j=a.time-this.startTime,b,c;if(this.isVertical&&g<e){this.isVertical=!1}if(this.isHorizontal&&f<e){this.isHorizontal=!1}if(this.isHorizontal){b=h<0?'left':'right';c=f}else {if(this.isVertical){b=i<0?'up':'down';c=g}else {return this.fail(this.self.DISTANCE_NOT_ENOUGH)}}this.started=!1;this.fire('swipe',a,{touch:d,direction:b,distance:c,duration:j})},onTouchCancel:function(a){this.fire('swipecancel',a);return !1}},0,0,0,0,0,0,[Ext.event.gesture,'Swipe'],0);Ext.cmd.derive('Ext.event.gesture.EdgeSwipe',Ext.event.gesture.Swipe,{handledEvents:['edgeswipe','edgeswipestart','edgeswipeend','edgeswipecancel'],inheritableStatics:{NOT_NEAR_EDGE:'Not Near Edge'},config:{minDistance:60},onTouchStart:function(b){if(Ext.event.gesture.Swipe.prototype.onTouchStart.apply(this,arguments)===!1){return !1}var a=b.changedTouches[0];this.started=!1;this.direction=null;this.isHorizontal=!0;this.isVertical=!0;this.startX=a.pageX;this.startY=a.pageY},onTouchMove:function(b){var d=b.changedTouches[0],l=d.pageX,m=d.pageY,f=l-this.startX,g=m-this.startY,i=Math.abs(m-this.startY),h=Math.abs(l-this.startX),c=this.getMinDistance(),j=this.getMaxOffset(),k=b.time-this.startTime,o=Ext.Viewport&&Ext.Element.getViewportWidth(),n=Ext.Viewport&&Ext.Element.getViewportHeight(),e,a;if(this.isVertical&&h>j){this.isVertical=!1}if(this.isHorizontal&&i>j){this.isHorizontal=!1}if(this.isVertical&&this.isHorizontal){if(i>h){this.isHorizontal=!1}else {this.isVertical=!1}}if(this.isHorizontal){e=f<0?'left':'right';a=f}else {if(this.isVertical){e=g<0?'up':'down';a=g}}this.direction=this.direction||e;if(this.direction=='up'){a=g*-1}else {if(this.direction=='left'){a=f*-1}}this.distance=a;if(a==0){return this.fail(this.self.DISTANCE_NOT_ENOUGH)}if(!this.started){if(this.direction=='right'&&this.startX>c){return this.fail(this.self.NOT_NEAR_EDGE)}else {if(this.direction=='down'&&this.startY>c){return this.fail(this.self.NOT_NEAR_EDGE)}else {if(this.direction=='left'&&o-this.startX>c){return this.fail(this.self.NOT_NEAR_EDGE)}else {if(this.direction=='up'&&n-this.startY>c){return this.fail(this.self.NOT_NEAR_EDGE)}}}}this.started=!0;this.startTime=b.time;this.fire('edgeswipestart',b,{touch:d,direction:this.direction,distance:this.distance,duration:k})}else {this.fire('edgeswipe',b,{touch:d,direction:this.direction,distance:this.distance,duration:k})}},onTouchEnd:function(a){var b;if(this.onTouchMove(a)!==!1){b=a.time-this.startTime;this.fire('edgeswipeend',a,{touch:a.changedTouches[0],direction:this.direction,distance:this.distance,duration:b})}},onTouchCancel:function(a){this.fire('edgeswipecancel',a,{touch:a.changedTouches[0]});return !1}},0,0,0,0,0,0,[Ext.event.gesture,'EdgeSwipe'],0);Ext.cmd.derive('Ext.event.gesture.LongPress',Ext.event.gesture.SingleTouch,{inheritableStatics:{DURATION_NOT_ENOUGH:'Duration Not Enough'},config:{moveDistance:8,minDuration:1000},handledEvents:['longpress'],fireLongPress:function(a){this.fire('longpress',a,{touch:a.changedTouches[0],duration:this.getMinDuration()});this.isLongPress=!0},onTouchStart:function(a){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===!1){return !1}this.startPoint=a.changedTouches[0].point;this.isLongPress=!1;this.setLongPressTimer(a)},setLongPressTimer:function(b){var a=this;a.timer=setTimeout(function(){a.fireLongPress(b)},a.getMinDuration())},onTouchMove:function(b){var a=b.changedTouches[0].point;if(Math.abs(a.getDistanceTo(this.startPoint))>=this.getMoveDistance()){return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(){if(!this.isLongPress){return this.fail(this.self.DURATION_NOT_ENOUGH)}},fail:function(){clearTimeout(this.timer);return Ext.event.gesture.SingleTouch.prototype.fail.apply(this,arguments)}},0,0,0,0,0,0,[Ext.event.gesture,'LongPress'],function(){this.override({handledEvents:['longpress','taphold'],fire:function(b){if(b==='longpress'){var a=Array.prototype.slice.call(arguments);a[0]='taphold';this.fire.apply(this,a)}return this.callOverridden(arguments)}})});Ext.cmd.derive('Ext.event.gesture.MultiTouch',Ext.event.gesture.Recognizer,{requiredTouchesCount:2,isTracking:!1,isStarted:!1,onTouchStart:function(a){var b=this.requiredTouchesCount,d=a.touches,c=d.length;if(c===b){this.start(a)}else {if(c>b){this.end(a)}}},onTouchEnd:function(a){this.end(a)},onTouchCancel:function(a){this.end(a,!0);return !1},start:function(){if(!this.isTracking){this.isTracking=!0;this.isStarted=!1}},end:function(b,a){if(this.isTracking){this.isTracking=!1;if(this.isStarted){this.isStarted=!1;this[a?'fireCancel':'fireEnd'](b)}}}},0,0,0,0,0,0,[Ext.event.gesture,'MultiTouch'],0);Ext.cmd.derive('Ext.event.gesture.Pinch',Ext.event.gesture.MultiTouch,{handledEvents:['pinchstart','pinch','pinchend','pinchcancel'],startDistance:0,lastTouches:null,onTouchMove:function(c){if(!this.isTracking){return}var b=c.touches,e,d,a;e=b[0].point;d=b[1].point;a=e.getDistanceTo(d);if(a===0){return}if(!this.isStarted){this.isStarted=!0;this.startDistance=a;this.fire('pinchstart',c,{touches:b,distance:a,scale:1})}else {this.fire('pinch',c,{touches:b,distance:a,scale:a/this.startDistance})}},fireEnd:function(a){this.fire('pinchend',a)},fireCancel:function(a){this.fire('pinchcancel',a)},fail:function(){return Ext.event.gesture.MultiTouch.prototype.fail.apply(this,arguments)}},0,0,0,0,0,0,[Ext.event.gesture,'Pinch'],0);Ext.cmd.derive('Ext.event.gesture.Rotate',Ext.event.gesture.MultiTouch,{handledEvents:['rotatestart','rotate','rotateend','rotatecancel'],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(g){if(!this.isTracking){return}var b=g.touches,c=this.lastAngle,i,h,a,e,d,f;i=b[0].point;h=b[1].point;a=i.getAngleTo(h);if(c!==null){f=Math.abs(c-a);e=a+360;d=a-360;if(Math.abs(e-c)<f){a=e}else {if(Math.abs(d-c)<f){a=d}}}this.lastAngle=a;if(!this.isStarted){this.isStarted=!0;this.startAngle=a;this.fire('rotatestart',g,{touches:b,angle:a,rotation:0})}else {this.fire('rotate',g,{touches:b,angle:a,rotation:a-this.startAngle})}this.lastTouches=Ext.Array.clone(b)},fireEnd:function(a){this.lastAngle=null;this.fire('rotateend',a)},fireCancel:function(a){this.lastAngle=null;this.fire('rotatecancel',a)}},0,0,0,0,0,0,[Ext.event.gesture,'Rotate'],0);Ext.cmd.derive('Ext.event.gesture.Tap',Ext.event.gesture.SingleTouch,{handledEvents:['tap','tapcancel'],config:{moveDistance:8},onTouchStart:function(a){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,a)===!1){return !1}this.startPoint=a.changedTouches[0].point},onTouchMove:function(b){var a=b.changedTouches[0],c=a.point;if(Math.abs(c.getDistanceTo(this.startPoint))>=this.getMoveDistance()){this.fire('tapcancel',b,{touch:a});return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(a){this.fire('tap',a,{touch:a.changedTouches[0]})},onTouchCancel:function(a){this.fire('tapcancel',a,{touch:a.changedTouches[0]});return !1}},0,0,0,0,0,0,[Ext.event.gesture,'Tap'],0);Ext.cmd.derive('Ext.event.publisher.Publisher',Ext.Base,{targetType:'',idSelectorRegex:/^#([\w\-]+)$/i,constructor:function(){var c=this.handledEvents||[],b,a,e,d;b=this.handledEventsMap={};for(a=0,e=c.length;a<e;a++){d=c[a];b[d]=!0}this.subscribers={};return this},handles:function(a){var b=this.handledEventsMap;return !!b[a]||!!b['*']||a==='*'},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(a){this.dispatcher=a},subscribe:function(){return !1},unsubscribe:function(){return !1},unsubscribeAll:function(){delete this.subscribers;this.subscribers={};return this},notify:function(){return !1},getTargetType:function(){return this.targetType},dispatch:function(c,a,d,b){this.dispatcher.doDispatchEvent(this.targetType,c,a,d,null,null,b)},destroy:Ext.emptyFn},1,0,0,0,0,0,[Ext.event.publisher,'Publisher'],0);Ext.cmd.derive('Ext.util.Offset',Ext.Base,{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=a!=null&&!isNaN(a)?a:0;this.y=b!=null&&!isNaN(b)?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return 'Offset['+this.x+','+this.y+']'},equals:function(a){return this.x==a.x&&this.y==a.y},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else {this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}},3,0,0,0,0,0,[Ext.util,'Offset'],0);Ext.cmd.derive('Ext.util.Region',Ext.Base,{statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(e,d,b,c){var a=this;a.y=a.top=a[1]=e;a.right=d;a.bottom=b;a.x=a.left=a[0]=c},contains:function(a){var b=this;return a.x>=b.x&&a.right<=b.right&&a.y>=b.y&&a.bottom<=b.bottom},intersect:function(a){var b=this,f=Math.max(b.y,a.y),e=Math.min(b.right,a.right),c=Math.min(b.bottom,a.bottom),d=Math.max(b.x,a.x);if(c>f&&e>d){return new this.self(f,e,c,d)}else {return !1}},union:function(a){var b=this,f=Math.min(b.y,a.y),e=Math.max(b.right,a.right),c=Math.max(b.bottom,a.bottom),d=Math.min(b.x,a.x);return new this.self(f,e,c,d)},constrainTo:function(b){var a=this,c=Ext.Number.constrain;a.top=a.y=c(a.top,b.y,b.bottom);a.bottom=c(a.bottom,b.y,b.bottom);a.left=a.x=c(a.left,b.x,b.right);a.right=c(a.right,b.x,b.right);return a},adjust:function(e,d,b,c){var a=this;a.top=a.y+=e;a.left=a.x+=c;a.right+=d;a.bottom+=b;return a},getOutOfBoundOffset:function(b,a){if(!Ext.isObject(b)){if(b=='x'){return this.getOutOfBoundOffsetX(a)}else {return this.getOutOfBoundOffsetY(a)}}else {a=b;var c=new Ext.util.Offset();c.x=this.getOutOfBoundOffsetX(a.x);c.y=this.getOutOfBoundOffsetY(a.y);return c}},getOutOfBoundOffsetX:function(a){if(a<=this.x){return this.x-a}else {if(a>=this.right){return this.right-a}}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.y){return this.y-a}else {if(a>=this.bottom){return this.bottom-a}}return 0},isOutOfBound:function(b,a){if(!Ext.isObject(b)){if(b=='x'){return this.isOutOfBoundX(a)}else {return this.isOutOfBoundY(a)}}else {a=b;return this.isOutOfBoundX(a.x)||this.isOutOfBoundY(a.y)}},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(d,a,b){if(Ext.isObject(d)){var c;b=a;a=d;if(a.copy){c=a.copy()}else {c={x:a.x,y:a.y}}c.x=this.restrictX(a.x,b);c.y=this.restrictY(a.y,b);return c}else {if(d=='x'){return this.restrictX(a,b)}else {return this.restrictY(a,b)}}},restrictX:function(a,b){if(!b){b=1}if(a<=this.x){a-=(a-this.x)*b}else {if(a>=this.right){a-=(a-this.right)*b}}return a},restrictY:function(a,b){if(!b){b=1}if(a<=this.y){a-=(a-this.y)*b}else {if(a>=this.bottom){a-=(a-this.bottom)*b}}return a},getSize:function(){return {width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var a=this;a.top=a.y=a[1]=b.y;a.right=b.right;a.bottom=b.bottom;a.left=a.x=a[0]=b.x;return this},toString:function(){return 'Region['+this.top+','+this.right+','+this.bottom+','+this.left+']'},translateBy:function(b,c){if(arguments.length==1){c=b.y;b=b.x}var a=this;a.top=a.y+=c;a.right+=b;a.bottom+=c;a.left=a.x+=b;return a},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return this.top===a.top&&this.right===a.right&&this.bottom===a.bottom&&this.left===a.left}},3,0,0,0,0,0,[Ext.util,'Region'],0);Ext.cmd.derive('Ext.util.Point',Ext.util.Region,{radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(b){var a=b.changedTouches,c=a&&a.length>0?a[0]:b;return this.fromTouch(c)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){if(!a){return new this(0,0)}if(!(a instanceof this)){return new this(a.x,a.y)}return a}},constructor:function(a,b){if(a==null){a=0}if(b==null){b=0}Ext.util.Region.prototype.constructor.call(this,b,a,b,a)},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return 'Point['+this.x+','+this.y+']'},isCloseTo:function(b,a){if(typeof a=='number'){return this.getDistanceTo(b)<=a}var e=b.x,f=b.y,c=a.x,d=a.y;return this.x<=e+c&&this.x>=e-c&&this.y<=f+d&&this.y>=f-d},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(a){if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a).getRegion()}return a.contains(this)},roundedEquals:function(a){if(typeof a!='object'){a=this.origin}return Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y)},getDistanceTo:function(a){if(typeof a!='object'){a=this.origin}var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},getAngleTo:function(a){if(typeof a!='object'){a=this.origin}var b=this.x-a.x,c=this.y-a.y;return Math.atan2(c,b)*this.radianToDegreeConstant}},3,0,0,0,0,0,[Ext.util,'Point'],function(){this.prototype.translate=this.prototype.translateBy});Ext.cmd.derive('Ext.event.Event',Ext.Base,{alternateClassName:'Ext.EventObjectImpl',isStopped:!1,isEvent:!0,statics:{resolveTextNode:function(a){return a&&a.nodeType===3?a.parentNode:a}},constructor:function(b){var a=this,e=a.self.resolveTextNode,f=b.changedTouches,d=f?f[0]:b,c;a.pageX=d.pageX;a.pageY=d.pageY;a.target=a.delegatedTarget=e(b.target);c=b.relatedTarget;if(c){a.relatedTarget=e(c)}a.browserEvent=a.event=b;a.type=b.type;a.button=b.button||0;a.shiftKey=b.shiftKey;a.ctrlKey=b.ctrlKey||b.metaKey||!1;a.altKey=b.altKey;a.charCode=b.charCode;a.keyCode=b.keyCode;a.timeStamp=a.time=+(b.timeStamp||new Date())},chain:function(b){var a=Ext.Object.chain(this);a.parentEvent=this;return Ext.apply(a,b)},correctWheelDelta:function(a){var c=this.WHEEL_SCALE,b=Math.round(a/c);if(!b&&a){b=a<0?-1:1}return b},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},getRelatedTarget:function(d,e,c){var a=this.relatedTarget,b=null;if(a){if(d){b=Ext.fly(a).findParent(d,e,c)}else {b=c?Ext.get(a):a}}return b},getTarget:function(b,c,a){return b?Ext.fly(this.target).findParent(b,c,a):a?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},getWheelDeltas:function(){var d=this,a=d.browserEvent,c=0,b=0;if(Ext.isDefined(a.wheelDeltaX)){c=a.wheelDeltaX;b=a.wheelDeltaY}else {if(a.wheelDelta){b=a.wheelDelta}else {if(a.detail){b=-a.detail;if(b>100){b=3}else {if(b<-100){b=-3}}if(Ext.isDefined(a.axis)&&a.axis===a.HORIZONTAL_AXIS){c=b;b=0}}}}return {x:d.correctWheelDelta(c),y:d.correctWheelDelta(b)}},getX:function(){return this.getXY()[0]},getXY:function(){if(!this.xy){this.xy=[this.pageX,this.pageY]}return this.xy},getY:function(){return this.getXY()[1]},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},isNavKeyPress:function(){var b=this,a=b.keyCode;return a>=33&&a<=40||a===b.RETURN||a===b.TAB||a===b.ESC},isSpecialKey:function(){var a=this.keyCode;return this.type==='keypress'&&this.ctrlKey||this.isNavKeyPress()||a===this.BACKSPACE||a>=16&&a<=20||a>=44&&a<=46},isTouch:function(){var a=this.browserEvent;return !!a.touches||a.pointerType==='touch'||a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){this.browserEvent.preventDefault();return this},setCurrentTarget:function(a){this.currentTarget=this.delegatedTarget=a},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var a=this,b=a.browserEvent,c=a.parentEvent;a.isStopped=!0;if(c){c.isStopped=!0}if(!b.stopPropagation){b.cancelBubble=!0;return a}b.stopPropagation();return a},within:function(b,e,d){if(b){var c=e?this.getRelatedTarget():this.getTarget(),a;if(c){a=Ext.fly(b).contains(c);if(!a&&d){a=c===Ext.getDom(b)}return a}}return !1},deprecated:{'4.0':{methods:{getPageX:'getX',getPageY:'getY'}}}},1,0,0,0,0,0,[Ext.event,'Event',Ext,'EventObjectImpl'],function(b){var a={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var a;if(Ext.isGecko){a=3}else {if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){a=120}else {a=12}a*=3}else {a=120}}return a}()};Ext.apply(b,a);Ext.apply(b.prototype,a)});Ext.cmd.derive('Ext.event.ListenerStack',Ext.Base,{currentOrder:'current',length:0,constructor:function(){this.listeners={before:[],current:[],after:[]};this.lateBindingMap={};return this},add:function(c,b,e,l,k){var i=this.lateBindingMap,f=this.getAll(l),h=f.length,j=typeof c==='string',d,a,g;if(j&&b&&b.isIdentifiable){g=b.getId();d=i[g];if(d){if(d[c]){return !1}else {d[c]=!0}}else {i[g]=d={};d[c]=!0}}else {if(h>0){while(h--){a=f[h];if(a.fn===c&&a.scope===b){a.options=e;return !1}}}}a=this.create(c,b,e,l,k);if(j&&(!b||b==='this')){a.boundFn=this.bindDynamicScope(k,c,b);a.isLateBinding=!1}if(e&&e.prepend){delete e.prepend;f.unshift(a)}else {f.push(a)}this.length++;return !0},bindDynamicScope:function(a,b,c){return function(){var d=a.resolveListenerScope(d);return d[b].apply(d,arguments)}},getAt:function(a,b){return this.getAll(b)[a]},getAll:function(a){return this.listeners[a||this.currentOrder]},count:function(a){return this.getAll(a).length},create:function(b,e,a,d,c){a=a||{};return {stack:this,fn:b,firingFn:!1,boundFn:!1,isLateBinding:typeof b==='string',scope:e,options:a,order:d,observable:c,type:a.type}},remove:function(b,a,i){var f=this.getAll(i),d=f.length,h=!1,e=this.lateBindingMap,g,c;if(d>0){while(d--){g=f[d];if(g.fn===b&&g.scope===a){f.splice(d,1);h=!0;this.length--;if(a&&a.isIdentifiable&&typeof b==='string'){c=a.getId();if(e[c]&&e[c][b]){delete e[c][b]}}break}}}return h}},1,0,0,0,0,0,[Ext.event,'ListenerStack'],0);Ext.cmd.derive('Ext.event.Controller',Ext.Base,{isFiring:!1,listenerStack:null,constructor:function(a){this.firingListeners=[];this.firingArguments=[];this.dispatcher=a;return this},setInfo:function(a){this.info=a},getInfo:function(){return this.info},setListenerStacks:function(a){this.listenerStacks=a},fire:function(n,g){var h=this.listenerStacks,a=this.firingListeners,i=this.firingArguments,c=a.push,k=h.length,j,e,d,f,l=!1,m=!1,b;a.length=0;if(g){if(g.order!=='after'){l=!0}else {m=!0}}if(k===1){j=h[0].listeners;e=j.before;d=j.current;f=j.after;if(e.length>0){c.apply(a,e)}if(l){c.call(a,g)}if(d.length>0){c.apply(a,d)}if(m){c.call(a,g)}if(f.length>0){c.apply(a,f)}}else {for(b=0;b<k;b++){e=h[b].listeners.before;if(e.length>0){c.apply(a,e)}}if(l){c.call(a,g)}for(b=0;b<k;b++){d=h[b].listeners.current;if(d.length>0){c.apply(a,d)}}if(m){c.call(a,g)}for(b=0;b<k;b++){f=h[b].listeners.after;if(f.length>0){c.apply(a,f)}}}if(a.length===0){return this}if(!n){n=[]}i.length=0;i.push.apply(i,n);i.push(null,this);this.doFire();return this},doFire:function(){var h=this.firingListeners,d=this.firingArguments,o=d[1],t=d.length-2,r=h[0].observable,p=this.info,j,l,s,c,a,k,b,e,m,f,g,i,q,n;if(r&&r.isElement){j=d[0]}this.isPausing=!1;this.isPaused=!1;this.isStopped=!1;this.isFiring=!0;for(l=0,s=h.length;l<s;l++){c=h[l];a=c.options;k=c.fn;b=c.firingFn;e=c.boundFn;m=c.isLateBinding;f=c.scope;if(m&&e&&e!==f[k]){e=!1;b=!1}if(!e){if(m){e=f[k];if(!e){continue}}else {e=k}c.boundFn=e}if(j){q=c.type;if(q){d[0]=j.chain({type:q})}Ext.EventObject=d[0]}if(!b){b=e;if(a.delay){b=Ext.Function.createDelayed(b,a.delay,f)}else {if(a.buffer){b=Ext.Function.createBuffered(b,a.buffer,f)}else {if(a.onFrame){b=Ext.Function.createAnimationFrame(b,f)}}}c.firingFn=b}d[t]=a;g=d;if(a.args){g=a.args.concat(g)}if(a.delegate){d[1]=Ext.fly(o).findParent(a.delegate,o)}if(a.single){this.dispatcher.removeListener(p.targetType,p.target,p.eventName,k,f,a,c.order,c.observable)}n=a.beforeFn;if(n){i=n.apply(Ext.global,g)!==!1;if(i!==!1){i=b.apply(f,g)}}else {i=b.apply(f,g)}if(a.delegate){d[1]=o}if(i===!1){this.stop()}if(this.isStopped){break}if(this.isPausing){this.isPaused=!0;h.splice(0,l+1);return}if(j){d[0]=j}}this.isFiring=!1;this.listenerStacks=null;h.length=0;d.length=0;this.connectingController=null},connect:function(a){this.connectingController=a},resume:function(){var a=this.connectingController;this.isPausing=!1;if(this.isPaused&&this.firingListeners.length>0){this.isPaused=!1;this.doFire()}if(a){a.resume()}return this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var a=this.connectingController;this.isStopped=!0;if(a){this.connectingController=null;a.stop()}this.isFiring=!1;this.listenerStacks=null;return this},pause:function(){var a=this.connectingController;this.isPausing=!0;if(a){a.pause()}return this}},1,0,0,0,0,0,[Ext.event,'Controller'],0);Ext.cmd.derive('Ext.event.Dispatcher',Ext.Base,{statics:{getInstance:function(){if(!this.instance){this.instance=new this()}return this.instance},setInstance:function(a){this.instance=a;return this}},baseHasListeners:{_decr_:function(a){if(!--this[a]){delete this[a]}},_incr_:function(a){if(this.hasOwnProperty(a)){++this[a]}else {this[a]=1}}},hasListeners:{},config:{publishers:{}},wildcard:'*',constructor:function(a){this.listenerStacks={};this.captureListenerStacks={};this.directListenerStacks={};this.activePublishers={};this.publishersCache={};this.noActivePublishers=[];this.controller=null;this.initConfig(a);return this},getListenerStack:function(b,d,c,a){return this.doGetListenerStack(this.listenerStacks,b,d,c,a)},getCaptureListenerStack:function(b,d,c,a){return this.doGetListenerStack(this.captureListenerStacks,b,d,c,a)},getDirectListenerStack:function(b,d,c,a){return this.doGetListenerStack(this.directListenerStacks,b,d,c,a)},doGetListenerStack:function(d,e,g,f,c){var a=d[e],b;if(!a){if(c){d[e]=a={}}else {return null}}a=a[g];if(!a){if(c){d[e][g]=a={}}else {return null}}b=a[f];if(!b){if(c){a[f]=b=new Ext.event.ListenerStack()}else {return null}}return b},getController:function(d,f,e,c){var b=this,a=b.controller,g={targetType:d,target:f,eventName:e};if(!a){b.controller=a=new Ext.event.Controller(b)}if(a.isFiring){a=new Ext.event.Controller(b)}a.setInfo(g);if(c&&a!==c){a.connect(c)}return a},applyPublishers:function(a){var b,c;this.publishersCache={};for(b in a){if(a.hasOwnProperty(b)){c=a[b];this.registerPublisher(c)}}return a},registerPublisher:function(b){var c=this.activePublishers,d=b.getTargetType(),a=c[d];if(!a){c[d]=a=[]}a.push(b);b.setDispatcher(this);return this},getCachedActivePublishers:function(b,c){var d=this.publishersCache,a;if((a=d[b])&&(a=a[c])){return a}return null},cacheActivePublishers:function(a,d,c){var b=this.publishersCache;if(!b[a]){b[a]={}}b[a][d]=c;return c},getActivePublishers:function(c,f){var a=this.getCachedActivePublishers(c,f),b,e,d,h,g;if(a){return a}b=this.activePublishers[c];if(b){a=[];for(d=0,h=b.length;d<h;d++){g=b[d];if(g.handles(f)){a.push(g)}}if(!a.length&&c==='element'){e=this.getPublisher('dom');if(e){a.push(e)}}}else {a=this.noActivePublishers}return this.cacheActivePublishers(c,f,a)},hasListener:function(b,e,d){var c=this.getListenerStack(b,e,d),f=this.getCaptureListenerStack(b,e,d),a=!1;if(c){a=c.count()>0}if(!a&&b==='element'){a=f.count()>0}return a},getHasListeners:function(c,b){var d=this.hasListeners,a=b&&b.hasListeners;if(!a){a=d[c]||(d[c]=Ext.Object.chain(this.baseHasListeners));if(b){b.hasListeners=a=Ext.Object.chain(a)}}return a},addListener:function(g,h,c,k,j,a,i,e){a=a||{};var f=this.getActivePublishers(g,c),l=f.length,b,d;d=this.doAddListener(g,h,c,k,j,a,i,e);if(d){for(b=0;b<l;b++){f[b].subscribe(h,c,a,e)}}return d},doAddListener:function(b,f,c,k,j,d,i,h){d=d||{};var e=this,a,g;if(b==='element'){if(d.capture){a=e.getCaptureListenerStack(b,f,c,!0)}else {g=e.getPublisher('dom');if(d.delegated===!1||g.directEvents[c]||!g.isTargetWin&&f==='#ext-window'){a=e.getDirectListenerStack(b,f,c,!0)}}}if(!a){a=e.getListenerStack(b,f,c,!0)}e.getHasListeners(b,h)._incr_(c);return a.add(k,j,d,i,h)},removeListener:function(g,h,c,k,j,a,i,e){a=a||{};var f=this.getActivePublishers(g,c),l=f.length,b,d;d=this.doRemoveListener(g,h,c,k,j,a,i,e);if(d){for(b=0;b<l;b++){f[b].unsubscribe(h,c,null,a,e)}}return d},doRemoveListener:function(b,f,c,k,j,e,i,h){e=e||{};var d=this,a,g;if(b==='element'){if(e.capture){a=d.getCaptureListenerStack(b,f,c)}else {g=d.getPublisher('dom');if(e.delegated===!1||g.directEvents[c]||!g.isTargetWin&&f==='#ext-window'){a=d.getDirectListenerStack(b,f,c)}}}if(!a){a=d.getListenerStack(b,f,c)}if(a&&a.remove(k,j,i)){d.getHasListeners(b,h)._decr_(c);return !0}return !1},clearListeners:function(a,e,c){var b=this,g=b.listenerStacks[a],f=b.captureListenerStacks[a],d;if(g){b.doClearListeners(g,a,e,{},c)}if(f){b.doClearListeners(f,a,e,{capture:!0},c)}if(c){d=b.directListenerStacks[a];if(d){b.doClearListeners(d,a,e,{delegated:!1},c)}}},doClearListeners:function(f,i,e,l,h){var k=this,d=f[e],g=k.getHasListeners(i,h),a,b,j,c;if(d){for(a in d){c=k.getActivePublishers(i,a);for(b=0,j=c.length;b<j;b++){c[b].unsubscribe(e,a,!0,l,h)}if(!(g[a]-=d[a].length)){delete g[a]}}delete f[e]}},dispatchEvent:function(e,f,c){var b=this.getActivePublishers(e,c),d=b.length,a;if(d>0){for(a=0;a<d;a++){b[a].notify(f,c)}}return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(b,d,c,j,h,i,g){var f=g?this.getCaptureListenerStack(b,d,c):this.getListenerStack(b,d,c,g),e=this.getWildcardListenerStacks(b,d,c,g),a;if(!f||!f.length){if(!e.length&&!h){return}}else {e.push(f)}a=this.getController(b,d,c,i);a.setListenerStacks(e);a.fire(j,h);return !a.isInterrupted()},dispatchDirectEvent:function(c,e,d,f){var b=this.getDirectListenerStack(c,e,d),a;if(b&&b.length){a=this.getController(c,e,d);a.setListenerStacks([b]);a.fire(f);return !a.isInterrupted()}},getWildcardListenerStacks:function(d,g,e,f){var c=[],a=this.wildcard,h=e!==a,i=g!==a,b;if(h&&(b=this.getListenerStack(d,g,a,f))){c.push(b)}if(i&&(b=this.getListenerStack(d,a,e,f))){c.push(b)}return c},getPublisher:function(a){return this.getPublishers()[a]},destroy:function(){var a=this.getPublishers(),b;for(b in a){a[b].destroy()}}},1,0,0,0,0,0,[Ext.event,'Dispatcher'],0);Ext.cmd.derive('Ext.Mixin',Ext.Base,function(a){return {statics:{addHook:function(e,c,d,h){var g=Ext.isFunction(e),b=function(){var b=arguments,i=g?e:h[e],f=this.callParent(b);i.apply(this,b);return f},f=c.hasOwnProperty(d)&&c[d];if(g){e.$previous=Ext.emptyFn}b.$name=d;b.$owner=c.self;if(f){b.$previous=f.$previous;f.$previous=b}else {c[d]=b}}},onClassExtended:function(k,c){var b=c.mixinConfig,d=c.xhooks,j=k.superclass,i=c.onClassMixedIn,h,f,g,e;if(d){delete c.xhooks;(b||(c.mixinConfig=b={})).on=d}if(b){h=j.mixinConfig;if(h){c.mixinConfig=b=Ext.merge({},h,b)}c.mixinId=b.id;f=b.before;g=b.after;d=b.on;e=b.extended}if(f||g||d||e){c.onClassMixedIn=function(b){var h=this.prototype,l=b.prototype,j;if(f){Ext.Object.each(f,function(e,d){b.addMember(e,function(){if(h[d].apply(this,arguments)!==!1){return this.callParent(arguments)}})})}if(g){Ext.Object.each(g,function(e,d){b.addMember(e,function(){var f=this.callParent(arguments);h[d].apply(this,arguments);return f})})}if(d){for(j in d){a.addHook(d[j],l,j,h)}}if(e){b.onExtended(function(){var d=Ext.Array.slice(arguments,0);d.unshift(b);return e.apply(this,d)},this)}if(i){i.apply(this,arguments)}}}}}},0,0,0,0,0,0,[Ext,'Mixin'],0);Ext.cmd.derive('Ext.mixin.Observable',Ext.Mixin,{mixinConfig:{id:'observable',after:{destroy:'destroy'}},isObservable:!0,observableType:'observable',validIdRe:Ext.validIdRe,observableIdPrefix:'#',listenerOptionsRegex:/^(?:delegate|delegated|single|delay|buffer|args|prepend|capture|destroyable|translate)$/,eventFiringSuspended:0,config:{listeners:null,bubbleEvents:null},constructor:function(b){var a=this;a.suspendedEvents={};a.initConfig(b);a.getEventDispatcher().getHasListeners(a.observableType,a)},applyListeners:function(a){if(a){this.addListener(a)}},resolveListenerScope:function(a){if(a==='this'){a=null}return a||this},applyBubbleEvents:function(a){if(a){this.enableBubble(a)}},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){var a=this,b,c;if(!a.observableId){b=a.getUniqueId();c=a.validIdRe;a.observableId=a.observableIdPrefix+b;a.getObservableId=a.getOptimizedObservableId}return a.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},getEventDispatcher:function(){if(!this.eventDispatcher){this.eventDispatcher=Ext.event.Dispatcher.getInstance();this.getEventDispatcher=this.getOptimizedEventDispatcher;this.getListeners();this.getBubbleEvents()}return this.eventDispatcher},getManagedListeners:function(d,c){var b=d.getUniqueId(),a=this.managedListeners;if(!a){this.managedListeners=a={}}if(!a[b]){a[b]={};d.doAddListener('destroy','clearManagedListeners',this,{single:!0,args:[d]})}if(!a[b][c]){a[b][c]=[]}return a[b][c]},getUsedSelectors:function(){var a=this.usedSelectors;if(!a){a=this.usedSelectors=[];a.$map={}}return a},fireEvent:function(a){var b=Array.prototype.slice.call(arguments,1);return this.doFireEvent(a,b)},fireEventArgs:function(a,b){return this.doFireEvent(a,b)},fireAction:function(e,a,d,h,f,g){var c=typeof d,b;if(a===undefined){a=[]}if(c!=='undefined'){b={fn:d,isLateBinding:c==='string',scope:h||this,options:f||{},order:g}}return this.doFireEvent(e,a,b)},doFireEvent:function(b,f,e,c){var a=this,d=a.eventQueue,g=!0;if(a.eventFiringSuspended||a.suspendedEvents[b]){if(d){d.push([b,f,e,c])}}else {g=a.getEventDispatcher().dispatchEvent(a.observableType,a.getObservableId(),b,f,e,c)}return g},doAddListener:function(k,f,a,c,j){var l=a&&a!==this&&a.isIdentifiable,i=this.getUsedSelectors(),h=i.$map,b=this.getObservableId(),e,g,d;if(!c){c={}}if(!a&&typeof f==='function'){a=this}if(c.delegate){d=c.delegate;b+=' '+d}if(!(b in h)){h[b]=!0;i.push(b)}e=this.addDispatcherListener(b,k,f,a,c,j);if(e&&l){g=this.getManagedListeners(a,k);g.push({delegate:d,scope:a,fn:f,order:j})}return e},addDispatcherListener:function(a,e,f,d,b,c){return this.getEventDispatcher().addListener(this.observableType,a,e,f,d,b,c,this)},doRemoveListener:function(k,h,a,c,j){var m=a&&a!==this&&a.isIdentifiable,i=this.getObservableId(),f,e,d,l,b,g;if(!c){c={}}if(!a&&typeof h==='function'){a=this}if(c.delegate){g=c.delegate;i+=' '+g}f=this.removeDispatcherListener(i,k,h,a,c,j);if(f&&m){e=this.getManagedListeners(a,k);for(d=0,l=e.length;d<l;d++){b=e[d];if(b.fn===h&&b.scope===a&&b.delegate===g&&b.order===j){e.splice(d,1);break}}}return f},removeDispatcherListener:function(a,e,f,d,b,c){return this.getEventDispatcher().removeListener(this.observableType,a,e,f,d,b,c,this)},clearManagedListeners:function(g){var c=this.managedListeners,a,e,h,f,d,j,b,i;if(!c){return this}if(g){if(typeof g!=='string'){a=g.getUniqueId()}else {a=g}e=c[a];for(f in e){if(e.hasOwnProperty(f)){h=e[f];for(d=0,j=h.length;d<j;d++){b=h[d];i={};if(b.delegate){i.delegate=b.delegate}if(this.doRemoveListener(f,b.fn,b.scope,i,b.order)){d--;j--}}}}delete c[a];return this}for(a in c){if(c.hasOwnProperty(a)){this.clearManagedListeners(a)}}},changeListener:function(h,d,o,k,i,j){var l,e,p,m,c,b,a,g,f,n;if(typeof o!=='undefined'){if(typeof d!=='string'){for(a=0,g=d.length;a<g;a++){c=d[a];h.call(this,c,o,k,i,j)}return this}h.call(this,d,o,k,i,j)}else {if(Ext.isArray(d)){e=d;for(a=0,g=e.length;a<g;a++){f=e[a];h.call(this,f.event,f.fn,f.scope,f,f.order)}}else {p=this.listenerOptionsRegex;i=d;l=[];e=[];m={};for(c in i){b=i[c];if(c==='scope'){k=b;continue}else {if(c==='order'){j=b;continue}}if(!p.test(c)){n=typeof b;if(n!=='string'&&n!=='function'){h.call(this,c,b.fn,b.scope||k,b,b.order||j);continue}l.push(c);e.push(b)}else {m[c]=b}}for(a=0,g=l.length;a<g;a++){h.call(this,l[a],e[a],k,m,j)}}}return this},addListener:function(a,h,g,b,f){var e=this,c,d;if(b){c=b.destroyable}else {if(typeof a==='object'){c=a.destroyable}}d=e.changeListener(e.doAddListener,a,h,g,b,f);if(c){d=new Ext.mixin.Observable.$ListenerRemover(e,a,h,g,b,f)}return d},toggleListener:function(c,a,f,e,b,d){return this.changeListener(c?this.doAddListener:this.doRemoveListener,a,f,e,b,d)},addBeforeListener:function(a,d,c,b){return this.addListener(a,d,c,b,'before')},addAfterListener:function(a,d,c,b){return this.addListener(a,d,c,b,'after')},removeListener:function(a,e,d,b,c){return this.changeListener(this.doRemoveListener,a,e,d,b,c)},removeBeforeListener:function(a,d,c,b){return this.removeListener(a,d,c,b,'before')},removeAfterListener:function(a,d,c,b){return this.removeListener(a,d,c,b,'after')},clearListeners:function(){var b=this.getUsedSelectors(),e=this.getEventDispatcher(),a,d,c;for(a=0,d=b.length;a<d;a++){c=b[a];e.clearListeners(this.observableType,c,this)}},hasListener:function(a){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),a)},isSuspended:function(a){return !!(this.eventFiringSuspended||this.suspendedEvents[a])},suspendEvents:function(a){++this.eventFiringSuspended;if(a&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var d=arguments,c=this.suspendedEvents,e=d.length,b,a;for(b=0;b<e;b++){a=d[b];if(!(a in c)){c[a]=0}++c[a]}},resumeEvents:function(f){var a=this,d=a.eventQueue||[],c,b,e;if(a.eventFiringSuspended&&!--a.eventFiringSuspended){if(!f){for(b=0,e=d.length;b<e;b++){c=d[b];if(!a.suspendedEvents[c[0]]){a.doFireEvent.apply(a,c)}}}a.eventQueue=null}},resumeEvent:function(){var c=this,e=arguments,d=c.suspendedEvents,f=e.length,a,b;for(a=0;a<f;a++){b=e[a];if(d[b]){--d[b]}}if(!c.eventFiringSuspended){c.resumeEvents()}},relayEvents:function(f,a,d){var e,g,b,c;if(typeof d==='undefined'){d=''}if(typeof a==='string'){a=[a]}if(Ext.isArray(a)){for(e=0,g=a.length;e<g;e++){b=a[e];c=d+b;f.addListener(b,this.createEventRelayer(c),this)}}else {for(b in a){if(a.hasOwnProperty(b)){c=d+a[b];f.addListener(b,this.createEventRelayer(c),this)}}}return this},relayEvent:function(a,e,i,g,h){var d=typeof e,b=a[a.length-1],f=b.getInfo().eventName,c;a=Array.prototype.slice.call(a,0,-2);a[0]=this;if(d!=='undefined'){c={fn:e,scope:i||this,options:g||{},order:h,isLateBinding:d==='string'}}return this.doFireEvent(f,a,c,b)},createEventRelayer:function(a){return function(){return this.doFireEvent(a,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(c){var b=this.isBubblingEnabled,d,e,a;if(!b){b=this.isBubblingEnabled={}}if(typeof c==='string'){c=Ext.Array.clone(arguments)}for(d=0,e=c.length;d<e;d++){a=c[d];if(!b[a]){b[a]=!0;this.addListener(a,this.createEventBubbler(a),this)}}},createEventBubbler:function(a){return function doBubbleEvent(){var b='getBubbleTarget' in this?this.getBubbleTarget():null;if(b&&b!==this&&b.isObservable){b.fireAction(a,Array.prototype.slice.call(arguments,0,-2),doBubbleEvent,b,null,'after')}}},getBubbleTarget:function(){return !1},destroy:function(){if(this.observableId){this.fireEvent('destroy',this);this.clearListeners();this.clearManagedListeners()}},deprecated:{'2.0':{methods:{addEvents:null,addManagedListener:function(){var a=arguments[0];a.addListener.apply(a,Ext.Array.slice(arguments,1))},removeManagedListener:function(){var a=arguments[0];a.removeListener.apply(a,Ext.Array.slice(arguments,1))},mon:function(){var a=arguments[0];a.addListener.apply(a,Ext.Array.slice(arguments,1))},mun:function(){var a=arguments[0];a.removeListener.apply(a,Ext.Array.slice(arguments,1))}}}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.mixin,'Observable'],function(b){var a=function(c){if(c instanceof a){return c}this.observable=c;this.args=Array.prototype.slice.call(arguments,1)};a.prototype.destroy=function(){var a=this.observable;a.un.apply(a,this.args)};b.$ListenerRemover=a;b.createAlias({on:'addListener',un:'removeListener',onBefore:'addBeforeListener',onAfter:'addAfterListener',unBefore:'removeBeforeListener',unAfter:'removeAfterListener'})});Ext.cmd.derive('Ext.util.Positionable',Ext.Base,{_positionTopLeft:['position','top','left'],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(a,c){var b=this.getConstrainVector(c,a);if(b){a[0]+=b[0];a[1]+=b[1]}return a},alignTo:function(e,d,f,b){var a=this,c=a.el;return a.setXY(a.getAlignToXY(e,d,f),c.anim&&!!b?c.anim(b):!1)},calculateAnchorXY:function(f,k,l,e){var g=this,j=g.el,i=document,h=j.dom===i.body||j.dom===i,d=Math.round,a,b,c;f=(f||'tl').toLowerCase();e=e||{};b=e.width||(h?Ext.Element.getViewportWidth():g.getWidth());c=e.height||(h?Ext.Element.getViewportHeight():g.getHeight());switch(f){case 'tl':a=[0,0];break;case 'bl':a=[0,c];break;case 'tr':a=[b,0];break;case 'c':a=[d(b*0.5),d(c*0.5)];break;case 't':a=[d(b*0.5),0];break;case 'l':a=[0,d(c*0.5)];break;case 'r':a=[b,d(c*0.5)];break;case 'b':a=[d(b*0.5),c];break;case 'tc':a=[d(b*0.5),0];break;case 'bc':a=[d(b*0.5),c];break;case 'br':a=[b,c];}return [a[0]+k,a[1]+l]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(g,b,n){var d=this,h,a,m,r,q,j,i,c,p,o,w,k,l,t,s,v,u,e,f;g=Ext.get(g.el||g);if(!g||!g.dom){}n=n||[0,0];b=(!b||b=='?'?'tl-bl?':!/-/.test(b)&&b!==''?'tl-'+b:b||'tl-bl').toLowerCase();b=d.convertPositionSpec(b);m=b.match(d._alignRe);k=m[1];l=m[2];w=!!m[3];r=d.getAnchorXY(k,!0);q=d.getAnchorToXY(g,l,!1);e=q[0]-r[0]+n[0];f=q[1]-r[1]+n[1];if(w){h=d.constrainTo||d.container||d.el.parent();h=Ext.get(h.el||h);a=h.getViewRegion();a.right=a.left+h.el.dom.clientWidth;j=d.getWidth();i=d.getHeight();c=g.getRegion();t=k.charAt(0);s=k.charAt(k.length-1);v=l.charAt(0);u=l.charAt(l.length-1);p=e<c.right&&e+j>=c.left&&(t=='t'&&v=='b'||t=='b'&&v=='t');o=f<c.bottom&&f+i>=c.top&&(s=='r'&&u=='l'||s=='l'&&u=='r');if(e+j>a.right){if(o){e=c.left-j;o=!1}else {e=a.right-j}}if(e<a.left){e=o?c.right:a.left}if(f+i>a.bottom){if(p){f=c.top-i;p=!1}else {f=a.bottom-i}}if(f<a.top){f=p?c.bottom:a.top}}return [e,f]},getAnchorXY:function(h,e,k){var b=this,f=b.getXY(),a=b.el,g=document,c=a.dom==g.body||a.dom==g,d=a.getScroll(),i=c?d.left:e?0:f[0],j=c?d.top:e?0:f[1];return b.calculateAnchorXY(h,i,j,k)},getBox:function(j,k){var b=this,i=k?b.getLocalXY():b.getXY(),c=i[0],d=i[1],h=b.getWidth(),g=b.getHeight(),a,e,f;if(j){a=b.getBorderPadding();e=a.beforeX;f=a.beforeY;c+=e;d+=f;h-=e+a.afterX;g-=f+a.afterY}return {x:c,left:c,0:c,y:d,top:d,1:d,width:h,height:g,right:c+h,bottom:d+g}},calculateConstrainedPosition:function(h,b,k,l){var a=this,d,j=a.floatParent,i=j?j.getTargetEl():null,c,g,f,e=!1;if(k&&j){c=i.getXY();g=i.getBorderPadding();c[0]+=g.beforeX;c[1]+=g.beforeY;if(b){f=[b[0]+c[0],b[1]+c[1]]}}else {f=b}h=h||a.constrainTo||i||a.container||a.el.parent();d=a.getConstrainVector(h,f,l);e=b||a.getPosition(k);if(d){e[0]+=d[0];e[1]+=d[1]}return e},getConstrainVector:function(a,g,i){var b=this.getRegion(),d=[0,0],f=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():undefined,e=!1,h,c=this.constraintInsets;if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a);h=a.getViewSize();a=a.getViewRegion();a.right=a.left+h.width;a.bottom=a.top+h.height}if(c){c=Ext.isObject(c)?c:Ext.Element.parseBox(c);a.adjust(c.top,c.right,c.bottom,c.length)}if(g){b.translateBy(g[0]-b.x,g[1]-b.y)}if(i){b.right=b.left+i[0];b.bottom=b.top+i[1]}if(f){a.adjust(f[0],-f[1],-f[2],f[3])}if(b.right>a.right){e=!0;d[0]=a.right-b.right}if(b.left+d[0]<a.left){e=!0;d[0]=a.left-b.left}if(b.bottom>a.bottom){e=!0;d[1]=a.bottom-b.bottom}if(b.top+d[1]<a.top){e=!0;d[1]=a.top-b.top}return e?d:!1},getOffsetsTo:function(a){var c=this.getXY(),b=Ext.fly(a.el||a).getXY();return [c[0]-b[0],c[1]-b[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var a=this,i=a.el,j=i.dom.nodeName==='BODY',d,f,h,c,b,g,e;if(j){f=i.getScroll();b=f.left;c=f.top;g=Ext.Element.getViewportWidth();e=Ext.Element.getViewportHeight()}else {d=a.getBorderPadding();h=a.getXY();b=h[0]+d.beforeX;c=h[1]+d.beforeY;g=a.getWidth(!0);e=a.getHeight(!0)}return new Ext.util.Region(c,b+g,c+e,b)},move:function(a,b,l){var j=this,k=j.getXY(),c=k[0],d=k[1],i=[c-b,d],g=[c+b,d],f=[c,d-b],e=[c,d+b],h={l:i,left:i,r:g,right:g,t:f,top:f,up:f,b:e,bottom:e,down:e};a=a.toLowerCase();j.setXY([h[a][0],h[a][1]],l)},setBox:function(a){var b=this,c,d;b.constrainBox(a);c=a.x;d=a.y;b.setSize(a.width,a.height);b.setXY([c,d]);b.afterSetPosition(c,d);return b},constrainBox:function(a){var c=this,b;if(c.constrain||c.constrainHeader){b=c.calculateConstrainedPosition(null,[a.x||a.left,a.y||a.top],!1,[a.width,a.height]);if(b){a.x=b[0];a.y=b[1]}}},setRegion:function(a,b){return this.setBox({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top},b)},translatePoints:function(b,c){var a=this.translateXY(b,c);return {left:a.x,top:a.y}},translateXY:function(a,g){var f=this,e=f.el,d=e.getStyle(f._positionTopLeft),h=d.position==='relative',b=parseFloat(d.left),c=parseFloat(d.top),i=f.getXY();if(Ext.isArray(a)){g=a[1];a=a[0]}if(isNaN(b)){b=h?0:e.dom.offsetLeft}if(isNaN(c)){c=h?0:e.dom.offsetTop}b=typeof a==='number'?a-i[0]+b:undefined;c=typeof g==='number'?g-i[1]+c:undefined;return {x:b,y:c}}},0,0,0,0,0,0,[Ext.util,'Positionable'],0);Ext.cmd.derive('Ext.dom.Helper',Ext.Base,function(){var b='afterbegin',d='afterend',a='beforebegin',c='beforeend',g=['BeforeBegin','previousSibling'],f=['AfterEnd','nextSibling'],e={beforebegin:g,afterend:f},h={beforebegin:g,afterend:f,afterbegin:['AfterBegin','firstChild'],beforeend:['BeforeEnd','lastChild']};return {singleton:!0,alternateClassName:['Ext.DomHelper','Ext.core.DomHelper'],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:'class',htmlFor:'for'},closeTags:{},detachedDiv:document.createElement('div'),decamelizeName:function(){var b=/([a-z])([A-Z])/g,a={};function decamel(c,a,b){return a+'-'+b.toLowerCase()}return function(c){return a[c]||(a[c]=c.replace(b,decamel))}}(),generateMarkup:function(a,b){var e=this,i=typeof a,d,c,f,g,h;if(i==='string'||i==='number'){b.push(a)}else {if(Ext.isArray(a)){for(g=0;g<a.length;g++){if(a[g]){e.generateMarkup(a[g],b)}}}else {f=a.tag||'div';b.push('<',f);for(d in a){if(a.hasOwnProperty(d)){c=a[d];if(!e.confRe.test(d)){if(typeof c==='object'){b.push(' ',d,'="');e.generateStyles(c,b,!0).push('"')}else {b.push(' ',e.attributeTransform[d]||d,'="',c,'"')}}}}if(e.emptyTags.test(f)){b.push('/>')}else {b.push('>');if(c=a.tpl){c.applyOut(a.tplData,b)}if(c=a.html){b.push(c)}if(c=a.cn||a.children){e.generateMarkup(c,b)}h=e.closeTags;b.push(h[f]||(h[f]='</'+f+'>'))}}}return b},generateStyles:function(c,d,f){var e=d||[],a,b;for(a in c){if(c.hasOwnProperty(a)){b=c[a];a=this.decamelizeName(a);if(f&&Ext.String.hasHtmlCharacters(b)){b=Ext.String.htmlEncode(b)}e.push(a,':',b,';')}}return d||e.join('')},markup:function(a){if(typeof a==='string'){return a}var b=this.generateMarkup(a,[]);return b.join('')},applyStyles:function(b,a){Ext.fly(b).applyStyles(a)},createContextualFragment:function(e){var d=this.detachedDiv,b=document.createDocumentFragment(),c,a;d.innerHTML=e;a=d.childNodes;c=a.length;while(c--){b.appendChild(a[0])}return b},createDom:function(d,e){var b=this,c=b.markup(d),a=b.detachedDiv;a.innerHTML=c;return a.firstChild},insertHtml:function(g,f,j){var o=this,l,k,n,m,i;g=g.toLowerCase();if(f.insertAdjacentHTML){if(o.ieInsertHtml){i=o.ieInsertHtml(g,f,j);if(i){return i}}l=h[g];if(l){if(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction){MSApp.execUnsafeLocalFunction(function(){f.insertAdjacentHTML(l[0],j)})}else {f.insertAdjacentHTML(l[0],j)}return f[l[1]]}}else {if(f.nodeType===3){g=g===b?a:g;g=g===c?d:g}k=Ext.supports.CreateContextualFragment?f.ownerDocument.createRange():undefined;m='setStart'+(this.endRe.test(g)?'After':'Before');if(e[g]){if(k){k[m](f);i=k.createContextualFragment(j)}else {i=this.createContextualFragment(j)}f.parentNode.insertBefore(i,g===a?f:f.nextSibling);return f[(g===a?'previous':'next')+'Sibling']}else {n=(g===b?'first':'last')+'Child';if(f.firstChild){if(k){try{k[m](f[n]);i=k.createContextualFragment(j)}catch(p){i=this.createContextualFragment(j)}}else {i=this.createContextualFragment(j)}if(g===b){f.insertBefore(i,f.firstChild)}else {f.appendChild(i)}}else {f.innerHTML=j}return f[n]}}},insertBefore:function(c,d,b){return this.doInsert(c,d,b,a)},insertAfter:function(b,c,a){return this.doInsert(b,c,a,d)},insertFirst:function(c,d,a){return this.doInsert(c,d,a,b)},append:function(b,d,a){return this.doInsert(b,d,a,c)},overwrite:function(b,c,e){var d=this,a;b=Ext.getDom(b);c=d.markup(c);if(d.ieOverwrite){a=d.ieOverwrite(b,c)}if(!a){b.innerHTML=c;a=b.firstChild}return e?Ext.get(a):a},doInsert:function(f,j,k,g){var i=this,h;f=f.dom||Ext.getDom(f);if('innerHTML' in f){h=i.insertHtml(g,f,i.markup(j))}else {h=i.createDom(j,null);if(f.nodeType===3){g=g===b?a:g;g=g===c?d:g}if(e[g]){f.parentNode.insertBefore(h,g===a?f:f.nextSibling)}else {if(f.firstChild&&g===b){f.insertBefore(h,f.firstChild)}else {f.appendChild(h)}}}return k?Ext.get(h):h},createTemplate:function(b){var a=this.markup(b);return new Ext.Template(a)},createHtml:function(a){return this.markup(a)}}},0,0,0,0,0,0,[Ext.dom,'Helper',Ext,'DomHelper',Ext.core,'DomHelper'],0);Ext.cmd.derive('Ext.dom.Element',Ext.Base,function(a){var c=window,b=document,u='ext-window',t='ext-document',q='width',v='height',J='min-width',G='min-height',I='max-width',F='max-height',W='top',T='right',P='bottom',U='left',H='visibility',Q='hidden',M='display',V='none',S='z-index',p='position',K='relative',R='static',g='-',O=/\w/g,i=/\s+/,z=/[\s]+/,C=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,y=/table-row|table-.*-group/,e={t:'border-top-width',r:'border-right-width',b:'border-bottom-width',l:'border-left-width'},d={t:'padding-top',r:'padding-right',b:'padding-bottom',l:'padding-left'},h={t:'margin-top',r:'margin-right',b:'margin-bottom',l:'margin-left'},D=[d.l,d.r,d.t,d.b],E=[e.l,e.r,e.t,e.b],L=/\d+$/,w=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,s='px',N=/(-[a-z])/gi,x=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,l=/^\d+(?:\.\d*)?px$/i,r={},B=function(c,b){return b.charAt(1).toUpperCase()},m=null,n='x-hidden-visibility',j='x-hidden-display',o='x-hidden-offsets',A='x-no-touch-scroll',f={style:'style',className:'className',cls:'cls',classList:'classList',text:'text',hidden:'hidden',html:'html',children:'children'},k;if(!('activeElement' in b)&&b.addEventListener){b.addEventListener('focus',function(c){if(c&&c.target){m=c.target===b?null:c.target}},!0)}return {alternateClassName:'Ext.Element',observableType:'element',isElement:!0,isSynchronized:!1,skipGarbageCollection:!0,identifiablePrefix:'ext-element-',styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(d,f){var c=this,e;if(typeof d==='string'){d=b.getElementById(d)}if(!d){return null}c.dom=d;e=d.id;if(e){c.id=e}else {e=d.id=c.getUniqueId()}c.el=c;if(!f){Ext.cache[e]=c}c.mixins.observable.constructor.call(c)},inheritableStatics:{cache:Ext.cache={},VISIBILITY:1,DISPLAY:2,OFFSETS:3,unitRe:w,useDelegatedEvents:!0,addUnits:function(b,c){if(typeof b==='number'){return b+(c||s)}if(b===''||b==='auto'||b==null){return b||''}if(L.test(b)){return b+(c||s)}if(!w.test(b)){return b||''}return b},create:function(c,l){var p=this,n=f.hidden,e,m,k,d,h,g,o,i;if(!c){c={}}if(c.isElement){return l?c.dom:c}else {if('nodeType' in c){return l?c:Ext.get(c)}}if(typeof c==='string'){return b.createTextNode(c)}k=c.tag;if(!k){k='div'}if(c.namespace){e=b.createElementNS(c.namespace,k)}else {e=b.createElement(k)}m=e.style;if(c[n]){i=c.className;i=i==null?'':i+' ';c.className=i+j;delete c[n]}for(h in c){if(h!=='tag'){d=c[h];switch(h){case f.style:if(typeof d==='string'){e.setAttribute(h,d)}else {for(g in d){if(d.hasOwnProperty(g)){m[g]=d[g]}}};break;case f.className:case f.cls:e.className=d;break;case f.classList:e.className=d.join(' ');break;case f.text:e.textContent=d;break;case f.html:e.innerHTML=d;break;case f.children:for(g=0,o=d.length;g<o;g++){e.appendChild(p.create(d[g],!0))};break;default:if(d!=null){e.setAttribute(h,d)};}}}if(l){return e}else {return p.get(e)}},detach:function(){var b=this.dom;if(b&&b.parentNode&&b.tagName!=='BODY'){b.parentNode.removeChild(b)}return this},fly:function(c,b){return Ext.fly(c,b)},fromPoint:function(c,d){return Ext.get(b.elementFromPoint(c,d))},get:function(d){var g=this,h=Ext.cache,i,f,e,j,k,l;if(!d){return null}if(d.isFly){d=d.dom;j=d._extData}if(typeof d==='string'){f=d;if(h.hasOwnProperty(f)){e=h[f];if(e.skipGarbageCollection||!Ext.isGarbage(e.dom)){return e}else {e.destroy()}}if(f===u){return a.get(c)}else {if(f===t){return a.get(b)}}i=Ext.getElementById?Ext.getElementById(f):b.getElementById(f);if(i){return new a(i)}}if(d===b){if(!g.docEl){b.id=t;g.docEl=new a(b,!0)}return g.docEl}else {if(d==c){if(!g.winEl){c.id=u;g.winEl=new a(c,!0)}return g.winEl}}if(d.addEventListener||d.attachEvent){f=d.id;if(h.hasOwnProperty(f)){e=h[f];if(e.skipGarbageCollection||d===e.dom||!Ext.isGarbage(e.dom)){return e}else {e.destroy()}}return new a(d)}if(d.isElement){return d}if(d.isComposite){return d}if(Ext.isIterable(d)){return g.select(d)}return null},getActiveElement:function(){var c=b.activeElement;c=c||m;if(!c){c=m=b.body}return c},getDocumentHeight:function(){return Math.max(!Ext.isStrict?b.body.scrollHeight:b.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?b.body.scrollWidth:b.documentElement.scrollWidth,this.getViewportWidth())},getOrientation:function(){if(Ext.supports.OrientationChange){return c.orientation==0?'portrait':'landscape'}return c.innerHeight>c.innerWidth?'portrait':'landscape'},getViewportHeight:function(){return c.innerHeight},getViewportWidth:function(){return c.innerWidth},getViewSize:function(){return {width:c.innerWidth,height:c.innerHeight}},normalize:function(b){return r[b]||(r[b]=b.replace(N,B))},parseBox:function(c){c=c||0;var e=typeof c,b,d;if(e==='number'){return {top:c,right:c,bottom:c,left:c}}else {if(e!=='string'){return c}}b=c.split(' ');d=b.length;if(d===1){b[1]=b[2]=b[3]=b[0]}else {if(d===2){b[2]=b[0];b[3]=b[1]}else {if(d===3){b[3]=b[1]}}}return {top:parseFloat(b[0])||0,right:parseFloat(b[1])||0,bottom:parseFloat(b[2])||0,left:parseFloat(b[3])||0}},parseStyles:function(c){var d={},b;if(c){x.lastIndex=0;while(b=x.exec(c)){d[b[1]]=b[2]||''}}return d},select:function(d,c,e){return Ext.fly(e||b).select(d,c)},query:function(c,d,e){return Ext.fly(e||b).query(c,d)},unitizeBox:function(b,d){var c=this;b=c.parseBox(b);return c.addUnits(b.top,d)+' '+c.addUnits(b.right,d)+' '+c.addUnits(b.bottom,d)+' '+c.addUnits(b.left,d)},serializeForm:function(l){var m=l.elements||(b.forms[l]||Ext.getDom(l)).elements,n=!1,f=encodeURIComponent,g='',q=m.length,c,h,e,k,o,i,j,p,d;for(i=0;i<q;i++){c=m[i];h=c.name;e=c.type;k=c.options;if(!c.disabled&&h){if(/select-(one|multiple)/i.test(e)){p=k.length;for(j=0;j<p;j++){d=k[j];if(d.selected){o=d.hasAttribute?d.hasAttribute('value'):d.getAttributeNode('value').specified;g+=Ext.String.format('{0}={1}&',f(h),f(o?d.value:d.text))}}}else {if(!/file|undefined|reset|button/i.test(e)){if(!(/radio|checkbox/i.test(e)&&!c.checked)&&!(e=='submit'&&n)){g+=f(h)+'='+f(c.value)+'&';n=/submit/i.test(e)}}}}}return g.substr(0,g.length-1)}},addCls:function(c,d,e){var b=this,l,m,k,j,h,n,f;if(!c){return b}if(!b.isSynchronized){b.synchronize()}m=b.dom;k=b.hasClassMap;j=b.classList;d=d?d+g:'';e=e?g+e:'';if(typeof c==='string'){c=c.split(i)}for(h=0,n=c.length;h<n;h++){f=d+c[h]+e;if(!k[f]){k[f]=!0;j.push(f);l=!0}}if(l){m.className=j.join(' ')}return b},addStyles:function(i,h){var g=0,d=(i||'').match(O),b,f=d.length,e,c=[];if(f===1){g=Math.abs(parseFloat(this.getStyle(h[d[0]]))||0)}else {if(f){for(b=0;b<f;b++){e=d[b];c.push(h[e])}c=this.getStyle(c);for(b=0;b<f;b++){e=d[b];g+=Math.abs(parseFloat(c[h[e]])||0)}}}return g},addUnits:function(c,b){return a.addUnits(c,b)},adjustDirect2DDimension:function(e){var g=this,b=g.dom,c=g.getStyle('display'),i=b.style.display,h=b.style.position,j=e===q?0:1,d=b.currentStyle,f;if(c==='inline'){b.style.display='inline-block'}b.style.position=c.match(y)?'absolute':'static';f=(parseFloat(d[e])||parseFloat(d.msTransformOrigin.split(' ')[j])*2)%1;b.style.position=h;if(c==='inline'){b.style.display=i}return f},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(b,d){var f=this,c,g,e;if(b.nodeType||b.dom||typeof b==='string'){b=Ext.getDom(b);f.dom.appendChild(b);return !d?Ext.get(b):b}else {if(b.length){c=Ext.fly(document.createDocumentFragment());g=b.length;for(e=0;e<g;e++){c.appendChild(b[e],d)}f.dom.appendChild(c.dom);return d?c.dom:c}else {return f.createChild(b,null,d)}}},appendTo:function(b){Ext.getDom(b).appendChild(this.dom);return this},applyStyles:function(b){if(b){if(typeof b==='function'){b=b.call()}if(typeof b==='string'){b=a.parseStyles(b)}if(typeof b==='object'){this.setStyle(b)}}return this},blur:function(){var d=this,c=d.dom;if(c!==b.body){try{c.blur()}catch(X){}return d}else {return d.focus(undefined,c)}},center:function(c){return this.alignTo(c||b,'c-c')},child:function(d,c){var b=this,e=Ext.get(b).id;return b.selectNode(Ext.makeIdSelector(e)+' > '+d,!!c)},createChild:function(b,c,d){b=b||{tag:'div'};if(c){return Ext.DomHelper.insertBefore(c,b,d!==!0)}else {return Ext.DomHelper.append(this.dom,b,d!==!0)}},createShim:function(){var c=b.createElement('iframe'),d;c.frameBorder='0';c.className='x-shim';c.src=Ext.SSL_SECURE_URL;c.setAttribute('role','presentation');d=Ext.get(this.dom.parentNode.insertBefore(c,this.dom));return d},contains:function(b){if(!b){return !1}var d=this,c=Ext.getDom(b);return c===d.dom||d.isAncestor(c)},destroy:function(){var b=this,c=b.dom;if(!b.isFly){b.clearListeners();delete Ext.cache[b.id];b.isDestroyed=!0}if(c){if(c.parentNode){c.parentNode.removeChild(c)}c._extData=b.dom=null}},detach:function(){var b=this.dom;if(b&&b.parentNode&&b.tagName!=='BODY'){b.parentNode.removeChild(b)}return this},disableTouchContextMenu:function(){this._contextMenuListenerRemover=this.on({contextmenu:function(b){if(b.isTouch()){b.stopEvent()}},MSHoldVisual:function(b){b.preventDefault()},destroyable:!0,delegated:!1})},disableTouchScroll:function(){this.addCls(A);this.on({touchmove:function(b){b.preventDefault()},translate:!1})},doAddListener:function(c,j,i,d){var b=this,e,f,h,g;if(!b.blockedEvents[c]){f=b.mixins.observable.doAddListener;d=d||{};if(b.longpressEvents[c]){b.disableTouchContextMenu()}if(b.normalizeEvent){e=b.normalizeEvent(c);if(e){c=e.eventName;d.beforeFn=e.normalizeFn}}if(a.useDelegatedEvents===!1){d.delegated=d.delegated||!1}if(d.translate!==!1){h=b.additiveEvents[c];if(h){d.type=c;c=h;f.apply(b,arguments)}g=b.eventMap[c];if(g){d.type=d.type||c;c=g}}f.apply(b,arguments);delete d.type}return b},doRemoveListener:function(c,j,i,d){var b=this,h,f,g,e;if(!b.blockedEvents[c]){f=b.mixins.observable.doRemoveListener;d=d||{};if(b.longpressEvents[c]){e=this._contextMenuListenerRemover;if(e){e.destroy()}}if(b.normalizeEvent){h=b.normalizeEvent(c);if(h){c=h.eventName}}if(a.useDelegatedEvents===!1){d.delegated=d.delegated||!1}if(d.translate!==!1){g=b.additiveEvents[c];if(g){c=g;f.apply(b,arguments)}c=b.eventMap[c]||c}f.apply(b,arguments)}return b},doReplaceWith:function(c){var b=this.dom;b.parentNode.replaceChild(Ext.getDom(c),b)},down:function(c,b){return this.selectNode(c,!!b)},findParent:function(f,d,g){var i=this,c=i.dom,h=b.documentElement,e=0;d=d||50;if(isNaN(d)){d=Number.MAX_VALUE}while(c&&c.nodeType===1&&e<d&&c!==h){if(Ext.fly(c).is(f)){return g?Ext.get(c):c}e++;c=c.parentNode}return null},findParentNode:function(c,e,d){var b=Ext.fly(this.dom.parentNode);return b?b.findParent(c,e,d):null},first:function(c,b){return this.matchNode('nextSibling','firstChild',c,b)},focus:function(d,b){var c=this;b=b||c.dom;try{if(Number(d)){Ext.defer(c.focus,d,c,[null,b])}else {Ext.GlobalEvents.fireEvent('beforefocus',b);b.focus()}}catch(X){}return c},getAnchorToXY:function(e,b,d,c){return e.getAnchorXY(b,d,c)},getAttribute:function(b,d){var c=this.dom;return d?c.getAttributeNS(d,b)||c.getAttribute(d+':'+b):c.getAttribute(b)||c[b]||null},getBottom:function(b){return (b?this.getLocalY():this.getY())+this.getHeight()},getById:function(d,e){var c=b.getElementById(d)||this.dom.querySelector(Ext.makeIdSelector(d));return e?c:c?Ext.get(c):null},getBorderPadding:function(){var c=this.getStyle(D),b=this.getStyle(E);return {beforeX:(parseFloat(b[e.l])||0)+(parseFloat(c[d.l])||0),afterX:(parseFloat(b[e.r])||0)+(parseFloat(c[d.r])||0),beforeY:(parseFloat(b[e.t])||0)+(parseFloat(c[d.t])||0),afterY:(parseFloat(b[e.b])||0)+(parseFloat(c[d.b])||0)}},getBorderWidth:function(b){return this.addStyles(b,e)},getData:function(){var b=this.dom;return b._extData||(b._extData={})},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(e,f){var c=this,g=c.isStyle('display','none'),b,d;if(g){return 0}b=c.dom.offsetHeight;if(Ext.supports.Direct2DBug){d=c.adjustDirect2DDimension(v);if(f){b+=d}else {if(d>0&&d<0.5){b++}}}if(e){b-=c.getBorderWidth('tb')+c.getPadding('tb')}return b<0?0:b},getHtml:function(){return this.dom?this.dom.innerHTML:''},getLeft:function(b){return b?this.getLocalX():this.getX()},getLocalX:function(){var d=this,c,b=d.getStyle('left');if(!b||b==='auto'){b=0}else {if(l.test(b)){b=parseFloat(b)}else {b=d.getX();c=d.dom.offsetParent;if(c){b-=Ext.fly(c).getX()}}}return b},getLocalXY:function(){var e=this,d,f=e.getStyle(['left','top']),b=f.left,c=f.top;if(!b||b==='auto'){b=0}else {if(l.test(b)){b=parseFloat(b)}else {b=e.getX();d=e.dom.offsetParent;if(d){b-=Ext.fly(d).getX()}}}if(!c||c==='auto'){c=0}else {if(l.test(c)){c=parseFloat(c)}else {c=e.getY();d=e.dom.offsetParent;if(d){c-=Ext.fly(d).getY()}}}return [b,c]},getLocalY:function(){var d=this,c,b=d.getStyle('top');if(!b||b==='auto'){b=0}else {if(l.test(b)){b=parseFloat(b)}else {b=d.getY();c=d.dom.offsetParent;if(c){b-=Ext.fly(c).getY()}}}return b},getMargin:function(d){var e=this,g={t:'top',l:'left',r:'right',b:'bottom'},c,b,f;if(!d){f=[];for(c in h){f.push(h[c])}b=e.getStyle(h);if(b&&typeof b==='object'){for(c in h){b[g[c]]=parseFloat(b[h[c]])||0}}return b}else {return e.addStyles(d,h)}},getPadding:function(b){return this.addStyles(b,d)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(b){return (b?this.getLocalX():this.getX())+this.getWidth()},getSize:function(b){return {width:this.getWidth(b),height:this.getHeight(b)}},getStyle:function(n,i){var k=this,e=k.dom,m=typeof n!=='string',p=k.styleHooks,b=n,j=b,q=1,h,o,f,d,g,c,l;if(m){f={};b=j[0];l=0;if(!(q=j.length)){return f}}if(!e||e.documentElement){return f||''}h=e.style;if(i){c=h}else {c=e.ownerDocument.defaultView.getComputedStyle(e,null);if(!c){i=!0;c=h}}do{d=p[b];if(!d){p[b]=d={name:a.normalize(b)}}if(d.get){g=d.get(e,k,i,c)}else {o=d.name;g=c[o]}if(!m){return g}f[b]=g;b=j[++l]}while(l<q);return f},getStyleValue:function(b){return this.dom.style.getPropertyValue(b)},getTop:function(b){return b?this.getLocalY():this.getY()},getValue:function(c){var b=this.dom.value;return c?parseInt(b,10):b},getViewSize:function(){var c=this.dom;if(c===b||c===b.body){return {width:a.getViewportWidth(),height:a.getViewportHeight()}}else {return {width:c.clientWidth,height:c.clientHeight}}},getVisibilityMode:function(){var d=this,c=d.getData(),b=c.visibilityMode;if(b===undefined){c.visibilityMode=b=a.DISPLAY}return b},getWidth:function(h,f){var c=this,g=c.dom,i=c.isStyle('display','none'),d,b,e;if(i){return 0}if(Ext.supports.BoundingClientRect){d=g.getBoundingClientRect();b=c.vertical&&!Ext.isIE9&&!Ext.supports.RotatedBoundingClientRect?d.bottom-d.top:d.right-d.left;b=f?b:Math.ceil(b)}else {b=g.offsetWidth}if(Ext.supports.Direct2DBug&&!c.vertical){e=c.adjustDirect2DDimension(q);if(f){b+=e}else {if(e>0&&e<0.5){b++}}}if(h){b-=c.getBorderWidth('lr')+c.getPadding('lr')}return b<0?0:b},getX:function(){return this.getXY()[0]},getXY:function(){var e=Math.round,d=this.dom,f=0,g=0,c;if(d!==b&&d!==b.body){try{c=d.getBoundingClientRect()}catch(X){c={left:0,top:0}}f=e(c.left);g=e(c.top)}return [f,g]},getY:function(){return this.getXY()[1]},hasCls:function(b){if(!this.isSynchronized){this.synchronize()}return this.hasClassMap.hasOwnProperty(b)},hide:function(){this.setVisible(!1);return this},insertAfter:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b.nextSibling);return this},insertBefore:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b);return this},insertFirst:function(b,c){b=b||{};if(b.nodeType||b.dom||typeof b==='string'){b=Ext.getDom(b);this.dom.insertBefore(b,this.dom.firstChild);return !c?Ext.get(b):b}else {return this.createChild(b,this.dom.firstChild,c)}},insertHtml:function(d,e,c){var b=Ext.DomHelper.insertHtml(d,this.dom,e);return c?Ext.get(b):b},insertSibling:function(b,k,f){var d=this,j=Ext.DomHelper,h=(k||'before').toLowerCase()==='after',c,g,i,e;if(Ext.isIterable(b)){i=b.length;g=Ext.fly(document.createDocumentFragment());if(Ext.isArray(b)){for(e=0;e<i;e++){c=g.appendChild(b[e],f)}}else {for(e=0;e<i;e++){g.dom.appendChild(c=b[0])}if(f===!1){c=Ext.get(c)}}d.dom.parentNode.insertBefore(g.dom,h?d.dom.nextSibling:d.dom);return c}b=b||{};if(b.nodeType||b.dom){c=d.dom.parentNode.insertBefore(Ext.getDom(b),h?d.dom.nextSibling:d.dom);if(!f){c=Ext.get(c)}}else {if(h&&!d.dom.nextSibling){c=j.append(d.dom.parentNode,b,!f)}else {c=j[h?'insertAfter':'insertBefore'](d.dom,b,!f)}}return c},is:function(c){var d=this.dom,b;if(!c){b=!0}else {if(!d.tagName){b=!1}else {if(Ext.isFunction(c)){b=c(d)}else {b=d[Ext.supports.matchesSelector](c)}}}return b},isAncestor:function(e){var d=!1,c=this.dom,b=Ext.getDom(e);if(c&&b){if(c.contains){return c.contains(b)}else {if(c.compareDocumentPosition){return !!(c.compareDocumentPosition(b)&16)}else {while(b=b.parentNode){d=b===c||d}}}}return d},isPainted:function(){return !Ext.browser.is.IE?function(){var b=this.dom;return Boolean(b&&b.offsetParent)}:function(){var b=this.dom;return Boolean(b&&(b.offsetHeight!==0&&b.offsetWidth!==0))}}(),isStyle:function(b,c){return this.getStyle(b)===c},isVisible:function(d){var b=this.dom,c;if(!b){return !1}if(!k){k=new Ext.dom.Fly()}for(c=b.ownerDocument.documentElement;b!==c;b=b.parentNode){if(!b||b.nodeType===11||k.attach(b).isStyle(H,Q)||k.isStyle(M,V)){return !1}if(!d){break}}return !0},last:function(c,b){return this.matchNode('previousSibling','lastChild',c,b)},matchNode:function(g,f,c,e){var d=this.dom,b;if(!d){return null}b=d[f];while(b){if(b.nodeType===1&&(!c||Ext.fly(b,'_matchNode').is(c))){return !e?Ext.get(b):b}b=b[g]}return null},next:function(c,b){return this.matchNode('nextSibling','nextSibling',c,b)},parent:function(c,b){return this.matchNode('parentNode','parentNode',c,b)},position:function(c,d,e,f){var b=this;if(!c&&b.isStyle(p,R)){b.setStyle(p,K)}else {if(c){b.setStyle(p,c)}}if(d){b.setStyle(S,d)}if(e||f){b.setXY([e||!1,f||!1])}},prev:function(c,b){return this.matchNode('previousSibling','previousSibling',c,b)},query:function(b,e,j){var i=this.dom,g,l,k,h,f,c,d;if(!i){return null}e=e!==!1;b=b.split(',');if(!j){g=[]}for(c=0,l=b.length;c<l;c++){if(typeof b[c]==='string'){if(j){h=i.querySelector(b[c]);return e?h:Ext.get(h)}f=i.querySelectorAll(b[c]);for(d=0,k=f.length;d<k;d++){g.push(e?f[d]:Ext.get(f[d]))}}}return g},radioCls:function(b){var e=this.dom.parentNode.childNodes,c;b=Ext.isArray(b)?b:[b];for(var d=0,f=e.length;d<f;d++){c=e[d];if(c&&c.nodeType===1){Ext.fly(c).removeCls(b)}}return this.addCls(b)},redraw:function(){var c=this.dom,b=c.style;b.display='none';c.offsetHeight;b.display=''},remove:function(){this.destroy()},removeChild:function(b){this.dom.removeChild(Ext.getDom(b));return this},removeCls:function(d,e,c){var b=this,l,m,k,j,h,n,f;if(!d){return b}if(!b.isSynchronized){b.synchronize()}if(!c){c=''}m=b.dom;k=b.hasClassMap;j=b.classList;e=e?e+g:'';c=c?g+c:'';if(typeof d==='string'){d=d.split(i)}for(h=0,n=d.length;h<n;h++){f=e+d[h]+c;if(k[f]){delete k[f];Ext.Array.remove(j,f);l=!0}}if(l){m.className=j.join(' ')}return b},repaint:function(){var b=this;b.addCls('x-repaint');setTimeout(function(){if(b.dom){Ext.fly(b.dom).removeCls('x-repaint')}},1);return b},replace:function(b,f){b=Ext.getDom(b);var c=b.parentNode,e=b.id,d=this.dom;if(f!==!1&&e&&Ext.cache[e]){c.insertBefore(d,b);Ext.get(b).destroy()}else {c.replaceChild(d,b)}return this},replaceCls:function(c,b,j,f){var h=this,n,k,l,e,m,d;if(!c&&!b){return h}c=c||[];b=b||[];if(!h.isSynchronized){h.synchronize()}if(!f){f=''}n=h.dom;k=h.hasClassMap;l=h.classList;j=j?j+g:'';f=f?g+f:'';if(typeof c==='string'){c=c.split(i)}if(typeof b==='string'){b=b.split(i)}for(e=0,m=c.length;e<m;e++){d=j+c[e]+f;if(k[d]){delete k[d];Ext.Array.remove(l,d)}}for(e=0,m=b.length;e<m;e++){d=j+b[e]+f;if(!k[d]){k[d]=!0;l.push(d)}}n.className=l.join(' ');return h},replaceWith:function(c){var b=this,e=b.dom,f=e.parentNode,g=Ext.cache,d;b.clearListeners();if(c.nodeType||c.dom||typeof c==='string'){c=Ext.get(c);d=f.insertBefore(c.dom,e)}else {d=Ext.DomHelper.insertBefore(e,c)}f.removeChild(e);b.dom=d;if(!b.isFly){delete g[b.id];g[b.id=Ext.id(d)]=b}return b},resolveListenerScope:function(c){var b=this.component;return b?b.resolveListenerScope(c):this},select:function(c,e){var d,b;if(typeof c==='string'){b=this.query(c,!e)}else {b=c;d=!0}return e?new Ext.CompositeElement(b,!d):new Ext.CompositeElementLite(b,!0)},selectNode:function(b,c){return this.query(b,c,!0)},set:function(e,g){var f=this,d=f.dom,b,c;for(b in e){if(e.hasOwnProperty(b)){c=e[b];if(b==='style'){f.applyStyles(c)}else {if(b==='cls'){d.className=c}else {if(g!==!1){if(c===undefined){d.removeAttribute(b)}else {d.setAttribute(b,c)}}else {d[b]=c}}}}}return f},setBottom:function(b){this.dom.style[P]=a.addUnits(b);return this},setBorder:function(b){var d=this,c=d.dom.style;if(b||b===0){b=d.self.unitizeBox(b===!0?1:b);c.setProperty('border-width',b,'important')}else {c.removeProperty('border-top-width');c.removeProperty('border-right-width');c.removeProperty('border-bottom-width');c.removeProperty('border-left-width')}},setCls:function(b){var e=this,f=e.hasClassMap,c,g,d;if(typeof b==='string'){b=b.split(i)}for(c=0,g=b.length;c<g;c++){d=b[c];if(!f[d]){f[d]=!0}}e.classList=b.slice();e.dom.className=b.join(' ')},setHeight:function(b){this.dom.style[v]=a.addUnits(b);return this},setHtml:function(b){if(this.dom){this.dom.innerHTML=b}},setId:function(c){var b=this,d=b.id,e=Ext.cache;if(d){delete e[d]}b.dom.id=c;b.id=c;e[c]=b;return b},setLeft:function(b){this.dom.style[U]=a.addUnits(b);return this},setLocalX:function(c){var b=this.dom.style;b.right='auto';b.left=c===null?'auto':c+'px'},setLocalXY:function(b,d){var c=this.dom.style;c.right='auto';if(b&&b.length){d=b[1];b=b[0]}if(b===null){c.left='auto'}else {if(b!==undefined){c.left=b+'px'}}if(d===null){c.top='auto'}else {if(d!==undefined){c.top=d+'px'}}},setLocalY:function(b){this.dom.style.top=b===null?'auto':b+'px'},setMargin:function(b){var d=this,c=d.dom.style;if(b||b===0){b=d.self.unitizeBox(b===!0?5:b);c.setProperty('margin',b,'important')}else {c.removeProperty('margin-top');c.removeProperty('margin-right');c.removeProperty('margin-bottom');c.removeProperty('margin-left')}},setMaxHeight:function(b){this.dom.style[F]=a.addUnits(b);return this},setMaxWidth:function(b){this.dom.style[I]=a.addUnits(b);return this},setMinHeight:function(b){this.dom.style[G]=a.addUnits(b);return this},setMinWidth:function(b){this.dom.style[J]=a.addUnits(b);return this},setPadding:function(b){var d=this,c=d.dom.style;if(b||b===0){b=d.self.unitizeBox(b===!0?5:b);c.setProperty('padding',b,'important')}else {c.removeProperty('padding-top');c.removeProperty('padding-right');c.removeProperty('padding-bottom');c.removeProperty('padding-left')}},setRight:function(b){this.dom.style[T]=a.addUnits(b);return this},setSize:function(b,c){var e=this,d=e.dom.style;if(Ext.isObject(b)){c=b.height;b=b.width}d.width=a.addUnits(b);d.height=a.addUnits(c);return e},setSizeState:function(g){var d=this,b=['x-sized','x-unsized','x-stretched'],f=[!0,!1,null],c=f.indexOf(g),e;if(c!==-1){e=b[c];b.splice(c,1);d.addCls(e)}d.removeCls(b);return d},setStyle:function(h,c){var e=this,f=e.dom,g=e.styleHooks,i=f.style,d=h,b;if(typeof d==='string'){b=g[d];if(!b){g[d]=b={name:a.normalize(d)}}c=c==null?'':c;if(b.set){b.set(f,c,e)}else {i[b.name]=c}if(b.afterSet){b.afterSet(f,c,e)}}else {for(d in h){if(h.hasOwnProperty(d)){b=g[d];if(!b){g[d]=b={name:a.normalize(d)}}c=h[d];c=c==null?'':c;if(b.set){b.set(f,c,e)}else {i[b.name]=c}if(b.afterSet){b.afterSet(f,c,e)}}}}return e},setText:function(b){this.dom.textContent=b},setTop:function(b){this.dom.style[W]=a.addUnits(b);return this},setVisibility:function(c){var b=this.dom.style;if(c){b.removeProperty('visibility')}else {b.setProperty('visibility','hidden','important')}},setVisibilityMode:function(b){this.getData().visibilityMode=b;return this},setVisible:function(d){var b=this,e=b.getVisibilityMode(),c=d?'removeCls':'addCls';switch(e){case a.DISPLAY:b.removeCls([n,o]);b[c](j);break;case a.VISIBILITY:b.removeCls([j,o]);b[c](n);break;case a.OFFSETS:b.removeCls([n,j]);b[c](o);break;}return b},setWidth:function(b){this.dom.style[q]=a.addUnits(b);return this},setX:function(b){return this.setXY([b,!1])},setXY:function(f){var c=this,d=c.translatePoints(f),e=c.dom.style,b;c.position();e.right='auto';for(b in d){if(!isNaN(d[b])){e[b]=d[b]+'px'}}return c},setY:function(b){return this.setXY([!1,b])},show:function(){this.setVisible(!0);return this},swapCls:function(h,g,c,b){if(c===undefined){c=!0}var f=this,e=c?h:g,d=c?g:h;if(d){f.removeCls(b?b+'-'+d:d)}if(e){f.addCls(b?b+'-'+e:e)}return f},synchronize:function(){var c=this,h=c.dom,e={},f=h.className,b,d,i,g;if(f&&f.length>0){b=h.className.split(z);for(d=0,i=b.length;d<i;d++){g=b[d];e[g]=!0}}else {b=[]}c.classList=b;c.hasClassMap=e;c.isSynchronized=!0;return c},toggleCls:function(b,c){if(typeof c!=='boolean'){c=!this.hasCls(b)}return c?this.addCls(b):this.removeCls(b)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var c='webkitTransform' in b.createElement('div').style?'webkitTransform':'transform';return function(b,d,e){this.dom.style[c]='translate3d('+(b||0)+'px, '+(d||0)+'px, '+(e||0)+'px)'}}(),unwrap:function(){var d=this.dom,c=d.parentNode,b;if(c){b=c.parentNode;b.insertBefore(d,c);b.removeChild(c)}else {b=document.createDocumentFragment();b.appendChild(d)}return this},up:function(b,d,c){return this.findParentNode(b,d,!c)},update:function(b){return this.setHtml(b)},wrap:function(g,f,c){var h=this,e=h.dom,b=Ext.DomHelper.insertBefore(e,g||{tag:'div'},!0),d=b;if(c){d=b.selectNode(c)}d.appendChild(e);return f?b.dom:b},deprecated:{'5.0':{methods:{cssTranslate:null,getHTML:'getHtml',getOuterHeight:null,getOuterWidth:null,getPageBox:function(l){var e=this,c=e.dom,d=c.nodeName==='BODY',k=d?a.getViewportWidth():c.offsetWidth,g=d?a.getViewportHeight():c.offsetHeight,b=e.getXY(),j=b[1],i=b[0]+k,f=b[1]+g,h=b[0];if(l){return new Ext.util.Region(j,i,f,h)}else {return {left:h,top:j,width:k,height:g,right:i,bottom:f}}},getScrollParent:null,isDescendent:null,isTransparent:function(c){var b=this.getStyle(c);return b?C.test(b):!1},purgeAllListeners:'clearListeners',removeAllListeners:'clearListeners',setHTML:'setHtml',setTopLeft:null}}}}},1,0,0,0,0,[['positionable',Ext.util.Positionable],['observable',Ext.mixin.Observable]],[Ext.dom,'Element',Ext,'Element'],function(o){var i=document,p=o.prototype,v=Ext.supports,k='pointerdown',l='pointermove',m='pointerup',n='pointercancel',q='MSPointerDown',r='MSPointerMove',s='MSPointerUp',y='MSPointerCancel',d='mousedown',e='mousemove',b='mouseup',z='mouseover',A='mouseout',C='mouseenter',D='mouseleave',f='touchstart',g='touchmove',h='touchend',j='touchcancel',w='click',u='dblclick',x='tap',t='doubletap',a=p.eventMap={},c=p.additiveEvents={},B=Ext.id;Ext.id=function(e,d){var b=Ext.getDom(e,!0),c,a;if(!b){a=B(e,d)}else {if(!(a=b.id)){a=B(null,d||o.prototype.identifiablePrefix);if(Ext.isSandboxed){c=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+'-');a=c+a}b.id=a}}return a};if(v.PointerEvents){a[d]=k;a[e]=l;a[b]=m;a[f]=k;a[g]=l;a[h]=m;a[j]=n;a[w]=x;a[u]=t;a[z]='pointerover';a[A]='pointerout';a[C]='pointerenter';a[D]='pointerleave'}else {if(v.MSPointerEvents){a[k]=q;a[l]=r;a[m]=s;a[n]=y;a[d]=q;a[e]=r;a[b]=s;a[f]=q;a[g]=r;a[h]=s;a[j]=y;a[w]=x;a[u]=t;a[z]='MSPointerOver';a[A]='MSPointerOut'}else {if(v.TouchEvents){a[k]=f;a[l]=g;a[m]=h;a[n]=j;a[d]=f;a[e]=g;a[b]=h;a[w]=x;a[u]=t;if(Ext.isWebKit&&Ext.os.is.Desktop){a[f]=d;a[g]=e;a[h]=b;a[j]=b;c[d]=d;c[e]=e;c[b]=b;c[f]=f;c[g]=g;c[h]=h;c[j]=j;c[k]=d;c[l]=e;c[m]=b;c[n]=b}}else {a[k]=d;a[l]=e;a[m]=b;a[n]=b;a[f]=d;a[g]=e;a[h]=b;a[j]=b}}}p.getTrueXY=p.getXY;Ext.select=o.select;Ext.query=o.query;Ext.apply(Ext,{get:function(a){return o.get(a)},getDom:function(a){if(!a||!i){return null}return a.dom||(typeof a==='string'?Ext.getElementById(a):a)},getBody:function(){if(!Ext._bodyEl){if(!i.body){throw new Error('[Ext.getBody] document.body does not yet exist')}Ext._bodyEl=Ext.get(i.body)}return Ext._bodyEl},getHead:function(){if(!Ext._headEl){Ext._headEl=Ext.get(i.head||i.getElementsByTagName('head')[0])}return Ext._headEl},getDoc:function(){if(!Ext._docEl){Ext._docEl=Ext.get(i)}return Ext._docEl},getWin:function(){if(!Ext._winEl){Ext._winEl=Ext.get(window)}return Ext._winEl},removeNode:function(a){var d=a&&a.id,c=Ext.cache[d],b;if(c){c.destroy()}else {if(a&&a.tagName.toUpperCase()!=='BODY'){b=a.parentNode;if(b){b.removeChild(a)}}}}});Ext.isGarbage=function(a){return a&&a.nodeType===1&&(!a.parentNode||!a.offsetParent&&!(Ext.isIE8?i.all[a.id]:i.getElementById(a.id))&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(a)))}});Ext.cmd.derive('Ext.GlobalEvents',Ext.mixin.Observable,{alternateClassName:'Ext.globalEvents',observableType:'global',singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,unload:1},constructor:function(){var a=this;a.callParent();Ext.onReady(function(){a.attachListeners()})},attachListeners:function(){Ext.get(window).on('resize',this.fireResize,this,{buffer:this.resizeBuffer})},fireResize:function(){var a=this,d=Ext.Element,c=d.getViewportWidth(),b=d.getViewportHeight();if(a.curHeight!==b||a.curWidth!==c){a.curHeight=b;a.curWidth=c;a.fireEvent('resize',c,b)}}},1,0,0,0,0,0,[Ext,'GlobalEvents',Ext,'globalEvents'],function(a){Ext.on=function(){return a.addListener.apply(a,arguments)};Ext.un=function(){return a.removeListener.apply(a,arguments)}});Ext.cmd.derive('Ext.event.publisher.Dom',Ext.event.publisher.Publisher,{targetType:'element',idOrClassSelectorRegex:/^([#|\.])([\w\-]+)$/,classNameSplitRegex:/\s+/,SELECTOR_ALL:'*',captureEvents:{resize:1,focus:1,blur:1,paste:1,input:1,change:1,animationstart:1,animationend:1,scroll:1},directEvents:{mouseenter:1,mouseleave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1},constructor:function(){var a=this,h=document,f=h.defaultView,b=a.eventToVendorMap={},j=a.vendorToEventMap={},e=a.handledEvents,c=Ext.browser,d,i,g;a.captureSubscribers={};a.directSubscribers={};a.globalListeners={};if(Ext.os.is.iOS&&Ext.os.version.getMajor()<5||!(f&&f.addEventListener)){a.target=h;a.isTargetWin=!1}else {a.target=f;a.isTargetWin=!0}a.initHandlers();if(e){for(d=0,i=e.length;d<i;d++){this.addDelegatedListener(e[d])}}else {if(c.is.WebKit){b.transitionend=c.getVendorProperyName('transitionEnd');b.animationstart=c.getVendorProperyName('animationStart');b.animationend=c.getVendorProperyName('animationEnd');for(g in b){j[b[g]]=g}}}return Ext.event.publisher.Publisher.prototype.constructor.call(this)},initHandlers:function(){var a=this;a.onDelegatedEvent=Ext.bind(a.onDelegatedEvent,a);a.onDirectEvent=Ext.bind(a.onDirectEvent,a)},handles:function(){return !1},getSubscribers:function(c,d){var b=d?this.captureSubscribers:this.subscribers,a=b[c];if(!a){a=b[c]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0}}return a},getDirectSubscribers:function(d,c){var a=this.directSubscribers,b=a[d]||(a[d]={}),e=b[c]||(b[c]={$length:0});return e},addDelegatedListener:function(a){this.target.addEventListener(a,this.onDelegatedEvent,this.captureEvents[a])},removeDelegatedListener:function(a){this.target.removeEventListener(a,this.onDelegatedEvent,this.captureEvents[a])},addDirectListener:function(a,c,b){c.addEventListener(a,this.onDirectEvent,b)},removeDirectListener:function(a,c,b){c.removeEventListener(a,this.onDirectEvent,b)},subscribe:function(c,b,m,o){var a=this,l=!!m.capture,i=c.match(a.idOrClassSelectorRegex),e,h,f,g,j,k,n,d;if(m.delegated!==!1&&!a.directEvents[b]&&!(c==='#ext-window'&&!a.isTargetWin)){if(!a.handledEvents&&!a.globalListeners[b]){a.addDelegatedListener(a.eventToVendorMap[b]||b);this.globalListeners[b]=1}}else {k=o.dom;j=this.getDirectSubscribers(k.id,b);if(++j.$length===1){a.addDirectListener(b,k,l)}if(!i){(j.selector||(j.selector=[])).push(c)}return}e=a.getSubscribers(b,l);h=e.id;f=e.className;g=e.selector;if(i){n=i[1];d=i[2];if(n==='#'){if(h.hasOwnProperty(d)){h[d]++;return}h[d]=1;h.$length++}else {if(f.hasOwnProperty(d)){f[d]++;return}f[d]=1;f.$length++}}else {if(c===this.SELECTOR_ALL){e.all++}else {if(g.hasOwnProperty(c)){g[c]++;return}g[c]=1;g.push(c)}}e.$length++},unsubscribe:function(b,e,i,o,q){var a=this,n=!!o.capture,j=b.match(a.idOrClassSelectorRegex),c,h,f,g,k,p,d,l,m;if(o.delegated===!1||a.directEvents[e]||b===Ext.windowId&&!a.isTargetWin){l=q.dom;m=l.id;k=a.getDirectSubscribers(m,e);if(i){if(k.$length){a.removeDirectListener(e,l,n)}delete a.directSubscribers[m]}else {if(!--k.$length){a.removeDirectListener(e,l,n);delete a.directSubscribers[m][e]}else {if(!j){Ext.Array.remove(k.selector,b)}}}return}c=a.getSubscribers(e,n);h=c.id;f=c.className;g=c.selector;if(j){p=j[1];d=j[2];if(p==='#'){if(!h.hasOwnProperty(d)||!i&&--h[d]>0){return}delete h[d];h.$length--}else {if(!f.hasOwnProperty(d)||!i&&--f[d]>0){return}delete f[d];f.$length--}}else {if(b===a.SELECTOR_ALL){if(i){c.all=0}else {c.all--}}else {if(!g.hasOwnProperty(b)||!i&&--g[b]>0){return}delete g[b];Ext.Array.remove(g,b)}}c.$length--},getPropagatingTargets:function(a){var b=[];if(!a){return b}do{b[b.length]=a;a=a.parentNode}while(a);return b},dispatch:function(c,b,a){a.push(a[0].target);Ext.event.publisher.Publisher.prototype.dispatch.apply(this,arguments)},publish:function(a,d,c){var g=this.getSubscribers(a,!0),i=this.getSubscribers(a),e=this.getSubscribers('*',!0),f=this.getSubscribers('*'),k=g.$length,l=i.$length,h=e.$length,j=f.$length,b;if(!k&&!l&&!h&&!j){return}if(Ext.isArray(d)){b=d}else {if(this.captureEvents[a]){b=[d]}else {b=this.getPropagatingTargets(d)}}if(!k||!this.doPublish(g,a,b,c,!0)){if(h){this.doPublish(e,a,b,c,!0)}}if(!c.isStopped&&(!l||!this.doPublish(i,a,b,c))){if(j){this.doPublish(f,a,b,c)}}return this},doPublish:function(g,h,i,d,u){var s=g.id,q=g.className,m=g.selector,B=s.$length>0,x=q.$length>0,y=m.length>0,A=g.all>0,r={},k=[d],b=!1,z=this.classNameSplitRegex,v=0,p=i.length,t=1,e,w,f,j,a,l,c,n,o;if(u){v=p-1;p=t=-1}for(e=v;e!==p;e+=t){a=i[e];d.setCurrentTarget(a);if(B){l=a.tagName==='FORM'?a.getAttribute('id'):a===window?'ext-window':a.id;if(l){if(s.hasOwnProperty(l)){b=!0;this.dispatch('#'+l,h,k,u)}}}if(x){c=a.className;if(c){n=c.split(z);for(f=0,j=n.length;f<j;f++){c=n[f];if(!r[c]){r[c]=!0;if(q.hasOwnProperty(c)){b=!0;this.dispatch('.'+c,h,k)}}}}}if(d.isStopped){return b}}if(A&&!b){d.setCurrentTarget(d.browserEvent.target);b=!0;this.dispatch(this.SELECTOR_ALL,h,k);if(d.isStopped){return b}}if(y){for(f=0,j=i.length;f<j;f++){a=i[f];for(e=0,w=m.length;e<w;e++){o=m[e];if(Ext.fly(a).is(o)){d.setCurrentTarget(a);b=!0;this.dispatch(o,h,k)}if(d.isStopped){return b}}}}return b},onDelegatedEvent:function(c){var e=this,b=c.type,a,d=Ext.GlobalEvents;a=new Ext.event.Event(c);if(e.blockedPointerEvents[c.type]&&a.isTouch()){return !1}b=a.type=e.vendorToEventMap[b]||b;Ext.frameStartTime=c.timeStamp;e.publish(b,a.target,a);if(d.hasListeners.idle&&!d.idleEventMask[a.type]){d.fireEvent('idle')}return a},onDirectEvent:function(d){var i=this,o=d.type,a=new Ext.event.Event(d),f,e,h,g,l,m,b,c,j,p,n,k=Ext.GlobalEvents;if(i.blockedPointerEvents[o]&&a.isTouch()){return}f=a.type=this.vendorToEventMap[o]||o;e=d.currentTarget;h=e.id;g=i.getDirectSubscribers(h,f).selector;l=i.dispatcher;m=i.targetType;b=d.target;c=b;Ext.frameStartTime=d.timeStamp;if(b.navigator){h='ext-window'}a.setCurrentTarget(e);if(g){p=g.length;while(c!==e){for(j=0;j<p;j++){n=g[j];if(Ext.fly(c).is(n)){l.dispatchDirectEvent(m,n,f,[a,b])}}c=c.parentNode}}l.dispatchDirectEvent(m,'#'+h,f,[a,b]);if(k.hasListeners.idle&&!k.idleEventMask[a.type]){k.fireEvent('idle')}},getSubscribersCount:function(a){return this.getSubscribers(a).$length+this.getSubscribers('*').$length},destroy:function(){var a=this,c=a.handledEvents,b,e,d;if(c){for(b=0,e=c.length;b<e;b++){a.removeDelegatedListener(c[b])}}else {for(d in a.globalListeners){a.removeDelegatedListener(d)}}}},1,0,0,0,0,0,[Ext.event.publisher,'Dom'],0);Ext.cmd.derive('Ext.AnimationQueue',Ext.Base,{singleton:!0,constructor:function(){var a=Ext.Function.bind;this.queue=[];this.taskQueue=[];this.runningQueue=[];this.idleQueue=[];this.isRunning=!1;this.isIdle=!0;this.run=a(this.run,this);this.whenIdle=a(this.whenIdle,this);this.processIdleQueueItem=a(this.processIdleQueueItem,this);this.processTaskQueueItem=a(this.processTaskQueueItem,this);if(Ext.os.is.iOS){setInterval(this.watch,500)}},start:function(c,a,b){this.queue.push(arguments);if(!this.isRunning){if(this.hasOwnProperty('idleTimer')){clearTimeout(this.idleTimer);delete this.idleTimer}if(this.hasOwnProperty('idleQueueTimer')){clearTimeout(this.idleQueueTimer);delete this.idleQueueTimer}this.isIdle=!1;this.isRunning=!0;this.doStart()}},watch:function(){if(this.isRunning&&Ext.now()-this.lastRunTime>=500){this.run()}},run:function(){if(!this.isRunning){return}var a=this.runningQueue,b,c;this.lastRunTime=Ext.now();this.frameStartTime=Ext.now();a.push.apply(a,this.queue);for(b=0,c=a.length;b<c;b++){this.invoke(a[b])}a.length=0;this.doIterate()},doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(g,e,f){if(!this.isRunning){return}var c=this.queue,d=c.length,a,b;for(a=0;a<d;a++){b=c[a];if(b[0]===g&&b[1]===e&&b[2]===f){c.splice(a,1);a--;d--}}if(d===0){this.doStop();this.isRunning=!1;this.idleTimer=setTimeout(this.whenIdle,100)}},onIdle:function(g,e,f){var c=this.idleQueue,b,d,a;for(b=0,d=c.length;b<d;b++){a=c[b];if(g===a[0]&&e===a[1]&&f===a[2]){return}}c.push(arguments);if(this.isIdle){this.processIdleQueue()}},unIdle:function(g,e,f){var c=this.idleQueue,a,d,b;for(a=0,d=c.length;a<d;a++){b=c[a];if(g===b[0]&&e===b[1]&&f===b[2]){c.splice(a,1);return !0}}return !1},queueTask:function(c,a,b){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(g,e,f){var c=this.taskQueue,a,d,b;for(a=0,d=c.length;a<d;a++){b=c[a];if(g===b[0]&&e===b[1]&&f===b[2]){c.splice(a,1);a--;d--}}},invoke:function(b){var a=b[0],c=b[1],d=b[2];a=typeof a=='string'?c[a]:a;if(Ext.isArray(d)){a.apply(c,d)}else {a.call(c,d)}},whenIdle:function(){this.isIdle=!0;this.processIdleQueue()},processIdleQueue:function(){if(!this.hasOwnProperty('idleQueueTimer')){this.idleQueueTimer=setTimeout(this.processIdleQueueItem,1)}},processIdleQueueItem:function(){delete this.idleQueueTimer;if(!this.isIdle){return}var a=this.idleQueue,b;if(a.length>0){b=a.shift();this.invoke(b);this.processIdleQueue()}},processTaskQueue:function(){if(!this.hasOwnProperty('taskQueueTimer')){this.taskQueueTimer=setTimeout(this.processTaskQueueItem,15)}},processTaskQueueItem:function(){delete this.taskQueueTimer;var a=this.taskQueue,b;if(a.length>0){b=a.shift();this.invoke(b);this.processTaskQueue()}},showFps:function(){Ext.onReady(function(){Ext.Viewport.add([{xtype:'component',bottom:50,left:0,width:50,height:20,html:'Average',style:'background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;'},{id:'__averageFps',xtype:'component',bottom:0,left:0,width:50,height:50,html:'0',style:'background-color: red; color: white; text-align: center; line-height: 50px;'},{xtype:'component',bottom:50,left:50,width:50,height:20,html:'Min (Last 1k)',style:'background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;'},{id:'__minFps',xtype:'component',bottom:0,left:50,width:50,height:50,html:'0',style:'background-color: orange; color: white; text-align: center; line-height: 50px;'},{xtype:'component',bottom:50,left:100,width:50,height:20,html:'Max (Last 1k)',style:'background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;'},{id:'__maxFps',xtype:'component',bottom:0,left:100,width:50,height:50,html:'0',style:'background-color: yellow; color: black; text-align: center; line-height: 50px;'},{xtype:'component',bottom:50,left:150,width:50,height:20,html:'Current',style:'background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;'},{id:'__currentFps',xtype:'component',bottom:0,left:150,width:50,height:50,html:'0',style:'background-color: green; color: white; text-align: center; line-height: 50px;'}]);Ext.AnimationQueue.resetFps()})},resetFps:function(){var f=Ext.getCmp('__currentFps'),e=Ext.getCmp('__averageFps'),h=Ext.getCmp('__minFps'),g=Ext.getCmp('__maxFps'),b=1000,a=0,c=0,d=0;Ext.AnimationQueue.onFpsChanged=function(i){c++;if(!(c%10)){b=1000;a=0}d+=i;b=Math.min(b,i);a=Math.max(a,i);f.setHtml(Math.round(i));e.setHtml(Math.round(d/c));h.setHtml(Math.round(b));g.setHtml(Math.round(a))}}},1,0,0,0,0,0,[Ext,'AnimationQueue'],function(){});Ext.cmd.derive('Ext.event.publisher.Gesture',Ext.event.publisher.Dom,{alternateClassName:'Ext.event.publisher.TouchGesture',config:{recognizers:{}},isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},constructor:function(e){var a=this,c=a.onTouchStart,d=a.onTouchMove=Ext.Function.createAnimationFrame(a.onTouchMove,a),b=a.onTouchEnd=Ext.Function.createAnimationFrame(a.onTouchEnd,a,null,1);a.handlers={touchstart:c,touchmove:d,touchend:b,touchcancel:b,pointerdown:c,pointermove:d,pointerup:b,pointercancel:b,MSPointerDown:c,MSPointerMove:d,MSPointerUp:b,MSPointerCancel:b,mousedown:c,mousemove:d,mouseup:b};a.recognizedEvents={};a.activeTouchesMap={};a.activeTouches=[];a.changedTouches=[];if(Ext.supports.TouchEvents){a.onTargetTouchMove=a.onTargetTouchMove.bind(a);a.onTargetTouchEnd=a.onTargetTouchEnd.bind(a)}a.initConfig(e);return Ext.event.publisher.Dom.prototype.constructor.call(this)},applyRecognizers:function(a){var c,b;for(c in a){b=a[c];if(b){this.registerRecognizer(b)}}return a},handles:function(a){var b=this.handledEventsMap;return !!b[a]||!!b['*']||a==='*'||this.recognizedEvents.hasOwnProperty(a)},registerRecognizer:function(b){var c=this,f=c.recognizedEvents,d=b.getHandledEvents(),a,e;b.setOnRecognized(c.onRecognized);b.setCallbackScope(c);for(a=0,e=d.length;a<e;a++){f[d[a]]=1}},onRecognized:function(g,c,a){var j=this,b=c.changedTouches,i=b.length,e,f,d,h;a=a||{};a.type=g;a.target=b[0].target;a.isStopped=!1;c=c.chain(a);if(i>1){e=[];for(d=0;d<i;d++){h=b[d];e.push(h.targets)}f=j.getCommonTargets(e)}else {f=b[0].targets}j.publish(g,f,c)},getCommonTargets:function(e){var d=e[0],h=e.length;if(h===1){return d}var a=[],g=1,b,f,c;while(!0){b=d[d.length-g];if(!b){return a}for(c=1;c<h;c++){f=e[c];if(f[f.length-g]!==b){return a}}a.unshift(b);g++}return a},invokeRecognizers:function(d,e){var b=this.getRecognizers(),c,a;if(d==='onStart'){for(c in b){b[c].isActive=!0}}for(c in b){a=b[c];if(a.isActive&&a[d].call(a,e)===!1){a.isActive=!1}}},updateTouches:function(i,p){var h=this,m=i.browserEvent,n=m.changedTouches||[m],f=h.activeTouches,e=h.activeTouchesMap,l=[],b,c,a,g,d,o,j,k;for(d=0,o=n.length;d<o;d++){b=n[d];if('identifier' in b){c=b.identifier}else {if('pointerId' in b){c=b.pointerId}else {c=1}}a=e[c];if(p){delete e[c];Ext.Array.remove(f,a)}else {if(!a){g=Ext.event.Event.resolveTextNode(b.target);a=e[c]={identifier:c,target:g,targets:h.getPropagatingTargets(g)};f.push(a)}}j=b.pageX;k=b.pageY;a.pageX=j;a.pageY=k;a.point=new Ext.util.Point(j,k);l.push(a)}i.touches=Ext.Array.clone(f);i.changedTouches=l},isEmulatedEvent:function(b){var a=this;return Ext.supports.TouchEvents&&a.isMouseEvent[b.type]&&Math.abs(b.pageX-a.lastTouchStartX)<15&&Math.abs(b.pageY-a.lastTouchStartY)<15&&Ext.now()-a.lastTouchEndTime<1000},onDelegatedEvent:function(a){var b=this;if(!b.isEmulatedEvent(a)){a=Ext.event.publisher.Dom.prototype.onDelegatedEvent.call(this,a);if(!a.button||a.button<1){b.handlers[a.type].call(b,a)}}},onDirectEvent:function(a){if(!this.isEmulatedEvent(a)){Ext.event.publisher.Dom.prototype.onDirectEvent.call(this,a)}},onTouchStart:function(b){var a=this,e=b.browserEvent.type==='touchstart',c=b.target,d;if(e){c.addEventListener('touchmove',a.onTargetTouchMove);c.addEventListener('touchend',a.onTargetTouchEnd);c.addEventListener('touchcancel',a.onTargetTouchEnd)}a.updateTouches(b);if(!a.isStarted){a.isStarted=!0;a.invokeRecognizers('onStart',b);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.pause()}if(e){d=b.touches[0];a.lastTouchStartX=d.pageX;a.lastTouchStartY=d.pageY}}a.invokeRecognizers('onTouchStart',b)},onTouchMove:function(a){if(this.isStarted){this.updateTouches(a);if(a.changedTouches.length>0){this.invokeRecognizers('onTouchMove',a)}}},onTouchEnd:function(b){var a=this;if(!a.isStarted){return}a.updateTouches(b,!0);a.invokeRecognizers(a.isCancelEvent[b.type]?'onTouchCancel':'onTouchEnd',b);if(!a.activeTouches.length){a.isStarted=!1;a.invokeRecognizers('onEnd',b);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.resume()}a.lastTouchEndTime=Ext.now()}},onTargetTouchMove:function(a){if(!Ext.getBody().contains(a.target)){this.onTouchMove(new Ext.event.Event(a))}},onTargetTouchEnd:function(c){var b=this,a=c.target;a.removeEventListener('touchmove',b.onTargetTouchMove);a.removeEventListener('touchend',b.onTargetTouchEnd);a.removeEventListener('touchcancel',b.onTargetTouchEnd);if(!Ext.getBody().contains(a)){b.onTouchEnd(new Ext.event.Event(c))}}},1,0,0,0,0,0,[Ext.event.publisher,'Gesture',Ext.event.publisher,'TouchGesture'],function(){var a=[],b=Ext.supports,c=b.TouchEvents;if(b.PointerEvents){a.push('pointerdown','pointermove','pointerup','pointercancel')}else {if(b.MSPointerEvents){a.push('MSPointerDown','MSPointerMove','MSPointerUp','MSPointerCancel')}else {if(c){a.push('touchstart','touchmove','touchend','touchcancel')}}}if(!a.length||c&&Ext.isWebKit&&Ext.os.is.Desktop){a.push('mousedown','mousemove','mouseup')}this.prototype.handledEvents=a});Ext.onReady(function(){var a=Ext.event.Dispatcher.getInstance();a.setPublishers({dom:new Ext.event.publisher.Dom(),gesture:new Ext.event.publisher.Gesture({recognizers:{drag:new Ext.event.gesture.Drag(),tap:new Ext.event.gesture.Tap(),doubleTap:new Ext.event.gesture.DoubleTap(),longPress:new Ext.event.gesture.LongPress(),swipe:new Ext.event.gesture.Swipe(),pinch:new Ext.event.gesture.Pinch(),rotate:new Ext.event.gesture.Rotate(),edgeSwipe:new Ext.event.gesture.EdgeSwipe()}})});Ext.get(window).on('unload',a.destroy,a)},null,{priority:2000});Ext.apply(Ext,{SSL_SECURE_URL:Ext.isSecure&&Ext.isIE?"javascript:''":'about:blank',BLANK_IMAGE_URL:'data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='});Ext.define('Ext.overrides.event.Event',{override:'Ext.event.Event',mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},getXY:function(){var g=this,c=g.xy,f,d,e,a,b;if(!c){c=arguments.callee.$previous.call(this);f=c[0];if(!f&&f!==0){d=g.browserEvent;e=document;a=e.documentElement;b=e.body;c[0]=d.clientX+(a&&a.scrollLeft||b&&b.scrollLeft||0)-(a&&a.clientLeft||b&&b.clientLeft||0);c[1]=d.clientY+(a&&a.scrollTop||b&&b.scrollTop||0)-(a&&a.clientTop||b&&b.clientTop||0)}}return c},injectEvent:function(){var a,b={},c;if(!Ext.isIE9m&&document.createEvent){a={createHtmlEvent:function(e,d,c,b){var a=e.createEvent('HTMLEvents');a.initEvent(d,c,b);return a},createMouseEvent:function(d,n,h,f,m,b,c,i,k,g,j,l,e){var a=d.createEvent('MouseEvents'),o=d.defaultView||window;if(a.initMouseEvent){a.initMouseEvent(n,h,f,o,m,b,c,b,c,i,k,g,j,l,e)}else {a=d.createEvent('UIEvents');a.initEvent(n,h,f);a.view=o;a.detail=m;a.screenX=b;a.screenY=c;a.clientX=b;a.clientY=c;a.ctrlKey=i;a.altKey=k;a.metaKey=j;a.shiftKey=g;a.button=l;a.relatedTarget=e}return a},createUIEvent:function(b,f,d,c,e){var a=b.createEvent('UIEvents'),g=b.defaultView||window;a.initUIEvent(f,d,c,g,e);return a},fireEvent:function(a,c,b){a.dispatchEvent(b)}}}else {if(document.createEventObject){c={0:1,1:4,2:2};a={createHtmlEvent:function(d,e,c,b){var a=d.createEventObject();a.bubbles=c;a.cancelable=b;return a},createMouseEvent:function(n,o,i,g,m,b,d,j,l,h,k,e,f){var a=n.createEventObject();a.bubbles=i;a.cancelable=g;a.detail=m;a.screenX=b;a.screenY=d;a.clientX=b;a.clientY=d;a.ctrlKey=j;a.altKey=l;a.shiftKey=h;a.metaKey=k;a.button=c[e]||e;a.relatedTarget=f;return a},createUIEvent:function(d,f,c,b,e){var a=d.createEventObject();a.bubbles=c;a.cancelable=b;return a},fireEvent:function(a,c,b){a.fireEvent('on'+c,b)}}}}Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(c,d){var f=d[0],e=d[1];b[c]=function(b,h){var g=a.createHtmlEvent(c,f,e);a.fireEvent(b,c,g)}});function createMouseEventDispatcher(b,d){var c=b!='mousemove';return function(f,e){var g=e.getXY(),h=a.createMouseEvent(f.ownerDocument,b,!0,c,d,g[0],g[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);a.fireEvent(f,b,h)}}Ext.each(['click','dblclick','mousedown','mouseup','mouseover','mousemove','mouseout'],function(a){b[a]=createMouseEventDispatcher(a,1)});Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(c,d){var f=d[0],e=d[1];b[c]=function(b,h){var g=a.createUIEvent(b.ownerDocument,c,f,e,1);a.fireEvent(b,c,g)}});if(!a){b={};a={}}function cannotInject(b,a){}return function(a){var c=this,d=b[c.type]||cannotInject,e=a?a.dom||a:c.getTarget();d(e,c)}}(),preventDefault:function(){var b=this,a=b.browserEvent;if(a.preventDefault){a.preventDefault()}else {a.returnValue=!1;if(a.ctrlKey||a.keyCode>111&&a.keyCode<124){a.keyCode=-1}}return b},stopPropagation:function(){var a=this;if(a.mousedownEvents[a.type]){Ext.GlobalEvents.fireMouseDown(a)}return arguments.callee.$previous.call(this)},deprecated:{'5.0':{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var b=this,a;if(Ext.isIE9m){a={1:0,4:1,2:2};b.override({constructor:function(b,f,e,d){var c=this;c.callParent([b,f,e,d]);c.button=a[b.button];c.toElement=b.toElement;c.fromElement=b.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,getRelatedTarget:function(f,d,e){var a=this,c,b;if(!a.relatedTarget){c=a.type;if(a.mouseLeaveRe.test(c)){b=a.toElement}else {if(a.mouseEnterRe.test(c)){b=a.fromElement}}if(b){a.relatedTarget=a.self.resolveTextNode(b)}}return a.callParent([f,d,e])}})}});Ext.define('Ext.overrides.dom.Helper',function(){var a=/^(?:table|thead|tbody|tr|td)$/i,f=/td|tr|tbody|thead/i,e='<table>',d='</table>',c=e+'<tbody>',b='</tbody>'+d,h=c+'<tr>',g='</tr>'+b;return {override:'Ext.dom.Helper',ieInsertHtml:function(d,b,e){var c=null;if(Ext.isIE9m&&a.test(b.tagName)){c=this.insertIntoTable(b.tagName.toLowerCase(),d,b,e)}return c},ieOverwrite:function(b,c){if(Ext.isIE9m&&a.test(b.tagName)){while(b.firstChild){b.removeChild(b.firstChild)}if(c){return this.insertHtml('afterbegin',b,c)}}},ieTable:function(g,f,e,d){var h=-1,a=this.detachedDiv,b,c;a.innerHTML=[f,e,d].join('');while(++h<g){a=a.firstChild}b=a.nextSibling;if(b){b=a;a=document.createDocumentFragment();while(b){c=b.nextSibling;a.appendChild(b);b=c}}return a},insertIntoTable:function(a,k,i,o){var j,q,n=k==='beforebegin',l=k==='afterbegin',p=k==='beforeend',m=k==='afterend';if(a==='td'&&(l||p)||!f.test(a)&&(n||m)){return null}q=n?i:m?i.nextSibling:l?i.firstChild:null;if(n||m){i=i.parentNode}if(a==='td'||a==='tr'&&(p||l)){j=this.ieTable(4,h,o,g)}else {if((a==='tbody'||a==='thead')&&(p||l)||a==='tr'&&(n||m)){j=this.ieTable(3,c,o,b)}else {j=this.ieTable(2,e,o,d)}}i.insertBefore(j,q);return j}}}());Ext.cmd.derive('Ext.util.Positionable_ext',Ext.Base,{anchorTo:function(e,f,i,h,c,g){var a=this,d=!Ext.isEmpty(c),b=function(){a.alignTo(e,f,i,h);Ext.callback(g,a)},j=a.getAnchor();a.removeAnchor();Ext.apply(j,{fn:b,scroll:d});Ext.on('resize',b,null);if(d){Ext.getWin().on('scroll',b,null,{buffer:!isNaN(c)?c:50})}b();return a},getAnchor:function(){var c=this.el,b,a;if(!c.dom){return}b=c.getData();a=b._anchor;if(!a){a=b._anchor={}}return a},removeAnchor:function(){var a=this.getAnchor();if(a&&a.fn){Ext.un('resize',a.fn);if(a.scroll){Ext.getWin().on('scroll',a.fn)}delete a.fn}return this},_animSetBox:function(b,c){var a=this;a.constrainBox(b);a.animate(Ext.applyIf({to:b,listeners:{afteranimate:Ext.Function.bind(a.afterSetPosition,a,[b.x,b.y])}},c));return a}},0,0,0,0,0,0,[Ext.util,'Positionable_ext'],0);Ext.define('Ext.overrides.GlobalEvents',{override:'Ext.GlobalEvents',attachListeners:function(){this.callParent();Ext.getDoc().on('mousedown',this.fireMouseDown,this)},fireMouseDown:function(a){this.fireEvent('mousedown',a)},deprecated:{5:{methods:{addListener:function(a,d,f,e){var c,b;if(a==='ready'){b=d}else {if(typeof a!=='string'){for(c in a){if(c==='ready'){b=a[c]}}}}if(b){Ext.onReady(b)}this.callParent([a,d,f,e])}}}}});Ext.define('Ext.overrides.event.publisher.Gesture',{override:'Ext.event.publisher.Gesture'},function(){if(Ext.isIE9m){this.override({updateTouches:function(a,d){var b=a.browserEvent,c=a.getXY();b.pageX=c[0];b.pageY=c[1];this.callParent([a,d])},initHandlers:function(){var a=this,b;a.callParent();b=a.onDelegatedEvent;a.onDelegatedEvent=function(e){var c,d={};for(c in e){d[c]=e[c]}b.call(a,d)}}})}});Ext.cmd.derive('Ext.util.Filter',Ext.Base,{isFilter:!0,config:{property:null,value:null,filterFn:null,id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,root:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(a){if(!a){return Ext.returnTrue}return function(f){var e=a.isCollection?a.items:a,g=e.length,d=!0,b,c;for(b=0;d&&b<g;b++){c=e[b];if(!c.getDisabled()){d=c.filter(f)}}return d}},isInvalid:function(a){var b=a.value;if(!a.filterFn){if(!a.property){return 'A Filter requires either a property or a filterFn to be set'}if(!(b||b===0||b===!1||b===''&&a.exatchMatch)){if(!a.operator){return 'A Filter requires either a property and value, or a filterFn to be set'}}}return !1}},constructor:function(a){this.initConfig(a)},filter:function(c){var a=this,b=a._filterFn||a.getFilterFn();return b.call(a.scope||a,c)},getId:function(){var a=this._id;if(!a){a=this.getProperty();if(!a){a=Ext.id(null,'ext-filter-')}this._id=a}return a},getFilterFn:function(){var b=this,a=b._filterFn,c;if(!a){c=b.getOperator();if(c){a=b.operatorFns[c]}else {a=b.createRegexFilter()}b._filterFn=a}return a},createRegexFilter:function(){var a=this,b=!!a.getAnyMatch(),d=!!a.getExactMatch(),e=a.getValue(),c=Ext.String.createRegex(e,!b,!b&&d,!a.getCaseSensitive());return function(d){var b=a.getPropertyValue(d);return c?c.test(b):b==null}},getPropertyValue:function(a){var b=this._root,c=b==null?a:a[b];return c[this._property]},getState:function(){var a=Ext.apply({},this.getInitialConfig());a.value=this.getValue();return a},getScope:function(){return this.scope}},1,0,0,0,0,0,[Ext.util,'Filter'],function(){var c=this.prototype,b=c.operatorFns={'<':function(b){var a=this._value;return Ext.coerce(this.getPropertyValue(b),a)<a},'<=':function(b){var a=this._value;return Ext.coerce(this.getPropertyValue(b),a)<=a},'=':function(b){var a=this._value;return Ext.coerce(this.getPropertyValue(b),a)==a},'>=':function(b){var a=this._value;return Ext.coerce(this.getPropertyValue(b),a)>=a},'>':function(b){var a=this._value;return Ext.coerce(this.getPropertyValue(b),a)>a},'!=':function(b){var a=this._value;return Ext.coerce(this.getPropertyValue(b),a)!=a}},e=function(){this._filterFn=null},d=['updateOperator','updateValue'],a;b['==']=b['='];for(a=d.length;a-->0;){c[d[a]]=e}});Ext.util=Ext.util||{};Ext.util.DelayedTask=function(e,c,d,b){var a=this,f,g=function(){var f=Ext.GlobalEvents;clearInterval(a.id);a.id=null;e.apply(c,d||[]);if(f.hasListeners.idle){f.fireEvent('idle')}};b=typeof b==='boolean'?b:!0;a.id=null;a.delay=function(h,k,i,j){if(b){a.cancel()}if(typeof h==='number'){f=h}e=k||e;c=i||c;d=j||d;if(!a.id){a.id=setInterval(g,f)}};a.cancel=function(){if(a.id){clearInterval(a.id);a.id=null}}};Ext.cmd.derive('Ext.util.Event',Ext.Base,function(){var d=Array.prototype.slice,c=Ext.Array.insert,b=Ext.Array.toArray,a={};return {isEvent:!0,suspended:0,noOptions:{},constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(n,k,m,p){var a=this,g,h,i,f,e,l,j,b,d,o;if(typeof n!=='string'){k=k||a.observable}if(!a.isListening(n,k)){h=a.createListener(n,k,m,p);if(a.firing){a.listeners=a.listeners.slice(0)}g=a.listeners;b=j=g.length;i=m&&m.priority;e=a._highestNegativePriorityIndex;l=e!==undefined;if(i){f=i<0;if(!f||l){for(d=f?e:0;d<j;d++){o=g[d].o?g[d].o.priority||0:0;if(o<i){b=d;break}}}else {a._highestNegativePriorityIndex=b}}else {if(l){b=e}}if(!f&&b<=e){a._highestNegativePriorityIndex++}if(b===j){a.listeners[j]=h}else {c(a.listeners,b,[h])}}return h},createListener:function(h,e,a,i){var f=this,g=e==='this',d={fn:h,scope:e,ev:f,caller:i,isThisScope:g,defaultScope:g?e:undefined,lateBound:typeof h==='string'&&(!e||g)},b=h,c=!0;if(a){d.o=a;if(a.single){b=f.createSingle(b,d,a,e);c=!1}if(a.target){b=f.createTargeted(b,d,a,e,c);c=!1}if(a.delay){b=f.createDelayed(b,d,a,e,c);c=!1}if(a.buffer){b=f.createBuffered(b,d,a,e,c);c=!1}}d.fireFn=b;d.allowLookup=c;return d},findListener:function(g,f){var d=this.listeners,b=d.length,a,e,c;while(b--){a=d[b];if(a){e=a.scope;c=a.lateBound&&!a.isThisScope?undefined:f||this.observable;if(a.fn==g&&e==c){return b}}}return -1},isListening:function(b,a){return this.findListener(b,a)!==-1},removeListener:function(f,g){var a=this,c,b,d,e;if(f.fireFn){c=Ext.Array.indexOf(listeners,f)}else {c=a.findListener(f,g)}if(c!=-1){b=a.listeners[c];d=a._highestNegativePriorityIndex;if(a.firing){a.listeners=a.listeners.slice(0)}if(b.task){b.task.cancel();delete b.task}e=b.tasks&&b.tasks.length;if(e){while(e--){b.tasks[e].cancel()}delete b.tasks}a.listeners.splice(c,1);if(d){if(c<d){a._highestNegativePriorityIndex--}else {if(c===d&&c===a.listeners.length){delete a._highestNegativePriorityIndex}}}return !0}return !1},clearListeners:function(){var a=this.listeners,b=a.length;while(b--){this.removeListener(a[b].fn,a[b].scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fire:function(){var a=this,g=a.listeners,h=g.length,f,e,c,b,i;if(!a.suspended&&h>0){a.firing=!0;c=arguments.length?d.call(arguments,0):[];i=c.length;for(e=0;e<h;e++){b=g[e];if(b.o){c[i]=b.o}if(b){f=a.getFireInfo(b);if(f.fn.apply(f.scope,c)===!1){return a.firing=!1}}}}a.firing=!1;return !0},getFireInfo:function(b,e){var f=this.observable,d=e?b.fn:b.fireFn,c=b.scope,g=b.caller;if((e||b.allowLookup)&&b.lateBound){c=(g||f).resolveListenerScope(b.defaultScope);d=c[d]}else {c=c||f}a.fn=d;a.scope=c;return a},createTargeted:function(b,a,e,c,d){return function(){if(e.target===arguments[0]){var f;if(d){f=a.ev.getFireInfo(a,!0);b=f.fn;c=f.scope}b.apply(c,arguments)}}},createBuffered:function(c,a,f,d,e){a.task=new Ext.util.DelayedTask();return function(){var g;if(e){g=a.ev.getFireInfo(a,!0);c=g.fn;d=g.scope}a.task.delay(f.buffer,c,d,b(arguments))}},createDelayed:function(c,a,f,d,e){return function(){var h=new Ext.util.DelayedTask(),g;if(e){g=a.ev.getFireInfo(a,!0);c=g.fn;d=g.scope}if(!a.tasks){a.tasks=[]}a.tasks.push(h);h.delay(f.delay||10,c,d,b(arguments))}},createSingle:function(c,a,d,b){return function(){var e=a.ev,f=e.getFireInfo(a,!0);if(e.removeListener(a.fn,b)&&e.observable){e.observable.hasListeners[e.name]--}f.fn.apply(f.scope,arguments)}}}},1,0,0,0,0,0,[Ext.util,'Event'],0);Ext.cmd.derive('Ext.util.Observable',Ext.Base,function(c){var d=Ext.emptyFn,f=[],e=Array.prototype,b=e.slice,a=function(d){if(d instanceof a){return d}this.observable=d;if(arguments[1].isObservable){this.managedListeners=!0}this.args=b.call(arguments,1)};a.prototype.destroy=function(){var a=this.observable;a[this.managedListeners?'mun':'un'].apply(a,this.args)};return {mixinId:'observable',statics:{releaseCapture:function(a){a.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,d,a){var b=function(b,f){return d.apply(a,[b].concat(f))};this.captureArgs(e,b,a)},captureArgs:function(a,d,b){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,d,b)},observe:function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new this());this.captureArgs(a.prototype,a.fireEventArgs,a)}if(Ext.isObject(b)){a.on(b)}}return a},prepareClass:function(a,d){if(!a.HasListeners){var b=function(){},e=a.superclass.HasListeners||d&&d.HasListeners||c.HasListeners;a.prototype.HasListeners=a.HasListeners=b;b.prototype=a.hasListeners=new e()}}},isObservable:!0,isUtilObservable:!0,eventsSuspended:0,constructor:function(b){var a=this;if(b){Ext.apply(a,b)}a.hasListeners=new a.HasListeners();a.events=a.events||{};if(a.listeners){a.on(a.listeners);a.listeners=null}if(a.bubbleEvents){a.enableBubble(a.bubbleEvents)}},onClassExtended:function(a){if(!a.HasListeners){c.prepareClass(a)}},eventOptionsRe:/^(?:scope|delay|buffer|onFrame|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(f,e,j,i,b,m){var g=this,l=g.managedListeners=g.managedListeners||[],h,k;if(typeof e!=='string'){k=arguments.length>4?b:e;b=e;for(e in b){if(b.hasOwnProperty(e)){h=b[e];if(!g.eventOptionsRe.test(e)){g.addManagedListener(f,e,h.fn||h,h.scope||b.scope||i,h.fn?h:k,!0)}}}if(b&&b.destroyable){return new a(g,f,b)}}else {if(j!==d){l.push({item:f,ename:e,fn:j,scope:i,options:b});if(f.isUtilObservable){f.on(e,j,i,b,g)}else {f.on(e,j,i,b)}if(!m&&b&&b.destroyable){return new a(g,f,e,j,i)}}}},removeManagedListener:function(j,a,k,i){var d=this,b,e,g,h,f;if(typeof a!=='string'){b=a;for(a in b){if(b.hasOwnProperty(a)){e=b[a];if(!d.eventOptionsRe.test(a)){d.removeManagedListener(j,a,e.fn||e,e.scope||b.scope||i)}}}}else {g=d.managedListeners?d.managedListeners.slice():[];for(f=0,h=g.length;f<h;f++){d.removeManagedListenerItem(!1,g[f],j,a,k,i)}}},fireEvent:function(a){return this.fireEventArgs(a,b.call(arguments,1))},resolveListenerScope:function(a){if(a==='this'){a=null}return a||this},fireEventArgs:function(a,h){a=a.toLowerCase();var b=this,d=b.events,e=d&&d[a],g=!0;if(b.hasListeners[a]){g=b.doFireEvent(a,h||f,e?e.bubble:!1)}return g},doFireEvent:function(e,g,h){var a=this,f,b,d=!0;do{if(a.eventsSuspended){if(f=a.eventQueue){f.push([e,g])}return d}else {b=a.events&&a.events[e];if(b&&b!==!0){if((d=b.fire.apply(b,g))===!1){break}}}}while(h&&(a=a.getBubbleParent()));return d},getBubbleParent:function(){var b=this,a=b.getBubbleTarget&&b.getBubbleTarget();if(a&&a.isObservable){return a}return null},addListener:function(b,i,j,e,l){var f=this,h,g,k=0;if(typeof b!=='string'){e=b;for(b in e){h=e[b];if(!f.eventOptionsRe.test(b)){f.addListener(b,h.fn||h,h.scope||e.scope,h.fn?h:e,l)}}if(e&&e.destroyable){return new a(f,e)}}else {b=b.toLowerCase();g=(f.events||(f.events={}))[b];if(g&&g.isEvent){k=g.listeners.length}else {f.events[b]=g=new Ext.util.Event(f,b)}if(typeof i==='string'&&j&&j!=='this'){i=f.resolveMethod(i,j)}if(i!==d){g.addListener(i,j,e,l);if(g.listeners.length!==k){f.hasListeners._incr_(b)}if(e&&e.destroyable){return new a(f,b,i,j,e)}}}},removeListener:function(a,h,g){var d=this,i=d.events,e,f,b;if(typeof a!=='string'){b=a;for(a in b){if(b.hasOwnProperty(a)){e=b[a];if(!d.eventOptionsRe.test(a)){d.removeListener(a,e.fn||e,e.scope||b.scope)}}}}else {a=a.toLowerCase();f=i&&i[a];if(f&&f.isEvent){if(typeof h==='string'&&g&&g!=='this'){h=d.resolveMethod(h,g)}if(f.removeListener(h,g)){d.hasListeners._decr_(a)}}}},clearListeners:function(){var e=this,a=e.events,f=e.hasListeners,d,b;if(a){for(b in a){if(a.hasOwnProperty(b)){d=a[b];if(d.isEvent){delete f[b];d.clearListeners()}}}}e.clearManagedListeners()},clearManagedListeners:function(){var a=this,d=a.managedListeners||[],b=0,e=d.length;for(;b<e;b++){a.removeManagedListenerItem(!0,d[b])}a.managedListeners=[]},removeManagedListenerItem:function(b,a,g,f,e,d){if(b||a.item===g&&a.ename===f&&(!e||a.fn===e)&&(!d||a.scope===d)){a.item.un(a.ename,a.fn,a.scope);if(!b){Ext.Array.remove(this.managedListeners,a)}}},resolveMethod:function(b,a){return a[b]},hasListener:function(a){return !!this.hasListeners[a.toLowerCase()]},isSuspended:function(a){var b=this.eventsSuspended>0,d=this.events;if(!b&&a&&d){a=d[a];if(a&&a.isEvent){return a.isSuspended()}}return b},suspendEvents:function(a){++this.eventsSuspended;if(a&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var e=this,f=e.events||(e.events={}),g=arguments.length,b,a,d;for(b=0;b<g;b++){a=f[d=arguments[b]];if(!a||!a.isEvent){f[d]=a=new Ext.util.Event(e,d)}a.suspend()}},resumeEvent:function(){var d=this.events||0,e=d&&arguments.length,b,a;for(b=0;b<e;b++){a=d[arguments[b]];if(a&&a.resume){a.resume()}}},resumeEvents:function(f){var a=this,d=a.eventQueue,e,b;if(a.eventsSuspended&&!--a.eventsSuspended){delete a.eventQueue;if(!f&&d){e=d.length;for(b=0;b<e;b++){a.fireEventArgs.apply(a,d[b])}}}},relayEvents:function(h,g,i){var e=this,j=g.length,f=0,b,d={};for(;f<j;f++){b=g[f];d[b]=e.createRelayer(i?i+b:b)}e.mon(h,d,null,null,undefined);return new a(e,h,d)},createRelayer:function(e,a){var d=this;return function(){return d.fireEventArgs.call(d,e,a?b.apply(arguments,a):arguments)}},enableBubble:function(f){if(f){var d=this,h=typeof f=='string'?arguments:f,g=d.events||(d.events={}),i=g&&h.length,a,b,e;for(e=0;e<i;++e){a=h[e].toLowerCase();b=g[a];if(!b||!b.isEvent){g[a]=b=new Ext.util.Event(d,a)}d.hasListeners._incr_(a);b.bubble=!0}}},deprecated:{'5.0':{methods:{addEvents:null}}}}},1,0,0,0,0,0,[Ext.util,'Observable'],function(){var a=this,d=a.prototype,c=function(){},b=function(c){if(!c.HasListeners){var d=c.prototype;a.prepareClass(c,this);c.onExtended(function(b){a.prepareClass(b)});if(d.onClassMixedIn){Ext.override(c,{onClassMixedIn:function(a){b.call(this,a);this.callParent(arguments)}})}else {d.onClassMixedIn=function(a){b.call(this,a)}}}};c.prototype={_decr_:function(a){if(!--this[a]){delete this[a]}},_incr_:function(a){if(this.hasOwnProperty(a)){++this[a]}else {this[a]=1}}};d.HasListeners=a.HasListeners=c;a.createAlias({on:'addListener',un:'removeListener',mon:'addManagedListener',mun:'removeManagedListener'});a.observeClass=a.observe;function getMethodEvent(e){var a=(this.methodEvents=this.methodEvents||{})[e],c,b,d,g=this,f;if(!a){this.methodEvents[e]=a={};a.originalFn=this[e];a.methodName=e;a.before=[];a.after=[];f=function(h,a,f){if((b=h.apply(a||g,f))!==undefined){if(typeof b=='object'){if(b.returnValue!==undefined){c=b.returnValue}else {c=b}d=!!b.cancel}else {if(b===!1){d=!0}else {c=b}}}};this[e]=function(){var k=Array.prototype.slice.call(arguments,0),i,h,j;c=b=undefined;d=!1;for(h=0,j=a.before.length;h<j;h++){i=a.before[h];f(i.fn,i.scope,k);if(d){return c}}if((b=a.originalFn.apply(g,k))!==undefined){c=b}for(h=0,j=a.after.length;h<j;h++){i=a.after[h];f(i.fn,i.scope,k);if(d){return c}}return c}}return a}Ext.apply(d,{onClassMixedIn:b,beforeMethod:function(a,c,b){getMethodEvent.call(this,a).before.push({fn:c,scope:b})},afterMethod:function(a,c,b){getMethodEvent.call(this,a).after.push({fn:c,scope:b})},removeMethodListener:function(f,e,d){var b=this.getMethodEvent(f),a,c;for(a=0,c=b.before.length;a<c;a++){if(b.before[a].fn==e&&b.before[a].scope==d){Ext.Array.erase(b.before,a,1);return}}for(a=0,c=b.after.length;a<c;a++){if(b.after[a].fn==e&&b.after[a].scope==d){Ext.Array.erase(b.after,a,1);return}}},toggleEventLogging:function(a){Ext.util.Observable[a?'capture':'releaseCapture'](this,function(b){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(b,arguments)}})}})});Ext.cmd.derive('Ext.util.AbstractMixedCollection',Ext.Base,{isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(b,c){var a=this;if(arguments.length===1&&Ext.isObject(b)){a.initialConfig=b;Ext.apply(a,b)}else {a.allowFunctions=b===!0;if(c){a.getKey=c}a.initialConfig={allowFunctions:a.allowFunctions,getKey:a.getKey}}a.items=[];a.map={};a.keys=[];a.indexMap={};a.length=0;a.mixins.observable.constructor.call(a)},allowFunctions:!1,add:function(b,d){var c=this.length,a;if(arguments.length===1){a=this.insert(c,b)}else {a=this.insert(c,b,d)}return a},getKey:function(a){return a.id},replace:function(b,c){var a=this,d,e;if(arguments.length==1){c=arguments[0];b=a.getKey(c)}d=a.map[b];if(typeof b=='undefined'||b===null||typeof d=='undefined'){return a.add(b,c)}a.generation++;e=a.indexOfKey(b);a.items[e]=c;a.map[b]=c;if(a.hasListeners.replace){a.fireEvent('replace',b,d,c)}return c},updateKey:function(b,c){var a=this,e=a.map,d=a.indexOfKey(b),f=a.indexMap,g;if(d>-1){g=e[b];delete e[b];delete f[b];e[c]=g;f[c]=d;a.keys[d]=c;a.indexGeneration=++a.generation}},addAll:function(a){var c=this,b;if(arguments.length>1||Ext.isArray(a)){c.insert(c.length,arguments.length>1?arguments:a)}else {for(b in a){if(a.hasOwnProperty(b)){if(c.allowFunctions||typeof a[b]!='function'){c.add(b,a[b])}}}}},each:function(f,e){var c=Ext.Array.push([],this.items),a=0,d=c.length,b;for(;a<d;a++){b=c[a];if(f.call(e||b,b,a,d)===!1){break}}},eachKey:function(f,e){var b=this.keys,d=this.items,a=0,c=b.length;for(;a<c;a++){f.call(e||window,b[a],d[a],a,c)}},findBy:function(f,c){var d=this.keys,b=this.items,a=0,e=b.length;for(;a<e;a++){if(f.call(c||window,b[a],d[a])){return b[a]}}return null},insert:function(c,b,d){var a;if(Ext.isIterable(b)){a=this.doInsert(c,b,d)}else {if(arguments.length>2){a=this.doInsert(c,[b],[d])}else {a=this.doInsert(c,[b])}a=a[0]}return a},doInsert:function(f,e,d){var b=this,c,i,a,g=e.length,j=g,o=b.hasListeners.add,k,h={},l,n,m;if(d!=null){b.useLinearSearch=!0}else {d=e;e=new Array(g);for(a=0;a<g;a++){e[a]=this.getKey(d[a])}}b.suspendEvents();for(a=0;a<g;a++){c=e[a];i=b.indexOfKey(c);if(i!==-1){if(i<f){f--}b.removeAt(i)}if(c!=null){if(h[c]!=null){l=!0;j--}h[c]=a}}b.resumeEvents();if(l){n=e;m=d;e=new Array(j);d=new Array(j);a=0;for(c in h){e[a]=n[h[c]];d[a]=m[h[c]];a++}g=j}k=f===b.length&&b.indexGeneration===b.generation;Ext.Array.insert(b.items,f,d);Ext.Array.insert(b.keys,f,e);b.length+=g;b.generation++;if(k){b.indexGeneration=b.generation}for(a=0;a<g;a++,f++){c=e[a];if(c!=null){b.map[c]=d[a];if(k){b.indexMap[c]=f}}if(o){b.fireEvent('add',f,d[a],c)}}return d},remove:function(d){var a=this,c,b;if(!a.useLinearSearch&&(c=a.getKey(d))){b=a.indexOfKey(c)}else {b=Ext.Array.indexOf(a.items,d)}return b===-1?!1:a.removeAt(b)},removeAll:function(b){var a=this,c;if(b||a.hasListeners.remove){if(b){for(c=b.length-1;c>=0;--c){a.remove(b[c])}}else {while(a.length){a.removeAt(0)}}}else {a.length=a.items.length=a.keys.length=0;a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}},removeAt:function(b){var a=this,d,c;if(b<a.length&&b>=0){a.length--;d=a.items[b];Ext.Array.erase(a.items,b,1);c=a.keys[b];if(typeof c!='undefined'){delete a.map[c]}Ext.Array.erase(a.keys,b,1);if(a.hasListeners.remove){a.fireEvent('remove',d,c)}a.generation++;return d}return !1},removeRange:function(c,b){var a=this,i,f,d,e,g,h;if(c<a.length&&c>=0){if(!b){b=1}e=Math.min(c+b,a.length);b=e-c;h=e===a.length;g=h&&a.indexGeneration===a.generation;for(d=c;d<e;d++){f=a.keys[d];if(f!=null){delete a.map[f];if(g){delete a.indexMap[f]}}}i=a.items[d-1];a.length-=b;a.generation++;if(g){a.indexGeneration=a.generation}if(h){a.items.length=a.keys.length=a.length}else {a.items.splice(c,b);a.keys.splice(c,b)}return i}return !1},removeAtKey:function(d){var b=this,c=b.keys,a;if(d==null){for(a=c.length-1;a>=0;a--){if(c[a]==null){b.removeAt(a)}}}else {return b.removeAt(b.indexOfKey(d))}},getCount:function(){return this.length},indexOf:function(b){var a=this,c;if(b!=null){if(!a.useLinearSearch&&(c=a.getKey(b))){return this.indexOfKey(c)}return Ext.Array.indexOf(a.items,b)}return -1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[a]},rebuildIndexMap:function(){var b=this,d=b.indexMap={},c=b.keys,e=c.length,a;for(a=0;a<e;a++){d[c[a]]=a}b.indexGeneration=b.generation},get:function(a){var b=this,d=b.map[a],c=d!==undefined?d:typeof a=='number'?b.items[a]:undefined;return typeof c!='function'||b.allowFunctions?c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var c=this,b;if(a!=null){if(!c.useLinearSearch&&(b=c.getKey(a))){return this.map[b]!=null}return Ext.Array.indexOf(this.items,a)!==-1}return !1},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;if(a.generation){a.length=0;a.items=[];a.keys=[];a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}if(a.hasListeners.clear){a.fireEvent('clear')}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(f,h,c,a){var d=this.extractValues(f,h),g=d.length,e=0,b;c=c||0;a=a||a===0?a:g-1;for(b=c;b<=a;b++){e+=d[b]}return e},collect:function(h,j,g){var e=this.extractValues(h,j),i=e.length,f={},d=[],a,c,b;for(b=0;b<i;b++){a=e[b];c=String(a);if((g||!Ext.isEmpty(a))&&!f[c]){f[c]=!0;d.push(a)}}return d},extractValues:function(c,b){var a=this.items;if(b){a=Ext.Array.pluck(a,b)}return Ext.Array.pluck(a,c)},hasRange:function(b,a){return a<this.length},getRange:function(b,a){var h=this,f=h.items,c=[],d=f.length,g,e;if(d<1){return c}if(b>a){e=!0;g=b;b=a;a=g}if(b<0){b=0}if(a==null||a>=d){a=d-1}c=f.slice(b,a+1);if(e&&c.length){c.reverse()}return c},filter:function(a,e,d,c){var b=[];if(Ext.isString(a)){b.push(new Ext.util.Filter({property:a,value:e,anyMatch:d,caseSensitive:c}))}else {if(Ext.isArray(a)||a instanceof Ext.util.Filter){b=b.concat(a)}}return this.filterBy(Ext.util.Filter.createFilterFn(b))},filterBy:function(h,g){var a=this,c=new a.self(a.initialConfig),e=a.keys,d=a.items,f=d.length,b;c.getKey=a.getKey;for(b=0;b<f;b++){if(h.call(g||a,d[b],e[b])){c.add(e[b],d[b])}}c.useLinearSearch=a.useLinearSearch;return c},findIndex:function(d,a,e,c,b){if(Ext.isEmpty(a,!1)){return -1}a=this.createValueMatcher(a,c,b);return this.findIndexBy(function(f){return f&&a.test(f[d])},null,e)},findIndexBy:function(h,d,e){var b=this,f=b.keys,c=b.items,a=e||0,g=c.length;for(;a<g;a++){if(h.call(d||b,c[a],f[a])){return a}}return -1},createValueMatcher:function(a,e,c,d){if(!a.exec){var b=Ext.String.escapeRegex;a=String(a);if(e===!0){a=b(a)}else {a='^'+b(a);if(d===!0){a+='$'}}a=new RegExp(a,c?'':'i')}return a},clone:function(){var a=this,b=new a.self(a.initialConfig);b.add(a.keys,a.items);b.useLinearSearch=a.useLinearSearch;return b}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.util,'AbstractMixedCollection'],0);Ext.cmd.derive('Ext.util.Sorter',Ext.Base,{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:'ASC',id:undefined},statics:{createComparator:function(b,a){a=a||0;return function(f,g){var e=b.isCollection?b.items:b,h=e.length,d,c;for(c=0;c<h;++c){d=e[c].sort(f,g);if(d){return d}}return a&&a(f,g)}}},multiplier:1,constructor:function(a){this.initConfig(a)},getId:function(){var a=this._id;if(!a){a=this.getProperty();if(!a){a=Ext.id(null,'ext-sorter-')}this._id=a}return a},sort:function(a,b){return this.multiplier*this.sortFn(a,b)},sortFn:function(d,e){var g=this,c=g._transform,f=g._root,h=g._property,a,b;if(f){d=d[f];e=e[f]}a=d[h];b=e[h];if(c){a=c(a);b=c(b)}return a>b?1:a<b?-1:0},applyDirection:function(a){return a?a:'ASC'},updateDirection:function(a){this.multiplier=a.toUpperCase()==='DESC'?-1:1},updateProperty:function(a){if(a){delete this.sortFn}},updateSorterFn:function(a){this.sortFn=a},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),'ASC','DESC'))},getState:function(){return {root:this.getRoot(),property:this.getProperty(),direction:this.getDirection()}}},1,0,0,0,0,0,[Ext.util,'Sorter'],0);Ext.cmd.derive('Ext.util.Sortable',Ext.Base,{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:'ASC',multiSortLimit:3,statics:{createComparator:function(a){return a&&a.length?function(d,e){var b=a[0].sort(d,e),f=a.length,c=1;for(;!b&&c<f;c++){b=a[c].sort.call(this,d,e)}return b}:function(){return 0}}},applySorters:function(b){var c=this,a=c.getSorters()||new Ext.util.MixedCollection(!1,Ext.returnId);if(b){a.addAll(c.decodeSorters(b))}return a},sort:function(a,f,e,h){var b=this,d,g,c=b.getSorters();if(!c){b.setSorters(null);c=b.getSorters()}if(Ext.isArray(a)){h=e;e=f}else {if(Ext.isObject(a)){a=[a];h=e;e=f}else {if(Ext.isString(a)){d=c.get(a);if(!d){d={property:a,direction:f}}else {if(f==null){d.toggle()}else {d.setDirection(f)}}a=[d]}}}if(a&&a.length){a=b.decodeSorters(a);switch(e){case 'multi':c.insert(0,a[0]);g=c.getCount()-b.multiSortLimit;if(g>0){c.removeRange(b.multiSortLimit,g)};break;case 'prepend':c.insert(0,a);break;case 'append':c.addAll(a);break;case undefined:case null:case 'replace':c.clear();c.addAll(a);break;default:}}if(h!==!1){b.fireEvent('beforesort',b,a);b.onBeforeSort(a);if(b.getSorterCount()){b.doSort(b.generateComparator())}}return a},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var a=this.getSorters().getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(b){if(!Ext.isArray(b)){if(b===undefined){b=[]}else {b=[b]}}var g=b.length,f=Ext.util.Sorter,e=this.getModel?this.getModel():this.model,d,a,c;for(c=0;c<g;c++){a=b[c];if(!(a instanceof f)){if(Ext.isString(a)){a={property:a}}Ext.applyIf(a,{root:this.sortRoot,direction:'ASC'});if(a.fn){a.sorterFn=a.fn}if(typeof a=='function'){a={sorterFn:a}}if(e&&!a.transform){d=e.getField(a.property);a.transform=d&&d.sortType!==Ext.identityFn?d.sortType:undefined}b[c]=new Ext.util.Sorter(a)}}return b},getFirstSorter:function(){var c=this.getSorters().items,d=c.length,b=0,a;for(;b<d;++b){a=c[b];if(!a.isGrouper){return a}}return null}},0,0,0,0,0,0,[Ext.util,'Sortable'],function(){this.prototype.createComparator=this.createComparator});Ext.cmd.derive('Ext.util.MixedCollection',Ext.util.AbstractMixedCollection,{constructor:function(){var a=this;a.initConfig();Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments)},doSort:function(a){this.sortBy(a)},_sort:function(h,j,g){var b=this,a,d,k=String(j).toUpperCase()=='DESC'?-1:1,c=[],i=b.keys,f=b.items,e;g=g||function(a,b){return a-b};for(a=0,d=f.length;a<d;a++){c[c.length]={key:i[a],value:f[a],index:a}}Ext.Array.sort(c,function(a,b){return g(a[h],b[h])*k||(a.index<b.index?-1:1)});for(a=0,d=c.length;a<d;a++){e=c[a];f[a]=e.value;i[a]=e.key;b.indexMap[e.key]=a}b.generation++;b.indexGeneration=b.generation;b.fireEvent('sort',b)},sortBy:function(h){var b=this,c=b.items,f,g=b.keys,d,e=c.length,a;for(a=0;a<e;a++){c[a].$extCollectionIndex=a}Ext.Array.sort(c,function(a,b){return h(a,b)||(a.$extCollectionIndex<b.$extCollectionIndex?-1:1)});for(a=0;a<e;a++){f=c[a];d=b.getKey(f);g[a]=d;b.indexMap[d]=a;delete c.$extCollectionIndex}b.generation++;b.indexGeneration=b.generation;b.fireEvent('sort',b,c,g)},findInsertionIndex:function(h,d){var g=this,f=g.items,b=0,e=f.length-1,a,c;if(!d){d=g.generateComparator()}while(b<=e){a=b+e>>1;c=d(h,f[a]);if(c>=0){b=a+1}else {if(c<0){e=a-1}}}return b},reorder:function(e){var b=this,f=b.items,a=0,h=f.length,c=[],g=[],d;b.suspendEvents();for(d in e){c[e[d]]=f[d]}for(a=0;a<h;a++){if(e[a]==undefined){g.push(f[a])}}for(a=0;a<h;a++){if(c[a]==undefined){c[a]=g.shift()}}b.clear();b.addAll(c);b.resumeEvents();b.fireEvent('sort',b)},sortByKey:function(a,b){this._sort('key',a,b||function(e,f){var c=String(e).toUpperCase(),d=String(f).toUpperCase();return c>d?1:c<d?-1:0})}},1,0,0,0,0,[['sortable',Ext.util.Sortable]],[Ext.util,'MixedCollection'],0);Ext.cmd.derive('Ext.util.TaskRunner',Ext.Base,{interval:10,timerId:null,constructor:function(b){var a=this;if(typeof b=='number'){a.interval=b}else {if(b){Ext.apply(a,b)}}a.tasks=[];a.timerFn=Ext.Function.bind(a.onTick,a)},newTask:function(b){var a=new Ext.util.TaskRunner.Task(b);a.manager=this;return a},start:function(a){var b=this,c=Ext.Date.now();if(!a.pending){b.tasks.push(a);a.pending=!0}a.stopped=!1;a.taskStartTime=c;a.taskRunTime=a.fireOnStart!==!1?0:a.taskStartTime;a.taskRunCount=0;if(!b.firing){if(a.fireOnStart!==!1){b.startTimer(0,c)}else {b.startTimer(a.interval,c)}}return a},stop:function(a){if(!a.stopped){a.stopped=!0;if(a.onStop){a.onStop.call(a.scope||a,a)}}return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1.0E99,onTick:function(){var b=this,h=b.tasks,g=Ext.Date.now(),k=1.0E99,m=h.length,l=Ext.GlobalEvents,f,c,e,a,i,d,j;b.timerId=null;b.firing=!0;for(e=0;e<m||e<(m=h.length);++e){a=h[e];if(!(d=a.stopped)){f=a.taskRunTime+a.interval;if(f<=g){i=1;if(a.hasOwnProperty('fireIdleEvent')){j=a.fireIdleEvent}else {j=b.fireIdleEvent}try{i=a.run.apply(a.scope||a,a.args||[++a.taskRunCount])}catch(n){try{if(a.onError){i=a.onError.call(a.scope||a,a,n)}}catch(o){}}a.taskRunTime=g;if(i===!1||a.taskRunCount===a.repeat){b.stop(a);d=!0}else {d=a.stopped;f=g+a.interval}}if(!d&&a.duration&&a.duration<=g-a.taskStartTime){b.stop(a);d=!0}}if(d){a.pending=!1;if(!c){c=h.slice(0,e)}}else {if(c){c.push(a)}if(k>f){k=f}}}if(c){b.tasks=c}b.firing=!1;if(b.tasks.length){b.startTimer(k-g,Ext.Date.now())}if(j!==!1&&l.hasListeners.idle){l.fireEvent('idle')}},startTimer:function(b,e){var a=this,d=e+b,c=a.timerId;if(c&&a.nextExpires-d>a.interval){clearTimeout(c);c=null}if(!c){if(b<a.interval){b=a.interval}a.timerId=setTimeout(a.timerFn,b);a.nextExpires=d}}},1,0,0,0,0,0,[Ext.util,'TaskRunner'],function(){var b=this,a=b.prototype;a.destroy=a.stopAll;b.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(a){Ext.apply(this,a)},restart:function(a){if(a!==undefined){this.interval=a}this.manager.start(this)},start:function(a){if(this.stopped){this.restart(a)}},stop:function(){this.manager.stop(this)}});a=b.Task.prototype;a.destroy=a.stop});Ext.cmd.derive('Ext.fx.target.Target',Ext.Base,{isAnimTarget:!0,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}},1,0,0,0,0,0,[Ext.fx.target,'Target'],0);Ext.cmd.derive('Ext.fx.target.Element',Ext.fx.target.Target,{type:'element',getElVal:function(c,b,a){if(a==undefined){if(b==='x'){a=c.getX()}else {if(b==='y'){a=c.getY()}else {if(b==='scrollTop'){a=c.getScroll().top}else {if(b==='scrollLeft'){a=c.getScroll().left}else {if(b==='height'){a=c.getHeight()}else {if(b==='width'){a=c.getWidth()}else {a=c.getStyle(b)}}}}}}}return a},getAttr:function(b,c){var a=this.target;return [[a,this.getElVal(a,b,c)]]},setAttr:function(f){var i=this.target,h=f.length,a,b,e,c,d,g;for(c=0;c<h;c++){a=f[c].attrs;for(b in a){if(a.hasOwnProperty(b)){g=a[b].length;for(d=0;d<g;d++){e=a[b][d];this.setElVal(e[0],b,e[1])}}}}},setElVal:function(a,c,b){if(c==='x'){a.setX(b)}else {if(c==='y'){a.setY(b)}else {if(c==='scrollTop'){a.scrollTo('top',b)}else {if(c==='scrollLeft'){a.scrollTo('left',b)}else {if(c==='width'){a.setWidth(b)}else {if(c==='height'){a.setHeight(b)}else {a.setStyle(c,b)}}}}}}}},0,0,0,0,0,0,[Ext.fx.target,'Element'],0);Ext.cmd.derive('Ext.fx.target.ElementCSS',Ext.fx.target.Element,{setAttr:function(j,f){var d={attrs:[],duration:[],easing:[]},m=j.length,k,a,e,h,g,b,c,i,l;for(c=0;c<m;c++){a=j[c];g=a.duration;h=a.easing;a=a.attrs;for(e in a){if(Ext.Array.indexOf(d.attrs,e)==-1){d.attrs.push(e.replace(/[A-Z]/g,function(a){return '-'+a.toLowerCase()}));d.duration.push(g+'ms');d.easing.push(h)}}}k=d.attrs.join(',');g=d.duration.join(',');h=d.easing.join(', ');for(c=0;c<m;c++){a=j[c].attrs;for(e in a){l=a[e].length;for(i=0;i<l;i++){b=a[e][i];b[0].setStyle(Ext.supports.CSS3Prefix+'TransitionProperty',f?'':k);b[0].setStyle(Ext.supports.CSS3Prefix+'TransitionDuration',f?'':g);b[0].setStyle(Ext.supports.CSS3Prefix+'TransitionTimingFunction',f?'':h);b[0].setStyle(e,b[1]);if(f){b=b[0].dom.offsetWidth}else {b[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+'TransitionProperty',null);this.setStyle(Ext.supports.CSS3Prefix+'TransitionDuration',null);this.setStyle(Ext.supports.CSS3Prefix+'TransitionTimingFunction',null)},b[0],{single:!0})}}}}}},0,0,0,0,0,0,[Ext.fx.target,'ElementCSS'],0);Ext.cmd.derive('Ext.fx.target.CompositeElement',Ext.fx.target.Element,{isComposite:!0,constructor:function(a){a.id=a.id||Ext.id(null,'ext-composite-');Ext.fx.target.Element.prototype.constructor.call(this,a)},getAttr:function(g,h){var e=[],d=this.target,c=d.elements,f=c.length,b,a;for(b=0;b<f;b++){a=c[b];if(a){a=d.getElement(a);e.push([a,this.getElVal(a,g,h)])}}return e},setAttr:function(f){var h=this.target,l=f.length,g=h.elements,k=g.length,i,e,a,b,m,c,d,j;for(c=0;c<l;c++){a=f[c].attrs;for(b in a){if(a.hasOwnProperty(b)){j=a[b].length;for(d=0;d<j;d++){i=a[b][d][1];for(e=0;e<k;++e){el=g[e];if(el){el=h.getElement(el);this.setElVal(el,b,i)}}}}}}},remove:function(){this.target.destroy()}},1,0,0,0,0,0,[Ext.fx.target,'CompositeElement'],0);Ext.cmd.derive('Ext.fx.target.CompositeElementCSS',Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,'CompositeElementCSS'],0);Ext.cmd.derive('Ext.fx.target.Sprite',Ext.fx.target.Target,{type:'draw',getFromPrim:function(b,c){var a;switch(c){case 'rotate':case 'rotation':a=b.attr.rotation;return {x:a.x||0,y:a.y||0,degrees:a.degrees||0};case 'scale':case 'scaling':a=b.attr.scaling;return {x:a.x||1,y:a.y||1,cx:a.cx||0,cy:a.cy||0};case 'translate':case 'translation':a=b.attr.translation;return {x:a.x||0,y:a.y||0};default:return b.attr[c];}},getAttr:function(b,a){return [[this.target,a!=undefined?a:this.getFromPrim(this.target,b)]]},setAttr:function(n){var m=n.length,f=[],k,a,i,b,l,j,g,c,h,d,e,o;for(c=0;c<m;c++){k=n[c].attrs;for(a in k){i=k[a];o=i.length;for(h=0;h<o;h++){l=i[h][0];b=i[h][1];if(a==='translate'||a==='translation'){g={x:b.x,y:b.y}}else {if(a==='rotate'||a==='rotation'){d=b.x;if(isNaN(d)){d=null}e=b.y;if(isNaN(e)){e=null}g={degrees:b.degrees,x:d,y:e}}else {if(a==='scale'||a==='scaling'){d=b.x;if(isNaN(d)){d=null}e=b.y;if(isNaN(e)){e=null}g={x:d,y:e,cx:b.cx,cy:b.cy}}else {if(a==='width'||a==='height'||a==='x'||a==='y'){g=parseFloat(b)}else {g=b}}}}j=Ext.Array.indexOf(f,l);if(j==-1){f.push([l,{}]);j=f.length-1}f[j][1][a]=g}}}m=f.length;for(c=0;c<m;c++){f[c][0].setAttributes(f[c][1])}this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,'Sprite'],0);Ext.cmd.derive('Ext.fx.target.CompositeSprite',Ext.fx.target.Sprite,{getAttr:function(g,e){var d=[],c=[].concat(this.target.items),f=c.length,a,b;for(a=0;a<f;a++){b=c[a];d.push([b,e!=undefined?e:this.getFromPrim(b,g)])}return d}},0,0,0,0,0,0,[Ext.fx.target,'CompositeSprite'],0);Ext.cmd.derive('Ext.fx.target.Component',Ext.fx.target.Target,{type:'component',getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle('opacity')}},setMethods:{top:'setPosition',left:'setPosition',x:'setPagePosition',y:'setPagePosition',height:'setSize',width:'setSize',opacity:'setOpacity'},getAttr:function(b,a){return [[this.target,a!==undefined?a:this.getPropMethod[b].call(this.target)]]},setAttr:function(k,q,o){var h=this,p=k.length,d,c,a,e,f,l,m,n,j,i,b={},g;for(e=0;e<p;e++){d=k[e].attrs;for(c in d){l=d[c].length;for(f=0;f<l;f++){a=d[c][f];g=b[h.setMethods[c]]||(b[h.setMethods[c]]={});g.target=a[0];g[c]=a[1]}}if(b.setPosition){a=b.setPosition;m=a.left===undefined?undefined:parseFloat(a.left);n=a.top===undefined?undefined:parseFloat(a.top);a.target.setPosition(m,n)}if(b.setPagePosition){a=b.setPagePosition;a.target.setPagePosition(a.x,a.y)}if(b.setSize){a=b.setSize;j=a.width===undefined?a.target.getWidth():parseFloat(a.width);i=a.height===undefined?a.target.getHeight():parseFloat(a.height);a.target.el.setSize(j,i);if(o||h.dynamic){Ext.GlobalEvents.on({idle:Ext.Function.bind(a.target.setSize,a.target,[j,i]),single:!0})}}if(b.setOpacity){a=b.setOpacity;a.target.el.setStyle('opacity',a.opacity)}}}},0,0,0,0,0,0,[Ext.fx.target,'Component'],0);Ext.cmd.derive('Ext.util.HashMap',Ext.Base,{generation:0,config:{keyFn:null},constructor:function(c){var a=this,b;a.initConfig(c);a.mixins.observable.constructor.call(a,c);a.clear(!0);b=a.getKeyFn();if(b){a.getKey=b}},getCount:function(){return this.length},getData:function(b,a){if(a===undefined){a=b;b=this.getKey(a)}return [b,a]},getKey:function(a){return a.id},add:function(c,b){var a=this;if(arguments.length===1){b=c;c=a.getKey(b)}if(a.containsKey(c)){return a.replace(c,b)}a.map[c]=b;++a.length;a.generation++;if(a.hasListeners.add){a.fireEvent('add',a,c,b)}return b},replace:function(b,c){var a=this,d=a.map,e;if(arguments.length===1){c=b;b=a.getKey(c)}if(!a.containsKey(b)){a.add(b,c)}e=d[b];d[b]=c;a.generation++;if(a.hasListeners.replace){a.fireEvent('replace',a,b,c,e)}return c},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeAtKey(a)}return !1},removeAtKey:function(b){var a=this,c;if(a.containsKey(b)){c=a.map[b];delete a.map[b];--a.length;a.generation++;if(a.hasListeners.remove){a.fireEvent('remove',a,b,c)}return !0}return !1},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:undefined},clear:function(b){var a=this;if(b||a.generation){a.map={};a.length=0;a.generation=b?0:a.generation+1}if(b!==!0&&a.hasListeners.clear){a.fireEvent('clear',a)}return a},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&b[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(d){var c=[],a,b=this.map;for(a in b){if(b.hasOwnProperty(a)){c.push(d?a:b[a])}}return c},each:function(e,c){var b=Ext.apply({},this.map),a,d=this.length;c=c||this;for(a in b){if(b.hasOwnProperty(a)){if(e.call(c,a,b[a],d)===!1){break}}}return this},clone:function(){var a=new this.self(this.initialConfig),c=this.map,b;a.suspendEvents();for(b in c){if(c.hasOwnProperty(b)){a.add(b,c[b])}}a.resumeEvents();return a},findKey:function(c){var a,b=this.map;for(a in b){if(b.hasOwnProperty(a)&&b[a]===c){return a}}return undefined}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.util,'HashMap'],0);Ext.cmd.derive('Ext.fx.Queue',Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(b){var a=this.targets.get(b);if(a){return a.fxDefaults}return {}},setFxDefaults:function(b,c){var a=this.targets.get(b);if(a){a.fxDefaults=Ext.apply(a.fxDefaults||{},c)}},stopAnimation:function(c){var d=this,b=d.getFxQueue(c),a=b.length;while(a){b[a-1].end();a--}},getActiveAnimation:function(b){var a=this.getFxQueue(b);return a&&!!a.length?a[0]:!1},hasFxBlock:function(b){var a=this.getFxQueue(b);return a&&a[0]&&a[0].block},getFxQueue:function(a){if(!a){return !1}var b=this,d=b.fxQueue[a],c=b.targets.get(a);if(!c){return !1}if(!d){b.fxQueue[a]=[];if(c.type!='element'){c.target.on('destroy',function(){b.fxQueue[a]=[]})}}return b.fxQueue[a]},queueFx:function(a){var e=this,c=a.target,b,d;if(!c){return}b=e.getFxQueue(c.getId());d=b.length;if(d){if(a.concurrent){a.paused=!1}else {b[d-1].on('afteranimate',function(){a.paused=!1})}}else {a.paused=!1}a.on('afteranimate',function(){Ext.Array.remove(b,a);if(b.length===0){e.targets.remove(a.target)}if(a.remove){if(c.type=='element'){var d=Ext.get(c.id);if(d){d.destroy()}}}},e,{single:!0});b.push(a)}},1,0,0,0,0,0,[Ext.fx,'Queue'],0);Ext.cmd.derive('Ext.fx.Manager',Ext.Base,{singleton:!0,constructor:function(){var a=this;a.items=new Ext.util.MixedCollection();a.targetArr={};a.mixins.queue.constructor.call(a);a.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:!0,createTarget:function(a){var d=this,c=!d.forceJS&&Ext.supports.Transitions,b;d.useCSS3=c;if(a){if(a.tagName||Ext.isString(a)||a.isFly){a=Ext.get(a);b=new Ext.fx.target['Element'+(c?'CSS':'')](a)}else {if(a.dom){b=new Ext.fx.target['Element'+(c?'CSS':'')](a)}else {if(a.isComposite){b=new Ext.fx.target['CompositeElement'+(c?'CSS':'')](a)}else {if(a.isSprite){b=new Ext.fx.target.Sprite(a)}else {if(a.isCompositeSprite){b=new Ext.fx.target.CompositeSprite(a)}else {if(a.isComponent){b=new Ext.fx.target.Component(a)}else {if(a.isAnimTarget){return a}else {return null}}}}}}}d.targets.add(b);return b}else {return null}},addAnim:function(d){var a=this,c=a.items,b=a.task;c.add(d.id,d);if(!b&&c.length){b=a.task={run:a.runner,interval:a.interval,scope:a};a.taskRunner.start(b)}},removeAnim:function(d){var a=this,b=a.items,c=a.task;b.removeAtKey(d.id);if(c&&!b.length){a.taskRunner.stop(c);delete a.task}},runner:function(){var c=this,d=c.items.getRange(),a=0,e=d.length,b;c.targetArr={};c.timestamp=new Date();for(;a<e;a++){b=d[a];if(b.isReady()){c.startAnim(b)}}for(a=0;a<e;a++){b=d[a];if(b.isRunning()){c.runAnim(b)}}c.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a,h){if(!a){return}var g=this,f=g.useCSS3&&a.target.type=='element',d=g.timestamp-a.startTime,e=d>=a.duration,b,c;if(h){d=a.duration;e=!0}b=this.collectTargetData(a,d,f,e);if(f){a.target.setAttr(b.anims[a.id].attributes,!0);g.collectTargetData(a,a.duration,f,e);a.paused=!0;b=a.target.target;if(a.target.isComposite){b=a.target.target.last()}c={};c[Ext.supports.CSS3TransitionEnd]=a.lastFrame;c.scope=a;c.single=!0;b.on(c)}return b},jumpToEnd:function(b){var a=this.runAnim(b,!0);this.applyAnimAttrs(a,a.anims[b.id])},collectTargetData:function(a,d,f,e){var c=a.target.getId(),b=this.targetArr[c];if(!b){b=this.targetArr[c]={id:c,el:a.target,anims:{}}}b.anims[a.id]={id:a.id,anim:a,elapsed:d,isLastFrame:e,attributes:[{duration:a.duration,easing:f&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(d)}]};return b},applyAnimAttrs:function(c,a){var b=a.anim;if(a.attributes&&b.isRunning()){c.el.setAttr(a.attributes,!1,a.isLastFrame);if(a.isLastFrame){b.lastFrame()}}},applyPendingAttrs:function(){var c=this.targetArr,b,d,a,f,e;for(d in c){if(c.hasOwnProperty(d)){b=c[d];for(e in b.anims){if(b.anims.hasOwnProperty(e)){a=b.anims[e];f=a.anim;if(a.attributes&&f.isRunning()){b.el.setAttr(a.attributes,!1,a.isLastFrame);if(a.isLastFrame){f.lastFrame()}}}}}}}},1,0,0,0,0,[['queue',Ext.fx.Queue]],[Ext.fx,'Manager'],0);Ext.cmd.derive('Ext.fx.Animator',Ext.Base,{isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:'ease',running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(b){var a=this;b=Ext.apply(a,b||{});a.config=b;a.id=Ext.id(null,'ext-animator-');a.mixins.observable.constructor.call(a,b);a.timeline=[];a.createTimeline(a.keyframes);if(a.target){a.applyAnimator(a.target);Ext.fx.Manager.addAnim(a)}},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(e){var d=this,b=[],k=d.to||{},g=d.duration,h,j,c,i,a,f;for(a in e){if(e.hasOwnProperty(a)&&d.animKeyFramesRE.test(a)){f={attrs:Ext.apply(e[a],k)};if(a=='from'){a=0}else {if(a=='to'){a=100}}f.pct=parseInt(a,10);b.push(f)}}Ext.Array.sort(b,d.sorter);i=b.length;for(c=0;c<i;c++){h=b[c-1]?g*(b[c-1].pct/100):0;j=g*(b[c].pct/100);d.timeline.push({duration:j-h,attrs:b[c].attrs})}},applyAnimator:function(j){var b=this,e=[],g=b.timeline,f=g.length,a,i,h,d,c;if(b.fireEvent('beforeanimate',b)!==!1){for(c=0;c<f;c++){a=g[c];d=a.attrs;i=d.easing||b.easing;h=d.damper||b.damper;delete d.easing;delete d.damper;a=new Ext.fx.Anim({target:j,easing:i,damper:h,duration:a.duration,paused:!0,to:d});e.push(a)}b.animations=e;b.target=a.target;for(c=0;c<f-1;c++){a=e[c];a.nextAnim=e[c+1];a.on('afteranimate',function(){this.nextAnim.paused=!1});a.on('afteranimate',function(){this.fireEvent('keyframe',this,++this.keyframeStep)},b)}e[f-1].on('afteranimate',function(){this.lastFrame()},b)}},start:function(b){var a=this,d=a.delay,c=a.delayStart,e;if(d){if(!c){a.delayStart=b;return}else {e=b-c;if(e<d){return}else {b=new Date(c.getTime()+d)}}}if(a.fireEvent('beforeanimate',a)!==!1){a.startTime=b;a.running=!0;a.animations[a.keyframeStep].paused=!1}},lastFrame:function(){var a=this,c=a.iterations,b=a.currentIteration;b++;if(b<c){a.startTime=new Date();a.currentIteration=b;a.keyframeStep=0;a.applyAnimator(a.target);a.animations[a.keyframeStep].paused=!1}else {a.currentIteration=0;a.end()}},end:function(){var a=this;a.fireEvent('afteranimate',a,a.startTime,new Date()-a.startTime)},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return !1}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.fx,'Animator'],0);Ext.cmd.derive('Ext.fx.CubicBezier',Ext.Base,{singleton:!0,cubicBezierAtTime:function(l,d,e,i,j,h){var a=3*d,b=3*(i-d)-a,f=1-a-b,c=3*e,g=3*(j-e)-c,k=1-c-g;function sampleCurveX(c){return ((f*c+b)*c+a)*c}function solve(f,b){var a=solveCurveX(f,b);return ((k*a+g)*a+c)*a}function solveCurveX(n,q){var g,k,c,m,o,p;for(c=n,p=0;p<8;p++){m=sampleCurveX(c)-n;if(Math.abs(m)<q){return c}o=(3*f*c+2*b)*c+a;if(Math.abs(o)<1.0E-6){break}c=c-m/o}g=0;k=1;c=n;if(c<g){return g}if(c>k){return k}while(g<k){m=sampleCurveX(c);if(Math.abs(m-n)<q){return c}if(n>m){g=c}else {k=c}c=(k-g)/2+g}return c}return solve(l,1/(200*h))},cubicBezier:function(b,d,c,e){var a=function(a){return Ext.fx.CubicBezier.cubicBezierAtTime(a,b,d,c,e,1)};a.toCSS3=function(){return 'cubic-bezier('+[b,d,c,e].join(',')+')'};a.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-e,1-b,1-d)};return a}},0,0,0,0,0,0,[Ext.fx,'CubicBezier'],0);Ext.require('Ext.fx.CubicBezier',function(){var b=Math,g=b.PI,a=b.pow,f=b.sin,e=b.sqrt,d=b.abs,c=1.70158;Ext.cmd.derive('Ext.fx.Easing',Ext.Base,{singleton:!0,linear:Ext.identityFn,ease:function(k){var c=0.07813-k/2,l=-0.25,f=e(0.0066+c*c),g=f-c,i=a(d(g),1/3)*(g<0?-1:1),h=-f-c,j=a(d(h),1/3)*(h<0?-1:1),b=i+j+0.25;return a(1-b,2)*3*b*0.1+(1-b)*3*b*b+b*b*b},easeIn:function(b){return a(b,1.7)},easeOut:function(b){return a(b,0.48)},easeInOut:function(k){var c=0.48-k/1.04,f=e(0.1734+c*c),g=f-c,i=a(d(g),1/3)*(g<0?-1:1),h=-f-c,j=a(d(h),1/3)*(h<0?-1:1),b=i+j+0.5;return (1-b)*3*b*b+b*b*b},backIn:function(a){return a*a*((c+1)*a-c)},backOut:function(a){a=a-1;return a*a*((c+1)*a+c)+1},elasticIn:function(b){if(b===0||b===1){return b}var c=0.3,d=c/4;return a(2,-10*b)*f((b-d)*(2*g)/c)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){var d=7.5625,b=2.75,c;if(a<1/b){c=d*a*a}else {if(a<2/b){a-=1.5/b;c=d*a*a+0.75}else {if(a<2.5/b){a-=2.25/b;c=d*a*a+0.9375}else {a-=2.625/b;c=d*a*a+0.984375}}}return c}},0,0,0,0,0,0,[Ext.fx,'Easing'],function(){var b=Ext.fx.Easing.self,a=b.prototype;b.addMembers({'back-in':a.backIn,'back-out':a.backOut,'ease-in':a.easeIn,'ease-out':a.easeOut,'elastic-in':a.elasticIn,'elastic-out':a.elasticOut,'bounce-in':a.bounceIn,'bounce-out':a.bounceOut,'ease-in-out':a.easeInOut})})});Ext.cmd.derive('Ext.fx.DrawPath',Ext.Base,{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(b,a){a=String(a).toLowerCase();return a=='object'&&b===Object(b)||a=='undefined'&&typeof b==a||a=='null'&&b===null||a=='array'&&Array.isArray&&Array.isArray(b)||Object.prototype.toString.call(b).toLowerCase().slice(8,-1)==a},path2string:function(){return this.join(',').replace(Ext.fx.DrawPath.pathToStringRE,'$1')},pathToString:function(a){return a.join(',').replace(Ext.fx.DrawPath.pathToStringRE,'$1')},parsePathString:function(c){if(!c){return null}var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[],b=this;if(b.is(c,'array')&&b.is(c[0],'array')){a=b.pathClone(c)}if(!a.length){String(c).replace(b.pathCommandRE,function(i,g,h){var e=[],f=g.toLowerCase();h.replace(b.pathValuesRE,function(b,a){a&&e.push(+a)});if(f=='m'&&e.length>2){a.push([g].concat(Ext.Array.splice(e,0,2)));f='l';g=g=='m'?'l':'L'}while(e.length>=d[f]){a.push([g].concat(Ext.Array.splice(e,0,d[f])));if(!d[f]){break}}})}a.toString=b.path2string;return a},pathClone:function(a){var d=[],c,f,b,e;if(!this.is(a,'array')||!this.is(a&&a[0],'array')){a=this.parsePathString(a)}for(b=0,e=a.length;b<e;b++){d[b]=[];for(c=0,f=a[b].length;c<f;c++){d[b][c]=a[b][c]}}d.toString=this.path2string;return d},pathToAbsolute:function(d){if(!this.is(d,'array')||!this.is(d&&d[0],'array')){d=this.parsePathString(d)}var i=[],f=0,g=0,j=0,k=0,h=0,l=d.length,b,a,c,e;if(l&&d[0][0]=='M'){f=+d[0][1];g=+d[0][2];j=f;k=g;h++;i[0]=['M',f,g]}for(;h<l;h++){b=i[h]=[];a=d[h];if(a[0]!=a[0].toUpperCase()){b[0]=a[0].toUpperCase();switch(b[0]){case 'A':b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=+(a[6]+f);b[7]=+(a[7]+g);break;case 'V':b[1]=+a[1]+g;break;case 'H':b[1]=+a[1]+f;break;case 'M':j=+a[1]+f;k=+a[2]+g;default:c=1;e=a.length;for(;c<e;c++){b[c]=+a[c]+(c%2?f:g)};}}else {c=0;e=a.length;for(;c<e;c++){i[h][c]=a[c]}}switch(b[0]){case 'Z':f=j;g=k;break;case 'H':f=b[1];break;case 'V':g=b[1];break;case 'M':a=i[h];e=a.length;j=a[e-2];k=a[e-1];default:a=i[h];e=a.length;f=a[e-2];g=a[e-1];}}i.toString=this.path2string;return i},interpolatePaths:function(o,n){var k=this,c=k.pathToAbsolute(o),b=k.pathToAbsolute(n),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(a,d){if(a[d].length>7){a[d].shift();var e=a[d];while(e.length){Ext.Array.splice(a,d++,0,['C'].concat(Ext.Array.splice(e,0,6)))}Ext.Array.erase(a,d,1);j=Math.max(c.length,b.length||0)}},m=function(d,f,e,g,a){if(d&&f&&d[a][0]=='M'&&f[a][0]!='M'){Ext.Array.splice(f,a,0,['M',g.x,g.y]);e.bx=0;e.by=0;e.x=d[a][1];e.y=d[a][2];j=Math.max(c.length,b.length||0)}},a,j,g,f,i,h;for(a=0,j=Math.max(c.length,b.length||0);a<j;a++){c[a]=k.command2curve(c[a],e);l(c,a);b[a]=k.command2curve(b[a],d);l(b,a);m(c,b,e,d,a);m(b,c,d,e,a);g=c[a];f=b[a];i=g.length;h=f.length;e.x=g[i-2];e.y=g[i-1];e.bx=parseFloat(g[i-4])||e.x;e.by=parseFloat(g[i-3])||e.y;d.bx=parseFloat(f[h-4])||d.x;d.by=parseFloat(f[h-3])||d.y;d.x=f[h-2];d.y=f[h-1]}return [c,b]},command2curve:function(b,a){var c=this;if(!b){return ['C',a.x,a.y,a.x,a.y,a.x,a.y]}if(b[0]!='T'&&b[0]!='Q'){a.qx=a.qy=null}switch(b[0]){case 'M':a.X=b[1];a.Y=b[2];break;case 'A':b=['C'].concat(c.arc2curve.apply(c,[a.x,a.y].concat(b.slice(1))));break;case 'S':b=['C',a.x+(a.x-(a.bx||a.x)),a.y+(a.y-(a.by||a.y))].concat(b.slice(1));break;case 'T':a.qx=a.x+(a.x-(a.qx||a.x));a.qy=a.y+(a.y-(a.qy||a.y));b=['C'].concat(c.quadratic2curve(a.x,a.y,a.qx,a.qy,b[1],b[2]));break;case 'Q':a.qx=b[1];a.qy=b[2];b=['C'].concat(c.quadratic2curve(a.x,a.y,b[1],b[2],b[3],b[4]));break;case 'L':b=['C'].concat(a.x,a.y,b[1],b[2],b[1],b[2]);break;case 'H':b=['C'].concat(a.x,a.y,b[1],a.y,b[1],a.y);break;case 'V':b=['C'].concat(a.x,a.y,a.x,b[1],a.x,b[1]);break;case 'Z':b=['C'].concat(a.x,a.y,a.X,a.Y,a.X,a.Y);break;}return b},quadratic2curve:function(g,h,c,d,e,f){var a=1/3,b=2/3;return [a*g+b*c,a*h+b*d,a*e+b*c,a*f+b*d,e,f]},rotate:function(d,e,b){var a=Math.cos(b),c=Math.sin(b),f=d*a-e*c,g=d*c+e*a;return {x:f,y:g}},arc2curve:function(m,n,d,c,K,X,v,e,f,o){var s=this,k=Math.PI,Y=s.radian,Q=k*120/180,w=Y*(+K||0),g=[],p=Math,B=p.cos,C=p.sin,N=p.sqrt,R=p.abs,M=p.asin,t,i,j,u,x,y,I,q,r,b,a,z,S,V,T,W,J,D,E,F,l,G,H,A,h,U,L,O,P;if(!o){t=s.rotate(m,n,-w);m=t.x;n=t.y;t=s.rotate(e,f,-w);e=t.x;f=t.y;i=(m-e)/2;j=(n-f)/2;u=i*i/(d*d)+j*j/(c*c);if(u>1){u=N(u);d=u*d;c=u*c}x=d*d;y=c*c;I=(X==v?-1:1)*N(R((x*y-x*j*j-y*i*i)/(x*j*j+y*i*i)));q=I*d*j/c+(m+e)/2;r=I*-c*i/d+(n+f)/2;b=M(((n-r)/c).toFixed(7));a=M(((f-r)/c).toFixed(7));b=m<q?k-b:b;a=e<q?k-a:a;if(b<0){b=k*2+b}if(a<0){a=k*2+a}if(v&&b>a){b=b-k*2}if(!v&&a>b){a=a-k*2}}else {b=o[0];a=o[1];q=o[2];r=o[3]}z=a-b;if(R(z)>Q){L=a;O=e;P=f;a=b+Q*(v&&a>b?1:-1);e=q+d*B(a);f=r+c*C(a);g=s.arc2curve(e,f,d,c,K,0,v,O,P,[a,L,q,r])}z=a-b;S=B(b);V=C(b);T=B(a);W=C(a);J=p.tan(z/4);D=4/3*d*J;E=4/3*c*J;F=[m,n];l=[m+D*V,n-E*S];G=[e+D*W,f-E*T];H=[e,f];l[0]=2*F[0]-l[0];l[1]=2*F[1]-l[1];if(o){return [l,G,H].concat(g)}else {g=[l,G,H].concat(g).join().split(',');A=[];U=g.length;for(h=0;h<U;h++){A[h]=h%2?s.rotate(g[h-1],g[h],w).y:s.rotate(g[h],g[h+1],w).x}return A}}},0,0,0,0,0,0,[Ext.fx,'DrawPath'],0);Ext.cmd.derive('Ext.fx.PropertyHandler',Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(c,d,e,f,i){e=typeof e=='number'?e:1;var g=this.unitRE,a=g.exec(c),h,b;if(a){c=a[1];b=a[2];if(!this.scrollRE.test(i)&&!b&&this.pixelDefaultsRE.test(i)){b='px'}}c=+c||0;a=g.exec(d);if(a){d=a[1];b=a[2]||b}d=+d||0;h=f!=null?f:c;return {from:c,delta:(d-h)*e,units:b}},get:function(b,e,i,h,j){var l=b.length,f=[],a,d,g,c,k;for(a=0;a<l;a++){if(h){d=h[a][1].from}if(Ext.isArray(b[a][1])&&Ext.isArray(e)){g=[];c=0;k=b[a][1].length;for(;c<k;c++){g.push(this.computeDelta(b[a][1][c],e[c],i,d,j))}f.push([b[a][0],g])}else {f.push([b[a][0],this.computeDelta(b[a][1],e,i,d,j)])}}return f},set:function(d,g){var i=d.length,e=[],b,a,f,h,c;for(b=0;b<i;b++){a=d[b][1];if(Ext.isArray(a)){f=[];c=0;h=a.length;for(;c<h;c++){f.push(a[c].from+a[c].delta*g+(a[c].units||0))}e.push([d[b][0],f])}else {e.push([d[b][0],a.from+a.delta*g+(a.units||0)])}}return e}},stringHandler:{computeDelta:function(a,b,d,c,e){return {from:a,delta:b}},get:function(b,g,e,i,f){var h=b.length,c=[],a,d,k,l,j;for(a=0;a<h;a++){c.push([b[a][0],this.computeDelta(b[a][1],g,e,d,f)])}return c},set:function(b,f){var e=b.length,c=[],a,d,h,g,i;for(a=0;a<e;a++){d=b[a][1];c.push([b[a][0],d.delta])}return c}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(f,d){d=typeof d=='number'?d:1;var g=!1,e=[this.hexRE,this.rgbRE,this.hex3RE],i=e.length,a,c,h,b;for(b=0;b<i;b++){h=e[b];c=b%2===0?16:10;a=h.exec(f);if(a&&a.length===4){if(b===2){a[1]+=a[1];a[2]+=a[2];a[3]+=a[3]}g={red:parseInt(a[1],c),green:parseInt(a[2],c),blue:parseInt(a[3],c)};break}}return g||f},computeDelta:function(d,a,c,e){d=this.parseColor(d);a=this.parseColor(a,c);var b=e?e:d,f=typeof b,g=typeof a;if(f=='string'||f=='undefined'||g=='string'||g=='undefined'){return a||b}return {from:d,delta:{red:Math.round((a.red-b.red)*c),green:Math.round((a.green-b.green)*c),blue:Math.round((a.blue-b.blue)*c)}}},get:function(b,g,f,c){var h=b.length,e=[],a,d;for(a=0;a<h;a++){if(c){d=c[a][1].from}e.push([b[a][0],this.computeDelta(b[a][1],g,f,d)])}return e},set:function(f,e){var i=f.length,h=[],b,a,g,d,c;for(b=0;b<i;b++){a=f[b][1];if(a){d=a.from;c=a.delta;a=typeof a=='object'&&'red' in a?'rgb('+a.red+', '+a.green+', '+a.blue+')':a;a=typeof a=='object'&&a.length?a[0]:a;if(typeof a=='undefined'){return []}g=typeof a=='string'?a:'rgb('+[(d.red+Math.round(c.red*e))%256,(d.green+Math.round(c.green*e))%256,(d.blue+Math.round(c.blue*e))%256].join(',')+')';h.push([f[b][0],g])}}return h}},object:{interpolate:function(c,a){a=typeof a=='number'?a:1;var d={},b;for(b in c){d[b]=parseFloat(c[b])*a}return d},computeDelta:function(a,b,f,d){a=this.interpolate(a);b=this.interpolate(b,f);var g=d?d:a,e={},c;for(c in b){e[c]=b[c]-g[c]}return {from:a,delta:e}},get:function(b,g,f,c){var h=b.length,e=[],a,d;for(a=0;a<h;a++){if(c){d=c[a][1].from}e.push([b[a][0],this.computeDelta(b[a][1],g,f,d)])}return e},set:function(c,i){var j=c.length,h=[],f={},a,d,g,e,b;for(a=0;a<j;a++){e=c[a][1];d=e.from;g=e.delta;for(b in d){f[b]=d[b]+g[b]*i}h.push([c[a][0],f])}return h}},path:{computeDelta:function(b,c,a,d){a=typeof a=='number'?a:1;var e;b=+b||0;c=+c||0;e=d!=null?d:b;return {from:b,delta:(c-e)*a}},forcePath:function(a){if(!Ext.isArray(a)&&!Ext.isArray(a[0])){a=Ext.fx.DrawPath.parsePathString(a)}return a},get:function(g,p,o,i){var f=this.forcePath(p),m=[],n=g.length,j,k,e,c,l,a,d,h,b;for(e=0;e<n;e++){b=this.forcePath(g[e][1]);c=Ext.fx.DrawPath.interpolatePaths(b,f);b=c[0];f=c[1];j=b.length;h=[];for(a=0;a<j;a++){c=[b[a][0]];k=b[a].length;for(d=1;d<k;d++){l=i&&i[0][1][a][d].from;c.push(this.computeDelta(b[a][d],f[a][d],o,l))}h.push(c)}m.push([g[e][0],h])}return m},set:function(g,k){var l=g.length,j=[],c,a,d,f,e,b,h,i;for(c=0;c<l;c++){b=g[c][1];f=[];h=b.length;for(a=0;a<h;a++){e=[b[a][0]];i=b[a].length;for(d=1;d<i;d++){e.push(b[a][d].from+b[a][d].delta*k)}f.push(e.join(','))}j.push([g[c][0],f.join(',')])}return j}}}},0,0,0,0,0,0,[Ext.fx,'PropertyHandler'],function(){var b=['outlineColor','backgroundColor','borderColor','borderTopColor','borderRightColor','borderBottomColor','borderLeftColor','fill','stroke'],d=b.length,a=0,c;for(;a<d;a++){c=b[a];this[c]=this.color}b=['cursor'];d=b.length;a=0;for(;a<d;a++){c=b[a];this[c]=this.stringHandler}});Ext.cmd.derive('Ext.fx.Anim',Ext.Base,{isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:'ease',damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(b){var a=this,c;b=b||{};if(b.keyframes){return new Ext.fx.Animator(b)}Ext.apply(a,b);if(a.from===undefined){a.from={}}a.propHandlers={};a.config=b;a.target=Ext.fx.Manager.createTarget(a.target);a.easingFn=Ext.fx.Easing[a.easing];a.target.dynamic=a.dynamic;if(!a.easingFn){a.easingFn=String(a.easing).match(a.bezierRE);if(a.easingFn&&a.easingFn.length==5){c=a.easingFn;a.easingFn=Ext.fx.CubicBezier.cubicBezier(+c[1],+c[2],+c[3],+c[4])}}a.id=Ext.id(null,'ext-anim-');a.mixins.observable.constructor.call(a);Ext.fx.Manager.addAnim(a);if(b.autoEnd){a.running=!0;a.jumpToEnd()}},setAttr:function(b,a){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,b,a)},initAttrs:function(){var b=this,i=b.from,e=b.to,h=b.initialFrom||{},g={},f,d,c,a;for(a in e){if(e.hasOwnProperty(a)){f=b.target.getAttr(a,i[a]);d=e[a];if(!Ext.fx.PropertyHandler[a]){if(Ext.isObject(d)){c=b.propHandlers[a]=Ext.fx.PropertyHandler.object}else {c=b.propHandlers[a]=Ext.fx.PropertyHandler.defaultHandler}}else {c=b.propHandlers[a]=Ext.fx.PropertyHandler[a]}g[a]=c.get(f,d,b.damper,h[a],a)}}b.currentAttrs=g},start:function(b){var a=this,d=a.delay,c=a.delayStart,e;if(d){if(!c){a.delayStart=b;return}else {e=b-c;if(e<d){return}else {b=new Date(c.getTime()+d)}}}if(a.fireEvent('beforeanimate',a)!==!1){a.startTime=b;if(!a.paused&&!a.currentAttrs){a.initAttrs()}a.running=!0;a.frameCount=0}},jumpToEnd:function(){var a=this;if(!a.endWasCalled){if(!a.currentAttrs){a.initAttrs()}Ext.fx.Manager.jumpToEnd(a);a.end()}},runAnim:function(b){var a=this,e=a.currentAttrs,d=a.duration,k=a.easingFn,j=a.propHandlers,i={},g,h,c,f;if(b>=d){b=d;f=!0}if(a.reverse){b=d-b}for(c in e){if(e.hasOwnProperty(c)){h=e[c];g=f?1:k(b/d);i[c]=j[c].set(h,g)}}a.frameCount++;return i},lastFrame:function(){var a=this,c=a.iterations,b=a.currentIteration;b++;if(b<c){if(a.alternate){a.reverse=!a.reverse}a.startTime=new Date();a.currentIteration=b;a.paused=!1}else {a.currentIteration=0;a.end();a.fireEvent('lastframe',a,a.startTime)}},endWasCalled:0,end:function(){var a=this;if(a.endWasCalled++){return}a.startTime=0;a.paused=!1;a.running=!1;Ext.fx.Manager.removeAnim(a);a.fireEvent('afteranimate',a,a.startTime);Ext.callback(a.callback,a.scope,[a,a.startTime]);if(a.remove){a.target.destroy()}},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return this.paused===!1&&this.running===!0&&this.isAnimator!==!0}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.fx,'Anim'],0);Ext.enableFx=!0;Ext.cmd.derive('Ext.util.Animate',Ext.Base,{isAnimate:!0,animate:function(b){var a=this;if(Ext.fx.Manager.hasFxBlock(a.id)){return a}Ext.fx.Manager.queueFx(new Ext.fx.Anim(a.anim(b)));return this},anim:function(a){if(!Ext.isObject(a)){return a?{}:!1}var b=this;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));return Ext.apply({target:b,paused:!0},a)},getAnimationProps:function(){var b=this,a=b.layout;return a&&a.animate?a.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,'stopAnimation'),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,'getActiveAnimation'),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,'Animate'],0);Ext.cmd.derive('Ext.dom.GarbageCollector',Ext.Base,{singleton:!0,interval:30000,constructor:function(){var a=this;a.collect=Ext.Function.bind(a.collect,a);a.resume()},collect:function(){var f=this,a=Ext.cache,b,e,c,d;if(!Ext.enableGarbageCollector){f.pause()}else {for(b in a){if(!a.hasOwnProperty(b)){continue}c=a[b];if(c.skipGarbageCollection){continue}e=c.dom;if(Ext.isGarbage(e)){c.clearListeners();delete a[b]}}if(Ext.isIE9m){d={};for(b in a){if(a.hasOwnProperty(b)){d[b]=a[b]}}a=Ext.cache=d}f.lastTime=Ext.now()}},pause:function(){clearTimeout(this.timerId)},resume:function(){var a=this,b=a.lastTime;if(b&&Ext.now()-b>a.interval){a.collect()}a.timerId=setInterval(a.collect,a.interval)}},1,0,0,0,0,0,[Ext.dom,'GarbageCollector'],0);Ext.cmd.derive('Ext.dom.Fly',Ext.dom.Element,{alternateClassName:'Ext.dom.Element.Fly',isFly:!0,constructor:function(a){this.dom=a;this.el=this},attach:function(a){if(!a){return this.detach()}var c=this,b=Ext.cache[a.id];c.dom=a;c.isSynchronized=!1;if(b){b.isSynchronized=!1}return this},detach:function(){this.dom=this.classList=this.hasClassMap=null},addListener:null,removeListener:null},1,0,0,0,0,0,[Ext.dom,'Fly',Ext.dom.Element,'Fly'],function(b){var a={};b.cache=a;Ext.fly=function(d,e){var c=null;e=e||Ext.fly.caller.$name||'_global';d=Ext.getDom(d);if(d){c=Ext.cache[d.id];if(!c||c.dom!==d){c=a[e]||(a[e]=new b());c.dom=d;c.isSynchronized=!1}}return c}});Ext.cmd.derive('Ext.dom.CompositeElementLite',Ext.Base,{alternateClassName:['Ext.CompositeElementLite','Ext.CompositeElement'],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var b=Ext.dom.Element,a=this.prototype;Ext.Object.each(b.prototype,function(b,c){if(typeof c==='function'&&!a[b]){a[b]=function(){return this.invoke(b,arguments)}}})}},constructor:function(a,b){if(b){this.elements=a||[]}else {this.elements=[];this.add(a)}},getElement:function(b){var a=this._fly||(this._fly=new Ext.dom.Fly());return a.attach(b)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,e){var d=this.elements,b,c;if(!a){return this}if(typeof a=='string'){a=Ext.fly(e||document).query(a)}else {if(a.isComposite){a=a.elements}else {if(!Ext.isIterable(a)){a=[a]}}}for(b=0,c=a.length;b<c;++b){d.push(this.transformElement(a[b]))}return this},invoke:function(g,f){var b=this,e=b.elements,h=e.length,d,c,a;if(a!==0){d=(b.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(a=0;a<h;a++){c=e[a];if(c){d[g].apply(b.getElement(c),f)}}}return b},item:function(c){var b=this.elements[c],a=null;if(b){a=this.getElement(b)}return a},slice:function(){return this.elements.slice.apply(this.elements,arguments)},each:function(g,e){var c=this,d=c.elements,f=d.length,b,a;for(b=0;b<f;b++){a=d[b];if(a){a=this.getElement(a);if(g.call(e||a,a,c,b)===!1){break}}}return c},fill:function(b){var a=this;a.elements=[];a.add(b);return a},insert:function(a,b){Ext.Array.insert(this.elements,a,b)},filter:function(e){var b=this,f=b.elements,i=f.length,g=[],d=0,h=typeof e=='function',c,a;for(;d<i;d++){a=f[d];c=!1;if(a){a=b.getElement(a);if(h){c=e.call(a,a,b,d)!==!1}else {c=a.is(e)}if(c){g.push(b.transformElement(a))}}}b.elements=g;return b},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(d,a,e){var c=!isNaN(d)?d:this.indexOf(d),b;if(c>-1){a=Ext.getDom(a);if(e){b=this.elements[c];b.parentNode.insertBefore(a,b);Ext.removeNode(b)}Ext.Array.splice(this.elements,c,1,a)}return this},clear:function(c){var d=this,b=d.elements,a=b.length-1;if(c){for(;a>=0;a--){Ext.removeNode(b[a])}}this.elements=[]},addElements:function(a,d){if(!a){return this}if(typeof a==='string'){a=Ext.dom.Element.selectorFunction(a,d)}var e=this.elements,c=a.length,b;for(b=0;b<c;b++){e.push(Ext.get(a[b]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(b,g){b=[].concat(b);var f=this,e=f.elements,h=b.length,a,c,d;for(d=0;d<h;d++){a=b[d];if(c=e[a]||e[a=f.indexOf(a)]){if(g){if(c.dom){c.destroy()}else {Ext.removeNode(c)}}Ext.Array.erase(e,a,1)}}return f},destroy:function(){return this.invoke('destroy',arguments)}},1,0,0,0,0,0,[Ext.dom,'CompositeElementLite',Ext,'CompositeElementLite',Ext,'CompositeElement'],function(a){var b=a.prototype;a.importElementMethods();b.on=b.addListener});Ext.define('Ext.overrides.dom.Element',function(){var a,d=window,b=document,f='hidden',i='isClipped',l='overflow',j='overflow-x',k='overflow-y',r='originalClip',I='height',L='width',s='visibility',e='display',m='none',f='hidden',G='offsets',n='originalDisplay',u='visibilityMode',E='isVisible',A='x-hidden-offsets',F=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>','</div>','</div>','<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>','</div>','</div>','<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>','</div>','</div>'].join(''),B=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,x=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,M=/\ssrc=([\'\"])(.*?)\1/i,w=/^a|button|embed|iframe|input|object|select|textarea$/i,D=/\S/,K=/\stype=([\'\"])(.*?)\1/i,N=/^-ms-/,H=/(-[a-z])/gi,z=function(b,a){return a.charAt(1).toUpperCase()},v='x-masked',o='x-masked-relative',q='x-mask-msg',y=/^(?:mouseenter|mouseleave)$/,J=/^body/i,c,p={},t=function(c){var b=c.getData(),a=b[n];if(a===undefined){b[n]=a=''}return a},C=function(d){var c=d.getData(),b=c[u];if(b===undefined){c[u]=b=a.VISIBILITY}return b},h,g=b.createRange?b.createRange():null;return {override:'Ext.dom.Element',mixins:[Ext.util.Positionable_ext,Ext.util.Animate],skipGarbageCollection:!1,_init:function(b){a=b},statics:{selectableCls:'x-selectable',unselectableCls:'x-unselectable',normalize:function(a){if(a==='float'){a=Ext.supports.Float?'cssFloat':'styleFloat'}return p[a]||(p[a]=a.replace(N,'ms-').replace(H,z))},getViewportHeight:function(){return Ext.isIE9m?b.documentElement.clientHeight:d.innerHeight},getViewportWidth:function(){return !Ext.isStrict&&!Ext.isOpera?document.body.clientWidth:Ext.isIE9m?b.documentElement.clientWidth:d.innerWidth},addListener:function(a,b,c){a=Ext.getDom(a);if(a.addEventListener){a.addEventListener(b,c,!1)}else {a.attachEvent('on'+b,c)}}},addClsOnClick:function(b,c,f){var a=this,d=a.dom,e=Ext.isFunction(c);a.on('mousedown',function(){if(e&&c.call(f||a,a)===!1){return !1}Ext.fly(d).addCls(b);var h=Ext.getDoc(),g=function(){Ext.fly(d).removeCls(b);h.removeListener('mouseup',g)};h.on('mouseup',g)});return a},addClsOnFocus:function(b,c,f){var a=this,d=a.dom,e=Ext.isFunction(c);a.on('focus',function(){if(e&&c.call(f||a,a)===!1){return !1}Ext.fly(d).addCls(b)});a.on('blur',function(){Ext.fly(d).removeCls(b)});return a},addClsOnOver:function(b,c,f){var a=this,d=a.dom,e=Ext.isFunction(c);a.hover(function(){if(e&&c.call(f||a,a)===!1){return}Ext.fly(d).addCls(b)},function(){Ext.fly(d).removeCls(b)});return a},addKeyListener:function(a,d,c){var b;if(typeof a!=='object'||Ext.isArray(a)){b={target:this,key:a,fn:d,scope:c}}else {b={target:this,key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:d,scope:c}}return new Ext.util.KeyMap(b)},addKeyMap:function(a){return new Ext.util.KeyMap(Ext.apply({target:this},a))},anchorAnimX:function(a){var b=a==='l'?'right':'left';this.dom.style[b]='0px'},anim:function(b){if(!Ext.isObject(b)){return b?{}:!1}var c=this,d=b.duration||Ext.fx.Anim.prototype.duration,e=b.easing||'ease',a;if(b.stopAnimation){c.stopAnimation()}Ext.applyIf(b,Ext.fx.Manager.getFxDefaults(c.id));Ext.fx.Manager.setFxDefaults(c.id,{delay:0});a={target:c.dom,remove:b.remove,alternate:b.alternate||!1,duration:d,easing:e,callback:b.callback,listeners:b.listeners,iterations:b.iterations||1,scope:b.scope,block:b.block,concurrent:b.concurrent,delay:b.delay||0,paused:!0,keyframes:b.keyframes,from:b.from||{},to:Ext.apply({},b)};Ext.apply(a.to,b.to);delete a.to.to;delete a.to.from;delete a.to.remove;delete a.to.alternate;delete a.to.keyframes;delete a.to.iterations;delete a.to.listeners;delete a.to.target;delete a.to.paused;delete a.to.callback;delete a.to.scope;delete a.to.duration;delete a.to.easing;delete a.to.concurrent;delete a.to.block;delete a.to.stopAnimation;delete a.to.delay;return a},animate:function(a){var c=this,f=c.dom.id||Ext.id(c.dom),d,b,e;if(!Ext.fx.Manager.hasFxBlock(f)){if(a.listeners){d=a.listeners;delete a.listeners}if(a.internalListeners){a.listeners=a.internalListeners;delete a.internalListeners}e=a.autoEnd;delete a.autoEnd;b=new Ext.fx.Anim(c.anim(a));if(d){b.on(d)}Ext.fx.Manager.queueFx(b);if(e){b.jumpToEnd()}}return c},boxWrap:function(a){a=a||'x-box';var b=Ext.get(this.insertHtml('beforeBegin',"<div class='"+a+"' role='presentation'>"+Ext.String.format(F,a)+'</div>'));b.selectNode('.'+a+'-mc').appendChild(this.dom);return b},cacheScrollValues:function(){var h=this,f=[],d=[],e,a,b,g;c=c||new Ext.dom.Fly();e=h.query('*');for(b=0,g=e.length;b<g;b++){a=e[b];if(a.scrollTop>0||a.scrollLeft!==0){d.push(a);f.push(c.attach(a).getScroll())}}return function(){var b,a,e;for(a=0,e=d.length;a<e;a++){b=f[a];c.attach(d[a]);c.setScrollLeft(b.left);c.setScrollTop(b.top)}}},clean:function(g){var c=this,d=c.dom,e=c.getData(),a=d.firstChild,f=-1,b;if(e.isCleaned&&g!==!0){return c}while(a){b=a.nextSibling;if(a.nodeType===3){if(!D.test(a.nodeValue)){d.removeChild(a)}else {if(b&&b.nodeType===3){a.appendData(Ext.String.trim(b.data));d.removeChild(b);b=a.nextSibling;a.nodeIndex=++f}}}else {Ext.fly(a,'_clean').clean();a.nodeIndex=++f}a=b}e.isCleaned=!0;return c},empty:g?function(){var a=this.dom;if(a.firstChild){g.setStartBefore(a.firstChild);g.setEndAfter(a.lastChild);g.deleteContents()}}:function(){var a=this.dom;while(a.lastChild){a.removeChild(a.lastChild)}},clearListeners:function(){this.removeAnchor();arguments.callee.$previous.call(this)},clearPositioning:function(a){a=a||'';return this.setStyle({left:a,right:a,top:a,bottom:a,'z-index':'',position:'static'})},createProxy:function(b,e,f){b=typeof b==='object'?b:{tag:'div',role:'presentation',cls:b};var d=this,c=e?Ext.DomHelper.append(e,b,!0):Ext.DomHelper.insertBefore(d.dom,b,!0);c.setVisibilityMode(a.DISPLAY);c.hide();if(f&&d.setBox&&d.getBox){c.setBox(d.getBox())}return c},clearOpacity:function(){return this.setOpacity('')},clip:function(){var a=this,c=a.getData(),b;if(!c[i]){c[i]=!0;b=a.getStyle([l,j,k]);c[r]={o:b[l],x:b[j],y:b[k]};a.setStyle(l,f);a.setStyle(j,f);a.setStyle(k,f)}return a},constrainScrollLeft:function(b){var a=this.dom;return Math.max(Math.min(b,a.scrollWidth-a.clientWidth),0)},constrainScrollTop:function(b){var a=this.dom;return Math.max(Math.min(b,a.scrollHeight-a.clientHeight),0)},destroy:function(){var c=this,a=c.dom;if(a&&c.isAnimate){c.stopAnimation()}arguments.callee.$previous.call(this);if(a&&Ext.isIE8){h=h||b.createElement('div');h.appendChild(a);h.innerHTML=''}},doScrollIntoView:function(a,n,b,l,k,m){c=c||new Ext.dom.Fly();var d=this,j=d.dom,h=c.attach(a)[k](),i=a.scrollTop,g=d.getScrollIntoViewXY(a,h,i),e=g.x,f=g.y;if(l){if(b){b=Ext.apply({listeners:{afteranimate:function(){c.attach(j).highlight()}}},b)}else {c.attach(j).highlight()}}if(f!==i){c.attach(a).scrollTo('top',f,b)}if(n!==!1&&e!==h){c.attach(a)[m]('left',e,b)}return d},fadeIn:function(c){var a=this,b=a.dom;a.animate(Ext.apply({},c,{opacity:1,internalListeners:{beforeanimate:function(d){var a=Ext.fly(b,'_anim');if(a.isStyle('display','none')){a.setDisplayed('')}else {a.show()}}}}));return this},fadeOut:function(a){var b=this,c=b.dom;a=Ext.apply({opacity:0,internalListeners:{afteranimate:function(d){if(c&&d.to.opacity===0){var b=Ext.fly(c,'_anim');if(a.useDisplay){b.setDisplayed(!1)}else {b.hide()}}}}},a);b.animate(a);return b},fixDisplay:function(){var a=this;if(a.isStyle(e,m)){a.setStyle(s,f);a.setStyle(e,t(a));if(a.isStyle(e,m)){a.setStyle(e,'block')}}},frame:function(b,c,a){var d=this,f=d.dom,e;b=b||'#C3DAF9';c=c||1;a=a||{};e=function(){var g=Ext.fly(f,'_anim'),i=this,d,e,h;g.show();d=g.getBox();e=Ext.getBody().createChild({role:'presentation',id:g.dom.id+'-anim-proxy',style:{position:'absolute','pointer-events':'none','z-index':35000,border:'0px solid '+b}});h=new Ext.fx.Anim({target:e,duration:a.duration||1000,iterations:c,from:{top:d.y,left:d.x,borderWidth:0,opacity:1,height:d.height,width:d.width},to:{top:d.y-20,left:d.x-20,borderWidth:10,opacity:0,height:d.height+40,width:d.width+40}});h.on('afteranimate',function(){e.destroy();i.end()})};d.animate({duration:Math.max(a.duration,500)*2||2000,listeners:{beforeanimate:{fn:e}},callback:a.callback,scope:a.scope});return d},getColor:function(h,f,c){var a=this.getStyle(h),b=c||c===''?c:'#',d,g,e=0;if(!a||/transparent|inherit/.test(a)){return f}if(/^r/.test(a)){a=a.slice(4,a.length-1).split(',');g=a.length;for(;e<g;e++){d=parseInt(a[e],10);b+=(d<16?'0':'')+d.toString(16)}}else {a=a.replace('#','');b+=a.length===3?a.replace(/^(\w)(\w)(\w)$/,'$1$1$2$2$3$3'):a}return b.length>5?b.toLowerCase():f},getLoader:function(){var c=this,b=c.getData(),a=b.loader;if(!a){b.loader=a=new Ext.ElementLoader({target:c})}return a},getPositioning:function(c){var a=this.getStyle(['left','top','position','z-index']),b=this.dom;if(c){if(a.left==='auto'){a.left=b.offsetLeft+'px'}if(a.top==='auto'){a.top=b.offsetTop+'px'}}return a},getScroll:function(){var g=this,c=g.dom,f=b.documentElement,d,e,a=document.body;if(c===b||c===a){d=f.scrollLeft||(a?a.scrollLeft:0);e=f.scrollTop||(a?a.scrollTop:0)}else {d=c.scrollLeft;e=c.scrollTop}return {left:d,top:e}},getScrollIntoViewXY:function(o,a,b){var n=this,m=n.dom,g=Ext.getDom(o),h=n.getOffsetsTo(g),l=m.offsetWidth,j=m.offsetHeight,e=h[0]+a,f=h[1]+b,i=f+j,k=e+l,c=g.clientHeight,d=g.clientWidth,p=b+c,q=a+d,a,b;if(j>c||f<b){b=f}else {if(i>p){b=i-c}}if(l>d||e<a){a=e}else {if(k>q){a=k-d}}return {x:a,y:b}},getScrollLeft:function(){var a=this.dom;if(a===b||a===document.body){return this.getScroll().left}else {return a.scrollLeft}},getScrollTop:function(){var a=this.dom;if(a===b||a===document.body){return this.getScroll().top}else {return a.scrollTop}},getXY:function(){var a=arguments.callee.$previous.call(this),b=Ext.getDoc().getScroll();a[0]+=b.left;a[1]+=b.top;return a},ghost:function(a,e){var b=this,d=b.dom,c;a=a||'b';c=function(){var h=Ext.fly(d,'_anim'),g=h.getWidth(),f=h.getHeight(),c=h.getXY(),i=h.getPositioning(),b={opacity:0};switch(a){case 't':b.y=c[1]-f;break;case 'l':b.x=c[0]-g;break;case 'r':b.x=c[0]+g;break;case 'b':b.y=c[1]+f;break;case 'tl':b.x=c[0]-g;b.y=c[1]-f;break;case 'bl':b.x=c[0]-g;b.y=c[1]+f;break;case 'br':b.x=c[0]+g;b.y=c[1]+f;break;case 'tr':b.x=c[0]+g;b.y=c[1]-f;break;}this.to=b;this.on('afteranimate',function(){var b=Ext.fly(d,'_anim');if(b){b.hide();b.clearOpacity();b.setPositioning(i)}})};b.animate(Ext.applyIf(e||{},{duration:500,easing:'ease-out',listeners:{beforeanimate:c}}));return b},hide:function(a){if(typeof a==='string'){this.setVisible(!1,a);return this}this.setVisible(!1,this.anim(a));return this},highlight:function(l,b){var h=this,f=h.dom,k={},j,i,c,e,a,g;b=b||{};e=b.listeners||{};c=b.attr||'backgroundColor';k[c]=l||'ffff9c';if(!b.to){i={};i[c]=b.endColor||h.getColor(c,'ffffff','')}else {i=b.to}b.listeners=Ext.apply(Ext.apply({},e),{beforeanimate:function(){j=f.style[c];var h=Ext.fly(f,'_anim');h.clearOpacity();h.show();a=e.beforeanimate;if(a){g=a.fn||a;return g.apply(a.scope||e.scope||d,arguments)}},afteranimate:function(){if(f){f.style[c]=j}a=e.afteranimate;if(a){g=a.fn||a;g.apply(a.scope||e.scope||d,arguments)}}});h.animate(Ext.apply({},b,{duration:1000,easing:'ease-in',from:k,to:i}));return h},hover:function(d,e,c,b){var a=this;a.on('mouseenter',d,c||a.dom,b);a.on('mouseleave',e,c||a.dom,b);return a},initDD:function(c,b,a){var d=new Ext.dd.DD(Ext.id(this.dom),c,b);return Ext.apply(d,a)},initDDProxy:function(c,b,a){var d=new Ext.dd.DDProxy(Ext.id(this.dom),c,b);return Ext.apply(d,a)},initDDTarget:function(c,b,a){var d=new Ext.dd.DDTarget(Ext.id(this.dom),c,b);return Ext.apply(d,a)},isFocusable:function(g){var f=this,b=f.dom,d=b.getAttributeNode('tabIndex'),c,e=b.nodeName,a=!1;if(d&&d.specified){c=d.value}if(b&&!b.disabled){if(c===-1){a=Ext.enableFocusManager&&g}else {if(w.test(e)){if(e!=='a'||b.href){a=!0}}else {a=c!=null&&c>=0}}a=a&&f.isVisible(!0)}return a},isMasked:function(){var e=this,d=e.getData(),c=d.maskEl,b=d.maskMsg,a=!1;if(c&&c.isVisible()){if(b){b.center(e)}a=!0}return a},isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},load:function(a){this.getLoader().load(a);return this},mask:function(h,g,i){var d=this,e=d.dom,f=d.getData(),c=f.maskEl,a=f.maskMsg;if(!(J.test(e.tagName)&&d.getStyle('position')=='static')){d.addCls(o)}if(c){c.destroy()}if(a){a.destroy()}Ext.DomHelper.append(e,[{role:'presentation',cls:'x-mask',style:'top:0;left:0;'},{role:'presentation',cls:g?q+' '+g:q,cn:{tag:'div',role:'presentation',cls:'x-mask-msg-inner',cn:{tag:'div',role:'presentation',cls:'x-mask-msg-text',html:h||''}}}]);a=Ext.get(e.lastChild);c=Ext.get(a.dom.previousSibling);f.maskMsg=a;f.maskEl=c;d.addCls(v);c.setDisplayed(!0);if(typeof h==='string'){a.setDisplayed(!0);a.center(d)}else {a.setDisplayed(!1)}if(e===b.body){c.addCls('x-mask-fixed')}if(Ext.isIE9m&&e!==b.body&&d.isStyle('height','auto')){c.setSize(undefined,i||d.getHeight())}return c},monitorMouseLeave:function(e,d,f){var c=this,b,a={mouseleave:function(a){b=setTimeout(Ext.Function.bind(d,f||c,[a]),e)},mouseenter:function(){clearTimeout(b)},freezeEvent:!0};c.on(a);return a},needsTabIndex:function(){var a=this;if(a.dom){if(a.dom.nodeName==='a'&&!a.dom.href){return !0}return !w.test(a.dom.nodeName)}},normalizeEvent:function(b){var c,a;if(!Ext.supports.MouseEnterLeave&&y.test(b)){c=this.normalizeWithin;a=b=='mouseenter'?'mouseover':'mouseout'}else {if(b=='mousewheel'&&!Ext.supports.MouseWheel&&!Ext.isOpera){a='DOMMouseScroll'}}return a?{eventName:a,normalizeFn:c}:null},normalizeWithin:function(c){var b=c.currentTarget,a=c.getRelatedTarget();if(b&&b.firstChild){while(a){if(a===b){return !1}a=a.parentNode;if(a&&a.nodeType!==1){a=null}}}return !0},puff:function(a){var c=this,e=c.dom,d,b=c.getBox(),f=c.getStyle(['width','height','left','right','top','bottom','position','z-index','font-size','opacity'],!0);a=Ext.applyIf(a||{},{easing:'ease-out',duration:500,useDisplay:!1});d=function(){var c=Ext.fly(e,'_anim');c.clearOpacity();c.show();this.to={width:b.width*2,height:b.height*2,x:b.x-b.width/2,y:b.y-b.height/2,opacity:0,fontSize:'200%'};this.on('afteranimate',function(){var b=Ext.fly(e,'_anim');if(b){if(a.useDisplay){b.setDisplayed(!1)}else {b.hide()}b.setStyle(f);Ext.callback(a.callback,a.scope)}})};c.animate({duration:a.duration,easing:a.easing,listeners:{beforeanimate:{fn:d}}});return c},scroll:function(a,d,i){if(!this.isScrollable()){return !1}a=a.charAt(0);var e=this,h=e.dom,g=a==='r'||a==='l'?'left':'top',f=!1,b,c;if(a==='l'||a==='t'||a==='u'){d=-d}if(g==='left'){b=h.scrollLeft;c=e.constrainScrollLeft(b+d)}else {b=h.scrollTop;c=e.constrainScrollTop(b+d)}if(c!==b){this.scrollTo(g,c,i);f=!0}return f},scrollBy:function(a,b,d){var c=this,e=c.dom;if(a.length){d=b;b=a[1];a=a[0]}else {if(typeof a!='number'){d=b;b=a.y;a=a.x}}if(a){c.scrollTo('left',c.constrainScrollLeft(e.scrollLeft+a),d)}if(b){c.scrollTo('top',c.constrainScrollTop(e.scrollTop+b),d)}return c},scrollChildIntoView:function(b,a){c=c||new Ext.dom.Fly();c.attach(Ext.getDom(b)).scrollIntoView(this,a)},scrollIntoView:function(a,d,c,b){a=Ext.getDom(a)||Ext.getBody().dom;return this.doScrollIntoView(a,d,c,b,'getScrollLeft','scrollTo')},scrollTo:function(g,d,c){var h=/top/i.test(g),b=this,e=h?'scrollTop':'scrollLeft',f=b.dom,a;if(!c||!b.anim){f[e]=d;f[e]=d}else {a={to:{}};a.to[e]=d;if(Ext.isObject(c)){Ext.applyIf(a,c)}b.animate(a)}return b},selectable:function(){var b=this;b.dom.unselectable='';b.removeCls(a.unselectableCls);b.addCls(a.selectableCls);return b},setBox:function(b,a){return a?this._animSetBox(b,a):arguments.callee.$previous.call(this,b)},setCapture:function(){var a=this.dom;if(Ext.isIE9m&&a.setCapture){a.setCapture()}},setDisplayed:function(a){if(typeof a==='boolean'){a=a?t(this):m}this.setStyle(e,a);return this},setHeight:function(c,a){var b=this;if(!a||!b.anim){arguments.callee.$previous.apply(this,arguments)}else {if(!Ext.isObject(a)){a={}}b.animate(Ext.applyIf({to:{height:c}},a))}return b},setHorizontal:function(){var a=this,b=a.verticalCls;delete a.vertical;if(b){delete a.verticalCls;a.removeCls(b)}delete a.setWidth;delete a.setHeight;if(!Ext.isIE9m){delete a.getWidth;delete a.getHeight}delete a.styleHooks},updateText:function(d){var e=this,c,a;if(c){a=c.firstChild;if(!a||(a.nodeType!==3||a.nextSibling)){a=b.createTextNode();e.empty();c.appendChild(a)}if(d){a.data=d}}},setHtml:function(c,i,g){var a=this,f,e,h;if(!a.dom){return a}c=c||'';e=a.dom;if(i!==!0){e.innerHTML=c;Ext.callback(g,a);return a}f=Ext.id();c+='<span id="'+f+'" role="presentation"></span>';h=setInterval(function(){var o,e,l,k,j,n,m;if(!(n=b.getElementById(f))){return !1}clearInterval(h);Ext.removeNode(n);o=Ext.getHead().dom;while(e=B.exec(c)){l=e[1];k=l?l.match(M):!1;if(k&&k[2]){m=b.createElement('script');m.src=k[2];j=l.match(K);if(j&&j[2]){m.type=j[2]}o.appendChild(m)}else {if(e[2]&&e[2].length>0){if(d.execScript){d.execScript(e[2])}else {d['eval'](e[2])}}}}Ext.callback(g,a)},20);e.innerHTML=c.replace(x,'');return a},setOpacity:function(c,b){var a=this;if(!a.dom){return a}if(!b||!a.anim){a.setStyle('opacity',c)}else {if(typeof b!='object'){b={duration:350,easing:'ease-in'}}a.animate(Ext.applyIf({to:{opacity:c}},b))}return a},setPositioning:function(a){return this.setStyle(a)},setScrollLeft:function(a){this.dom.scrollLeft=a;return this},setScrollTop:function(a){this.dom.scrollTop=a;return this},setVertical:function(e,d){var b=this,c=a.prototype;b.vertical=!0;if(d){b.addCls(b.verticalCls=d)}b.setWidth=c.setHeight;b.setHeight=c.setWidth;if(!Ext.isIE9m){b.getWidth=c.getHeight;b.getHeight=c.getWidth}b.styleHooks=e===270?c.verticalStyleHooks270:c.verticalStyleHooks90},setSize:function(b,e,c){var d=this;if(Ext.isObject(b)){c=e;e=b.height;b=b.width}if(!c||!d.anim){d.dom.style.width=a.addUnits(b);d.dom.style.height=a.addUnits(e)}else {if(c===!0){c={}}d.animate(Ext.applyIf({to:{width:b,height:e}},c))}return d},setVisible:function(g,c){var b=this,h=b.dom,d=C(b);if(typeof c==='string'){switch(c){case e:d=a.DISPLAY;break;case s:d=a.VISIBILITY;break;case G:d=a.OFFSETS;break;}b.setVisibilityMode(d);c=!1}if(!c||!b.anim){if(d===a.DISPLAY){return b.setDisplayed(g)}else {if(d===a.OFFSETS){b[g?'removeCls':'addCls'](A)}else {if(d===a.VISIBILITY){b.fixDisplay();h.style.visibility=g?'':f}}}}else {if(g){b.setOpacity(0.01);b.setVisible(!0)}if(!Ext.isObject(c)){c={duration:350,easing:'ease-in'}}b.animate(Ext.applyIf({callback:function(){if(!g){Ext.fly(h).setVisible(!1).setOpacity(1)}},to:{opacity:g?1:0}},c))}b.getData()[E]=g;return b},setWidth:function(c,a){var b=this;if(!a||!b.anim){arguments.callee.$previous.apply(this,arguments)}else {if(!Ext.isObject(a)){a={}}b.animate(Ext.applyIf({to:{width:c}},a))}return b},setX:function(b,a){return this.setXY([b,this.getY()],a)},setXY:function(b,a){var c=this;if(!a||!c.anim){arguments.callee.$previous.call(this,b)}else {if(!Ext.isObject(a)){a={}}c.animate(Ext.applyIf({to:{x:b[0],y:b[1]}},a))}return this},setY:function(b,a){return this.setXY([this.getX(),b],a)},show:function(a){if(typeof a==='string'){this.setVisible(!0,a);return this}this.setVisible(!0,this.anim(a));return this},slideIn:function(a,c,d){var b=this,g=b.dom,h=g.style,j,e,f,i;a=a||'t';c=c||{};j=function(){var p=this,o=c.listeners,m=Ext.fly(g,'_anim'),j,n,l,k;if(!d){m.fixDisplay()}j=m.getBox();if((a=='t'||a=='b')&&j.height===0){j.height=g.scrollHeight}else {if((a=='l'||a=='r')&&j.width===0){j.width=g.scrollWidth}}n=m.getStyle(['width','height','left','right','top','bottom','position','z-index'],!0);m.setSize(j.width,j.height);if(c.preserveScroll){f=m.cacheScrollValues()}k=m.wrap({role:'presentation',id:Ext.id()+'-anim-wrap-for-'+m.dom.id,style:{visibility:d?'visible':'hidden'}});i=k.dom.parentNode;k.setPositioning(m.getPositioning(!0));if(k.isStyle('position','static')){k.position('relative')}m.clearPositioning('auto');k.clip();if(f){f()}m.setStyle({visibility:'',position:'absolute'});if(d){k.setSize(j.width,j.height)}switch(a){case 't':l={from:{width:j.width+'px',height:'0px'},to:{width:j.width+'px',height:j.height+'px'}};h.bottom='0px';break;case 'l':l={from:{width:'0px',height:j.height+'px'},to:{width:j.width+'px',height:j.height+'px'}};b.anchorAnimX(a);break;case 'r':l={from:{x:j.x+j.width,width:'0px',height:j.height+'px'},to:{x:j.x,width:j.width+'px',height:j.height+'px'}};b.anchorAnimX(a);break;case 'b':l={from:{y:j.y+j.height,width:j.width+'px',height:'0px'},to:{y:j.y,width:j.width+'px',height:j.height+'px'}};break;case 'tl':l={from:{x:j.x,y:j.y,width:'0px',height:'0px'},to:{width:j.width+'px',height:j.height+'px'}};h.bottom='0px';b.anchorAnimX('l');break;case 'bl':l={from:{y:j.y+j.height,width:'0px',height:'0px'},to:{y:j.y,width:j.width+'px',height:j.height+'px'}};b.anchorAnimX('l');break;case 'br':l={from:{x:j.x+j.width,y:j.y+j.height,width:'0px',height:'0px'},to:{x:j.x,y:j.y,width:j.width+'px',height:j.height+'px'}};b.anchorAnimX('r');break;case 'tr':l={from:{x:j.x+j.width,width:'0px',height:'0px'},to:{x:j.x,width:j.width+'px',height:j.height+'px'}};h.bottom='0px';b.anchorAnimX('r');break;}k.show();e=Ext.apply({},c);delete e.listeners;e=new Ext.fx.Anim(Ext.applyIf(e,{target:k,duration:500,easing:'ease-out',from:d?l.to:l.from,to:d?l.from:l.to}));e.on('afteranimate',function(){var b=Ext.fly(g,'_anim');b.setStyle(n);if(d){if(c.useDisplay){b.setDisplayed(!1)}else {b.hide()}}if(k.dom){if(k.dom.parentNode){k.dom.parentNode.insertBefore(b.dom,k.dom)}else {i.appendChild(b.dom)}k.destroy()}if(f){f()}p.end()});if(o){e.on(o)}};b.animate({duration:c.duration?Math.max(c.duration,500)*2:1000,listeners:{beforeanimate:j}});return b},slideOut:function(a,b){return this.slideIn(a,b,!0)},swallowEvent:function(a,f){var b=this,c,d,e=function(b){b.stopPropagation();if(f){b.preventDefault()}};if(Ext.isArray(a)){d=a.length;for(c=0;c<d;c++){b.on(a[c],e)}return b}b.on(a,e);return b},switchOff:function(a){var c=this,b=c.dom,d;a=Ext.applyIf(a||{},{easing:'ease-in',duration:500,remove:!1,useDisplay:!1});d=function(){var c=Ext.fly(b,'_anim'),h=this,d=c.getSize(),g=c.getXY(),e,f;c.clearOpacity();c.clip();f=c.getPositioning();e=new Ext.fx.Animator({target:b,duration:a.duration,easing:a.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:g[1]+d.height/2},100:{width:1,x:g[0]+d.width/2}}});e.on('afteranimate',function(){var c=Ext.fly(b,'_anim');if(a.useDisplay){c.setDisplayed(!1)}else {c.hide()}c.clearOpacity();c.setPositioning(f);c.setSize(d);h.end()})};c.animate({duration:Math.max(a.duration,500)*2,listeners:{beforeanimate:{fn:d}},callback:a.callback,scope:a.scope});return c},syncContent:function(d){d=Ext.getDom(d);var i=d.childNodes,k=i.length,e=this.dom,j=e.childNodes,m=j.length,b,c,a,g,f,l,h;if(Ext.isIE9m&&e.mergeAttributes){e.mergeAttributes(d,!0);e.src=d.src}else {f=d.attributes;l=f.length;for(b=0;b<l;b++){h=f[b].name;if(h!=='id'){e.setAttribute(h,f[b].value)}}}if(k!==m){e.innerHTML=d.innerHTML;return}for(b=0;b<k;b++){a=i[b];c=j[b];g=a.nodeType;if(g!==c.nodeType||g===1&&a.tagName!==c.tagName){e.innerHTML=d.innerHTML;return}if(g===3){c.data=a.data}else {if(a.id&&c.id!==a.id){c.id=a.id}c.style.cssText=a.style.cssText;c.className=a.className;Ext.fly(c,'_syncContent').syncContent(a)}}},toggle:function(b){var a=this;a.setVisible(!a.isVisible(),a.anim(b));return a},unmask:function(){var e=this,c=e.getData(),a=c.maskEl,d=c.maskMsg,b;if(a){b=a.dom.style;if(b.clearExpression){b.clearExpression('width');b.clearExpression('height')}if(a){a.destroy();delete c.maskEl}if(d){d.destroy();delete c.maskMsg}e.removeCls([v,o])}},unclip:function(){var b=this,c=b.getData(),a;if(c[i]){c[i]=!1;a=c[r];if(a.o){b.setStyle(l,a.o)}if(a.x){b.setStyle(j,a.x)}if(a.y){b.setStyle(k,a.y)}}return b},translate:function(a,b,c){if(Ext.supports.CssTransforms&&!Ext.isIE9m){arguments.callee.$previous.apply(this,arguments)}else {if(a!=null){this.dom.style.left=a+'px'}if(b!=null){this.dom.style.top=b+'px'}this.dom.style.position='absolute'}},unselectable:function(){var b=this;if(Ext.isOpera){b.dom.unselectable='on'}b.removeCls(a.selectableCls);b.addCls(a.unselectableCls);return b},deprecated:{'4.0':{methods:{pause:function(b){var a=this;Ext.fx.Manager.setFxDefaults(a.id,{delay:b});return a},scale:function(c,a,b){this.animate(Ext.apply({},b,{width:c,height:a}));return this},shift:function(a){this.animate(a);return this}}},'4.2':{methods:{moveTo:function(b,c,a){return this.setXY([b,c],a)},setBounds:function(d,e,c,b,a){return this.setBox({x:d,y:e,width:c,height:b},a)},setLeftTop:function(d,e){var c=this,b=c.dom.style;b.left=a.addUnits(d);b.top=a.addUnits(e);return c},setLocation:function(b,c,a){return this.setXY([b,c],a)}}},'5.0':{methods:{getAttributeNS:function(a,b){return this.getAttribute(b,a)},getCenterXY:function(){return this.getAlignToXY(b,'c-c')},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(I))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(L))||0},getStyleSize:function(){var d=this,e=this.dom,h=e===b||e===b.body,c,g,f;if(h){return {width:a.getViewportWidth(),height:a.getViewportHeight()}}c=d.getStyle(['height','width'],!0);if(c.width&&c.width!=='auto'){g=parseFloat(c.width)}if(c.height&&c.height!=='auto'){f=parseFloat(c.height)}return {width:g||d.getWidth(!0),height:f||d.getHeight(!0)}},isBorderBox:function(){return !0},isDisplayed:function(){return !this.isStyle('display','none')},focusable:'isFocusable'}}}}}(),function(){var g=Ext.dom.Element,d=g.prototype,v=!Ext.isIE8,e=document,r=e.defaultView,q=/alpha\(opacity=(.*)\)/i,y=/^\s+|\s+$/g,f=d.styleHooks,c=Ext.supports,l=0,p,h,b,a,n,o,j,k;d._init(g);delete d._init;g.on=g.addListener;if(Ext.os.is.iOS||Ext.os.is.Android){l=2}else {if(navigator.msMaxTouchPoints||Ext.isWebKit&&c.TouchEvents&&Ext.os.is.Desktop){l=1}}Ext.apply(c,{touchScroll:l});Ext.plainTableCls='x-table-plain';Ext.plainListCls='x-list-plain';if(Ext.CompositeElementLite){Ext.CompositeElementLite.importElementMethods()}d.verticalStyleHooks90=b=Ext.Object.chain(f);d.verticalStyleHooks270=a=Ext.Object.chain(f);b.width={name:'height'};b.height={name:'width'};b['margin-top']={name:'marginLeft'};b['margin-right']={name:'marginTop'};b['margin-bottom']={name:'marginRight'};b['margin-left']={name:'marginBottom'};b['padding-top']={name:'paddingLeft'};b['padding-right']={name:'paddingTop'};b['padding-bottom']={name:'paddingRight'};b['padding-left']={name:'paddingBottom'};b['border-top']={name:'borderLeft'};b['border-right']={name:'borderTop'};b['border-bottom']={name:'borderRight'};b['border-left']={name:'borderBottom'};a.width={name:'height'};a.height={name:'width'};a['margin-top']={name:'marginRight'};a['margin-right']={name:'marginBottom'};a['margin-bottom']={name:'marginLeft'};a['margin-left']={name:'marginTop'};a['padding-top']={name:'paddingRight'};a['padding-right']={name:'paddingBottom'};a['padding-bottom']={name:'paddingLeft'};a['padding-left']={name:'paddingTop'};a['border-top']={name:'borderRight'};a['border-right']={name:'borderBottom'};a['border-bottom']={name:'borderLeft'};a['border-left']={name:'borderTop'};f.opacity={name:'opacity',afterSet:function(c,b,a){if(a.isLayer){a.onOpacitySet(b)}}};if(!c.Opacity&&Ext.isIE){Ext.apply(f.opacity,{get:function(d){var c=d.style.filter,b,a;if(c.match){b=c.match(q);if(b){a=parseFloat(b[1]);if(!isNaN(a)){return a?a/100:0}}}return 1},set:function(d,a){var b=d.style,c=b.filter.replace(q,'').replace(y,'');b.zoom=1;if(typeof a==='number'&&a>=0&&a<1){a*=100;b.filter=c+(c.length?' ':'')+'alpha(opacity='+a+')'}else {b.filter=c}}})}if(!c.matchesSelector){var s=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,x=/\-/g,i,u=function(a,c){var b=new RegExp('(?:^|\\s+)'+c.replace(x,'\\-')+'(?:\\s+|$)');if(a&&a!=='*'){a=a.toUpperCase();return function(d){return d.tagName===a&&b.test(d.className)}}return function(d){return b.test(d.className)}},w=function(a){a=a.toUpperCase();return function(b){return b.tagName===a}},m={};d.matcherCache=m;d.is=function(a){if(!a){return !0}var b=this.dom,g,f,d,c,j,k,h;if(b.nodeType!==1){return !1}if(!(d=Ext.isFunction(a)?a:m[a])){if(!(f=a.match(s))){c=b.parentNode;if(!c){j=!0;c=i||(i=e.createDocumentFragment());i.appendChild(b)}k=Ext.Array.indexOf(Ext.fly(c,'_is').query(a),b)!==-1;if(j){i.removeChild(b)}return k}h=f[1];g=f[2];m[a]=d=g?u(h,g):w(h)}return d(b)}}if(!r||!r.getComputedStyle){d.getStyle=function(o,p){var j=this,e=j.dom,n=typeof o!=='string',a=o,i=a,r=1,m=p,l=j.styleHooks,q,h,d,c,f,b,k;if(n){d={};a=i[0];k=0;if(!(r=i.length)){return d}}if(!e||e.documentElement){return d||''}h=e.style;if(p){b=h}else {b=e.currentStyle;if(!b){m=!0;b=h}}do{c=l[a];if(!c){l[a]=c={name:g.normalize(a)}}if(c.get){f=c.get(e,j,m,b)}else {q=c.name;f=b[q]}if(!n){return f}d[a]=f;a=i[++k]}while(k<r);return d}}if(Ext.isIE8){var t=function(c,d,b,a){if(a[this.styleName]==='none'){return '0px'}return a[this.name]};n=['Top','Right','Bottom','Left'];o=n.length;while(o--){j=n[o];k='border'+j+'Width';f['border-'+j.toLowerCase()+'-width']=f[k]={name:k,styleName:'border'+j+'Style',get:t}}}Ext.apply(Ext,{enableGarbageCollector:!0,isBorderBox:!0,getDetachedBody:function(){var a=Ext.detachedBodyEl;if(!a){a=e.createElement('div');Ext.detachedBodyEl=a=new Ext.dom.Fly(a);a.isDetachedBody=!0}return a},getElementById:function(c){var a=e.getElementById(c),b;if(!a&&(b=Ext.detachedBodyEl)){a=b.dom.querySelector(Ext.makeIdSelector(c))}return a},addBehaviors:function(e){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(e)})}else {var b={},c,d,a;for(d in e){if((c=d.split('@'))[1]){a=c[0];if(!b[a]){b[a]=Ext.fly(document).select(a,!0)}b[a].on(c[1],e[d])}}b=null}}});if(Ext.isIE8){p=Ext.removeNode;Ext.removeNode=function(a){p(a);h=h||e.createElement('div');h.appendChild(a);h.innerHTML=''}}if(Ext.isIE9m){Ext.getElementById=function(c){var a=e.getElementById(c),b;if(!a&&(b=Ext.detachedBodyEl)){a=b.dom.all[c]}return a};d.getById=function(d,g){var f=this.dom,b=null,a,c;if(f){c=v&&e.getElementById(d)||f.all[d];if(c){if(g){b=c}else {a=Ext.cache[d];if(a){if(a.skipGarbageCollection||!Ext.isGarbage(a.dom)){b=a}else {a.destroy()}}b=b||new Ext.Element(c)}}}return b}}else {if(!e.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(a){return e.getElementById(a)};d.getById=function(c,b){var a=e.getElementById(c);return b?a:a?Ext.get(a):null}}}if(Ext.isIE&&!(Ext.isIE9p&&e.documentMode>=9)){d.getAttribute=function(a,c){var d=this.dom,b;if(c){b=typeof d[c+':'+a];if(b!='undefined'&&b!='unknown'){return d[c+':'+a]||null}return null}if(a==='for'){a='htmlFor'}return d[a]||null}}Ext.onReady(function(){var k=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,a=[],b,j,i,h;if(c.MinWidthTableCellBug){f.width={name:'width',set:function(c,e,f){var a=c.style,b=f._needsMinWithFix,d=a.display;if(b){a.display='none'}a.width=e;if(b){c.scrollWidth;a.display=d}}};origSetWidth=d.setWidth;d.setWidth=function(g,b){var a=this,e=a.dom,c=e.style,d=a._needsMinWithFix,f=c.display;if(d&&!b){c.display='none'}origSetWidth.call(a,g,b);if(d&&!b){e.scrollWidth;c.display=f}return a};origSetSize=d.setSize;d.setSize=function(h,g,b){var a=this,e=a.dom,c=e.style,d=a._needsMinWithFix,f=c.display;if(d&&!b){c.display='none'}origSetSize.call(a,h,g,b);if(d&&!b){e.scrollWidth;c.display=f}return a}}Ext.getDoc().on('selectstart',function(h,a){var f=g.selectableCls,d=g.unselectableCls,b=a&&a.tagName;b=b&&b.toLowerCase();if(b==='input'||b==='textarea'){return}while(a&&a.nodeType===1&&a!==e.documentElement){var c=Ext.fly(a);if(c.hasCls(f)){return}if(c.hasCls(d)){h.stopEvent();return}a=a.parentNode}});function fixTransparent(d,e,c,b){var a=b[this.name]||'';return k.test(a)?'transparent':a}function makeSelectionRestoreFn(a,b,c){return function(){a.selectionStart=b;a.selectionEnd=c}}function getRightMarginFixCleaner(i){var h=c.DisplayChangeInputSelectionBug,f=c.DisplayChangeTextAreaSelectionBug,a,e,b,d;if(h||f){a=g.getActiveElement();e=a&&a.tagName;if(f&&e==='TEXTAREA'||h&&e==='INPUT'&&a.type==='text'){if(Ext.fly(i).isAncestor(a)){b=a.selectionStart;d=a.selectionEnd;if(Ext.isNumber(b)&&Ext.isNumber(d)){return makeSelectionRestoreFn(a,b,d)}}}}return Ext.emptyFn}function fixRightMargin(c,g,f,e){var b=e.marginRight,a,d;if(b!=='0px'){a=c.style;d=a.display;a.display='inline-block';b=(f?e:c.ownerDocument.defaultView.getComputedStyle(c,null)).marginRight;a.display=d}return b}function fixRightMarginAndInputFocus(b,h,g,f){var c=f.marginRight,a,d,e;if(c!=='0px'){a=b.style;d=getRightMarginFixCleaner(b);e=a.display;a.display='inline-block';c=(g?f:b.ownerDocument.defaultView.getComputedStyle(b,'')).marginRight;a.display=e;d()}return c}if(!c.RightMargin){f.marginRight=f['margin-right']={name:'marginRight',get:c.DisplayChangeInputSelectionBug||c.DisplayChangeTextAreaSelectionBug?fixRightMarginAndInputFocus:fixRightMargin}}if(!c.TransparentColor){b=['background-color','border-color','color','outline-color'];for(j=b.length;j--;){i=b[j];h=g.normalize(i);f[i]=f[h]={name:h,get:fixTransparent}}}if(!Ext.scopeCss){a.push('x-body')}if(c.Touch){a.push('x-touch')}if(Ext.isIE&&Ext.isIE9m){a.push('x-ie','x-ie9m');a.push('x-ie8p');if(Ext.isIE8){a.push('x-ie8')}else {a.push('x-ie9','x-ie9p')}if(Ext.isIE8m){a.push('x-ie8m')}}if(Ext.isIE10){a.push('x-ie10')}if(Ext.isGecko){a.push('x-gecko')}if(Ext.isOpera){a.push('x-opera')}if(Ext.isWebKit){a.push('x-webkit')}if(Ext.isSafari){a.push('x-safari')}if(Ext.isChrome){a.push('x-chrome')}if(Ext.isMac){a.push('x-mac')}if(Ext.isLinux){a.push('x-linux')}if(!c.CSS3BorderRadius){a.push('x-nbr')}if(!c.CSS3LinearGradient){a.push('x-nlg')}if(c.Touch){a.push('x-touch')}Ext.getBody().addCls(a)},null,{priority:1500})});Ext.define('Ext.overrides.event.publisher.Dom',{override:'Ext.event.publisher.Dom'},function(){var b=Ext.event.publisher.Dom,a=b.prototype;if(Ext.isIE9m){b.override({initHandlers:function(){var a=this,b,c;a.callParent();b=a.onDelegatedEvent;c=a.onDirectEvent;a.target=document;a.targetIsWin=!1;a.onDelegatedEvent=function(c){c.target=c.srcElement||window;b.call(a,c)};a.onDirectEvent=function(b){b.target=b.srcElement||window;b.currentTarget=this;c.call(a,b)}},addDelegatedListener:function(a){this.target.attachEvent('on'+a,this.onDelegatedEvent)},removeDelegatedListener:function(a){this.target.detachEvent('on'+a,this.onDelegatedEvent)},addDirectListener:function(c,a){var b=this,d=Ext.Function.bind(b.onDirectEvent,a);b.directSubscribers[a.id][c].fn=d;if(a.attachEvent){a.attachEvent('on'+c,d)}else {b.callParent(arguments)}},removeDirectListener:function(b,a){if(a.detachEvent){a.detachEvent('on'+b,this.directSubscribers[a.id][b].fn)}else {this.callParent(arguments)}}});Ext.apply(a.directEvents,a.captureEvents);a.captureEvents={}}});Ext.cmd.derive('Ext.data.flash.BinaryXhr',Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById('ext-flash-polyfill');Ext.GlobalEvents.fireEvent('flashready')},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(b,c,d){var a;a=this.liveConnections[Number(b)];if(a){a.onFlashStateChange(c,d)}},registerConnection:function(b){var a=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[a]=b;return a},injectFlashPlugin:function(){var c=this,b,a;c.flashPolyfillEl=Ext.getBody().appendChild({id:'ext-flash-polyfill',cn:[{tag:'p',html:'To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.'},{tag:'a',href:'http://www.adobe.com/go/getflashplayer',cn:[{tag:'img',src:window.location.protocol+'//www.adobe.com/images/shared/download_buttons/get_flash_player.gif',alt:'Get Adobe Flash player'}]}]});b=[Ext.Loader.getPath('Ext.data.Connection'),'../../../plugins/flash/swfobject.js'].join('/');a='/plugins/flash/FlashPlugin.swf';if(Ext.flashPluginPath){a=Ext.flashPluginPath}Ext.Loader.loadScript({url:b,onLoad:function(){var d='11.4.0';var e='playerProductInstall.swf';var f={};var b={};b.quality='high';b.bgcolor='#ffffff';b.allowscriptaccess='sameDomain';b.allowfullscreen='true';var c={};c.id='ext-flash-polyfill';c.name='polyfill';c.align='middle';swfobject.embedSWF(a,'ext-flash-polyfill','0','0',d,e,f,b,c)},onError:function(){},scope:c});Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:'',responseBytes:null,javascriptId:null,constructor:function(b){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var a=this;Ext.apply(a,b);a.requestHeaders={}},abort:function(){var a=this;if(a.readyState==4){return}a.aborted=!0;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener('flashready',a.onFlashReady,a);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]},getAllResponseHeaders:function(){var a=[];Ext.Object.each(this.responseHeaders,function(c,b){a.push(c+': '+b)});return a.join('\r\n')},getResponseHeader:function(b){var a=this.responseHeaders;return a&&a[b]||null},open:function(c,f,d,e,b){var a=this;a.method=c;a.url=f;a.async=d!==!1;a.user=e;a.password=b},overrideMimeType:function(a){this.mimeType=a},send:function(b){var a=this;a.body=b;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.addListener('flashready',a.onFlashReady,a)}else {this.onFlashReady()}},onFlashReady:function(){var a=this,b,c;a.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(a);b={method:a.method,url:a.url,user:a.user,password:a.password,mimeType:a.mimeType,requestHeaders:a.requestHeaders,body:a.body,javascriptId:a.javascriptId};c=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(b)},setReadyState:function(b){var a=this;if(a.readyState!=b){a.readyState=b;a.onreadystatechange()}},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,parseData:function(a){var b=this;this.status=a.status||0;b.responseHeaders={};if(b.mimeType){b.responseHeaders['content-type']=b.mimeType}if(a.reason=='complete'){this.responseBytes=a.data;b.responseHeaders['content-length']=a.data.length}else {if(a.reason=='error'||a.reason=='securityError'){this.statusText=a.text;b.responseHeaders['content-length']=0}}},onFlashStateChange:function(b,c){var a=this;if(b==4){a.parseData(c);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]}a.setReadyState(b)}},1,0,0,0,0,0,[Ext.data.flash,'BinaryXhr'],0);Ext.cmd.derive('Ext.data.Connection',Ext.Base,{statics:{requestId:0},config:{url:null,async:!0,username:'',password:'',disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:'text/plain',disableCachingParam:'_dc',timeout:30000,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:'application/x-www-form-urlencoded; charset=UTF-8',useDefaultXhrHeader:!0,defaultXhrHeader:'XMLHttpRequest'},constructor:function(b){var a=this;a.initConfig(b);a.requests={};a.mixins.observable.constructor.call(a)},request:function(b){b=b||{};var a=this,k=b.scope||window,j=b.username||a.getUsername(),i=b.password||a.getPassword()||'',f,d,c,h,g,e;if(a.fireEvent('beforerequest',a,b)!==!1){d=a.setOptions(b,k);if(a.isFormUpload(b)){a.upload(b.form,d.url,d.data,b);return null}if(b.autoAbort||a.getAutoAbort()){a.abort()}f=b.async!==!1?b.async||a.getAsync():!1;e=a.openRequest(b,d,f,j,i);g=a.getIsXdr();if(!g){h=a.setupHeaders(e,b,d.data,d.params)}c={id:++Ext.data.Connection.requestId,xhr:e,headers:h,options:b,async:f,binary:b.binary||a.getBinary(),timeout:setTimeout(function(){c.timedout=!0;a.abort(c)},b.timeout||a.getTimeout())};a.requests[c.id]=c;a.latestId=c.id;if(f){if(!g){e.onreadystatechange=Ext.Function.bind(a.onStateChange,a,[c])}}if(g){a.processXdrRequest(c,e)}e.send(d.data);if(!f){return a.onComplete(c)}return c}else {Ext.callback(b.callback,b.scope,[b,undefined,undefined]);return null}},processXdrRequest:function(a,c){var b=this;delete a.headers;a.contentType=a.options.contentType||b.getDefaultXdrContentType();c.onload=Ext.Function.bind(b.onStateChange,b,[a,!0]);c.onerror=c.ontimeout=Ext.Function.bind(b.onStateChange,b,[a,!1])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return []};a.getResponseHeader=function(){return ''};a.contentType=b.contentType||this.getDefaultXdrContentType()},upload:function(a,r,n,k){a=Ext.getDom(a);k=k||{};var d=Ext.id(),f=document.createElement('iframe'),j=[],m='multipart/form-data',q={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},l=function(c,b){e=document.createElement('input');Ext.fly(e).set({type:'hidden',value:b,name:c});a.appendChild(e);j.push(e)},e,g,b,c,p,i,o,h;Ext.fly(f).set({id:d,name:d,cls:'x-hidden-display',src:Ext.SSL_SECURE_URL});document.body.appendChild(f);if(document.frames){document.frames[d].name=d}Ext.fly(a).set({target:d,method:'POST',enctype:m,encoding:m,action:r||q.action});if(n){g=Ext.Object.fromQueryString(n)||{};for(c in g){if(g.hasOwnProperty(c)){b=g[c];if(Ext.isArray(b)){p=b.length;for(i=0;i<p;i++){l(c,b[i])}}else {l(c,b)}}}}Ext.get(f).on({load:Ext.Function.bind(this.onUploadComplete,this,[f,k]),single:!Ext.isOpera});a.submit();Ext.fly(a).set(q);for(o=j.length,h=0;h<o;h++){Ext.removeNode(j[h])}},onUploadComplete:function(e,c){var h=this,b={responseText:'',responseXML:null},g,f,a,d;try{a=e&&(e.contentWindow.document||e.contentDocument)||(window.frames[e.id]||{}).document;if(a){if(Ext.isOpera&&a.location==Ext.SSL_SECURE_URL){return}if(a.body){if((d=a.body.firstChild)&&/pre/i.test(d.tagName)){b.responseText=d.textContent||d.innerText}else {if(d=a.getElementsByTagName('textarea')[0]){b.responseText=d.value}else {b.responseText=a.body.textContent||a.body.innerText}}}b.responseXML=a.XMLDocument||a;g=c.success;f=!0}else {Ext.Error.raise('Could not acquire a suitable connection for the file upload service.')}}catch(i){b.responseText='{success:false,message:"'+Ext.String.trim(i.message||i.description)+'"}';g=c.failure;f=!1}h.fireEvent(f?'requestcomplete':'requestexception',h,b,c);Ext.callback(g,c.scope,[b,c]);Ext.callback(c.callback,c.scope,[c,f,b]);Ext.defer(Ext.removeNode,100,Ext,[e])},isFormUpload:function(a){var b=this.getForm(a);if(b){return a.isUpload||/multipart\/form-data/i.test(b.getAttribute('enctype'))}return !1},getForm:function(b){var a=b.form||null;if(a){a=Ext.getDom(a)}return a},setOptions:function(a,k){var f=this,b=a.params||{},g=f.getExtraParams(),e=a.urlParams,c=a.url||f.getUrl(),i=a.jsonData,h,j,d;if(Ext.isFunction(b)){b=b.call(k,a)}if(Ext.isFunction(c)){c=c.call(k,a)}c=this.setupUrl(a,c);d=a.rawData||a.binaryData||a.xmlData||i||null;if(i&&!Ext.isPrimitive(i)){d=Ext.encode(d)}if(a.binaryData){if(f.nativeBinaryPostSupport()){d=new Uint8Array(a.binaryData);if(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko){d=d.buffer}}}if(Ext.isObject(b)){b=Ext.Object.toQueryString(b)}if(Ext.isObject(g)){g=Ext.Object.toQueryString(g)}b=b+(g?(b?'&':'')+g:'');e=Ext.isObject(e)?Ext.Object.toQueryString(e):e;b=this.setupParams(a,b);h=(a.method||f.getMethod()||(b||d?'POST':'GET')).toUpperCase();this.setupMethod(a,h);j=a.disableCaching!==!1?a.disableCaching||f.getDisableCaching():!1;if(h==='GET'&&j){c=Ext.urlAppend(c,(a.disableCachingParam||f.getDisableCachingParam())+'='+(new Date()).getTime())}if((h=='GET'||d)&&b){c=Ext.urlAppend(c,b);b=null}if(e){c=Ext.urlAppend(c,e)}return {url:c,method:h,data:d||b||null}},setupUrl:function(c,a){var b=this.getForm(c);if(b){a=a||b.action}return a},setupParams:function(c,a){var d=this.getForm(c),b;if(d&&!this.isFormUpload(c)){b=Ext.Element.serializeForm(d);a=a?a+'&'+b:b}return a},setupMethod:function(a,b){if(this.isFormUpload(a)){return 'POST'}return b},setupHeaders:function(l,f,j,k){var d=this,a=Ext.apply({},f.headers||{},d.getDefaultHeaders()||{}),e=d.getDefaultPostHeader(),h=f.jsonData,i=f.xmlData,b='Content-Type',c,g;if(!a.hasOwnProperty(b)&&(j||k)){if(j){if(f.rawData){e='text/plain'}else {if(i&&Ext.isDefined(i)){e='text/xml'}else {if(h&&Ext.isDefined(h)){e='application/json'}}}}a[b]=e}if(d.getUseDefaultXhrHeader()&&!a['X-Requested-With']){a['X-Requested-With']=d.getDefaultXhrHeader()}if(a[b]===undefined||a[b]===null){delete a[b]}try{for(c in a){if(a.hasOwnProperty(c)){g=a[c];l.setRequestHeader(c,g)}}}catch(m){d.fireEvent('exception',c,g)}return a},newRequest:function(c){var a=this,b;if(c.binaryData){if(a.nativeBinaryPostSupport()){b=a.getXhrInstance()}else {b=new Ext.data.flash.BinaryXhr()}}else {if((c.cors||a.getCors())&&Ext.isIE&&Ext.ieVersion<=9){b=a.getXdrInstance();a.setIsXdr(!0)}else {b=a.getXhrInstance()}}return b},openRequest:function(d,b,f,e,g){var c=this,a=c.newRequest(d);if(e){a.open(b.method,b.url,f,e,g)}else {if(c.getIsXdr()){a.open(b.method,b.url)}else {a.open(b.method,b.url,f)}}if(d.binary||c.getBinary()){if(window.Uint8Array){a.responseType='arraybuffer'}else {if(a.overrideMimeType){a.overrideMimeType('text/plain; charset=x-user-defined')}}}if(d.withCredentials||c.getWithCredentials()){a.withCredentials=!0}return a},getXdrInstance:function(){var a;if(Ext.ieVersion>=8){a=new XDomainRequest()}else {Ext.Error.raise({msg:'Your browser does not support CORS'})}return a},getXhrInstance:function(){var c=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject('MSXML2.XMLHTTP.3.0')},function(){return new ActiveXObject('MSXML2.XMLHTTP')},function(){return new ActiveXObject('Microsoft.XMLHTTP')}],b=0,d=c.length,a;for(;b<d;++b){try{a=c[b];a();break}catch(e){}}return a}(),isLoading:function(a){if(!a){a=this.getLatest()}if(!(a&&a.xhr)){return !1}var b=a.xhr.readyState,c=Ext.data.flash&&Ext.data.flash.BinaryXhr;return a.xhr instanceof c&&b!=4||!(b===0||b==4)},abort:function(a){var b=this,c;if(!a){a=b.getLatest()}if(a&&b.isLoading(a)){c=a.xhr;try{c.onreadystatechange=null}catch(d){c.onreadystatechange=Ext.emptyFn}c.abort();b.clearTimeout(a);if(!a.timedout){a.aborted=!0}b.onComplete(a);b.cleanup(a)}},abortAll:function(){var a=this.requests,b;for(b in a){if(a.hasOwnProperty(b)){this.abort(a[b])}}},getLatest:function(){var b=this.latestId,a;if(b){a=this.requests[b]}return a||null},onStateChange:function(a,d){var b=this,c=Ext.GlobalEvents;if(a.xhr&&a.xhr.readyState==4||b.isXdr){b.clearTimeout(a);b.onComplete(a,d);b.cleanup(a);if(c.hasListeners.idle){c.fireEvent('idle')}}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(d,h){var b=this,a=d.options,g,e,f,c;try{g=d.xhr;e=b.parseStatus(g.status);if(e.success){e.success=g.readyState===4}}catch(i){e={success:!1,isException:!1}}f=b.isXdr?h:e.success;if(f){c=b.createResponse(d);b.fireEvent('requestcomplete',b,c,a);Ext.callback(a.success,a.scope,[c,a])}else {if(e.isException||d.aborted||d.timedout){c=b.createException(d)}else {c=b.createResponse(d)}b.fireEvent('requestexception',b,c,a);Ext.callback(a.failure,a.scope,[c,a])}Ext.callback(a.callback,a.scope,[a,f,c]);delete b.requests[d.id];return c},parseStatus:function(a){a=a==1223?204:a;var c=a>=200&&a<300||a==304,b=!1;if(!c){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=!0;break;}}return {success:c,isException:b}},createResponse:function(c){var g=this,a=c.xhr,i=g.getIsXdr(),f={},j=i?[]:a.getAllResponseHeaders().replace(/\r\n/g,'\n').split('\n'),h=j.length,e,d,k,b,l;while(h--){e=j[h];d=e.indexOf(':');if(d>=0){k=e.substr(0,d).toLowerCase();if(e.charAt(d+1)==' '){++d}f[k]=e.substr(d+1)}}c.xhr=null;delete c.xhr;b={request:c,requestId:c.id,status:a.status,statusText:a.statusText,getResponseHeader:function(a){return f[a.toLowerCase()]},getAllResponseHeaders:function(){return f}};if(i){g.processXdrResponse(b,a)}if(c.binary){b.responseBytes=g.getByteArray(a)}else {b.responseText=a.responseText;b.responseXML=a.responseXML}a=null;return b},createException:function(a){return {request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?'transaction aborted':'communication failure',aborted:a.aborted,timedout:a.timedout}},getByteArray:function(b){var e=b.response,g=b.responseBody,h=Ext.data.flash&&Ext.data.flash.BinaryXhr,a,d,f,c;if(b instanceof h){a=b.responseBytes}else {if(window.Uint8Array){a=e?new Uint8Array(e):[]}else {if(Ext.isIE9p){try{a=(new VBArray(g)).toArray()}catch(i){a=[]}}else {if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(b.responseBody,a=[])}else {a=[];d=b.responseText;f=d.length;for(c=0;c<f;c++){a.push(d.charCodeAt(c)&255)}}}}}return a},injectVBScript:function(){var a=document.createElement('script');a.type='text/vbscript';a.text=['Function getIEByteArray(byteArray, out)','Dim len, i','len = LenB(byteArray)','For i = 1 to len','out.push(AscB(MidB(byteArray, i, 1)))','Next','End Function'].join('\n');Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.data,'Connection'],0);Ext.cmd.derive('Ext.Ajax',Ext.data.Connection,{singleton:!0,autoAbort:!1},0,0,0,0,0,0,[Ext,'Ajax'],0);Ext.cmd.derive('Ext.ComponentManager',Ext.Base,{alternateClassName:'Ext.ComponentMgr',singleton:!0,count:0,typeName:'xtype',constructor:function(a){Ext.apply(this,a||{});this.all={};this.references={};this.onAvailableCallbacks={}},create:function(a,b){if(typeof a=='string'){return Ext.widget(a)}if(a.isComponent){return a}if('xclass' in a){return Ext.create(a.xclass,a)}return Ext.widget(a.xtype||b,a)},get:function(a){return this.all[a]},register:function(a){var c=this.all,b=a.getId();c[b]=a;if(a.reference){this.references[b]=a}this.count++;if((this.onAvailableCallbacks[b]||[]).length){this.notifyAvailable(a)}},unregister:function(a){var b=a.getId();if(a.reference){delete this.references[b]}delete this.all[b];this.count--},markReferencesDirty:function(){this.referencesDirty=!0},fixReferences:function(){var c=this,a=c.references,b;if(c.referencesDirty){for(b in a){if(a.hasOwnProperty(b)){a[b].fixReference()}}c.referencesDirty=!1}},onAvailable:function(a,f,d){var g=this,b=g.onAvailableCallbacks,e=g.all,c;if(a in e){c=e[a];f.call(d||c,c)}else {if(a){if(!Ext.isArray(b[a])){b[a]=[]}b[a].push(function(b){f.call(d||b,b)})}}},notifyAvailable:function(a){var b=this.onAvailableCallbacks[a&&a.getId()]||[];while(b.length){b.shift()(a)}},each:function(b,a){return Ext.Object.each(this.all,b,a)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},1,0,0,0,0,0,[Ext,'ComponentManager',Ext,'ComponentMgr'],function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}});Ext.ns('Ext.util').Operators={'=':function(a,b){return a==b},'!=':function(a,b){return a!=b},'^=':function(a,b){return a&&a.substr(0,b.length)==b},'$=':function(a,b){return a&&a.substr(a.length-b.length)==b},'*=':function(a,b){return a&&a.indexOf(b)!==-1},'%=':function(a,b){return a%b===0},'|=':function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+'-')},'~=':function(a,b){return a&&(' '+a+' ').indexOf(' '+b+' ')!=-1}};Ext.cmd.derive('Ext.ComponentQuery',Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext,'ComponentQuery'],function(){var c=this,d=Ext.util.Operators,p=/(\d*)n\+?(\d*)/,o=/\D/,k=['var r = [],','i = 0,','it = items,','l = it.length,','c;','for (; i < l; i++) {','c = it[i];','if (c.{0}) {','r.push(c);','}','}','return r;'].join(''),a=function(b,a){return a.method.apply(this,[b].concat(a.args))},b=function(d,g){var b=[],c=0,e=d.length,a,f=g!=='>';for(;c<e;c++){a=d[c];if(a.getRefItems){b=b.concat(a.getRefItems(f))}}return b},f=function(d){var c=[],b=0,e=d.length,a;for(;b<e;b++){a=d[b];while(!!(a=a.getRefOwner())){c.push(a)}}return c},e=function(b,e,f){if(e==='*'){return b.slice()}else {var d=[],c=0,g=b.length,a;for(;c<g;c++){a=b[c];if(a.isXType(e,f)){d.push(a)}}return d}},j=function(d,e){var c=[],b=0,f=d.length,a;for(;b<f;b++){a=d[b];if(a.hasCls(e)){c.push(a)}}return c},i=function(m,a,i,e){var f=[],j=0,n=m.length,h,k,c,b,g,l;if(a.charAt(0)==='@'){h=!0;a=a.substr(1)}if(a.charAt(0)==='?'){h=!0;k=!0;a=a.substr(1)}for(;j<n;j++){c=m[j];if(!h||c.hasOwnProperty(a)){b=c[a];if(k){f.push(c)}else {if(i==='~='){if(b){if(!Ext.isArray(b)){b=b.split(' ')}for(g=0,l=b.length;g<l;g++){if(d[i](Ext.coerce(b[g],e),e)){f.push(c);break}}}}else {if(!e?!!c[a]:d[i](Ext.coerce(b,e),e)){f.push(c)}}}}}return f},g=function(d,f){var c=[],b=0,e=d.length,a;for(;b<e;b++){a=d[b];if(a.getItemId()===f){c.push(a)}}return c},l=function(a,d,b){return c.pseudos[d](a,b)},n=/^(\s?([>\^])\s?|\s|$)/,m=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,h=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:e},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!]?=)\s*['"]?(.*?)["']?)?\])/,method:i},{re:/^#([\w\-]+)/,method:g},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:l},{re:/^(?:\{([^\}]+)\})/,method:k}];c.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(d){var h=this.operations,g=0,i=h.length,e,c;if(!d){c=Ext.ComponentManager.getAll()}else {if(Ext.isIterable(d)){c=d}else {if(d.isMixedCollection){c=d.items}}}for(;g<i;g++){e=h[g];if(e.mode==='^'){c=f(c||[d])}else {if(e.mode){c=b(c||[d],e.mode)}else {c=a(c||b([d]),e)}}if(g===i-1){return c}}return []},is:function(m){var l=this.operations,k=l.length,c=[m],h,e,g,d,n,i,j;for(e=k-1;e>=0;--e){h=l[e];d=h.mode;if(d){if(d==='^'){c=b(c,' ')}else {if(d==='>'){i=[];for(g=0,k=c.length;g<k;++g){j=c[g].getRefOwner();if(j){i.push(j)}}c=i}else {c=f(c)}}if(c.length===0){return !1}}else {c=a(c,h);if(c.length===0){return !1}}}return !0},getMatches:function(b,d){var e=d.length,c;for(c=0;c<e;++c){b=a(b,d[c]);if(b.length===0){break}}return b}});Ext.apply(this,{cache:{},pseudos:{not:function(c,e){var h=Ext.ComponentQuery,b=0,f=c.length,d=[],g=-1,a;for(;b<f;++b){a=c[b];if(!h.is(a,e)){d[++g]=a}}return d},first:function(a){var b=[];if(a.length>0){b.push(a[0])}return b},last:function(a){var b=a.length,c=[];if(b>0){c.push(a[b-1])}return c},focusable:function(d){var e=d.length,c=[],b=0,a;for(;b<e;b++){a=d[b];if(a.isFocusable()){c.push(a)}}return c},'nth-child':function(i,a){var d=[],h=p.exec(a=='even'&&'2n'||a=='odd'&&'2n+1'||!o.test(a)&&'n+'+a||a),g=(h[1]||1)-0,e=h[2]-0,b,f,c;for(b=0;f=i[b];b++){c=b+1;if(g==1){if(e==0||c==e){d.push(f)}}else {if((c+e)%g==0){d.push(f)}}}return d}},query:function(c,k){var h=c.split(','),i=h.length,a=0,b=[],e=[],f={},j,g,d;for(;a<i;a++){c=Ext.String.trim(h[a]);j=this.cache[c]||(this.cache[c]=this.parse(c));b=b.concat(j.execute(k))}if(i>1){g=b.length;for(a=0;a<g;a++){d=b[a];if(!f[d.id]){e.push(d);f[d.id]=!0}}b=e}return b},visitPreOrder:function(b,d,e,c,a){this._visit(!0,b,d,e,c,a)},visitPostOrder:function(b,d,e,c,a){this._visit(!1,b,d,e,c,a)},_visit:function(h,c,a,j,i,e){var b=this,m=b.cache[c]||(b.cache[c]=b.parse(c)),f=[a],g,l=0,d,k=m.is(a);if(a.getRefItems){g=a.getRefItems();l=g.length}if(e){Ext.Array.push(f,e)}if(h){if(k){if(j.apply(i||a,f)===!1){return !1}}}for(d=0;d<l;d++){if(b._visit.call(b,h,c,g[d],j,i,e)===!1){return !1}}if(!h){if(k){if(j.apply(i||a,f)===!1){return !1}}}},is:function(e,a){if(!a){return !0}var c=a.split(','),f=c.length,b=0,d;for(;b<f;b++){a=Ext.String.trim(c[b]);d=this.cache[a]||(this.cache[a]=this.parse(a));if(d.is(e)){return !0}}return !1},parse:function(a){var d=[],q=h.length,p,b,o,i,f,l,k,r;while(a&&p!==a){p=a;b=a.match(m);if(b){o=b[1];if(o==='#'){d.push({method:g,args:[Ext.String.trim(b[2])]})}else {if(o==='.'){d.push({method:j,args:[Ext.String.trim(b[2])]})}else {d.push({method:e,args:[Ext.String.trim(b[2]),Boolean(b[3])]})}}a=a.replace(b[0],'')}while(!(i=a.match(n))){for(l=0;a&&l<q;l++){k=h[l];f=a.match(k.re);r=k.method;if(f){d.push({method:Ext.isString(k.method)?Ext.functionFactory('items',Ext.String.format.apply(Ext.String,[r].concat(f.slice(1)))):k.method,args:f.slice(1)});a=a.replace(f[0],'');break}if(l===q-1){Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(i[1]){d.push({mode:i[2]||i[1]});a=a.replace(i[0],'')}}return new c.Query({operations:d})}})});Ext.cmd.derive('Ext.Evented',Ext.Base,{alternateClassName:'Ext.EventedBase',statics:{generateSetter:function(c){var a=c.names,g=c.name,e=a.internal,f=a.apply,d=a.changeEvent,b=a.doSet;return function(i){var h=this,k=h.$configPrefixed?e:g,m=h.initialized,j,l=h[f];if(l){i=l.call(h,i,h[k]);if(i===undefined){return h}}j=h[k];if(i!==j){if(m){h.fireAction(d,[h,i,j],h.doSet,h,{nameMap:a})}else {h[k]=i;if(h[b]){h[b](i,j)}}}return this}}},initialized:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.initialized=!0},doSet:function(b,c,d,e){var a=e.nameMap;b[a.internal]=c;if(b[a.doSet]){b[a.doSet].call(this,c,d)}},onClassExtended:function(g,c){if(!c.hasOwnProperty('eventedConfig')){return}var f=c.config,b=c.eventedConfig,e='eventedSetter',d,a;if(f){Ext.applyIf(f,b)}else {g.addConfig(b)}for(d in b){if(b.hasOwnProperty(d)){a=Ext.Config.get(d);c[a.names.set]=a[e]||(a[e]=this.generateSetter(a))}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext,'Evented',Ext,'EventedBase'],0);Ext.USE_NATIVE_JSON=!1;Ext.JSON=new function(){var me=this,hasNative=window.JSON&&JSON.toString()=='[object JSON]',useHasOwn=!!{}.hasOwnProperty,pad=function(a){return a<10?'0'+a:a},doDecode=function(json){return eval('('+json+')')},doEncode=function(a,b){if(a===null||a===undefined){return 'null'}else {if(Ext.isDate(a)){return me.encodeDate(a)}else {if(Ext.isString(a)){if(Ext.isMSDate(a)){return me.encodeMSDate(a)}else {return me.encodeString(a)}}else {if(typeof a=='number'){return isFinite(a)?String(a):'null'}else {if(Ext.isBoolean(a)){return String(a)}else {if(a.toJSON){return a.toJSON()}else {if(Ext.isArray(a)){return encodeArray(a,b)}else {if(Ext.isObject(a)){return encodeObject(a,b)}else {if(typeof a==='function'){return 'null'}}}}}}}}}return 'undefined'},m={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\','\v':'\\u000b'},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(a){return '"'+a.replace(charToReplace,function(b){var c=m[b];return typeof c==='string'?c:'\\u'+('0000'+b.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(a){return '"'+a+'"'},encodeArray=function(c,e){var a=['[',''],d=c.length,b;for(b=0;b<d;b+=1){a.push(me.encodeValue(c[b]),',')}a[a.length-1]=']';return a.join('')},encodeObject=function(d,e){var b=['{',''],c,a;for(c in d){a=d[c];if(!useHasOwn||d.hasOwnProperty(c)){if(typeof a==='function'||a===undefined){continue}b.push(me.encodeValue(c),':',me.encodeValue(a),',')}}b[b.length-1]='}';return b.join('')};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(a){return '"'+a.getFullYear()+'-'+pad(a.getMonth()+1)+'-'+pad(a.getDate())+'T'+pad(a.getHours())+':'+pad(a.getMinutes())+':'+pad(a.getSeconds())+'"'};me.encode=function(a){if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.stringify(a)}return me.encodeValue(a)};me.decode=function(a,b){try{if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.parse(a)}return doDecode(a)}catch(c){if(b){return null}Ext.Error.raise({sourceClass:'Ext.JSON',sourceMethod:'decode',msg:"You're trying to decode an invalid JSON String: "+a})}};me.encodeMSDate=encodeMSDate;if(!Ext.util){Ext.util={}}Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode}();Ext.cmd.derive('Ext.TaskQueue',Ext.Base,{singleton:!0,pending:!1,mode:!0,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);this.watch=Ext.Function.bind(this.watch,this);if(Ext.os.is.iOS){setInterval(this.watch,500)}},requestRead:function(c,a,b){this.request(!0);this.readQueue.push(arguments)},requestWrite:function(c,a,b){this.request(!1);this.writeQueue.push(arguments)},request:function(a){if(!this.pending){this.pendingTime=Date.now();this.pending=!0;this.mode=a;if(a){setTimeout(this.run,1)}else {Ext.Function.requestAnimationFrame(this.run)}}},watch:function(){if(this.pending&&Date.now()-this.pendingTime>=500){this.run()}},run:function(){this.pending=!1;var i=this.readQueue,h=this.writeQueue,c=null,d;if(this.mode){d=i;if(h.length>0){c=!1}}else {d=h;if(i.length>0){c=!0}}var g=d.slice(),f,j,b,a,e;d.length=0;for(f=0,j=g.length;f<j;f++){b=g[f];a=b[0];e=b[1];if(typeof a=='string'){a=e[a]}if(b.length>2){a.apply(e,b[2])}else {a.call(e)}}g.length=0;if(c!==null){this.request(c)}}},1,0,0,0,0,0,[Ext,'TaskQueue'],0);Ext.cmd.derive('Ext.util.Format',Ext.Base,function(){var a;return {singleton:!0,defaultDateFormat:'m/d/Y',thousandSeparator:',',decimalSeparator:'.',currencyPrecision:2,currencySign:'$',percentSign:'%',currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){a=this},undef:function(a){return a!==undefined?a:''},defaultValue:function(a,b){return a!==undefined&&a!==''?a:b},substr:'ab'.substr(-1)!='b'?function(d,a,c){var b=String(d);return a<0?b.substr(Math.max(b.length+a,0),c):b.substr(a,c)}:function(c,b,a){return String(c).substr(b,a)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(b){return a.currency(b,'$',2)},currency:function(b,f,c,h){var d='',e=',0',g=0;b=b-0;if(b<0){b=-b;d='-'}c=Ext.isDefined(c)?c:a.currencyPrecision;e+=c>0?'.':'';for(;g<c;g++){e+='0'}b=a.number(b,e);if((h||a.currencyAtEnd)===!0){return Ext.String.format('{0}{1}{2}',d,b,f||a.currencySign)}else {return Ext.String.format('{0}{1}{2}',d,f||a.currencySign,b)}},date:function(a,b){if(!a){return ''}if(!Ext.isDate(a)){a=new Date(Date.parse(a))}return Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(c){return a.date(c,b)}},or:function(b,a){return b||a},pick:function(a,d,c){if(Ext.isNumber(a)){var b=arguments[a+1];if(b){return b}}return a?c:d},stripTags:function(b){return !b?b:String(b).replace(a.stripTagsRe,'')},stripScripts:function(b){return !b?b:String(b).replace(a.stripScriptsRe,'')},fileSize:function(){var a=1024,b=1048576,c=1073741824;return function(d){var e;if(d<a){if(d===1){e='1 byte'}else {e=d+' bytes'}}else {if(d<b){e=Math.round(d*10/a)/10+' KB'}else {if(d<c){e=Math.round(d*10/b)/10+' MB'}else {e=Math.round(d*10/c)/10+' GB'}}}return e}}(),math:function(){var a={};return function(c,b){if(!a[b]){a[b]=Ext.functionFactory('v','return v '+b+';')}return a[b](c)}}(),round:function(c,a){var b=Number(c);if(typeof a==='number'){a=Math.pow(10,a);b=Math.round(c*a)/a}else {if(a===undefined){b=Math.round(b)}}return b},number:function(k,c){if(!c){return k}if(isNaN(k)){return ''}var j=a.formatFns[c];if(!j){var n=c,o=a.thousandSeparator,g=a.decimalSeparator,d=0,l='',h,e,i,f,b,m;if(c.substr(c.length-2)==='/i'){if(!a.I18NFormatCleanRe||a.lastDecimalSeparator!==g){a.I18NFormatCleanRe=new RegExp('[^\\d\\'+g+']','g');a.lastDecimalSeparator=g}c=c.substr(0,c.length-2);h=c.indexOf(o)!==-1;e=c.replace(a.I18NFormatCleanRe,'').split(g)}else {h=c.indexOf(',')!==-1;e=c.replace(a.formatCleanRe,'').split('.')}i=c.replace(a.formatPattern,'');if(e.length>2){}else {if(e.length===2){d=e[1].length;f=e[1].match(a.hashRe);if(f){m=f[0].length;l='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+m+'}$")'}}}b=['var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts'+(h?',thousandSeparator,thousands=[],j,n,i':'')+(i?',formatString="'+c+'",formatPattern=/[\\d,\\.#]+/':'')+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;','absVal=Math.abs(v);','fnum=Ext.Number.toFixed(absVal, '+d+');',l,';'];if(h){if(d){b[b.length]='parts=fnum.split(".");';b[b.length]='fnum=parts[0];'}b[b.length]='if(absVal>=1000) {';b[b.length]='thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}';if(d){b[b.length]='fnum += utilFormat.decimalSeparator+parts[1];'}}else {if(d){b[b.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}if(f){b[b.length]='fnum=fnum.replace(trailingZeroes,"");'}b[b.length]='if(neg&&fnum!=="'+(d?'0.'+Ext.String.repeat('0',d):'0')+'")fnum="-"+fnum;';b[b.length]='return ';if(i){b[b.length]='formatString.replace(formatPattern, fnum);'}else {b[b.length]='fnum;'}b[b.length]='};';j=a.formatFns[n]=Ext.functionFactory('Ext',b.join(''))(Ext)}return j(k)},numberRenderer:function(b){return function(c){return a.number(c,b)}},percent:function(c,b){return a.number(c*100,b||'0')+a.percentSign},attributes:function(a){if(typeof a==='object'){var c=[],b;for(b in a){if(a.hasOwnProperty(b)){c.push(b,'="',b==='style'?Ext.DomHelper.generateStyles(a[b],null,!0):Ext.htmlEncode(a[b]),'" ')}}a=c.join('')}return a||''},plural:function(c,b,a){return c+' '+(c===1?b:a?a:b+'s')},nl2br:function(b){return Ext.isEmpty(b)?'':b.replace(a.nl2brRe,'<br/>')},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(b){b=b||0;if(typeof b==='number'){return {top:b,right:b,bottom:b,left:b}}var a=b.split(' '),c=a.length;if(c===1){a[1]=a[2]=a[3]=a[0]}else {if(c===2){a[2]=a[0];a[3]=a[1]}else {if(c===3){a[3]=a[1]}}}return {top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}}}},1,0,0,0,0,0,[Ext.util,'Format'],0);Ext.cmd.derive('Ext.Template',Ext.Base,{inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||'')}},useEval:Ext.isGecko,constructor:function(g){var d=this,c=arguments,f=[],e,b=c.length,a;d.initialConfig={};if(b===1&&Ext.isArray(g)){c=g;b=c.length}if(b>1){for(e=0;e<b;e++){a=c[e];if(typeof a=='object'){Ext.apply(d.initialConfig,a);Ext.apply(d,a)}else {f.push(a)}}}else {f.push(g)}d.html=f.join('')},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(b){var a=this;if(a.compiled){if(!a.fn){a.compile()}return a.fn(b).join('')}return a.evaluate(b)},evaluate:function(a){var b=this,e=!b.disableFormats,c=Ext.util.Format,d=b;function fn(i,h,b,g,f){if(b==null||b==''){b=h}if(g&&e){if(f){f=[a[b]].concat(Ext.functionFactory('return ['+f+'];')())}else {f=[a[b]]}if(g.substr(0,5)==='this.'){return d[g.substr(5)].apply(d,f)}else {if(c[g]){return c[g].apply(c,f)}else {return i}}}else {return a[b]!==undefined?a[b]:''}}return b.html.replace(b.tokenRe,fn)},applyOut:function(c,b){var a=this;if(a.compiled){if(!a.fn){a.compile()}b.push.apply(b,a.fn(c))}else {b.push(a.apply(c))}return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(c,b){var a=this;a.html=c;a.compiled=!!b;a.fn=null;return a},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var a=this,b;b=a.html.replace(a.compileARe,'\\\\').replace(a.compileBRe,'\\n').replace(a.compileCRe,"\\'").replace(a.tokenRe,a.regexReplaceFn.bind(a));b=(this.disableFormats!==!0?'var fm=Ext.util.Format;':'')+(a.useEval?'$=':'return')+" function(v){return ['"+b+"'];};";a.fn=a.useEval?a.evalCompiled(b):(new Function('Ext',b))(Ext);a.compiled=!0;return a},evalCompiled:function($){eval($);return $},regexReplaceFn:function(d,b,e,a,c){if(b==null||b==''){b='"'+e+'"'}else {if(this.stringFormat){b=parseInt(b)+1}}if(a&&this.disableFormats!==!0){c=c?','+c:'';if(a.substr(0,5)==='this.'){a=a+'('}else {if(Ext.util.Format[a]){a='fm.'+a+'('}else {return d}}return "',"+a+'v['+b+']'+c+"),'"}else {return "',v["+b+"] == undefined ? '' : v["+b+"],'"}},insertFirst:function(c,b,a){return this.doInsert('afterBegin',c,b,a)},insertBefore:function(c,b,a){return this.doInsert('beforeBegin',c,b,a)},insertAfter:function(c,b,a){return this.doInsert('afterEnd',c,b,a)},append:function(c,b,a){return this.doInsert('beforeEnd',c,b,a)},doInsert:function(d,e,c,b){var a=Ext.DomHelper.insertHtml(d,Ext.getDom(e),this.apply(c));return b?Ext.get(a):a},overwrite:function(d,c,b){var a=Ext.DomHelper.overwrite(Ext.getDom(d),this.apply(c));return b?Ext.get(a):a}},1,0,0,0,0,0,[Ext,'Template'],0);Ext.cmd.derive('Ext.mixin.Inheritable',Ext.Mixin,{mixinConfig:{id:'inheritable'},getInherited:function(h){var a=this,b=h&&a.inheritedStateInner||a.inheritedState,g=a.ownerCt||a.initOwnerCt,e=a.isContainer,c,d,f;if(!b||b.invalid){c=a.getRefOwner();if(g){f=a.ownerLayout===g.layout}a.inheritedState=b=Ext.Object.chain(c?c.getInherited(f):Ext.rootInheritedState);if(e){a.inheritedStateInner=d=Ext.Object.chain(b)}a.initInheritedState(b,d);b=e&&h?a.inheritedStateInner:a.inheritedState}return b},getInheritedConfig:function(b,e){var a=this.inheritedState,d,c;if(!a||a.invalid){a=this.getInherited()}c=a[b];if(e&&a.hasOwnProperty(b)){d=c;delete a[b];c=a[b];a[b]=d}return c},fixReference:function(){var b=this,a;if(b.reference){a=b.lookupReferenceHolder();if(a){a.setReference(b)}}},resolveListenerScope:function(b){var a;if(b==='this'){a=this.getInherited();a=a.hasOwnProperty('defaultListenerScope')?a.defaultListenerScope:this}else {a=this.getInheritedConfig('defaultListenerScope',!0)||b}return a||null},lookupReferenceHolder:function(a){return this.getInheritedConfig('referenceHolder',a!==!1)||null},getRefOwner:function(){return this.ownerCt||this.initOwnerCt||this.floatParent},initInheritedState:Ext.emptyFn,invalidateInheritedState:function(){var a=this.inheritedState;if(a){a.invalid=!0;delete this.inheritedState}}},0,0,0,0,0,0,[Ext.mixin,'Inheritable'],function(){Ext.rootInheritedState={}});Ext.cmd.derive('Ext.Widget',Ext.Evented,{isWidget:!0,element:{reference:'element'},eventedConfig:{width:null,height:null},template:[],constructor:function(b){var a=this;a.initId(b);a.initElement();a.mixins.observable.constructor.call(a,b);Ext.ComponentManager.register(a)},addElementReferenceOnDemand:function(a,b){if(this._elementListeners[a]){this.addElementReference(a,b)}else {Ext.Object.defineProperty(this,a,{get:function(){delete this[a];return this.addElementReference(a,b)},configurable:!0})}},addElementReference:function(f,g){var b=this,c=b[f]=Ext.get(g),a=b._elementListeners[f],e,d;c.skipGarbageCollection=!0;c.component=b;if(a){a=Ext.clone(a);a.scope=b;for(e in a){d=a[e];if(typeof d==='object'){d.scope=b}}c.on(a)}return c},afterCachedConfig:function(){var c=this,j=c.self.prototype,f=c.referenceList,i=c.renderElement.dom,d,h,a,b,g,e;j.renderTemplate=d=document.createDocumentFragment();d.appendChild(i.cloneNode(!0));e=d.querySelectorAll('[id]');for(a=0,b=e.length;a<b;a++){h=e[a];h.removeAttribute('id')}for(a=0,b=f.length;a<b;a++){g=f[a];c[g].dom.removeAttribute('reference')}},applyWidth:function(a){return this.filterLengthValue(a)},applyHeight:function(a){return this.filterLengthValue(a)},destroy:function(){var a=this,b=a.element;if(a.hasOwnProperty('element')){b.destroy();b.component=null}Ext.Evented.prototype.destroy.call(this);Ext.ComponentManager.unregister(a)},doSetWidth:function(a){this.element.setWidth(a)},doSetHeight:function(a){this.element.setHeight(a)},filterLengthValue:function(a){if(a==='auto'||!a&&a!==0){return null}return a},getElementConfig:function(){var b=this,a=b.element;if(!('children' in a)){a=Ext.apply({children:b.getTemplate()},a)}return a},getSize:function(){return {width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var a=this,m=a.self.prototype,n=a.getId(),l=a.referenceList=[],j=!0,c,d,i,g,f,k,b,e,h;if(m.hasOwnProperty('renderTemplate')){c=a.renderTemplate.cloneNode(!0);d=c.firstChild}else {j=!1;c=document.createDocumentFragment();h=a.getElementConfig();a.initElementListeners(h);d=Ext.Element.create(h,!0);c.appendChild(d)}g=c.querySelectorAll('[reference]');for(f=0,k=g.length;f<k;f++){b=g[f];e=b.getAttribute('reference');if(j){b.removeAttribute('reference')}if(e==='element'){b.id=n;i=a.el=a.addElementReference(e,b)}else {a.addElementReferenceOnDemand(e,b)}l.push(e)}if(d===i.dom){a.renderElement=i}else {a.addElementReferenceOnDemand('renderElement',d)}},initElementListeners:function(a){var e=this,h=e._elementListeners||(e.self.prototype._elementListeners={}),f=a.reference,d=a.children,c,g,b;if(f){c=a.listeners;if(c){h[f]=c;a.listeners=null}}if(d){for(b=0,g=d.length;b<g;b++){e.initElementListeners(d[b])}}},initId:function(d){var a=this,c=a.config,b=d&&d.id||c&&c.id;if(b){a.setId(b);a.id=b}else {a.getId()}},is:function(a){return Ext.ComponentQuery.is(this,a)},isXType:function(a,b){return b?Ext.Array.indexOf(this.xtypes,a)!==-1:!!this.xtypesMap[a]},setSize:function(b,a){if(b!==undefined){this.setWidth(b)}if(a!==undefined){this.setHeight(a)}}},1,['widget'],['widget'],{'widget':!0},['widget.widget'],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable]],[Ext,'Widget'],0);Ext.define('Ext.overrides.Widget',{override:'Ext.Widget',$configStrict:!1,isComponent:!0,rendered:!0,cachedConfig:{baseCls:'x-widget'},constructor:function(a){(arguments.callee.$previous||Ext.Evented.prototype.constructor).call(this,a);this.getComponentLayout()},addCls:function(a){this.el.addCls(a)},addClsWithUI:function(a){this.el.addCls(a)},afterComponentLayout:Ext.emptyFn,getComponentLayout:function(){var b=this,a=b.componentLayout;if(!a){a=b.componentLayout=new Ext.layout.component.Auto();a.setOwner(b)}return a},getTdCls:function(){return this.getBaseCls()+'-cell'},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:Ext.emptyFn,onRemoved:Ext.emptyFn,parseBox:function(a){return Ext.Element.parseBox(a)},render:function(a,c){var d=this.element,b;if(c){nextSibiling=a.childNodes[c];if(b){a.insertBefore(d,b);return}}a.appendChild(d)},setPosition:function(a,b){this.el.setLocalXY(a,b)}},function(){var a;if(Ext.isIE8){a=Ext.Widget.prototype;a.addElementReferenceOnDemand=a.addElementReference}});Ext.cmd.derive('Ext.util.XTemplateParser',Ext.Base,{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(f){var b=this,p=f.length,r={elseif:'elif'},o=b.topRe,q=b.actionsRe,i,d,j,c,g,n,l,m,h,e,a,k;b.level=0;b.stack=d=[];for(i=0;i<p;i=e){o.lastIndex=i;c=o.exec(f);if(!c){b.doText(f.substring(i,p));break}h=c.index;e=o.lastIndex;if(i<h){b.doText(f.substring(i,h))}if(c[1]){e=f.indexOf('%}',h+2);b.doEval(f.substring(h+2,e));e+=2}else {if(c[2]){e=f.indexOf(']}',h+2);b.doExpr(f.substring(h+2,e));e+=2}else {if(c[3]){b.doTag(c[3])}else {if(c[4]){a=null;while((m=q.exec(c[4]))!==null){j=m[2]||m[3];if(j){j=Ext.String.htmlDecode(j);g=m[1];g=r[g]||g;a=a||{};n=a[g];if(typeof n=='string'){a[g]=[n,j]}else {if(n){a[g].push(j)}else {a[g]=j}}}}if(!a){if(b.elseRe.test(c[4])){b.doElse()}else {if(b.defaultRe.test(c[4])){b.doDefault()}else {b.doTpl();d.push({type:'tpl'})}}}else {if(a['if']){b.doIf(a['if'],a);d.push({type:'if'})}else {if(a['switch']){b.doSwitch(a['switch'],a);d.push({type:'switch'})}else {if(a['case']){b.doCase(a['case'],a)}else {if(a['elif']){b.doElseIf(a['elif'],a)}else {if(a['for']){++b.level;if(k=b.propRe.exec(c[4])){a.propName=k[1]||k[2]}b.doFor(a['for'],a);d.push({type:'for',actions:a})}else {if(a['foreach']){++b.level;if(k=b.propRe.exec(c[4])){a.propName=k[1]||k[2]}b.doForEach(a['foreach'],a);d.push({type:'foreach',actions:a})}else {if(a.exec){b.doExec(a.exec,a);d.push({type:'exec',actions:a})}}}}}}}}}else {if(c[0].length===5){d.push({type:'tpl'})}else {l=d.pop();b.doEnd(l.type,l.actions);if(l.type=='for'||l.type=='foreach'){--b.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext.util,'XTemplateParser'],0);Ext.cmd.derive('Ext.util.XTemplateCompiler',Ext.util.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(c){var a=this,b=a.generate(c);return a.useEval?a.evalTpl(b):(new Function('Ext',b))(Ext)},generate:function(d){var a=this,b='var fm=Ext.util.Format,ts=Object.prototype.toString;',c;a.maxLevel=0;a.body=['var c0=values, a0='+a.createArrayTest(0)+', p0=parent, n0=xcount, i0=xindex, k0, v;\n'];if(a.definitions){if(typeof a.definitions==='string'){a.definitions=[a.definitions,b]}else {a.definitions.push(b)}}else {a.definitions=[b]}a.switches=[];a.parse(d);a.definitions.push((a.useEval?'$=':'return')+' function ('+a.fnArgs+') {',a.body.join(''),'}');c=a.definitions.join('\n');a.definitions.length=a.body.length=a.switches.length=0;delete a.definitions;delete a.body;delete a.switches;return c},doText:function(a){var b=this,c=b.body;a=a.replace(b.aposRe,"\\'").replace(b.newLineRe,'\\n');if(b.useIndex){c.push("out[out.length]='",a,"'\n")}else {c.push("out.push('",a,"')\n")}},doExpr:function(b){var a=this.body;a.push('if ((v='+b+') != null) out');if(this.useIndex){a.push("[out.length]=v+''\n")}else {a.push(".push(v+'')\n")}},doTag:function(b){var a=this.parseTag(b);if(a){this.doExpr(a)}else {this.doText('{'+b+'}')}},doElse:function(){this.body.push('} else {\n')},doEval:function(a){this.body.push(a,'\n')},doIf:function(b,c){var a=this;if(b==='.'){a.body.push('if (values) {\n')}else {if(a.propNameRe.test(b)){a.body.push('if (',a.parseTag(b),') {\n')}else {a.body.push('if (',a.addFn(b),a.callFn,') {\n')}}if(c.exec){a.doExec(c.exec)}},doElseIf:function(b,c){var a=this;if(b==='.'){a.body.push('else if (values) {\n')}else {if(a.propNameRe.test(b)){a.body.push('} else if (',a.parseTag(b),') {\n')}else {a.body.push('} else if (',a.addFn(b),a.callFn,') {\n')}}if(c.exec){a.doExec(c.exec)}},doSwitch:function(b){var a=this,c;if(b==='.'||b==='#'){c=b==='.'?'values':'xindex';a.body.push('switch (',c,') {\n')}else {if(a.propNameRe.test(b)){a.body.push('switch (',a.parseTag(b),') {\n')}else {a.body.push('switch (',a.addFn(b),a.callFn,') {\n')}}a.switches.push(0)},doCase:function(e){var a=this,c=Ext.isArray(e)?e:[e],d=a.switches.length-1,f,b;if(a.switches[d]){a.body.push('break;\n')}else {a.switches[d]++}for(b=0,d=c.length;b<d;++b){f=a.intRe.exec(c[b]);c[b]=f?f[1]:"'"+c[b].replace(a.aposRe,"\\'")+"'"}a.body.push('case ',c.join(': case '),':\n')},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push('break;\n')}else {a.switches[b]++}a.body.push('default:\n')},doEnd:function(c,d){var a=this,b=a.level-1;if(c=='for'||c=='foreach'){if(d.exec){a.doExec(d.exec)}a.body.push('}\n');a.body.push('parent=p',b,';values=r',b+1,';xcount=n'+b+';xindex=i',b,'+1;xkey=k',b,';\n')}else {if(c=='if'||c=='switch'){a.body.push('}\n')}}},doFor:function(c,d){var b=this,f,a=b.level,e=a-1,g;if(c==='.'){f='values'}else {if(b.propNameRe.test(c)){f=b.parseTag(c)}else {f=b.addFn(c)+b.callFn}}if(b.maxLevel<a){b.maxLevel=a;b.body.push('var ')}if(c=='.'){g='c'+a}else {g='a'+e+'?c'+e+'[i'+e+']:c'+e}b.body.push('i',a,'=0,n',a,'=0,c',a,'=',f,',a',a,'=',b.createArrayTest(a),',r',a,'=values,p',a,',k',a,';\n','p',a,'=parent=',g,'\n','if (c',a,'){if(a',a,'){n',a,'=c',a,'.length;}else if (c',a,'.isMixedCollection){c',a,'=c',a,'.items;n',a,'=c',a,'.length;}else if(c',a,'.isStore){c',a,'=c',a,'.data.items;n',a,'=c',a,'.length;}else{c',a,'=[c',a,'];n',a,'=1;}}\n','for (xcount=n',a,';i',a,'<n'+a+';++i',a,'){\n','values=c',a,'[i',a,']');if(d.propName){b.body.push('.',d.propName)}b.body.push('\n','xindex=i',a,'+1\n');if(d.between){b.body.push('if(xindex>1){ out.push("',d.between,'"); } \n')}},doForEach:function(c,d){var b=this,f,a=b.level,e=a-1,g;if(c==='.'){f='values'}else {if(b.propNameRe.test(c)){f=b.parseTag(c)}else {f=b.addFn(c)+b.callFn}}if(b.maxLevel<a){b.maxLevel=a;b.body.push('var ')}if(c=='.'){g='c'+a}else {g='a'+e+'?c'+e+'[i'+e+']:c'+e}b.body.push('i',a,'=-1,n',a,'=0,c',a,'=',f,',a',a,'=',b.createArrayTest(a),',r',a,'=values,p',a,',k',a,';\n','p',a,'=parent=',g,'\n','for(k',a,' in c',a,'){\n','xindex=++i',a,'+1;\n','xkey=k',a,';\n','values=c',a,'[k',a,'];');if(d.propName){b.body.push('.',d.propName)}if(d.between){b.body.push('if(xindex>1){ out.push("',d.between,'"); } \n')}},createArrayTest:'isArray' in Array?function(a){return 'Array.isArray(c'+a+')'}:function(a){return 'ts.call(c'+a+')==="[object Array]"'},doExec:function(d,e){var a=this,c='f'+a.definitions.length,b=a.guards[a.strict?0:1];a.definitions.push('function '+c+'('+a.fnArgs+') {',b.doTry,' var $v = values; with($v) {','  '+d,' }',b.doCatch,'}');a.body.push(c+a.callFn+'\n')},guards:[{doTry:'',doCatch:''},{doTry:'try { ',doCatch:' } catch(e) {\n}'}],addFn:function(c){var a=this,b='f'+a.definitions.length,d=a.guards[a.strict?0:1];if(c==='.'){a.definitions.push('function '+b+'('+a.fnArgs+') {',' return values','}')}else {if(c==='..'){a.definitions.push('function '+b+'('+a.fnArgs+') {',' return parent','}')}else {a.definitions.push('function '+b+'('+a.fnArgs+') {',d.doTry,' var $v = values; with($v) {','  return('+c+')',' }',d.doCatch,'}')}}return b},parseTag:function(h){var e=this,f=e.tagRe.exec(h),a,c,d,g,b;if(!f){return null}a=f[1];c=f[2];d=f[3];g=f[4];if(a=='.'){if(!e.validTypes){e.definitions.push('var validTypes={string:1,number:1,boolean:1};');e.validTypes=!0}b='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else {if(a=='#'){b='xindex'}else {if(a=='$'){b='xkey'}else {if(a.substr(0,7)=='parent.'){b=a}else {if(isNaN(a)&&a.indexOf('-')==-1&&a.indexOf('.')!=-1){b='values.'+a}else {b="values['"+a+"']"}}}}}if(g){b='('+b+g+')'}if(c&&e.useFormat){d=d?','+d:'';if(c.substr(0,5)!='this.'){c='fm.'+c+'('}else {c+='('}}else {return b}return c+b+d+')'},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext.util,'XTemplateCompiler'],function(){var a=this.prototype;a.fnArgs='out,values,parent,xindex,xcount,xkey';a.callFn='.call(this,'+a.fnArgs+')'});Ext.cmd.derive('Ext.XTemplate',Ext.Template,{emptyObj:{},fn:null,strict:!1,apply:function(b,a){return this.applyOut(b,[],a).join('')},applyOut:function(e,b,d){var a=this,c;if(!a.fn){c=new Ext.util.XTemplateCompiler({useFormat:a.disableFormats!==!0,definitions:a.definitions,strict:a.strict});a.fn=c.compile(a.html)}if(a.strict){a.fn(b,e,d||a.emptyObj,1,1)}else {try{a.fn(b,e,d||a.emptyObj,1,1)}catch(f){}}return b},compile:function(){return this},statics:{getTpl:function(c,d){var b=c[d],a;if(b&&!b.isTemplate){b=Ext.ClassManager.dynInstantiate('Ext.XTemplate',b);if(c.hasOwnProperty(d)){a=c}else {for(a=c.self.prototype;a&&!a.hasOwnProperty(d);a=a.superclass){}}a[d]=b;b.owner=a}return b||null}}},0,0,0,0,0,0,[Ext,'XTemplate'],0);Ext.Factory=function(b){var a=this;a.aliasPrefix=b+'.';a.cache={};a.name=b.replace(a.fixNameRe,a.fixNameFn);a.type=b};Ext.Factory.prototype={defaultProperty:'type',instanceProp:'isInstance',create:function(a,i){var e=this,f=Ext.ClassManager,h=e.cache,g,c,d,b;if(a){if(a[e.instanceProp]){return a}if(typeof a==='string'){b=a;a={};a[e.defaultProperty]=b}c=a.xclass;b=a.type}if(c){if(!(d=f.get(c))){return f.instantiate(c,a)}}else {if(!(b=b||i||e.defaultType)){d=e.defaultClass}if(!d&&!(d=h[b])){g=e.aliasPrefix+b;c=f.getNameByAlias(g);if(!(d=c&&f.get(c))){return f.instantiateByAlias(g,a)}h[b]=d}}return new d(a)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(a){return a.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(d,b){var c=Ext.Factory,f,a,e;if(d.constructor===Object){Ext.Object.each(d,c.define,c)}else {a=new Ext.Factory(d);if(b){if(b.constructor===Object){Ext.apply(a,b);if(typeof (f=a.xclass)==='string'){a.defaultClass=Ext.ClassManager.get(f)}}else {a.defaultType=b}}c[a.name]=e=a.create.bind(a);e.instance=a}return e};Ext.cmd.derive('Ext.mixin.Factoryable',Ext.Base,{mixinId:'factoryable',onClassMixedIn:function(f){var c=f.prototype,e=c.factoryConfig,a=c.alias,b={},d;a=a&&a.length&&a[0];if(a&&(d=a.lastIndexOf('.'))>0){b.type=a.substring(0,d);b.defaultType=a.substring(d+1)}if(e){delete c.factoryConfig;Ext.apply(b,e)}f.create=Ext.Factory.define(b.type,b)}},0,0,0,0,0,0,[Ext.mixin,'Factoryable'],0);Ext.cmd.derive('Ext.util.CollectionKey',Ext.Base,{config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(a){this.initConfig(a)},get:function(a){var b=this.map||this.getMap();return b[a]||null},getRootProperty:function(){var b=this,a=(arguments.callee.$previous||Ext.Base.prototype.getRootProperty).call(this);return a!==null?a:b.getCollection().getRootProperty()},indexOf:function(i,b){var j=this.map||this.getMap(),c=j[i],e=this.getCollection(),h=e.length,d,a,f,g;if(!c){return -1}if(b===undefined){b=-1}if(c instanceof Array){f=c;a=h;for(g=f.length;g-->0;){d=e.indexOf(f[g]);if(d<a&&d>b){a=d}}if(a===h){return -1}}else {a=e.indexOf(c)}return a>b?a:-1},updateKey:function(e,d){var f=this,c=f.map,a,b;if(c){a=c[d];if(a instanceof Array){b=Ext.Array.indexOf(a,e);if(b>=0){if(a.length>2){a.splice(b,1)}else {c[d]=a[1-b]}}}else {if(a){delete c[d]}}f.add([e])}},onCollectionAdd:function(b,a){if(this.map){this.add(a.items)}},onCollectionItemChange:function(a,b){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(g,h){var a=this,f=a.map,d=h.items,c=d.length,b,i,e;if(f){if(a.getUnique()&&c<g.length/2){for(b=0;b<c;++b){e=a.getKey(i=d[b]);delete f[e]}}else {a.map=null}}},add:function(i){var f=this,c=f.map,b,d,e,a,g,h;g=i.length;h=f.getUnique();for(d=0;d<g;++d){a=f.getKey(e=i[d]);if(h||!(a in c)){c[a]=e}else {if(!((b=c[a]) instanceof Array)){c[a]=b=[b]}b.push(e)}}},applyKeyFn:function(a){if(Ext.isString(a)){this.getKey=function(b){return b[a]()}}else {this.getKey=a}},applyProperty:function(b){var a=this.getRootProperty();this.getKey=function(c){return (a?c[a]:c)[b]}},getMap:function(){var a=this,b=a.map;if(!b){a.map=b={};a.keysByItemKey={};++a.mapRebuilds;a.add(a.getCollection().items)}return b},updateCollection:function(a){a.addObserver(this)}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.util,'CollectionKey'],0);Ext.cmd.derive('Ext.util.Grouper',Ext.util.Sorter,{isGrouper:!0,config:{groupFn:null,sortProperty:null},constructor:function(a){Ext.util.Sorter.prototype.constructor.apply(this,arguments)},getGroupString:function(b){var a=this._groupFn(b);return a!=null?String(a):''},sortFn:function(d,e){var c=this,a=c._groupFn(d),b=c._groupFn(e),g=c._sortProperty,i=c._root,h=c._sorterFn,f=c._transform;if(a===b){return 0}if(g||h){if(h){return h.call(this,d,e)}if(i){d=d[i];e=e[i]}a=d[g];b=e[g];if(f){a=f(a);b=f(b)}}return a>b?1:a<b?-1:0},standardGroupFn:function(a){var b=this._root;return (b?a[b]:a)[this._property]},updateSorterFn:function(){},updateProperty:function(){if(!this.getGroupFn()){this.setGroupFn(this.standardGroupFn)}}},1,0,0,0,0,0,[Ext.util,'Grouper'],0);Ext.cmd.derive('Ext.util.Collection',Ext.Base,{isCollection:!0,config:{autoFilter:!0,autoSort:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:'ASC',source:null},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,constructor:function(b){var a=this;a.items=[];a.map={};a.length=0;if(b&&b.keyFn){a.getKey=b.keyFn}a.mixins.observable.constructor.call(a,b)},destroy:function(){var a=this,b=a._filters,c=a._sorters,d=a._groups;if(b){b.destroy();a._filters=null}if(c){c.destroy();a._sorters=null}if(d){d.destroy();a._groups=null}a.setSource(null);a.observers=a.items=a.map=null},add:function(d){var b=this,a=b.decodeItems(arguments,0),c=a;if(a.length){b.splice(b.length,0,a);c=a.length===1?a[0]:a}return c},replaceAll:function(){var b=this,d=b.length,c,a;if(d===0){return b.add.apply(b,arguments)}a=b.decodeItems(arguments,0);c=a;if(a.length){b.splice(0,b.length,a);c=a.length===1?a[0]:a}else {b.removeAll()}return c},aggregate:function(d,c,e,g,f){var a=this,b=Ext.Array.slice(arguments);b.unshift(a.items);return a.aggregateItems.apply(a,b)},aggregateByGroup:function(b,a,d){var c=this.getGroups();return this.aggregateGroups(c,b,a,d)},aggregateItems:function(a,m,b,c,d,p){var e=this,o=Ext.Number.clipIndices(a.length,[c,d]),k=c!==0&&d!==a.length,f,g,n,j,i,h,l;c=o[0];d=o[1];if(!Ext.isFunction(b)){b=e._aggregators[b];return b.call(e,a,c,d,m,e.getRootProperty())}j=e.getRootProperty();h=new Array(n);l=k?new Array(n):a;for(f=c,g=0;f<d;++f,g++){if(k){l[g]=i=a[f]}h[g]=(j?i[j]:i)[m]}return b.call(p||e,a,h,0)},aggregateGroups:function(i,e,c,j){var f=i.items,k=f.length,h=!Ext.isFunction(c),g={},b,a,d;for(b=0;b<k;++b){a=f[b];if(!h){d=this.aggregateItems(a.items,e,c,null,null,j)}else {d=a[c](e)}g[a.getGroupKey()]=d}return g},beginUpdate:function(){if(!this.updating++){this.notify('beginupdate')}},clear:function(){var a=this,b=a.generation,c=b?a.items:[];if(b){a.items=[];a.length=0;a.map={};a.indices={};a.generation++}return c},clone:function(){var a=this,b=new a.self(a.initialConfig);b.add(a.items);return b},collect:function(i,e,h){var d=this.items,j=d.length,f={},g=[],b,c,a;for(b=0;b<j;++b){a=d[b];a=(e?a[e]:a)[i];c=String(a);if((h||!Ext.isEmpty(a))&&!f[c]){f[c]=1;g.push(a)}}return g},contains:function(a){var c=!1,b;if(a!=null){b=this.getKey(a);c=this.map[b]===a}return c},containsKey:function(a){return a in this.map},createFiltered:function(a,j,n,l,m){var d=this,k=new d.self(d.initialConfig),h=d.getRootProperty(),g=d.items,e,b,c,i,f;if(Ext.isFunction(a)){i=a;f=j}else {if(Ext.isString(a)){c=[new Ext.util.Filter({property:a,value:j,root:h,anyMatch:n,caseSensitive:l,exactMatch:m})]}else {if(a instanceof Ext.util.Filter){c=[a];a.setRoot(h)}else {if(Ext.isArray(a)){c=a.slice(0);for(b=0,e=c.length;b<e;++b){c[b].setRoot(h)}}}}i=Ext.util.Filter.createFilterFn(c)}f=f||d;for(b=0,e=g.length;b<e;b++){if(i.call(f,g[b])){k.add(g[b])}}return k},filterBy:function(b,a){return this.createFiltered(b,a)},each:function(f,c){var b=this.items,d=b.length,a,e;if(d){c=c||this;b=b.slice(0);for(a=0;a<d;a++){e=f.call(c,b[a],a,d);if(e===!1){break}}}return e},eachKey:function(i,c){var f=this,b=f.items,d=b.length,a,g,h,e;if(d){c=c||f;b=b.slice(0);for(a=0;a<d;a++){h=f.getKey(g=b[a]);e=i.call(c,h,g,a,d);if(e===!1){break}}}return e},endUpdate:function(){if(!--this.updating){this.notify('endupdate')}},find:function(f,a,h,d,e,c){if(Ext.isEmpty(a,!1)){return null}var g=Ext.String.createRegex(a,d,e,c),b=this.getRootProperty();return this.findBy(function(i){return i&&g.test((b?i[b]:i)[f])},null,h)},findBy:function(i,c,g){var d=this,b=d.items,h=b.length,a,e,f;c=c||d;for(a=g||0;a<h;a++){f=d.getKey(e=b[a]);if(i.call(c,e,f)){return b[a]}}return null},findIndex:function(e,g,f,c,d,b){var a=this.find(e,g,f,c,d,b);return a?this.indexOf(a):-1},findIndexBy:function(d,b,c){var a=this.findBy(d,b,c);return a?this.indexOf(a):-1},first:function(b){var a=b?this.getGroups():undefined;return a?this.aggregateGroups(a,null,'first'):this.items[0]},last:function(b){var a=b?this.getGroups():undefined;return a?this.aggregateGroups(a,null,'last'):this.items[this.length-1]},get:function(a){return this.map[a]},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},getCount:function(){return this.length},getKey:function(b){var a=b.id;return a===0||a?a:(a=b._id)===0||a?a:b.getId()},getRange:function(d,e){var c=this.items,b=c.length,a;if(!b){a=[]}else {a=Ext.Number.clipIndices(b,[d,e]);a=c.slice(a[0],a[1])}return a},getValues:function(h,f,i,c){var d=this.items,e=Ext.Number.clipIndices(d.length,[i,c]),g=[],b,a;for(b=e[0],c=e[1];b<c;++b){a=d[b];a=(f?a[f]:a)[h];g.push(a)}return g},indexOf:function(a){if(!a){return -1}var b=this.getKey(a);return this.indexOfKey(b)},indexOfKey:function(c){var b=this,a=b.indices;if(c in b.map){if(!a){a=b.getIndices()}return a[c]}return -1},insert:function(d,e){var c=this,a=c.decodeItems(arguments,1),b=a;if(a.length){c.splice(d,0,a);b=a.length===1?a[0]:a}return b},itemChanged:function(c,s,f){var a=this,j=f===0||!!f,r=a.filtered&&a.getAutoFilter(),n=!1,g=0,h=a.items,t=a.length-1,u=a.sorted&&t,q=a.getSource(),m,p=0,b,i=!1,d,o=!1,e,l,k;if(q&&!q.updating){q.itemChanged(c,f)}else {l=a.getKey(c);if(r){b=a.indexOfKey(j?f:l);o=b<0;i=a.isItemFiltered(c);n=o!==i}if(n){if(i){p=[c];d=-1}else {m=[c];d=a.length}}else {if(u&&!i){if(!r){b=a.indexOfKey(j?f:l)}k=a.getSortFn();if(b&&k(h[b-1],h[b])>0){g=-1;d=Ext.Array.binarySearch(h,c,0,b,k)}else {if(b<t&&k(h[b],h[b+1])>0){g=1;d=Ext.Array.binarySearch(h,c,b+1,k)}}if(g){m=[c]}}}e={item:c,key:l,index:d,filterChanged:n,keyChanged:j,indexChanged:!!g,filtered:i,oldIndex:b,newIndex:d,wasFiltered:o};if(j){e.oldKey=f}if(s){e.modified=s}a.beginUpdate();a.notify('beforeitemchange',[e]);if(j){a.updateKey(c,f)}if(m||p){a.splice(d,p,m)}if(g>0){e.newIndex--}else {if(g<0){e.oldIndex++}}a.notify('itemchange',[e]);a.endUpdate()}},remove:function(d){var a=this,c=a.decodeRemoveItems(arguments,0),b=a.length;a.splice(0,c);return b-a.length},removeAll:function(){var a=this,b=a.length;if(a.generation&&b){a.splice(0,b)}return a},removeAt:function(j,f){var a=this,e=a.length,i=Ext.Number,g=i.clipIndices(e,[j,f===undefined?1:f],i.Clip.COUNT),c=g[0],d=g[1]-c,h=d===1&&a.getAt(c),b;a.splice(c,d);b=a.length-e;return h&&b?h:b},removeByKey:function(b){var a=this.getByKey(b);if(!a||!this.remove(a)){return !1}return a},splice:function(K,D,L){var b=this,C=b.sorted&&b.getAutoSort(),E=b.map,o=b.items,r=b.length,k=D instanceof Array?b.decodeRemoveItems(D):null,F=!k,I=Ext.Number,H=I.clipIndices(r,[K,F?D:0],I.Clip.COUNT),n=H[0],J=H[1],w=J-n,p=b.decodeItems(arguments,2),f=p?p.length:0,c,z,B,j=n,l=b.indices||(f||k?b.getIndices():null),i=null,g=w?[n]:null,m=null,t=b.getSource(),h,A,y,a,u,e,v,d,s,q,x,G;if(t&&!t.updating){if(F){k=[];for(a=0;a<w;++a){k.push(o[a])}}if(n<r){a=t.indexOf(o[n])}else {a=t.length}t.splice(a,k,p);return b}if(f){c=p;m=[];z={};if(C){G=b.getSorters();if(f>1){if(!c.$cloned){p=c=c.slice(0)}b.sortData(c)}}for(a=0;a<f;++a){d=b.getKey(u=p[a]);if((v=z[d])!==undefined){(x||(x={}))[v]=1}else {e=l[d];if(e<n||J<=e){(g||(g=[])).push(e)}}z[d]=a;m.push(d)}if(x){s=m;c=[];m=[];c.$cloned=!0;for(a=0;a<f;++a){if(!x[a]){u=p[a];c.push(u);m.push(s[a])}}f=c.length}i={items:c,keys:m}}for(a=k?k.length:0;a-->0;){d=b.getKey(k[a]);if((e=l[d])!==undefined){(g||(g=[])).push(e)}}if(!i&&!g){return b}b.beginUpdate();if(g){h=null;y=[];B={};if(g.length>1){g.sort(Ext.Array.numericSortFn)}for(a=0,q=g.length;a<q;++a){d=b.getKey(u=o[e=g[a]]);if(!(d in E)){continue}delete E[d];if(!h||e>h.at+A.length){y.push(h={at:e,items:A=[],keys:s=[],map:B,next:h,replacement:i});if(i){i.replaced=h}}A.push(B[d]=u);s.push(d);if(e<j){--j}if(w>1&&e===n){--w;g[a--]=++n}}if(i){i.at=j}for(v=y.length;v-->0;){h=y[v];a=h.at;q=h.items.length;if(a+q<r){b.indices=l=null}b.length=r-=q;o.splice(a,q);if(l){s=h.keys;for(a=0;a<q;++a){delete l[s[a]]}}++b.generation;b.notify('remove',[h])}}if(i){if(C&&f>1&&r){b.spliceMerge(c)}else {if(C){if(f>1){j=0;b.indices=l=null}else {j=G.findInsertionIndex(i.items[0],o,b.getSortFn())}}if(j===r){o.push.apply(o,c);if(l){for(a=0;a<f;++a){l[m[a]]=j+a}}}else {b.indices=null;Ext.Array.insert(o,j,c)}for(a=0;a<f;++a){E[m[a]]=c[a]}b.length+=f;i.at=j;++b.generation;b.notify('add',[i])}}b.endUpdate();return b},update:function(c,b){var a=this;a.beginUpdate();try{return c.call(b||a,a)}catch(d){throw d}finally{a.endUpdate()}},updateKey:function(d,a){var b=this,e=b.map,f=b.indices,g=b.getSource(),c;if(g&&!g.updating){g.updateKey(d,a)}else {if((c=b.getKey(d))!==a){if(a in e||e[c]!==d){if(a in e){delete e[a]}b.updating++;b.generation++;e[c]=d;if(f){f[c]=f[a];delete f[a]}b.notify('updatekey',[{item:d,newKey:c,oldKey:a}]);b.updating--}}}},onCollectionAdd:function(k,g){var a=this,h=k.getAt(g.at),i=h?a.indexOf(h):-1,e=g.items,b,c,d,f,j;if(a.getAutoFilter()&&a.filtered){for(d=0,j=e.length;d<j;++d){f=e[d];if(a.isItemFiltered(f)){if(!c){c=e.slice(0,d)}if(!b){b=[]}b.push(f)}else {if(c){c.push(f)}}}}a.splice(i<0?a.length:i,0,c||e);if(b){a.notify('filteradd',[b])}},onCollectionBeforeItemChange:function(b,a){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(b,a){delete this.onCollectionUpdateKey;this.itemChanged(a.item,a.modified,a.oldKey)},onCollectionRefresh:function(i){var a=this,h={},e={},c,g,b,d,f;b=i.items;b=a.filtered&&a.getAutoFilter()?Ext.Array.filter(b,a.getFilterFn()):b.slice(0);if(a.sorted){a.sortData(b)}a.items=b;a.length=f=b.length;a.map=h;a.indices=e;for(c=0;c<f;++c){d=a.getKey(g=b[c]);h[d]=g;e[d]=c}a.notify('refresh')},onCollectionRemove:function(b,a){this.splice(0,a.items)},onCollectionUpdateKey:function(b,a){this.updateKey(a.item,a.oldKey)},_aggregators:{average:function(e,a,b,d,f){var c=b-a;return c&&this._aggregators.sum.call(this,e,a,b,d,f)/c},bounds:function(h,g,i,f,e){for(var a,b,c,d=g;d<i;++d){a=h[d];a=(e?a[e]:a)[f];if(!(a<b)){b=a}if(!(a>c)){c=a}}return [c,b]},count:function(a){return a.length},extremes:function(k,j,l,i,f){var e=null,d=null,c,b,g,h,a;for(c=j;c<l;++c){b=k[c];a=(f?b[f]:b)[i];if(!(a<g)){g=a;e=b}if(!(a>h)){h=a;d=b}}return [d,e]},max:function(c,b,e,a,d){var f=this._aggregators.bounds.call(this,c,b,e,a,d);return f[1]},maxItem:function(c,b,e,a,d){var f=this._aggregators.extremes.call(this,c,b,e,a,d);return f[1]},min:function(c,b,e,a,d){var f=this._aggregators.bounds.call(this,c,b,e,a,d);return f[0]},minItem:function(c,b,e,a,d){var f=this._aggregators.extremes.call(this,c,b,e,a,d);return f[0]},sum:function(g,f,h,e,c){for(var a,d=0,b=f;b<h;++b){a=g[b];a=(c?a[c]:a)[e];d+=a}return d}},_eventToMethodMap:{add:'onCollectionAdd',beforeitemchange:'onCollectionBeforeItemChange',beginupdate:'onCollectionBeginUpdate',endupdate:'onCollectionEndUpdate',itemchange:'onCollectionItemChange',refresh:'onCollectionRefresh',remove:'onCollectionRemove',sort:'onCollectionSort',filter:'onCollectionFilter',filteradd:'onCollectionFilterAdd',updatekey:'onCollectionUpdateKey'},addObserver:function(c){var a=this.observers,b,d=c.getId();if(!a){a=this.observers=[];this.observerMap={}}b=this.observerMap;if(!b[d]){a.push(c);b[d]=c;Ext.Array.sort(a,this.prioritySortFn)}},prioritySortFn:function(a,b){var c=a.observerPriority||0,d=b.observerPriority||0;return c-d},applyExtraKeys:function(d){var g=this,f={},b,e,a,c;for(a in d){b={collection:g};if(Ext.isString(c=d[a])){b.property=c}else {Ext.apply(b,c)}f[a]=g[a]=e=new Ext.util.CollectionKey(b);e.name=a}return f},applyGrouper:function(a){if(a){a=this.getSorters().decodeSorter(a,'Ext.util.Grouper')}return a},decodeItems:function(e,d){var g=this,a=d===undefined?e:e[d],b,f,c;if(!a||!a.$cloned){b=e.length>d+1||!Ext.isIterable(a);if(b){a=Ext.Array.slice(e,d);if(a.length===1&&a[0]===undefined){a.length=0}}f=g.getDecoder();if(f){if(!b){a=a.slice(0);b=!0}for(c=a.length;c-->0;){if((a[c]=f.call(g,a[c]))===!1){a.splice(c,1)}}}if(b){a.$cloned=!0}}return a},getIndices:function(){var a=this,c=a.indices,d=a.items,f=d.length,b,e;if(!c){a.indices=c={};++a.indexRebuilds;for(b=0;b<f;++b){e=a.getKey(d[b]);c[e]=b}}return c},notify:function(d,b){var a=this,e=a.observers,g=a._eventToMethodMap[d],j=0,c,i,f,h;b=b||[];if(e&&g){for(c=0,i=e.length;c<i;++c){f=(h=e[c])[g];if(f){if(!j++){b.unshift(a)}f.apply(h,b)}}}if(!a.hasListeners){return}if(a.hasListeners[d]){if(!j){b.unshift(a)}a.fireEventArgs(d,b)}},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(b){var a=this._filters;if(!a&&b!==!1){a=new Ext.util.FilterCollection();this.setFilters(a)}return a},isItemFiltered:function(a){return !this.getFilters().filterFn(a)},onFilterChange:function(c){var a=this,b=a.getSource();if(!b){b=new Ext.util.Collection({keyFn:a.getKey,extraKeys:a.getInitialConfig().extraKeys,rootProperty:a.getRootProperty()});if(a.length){b.add(a.items)}a.setSource(b);a.autoSource=b}else {if(b.length||a.length){a.onCollectionRefresh(b)}}a.notify('filter')},applyFilters:function(a,b){if(a==null||a&&a.isFilterCollection){return a}if(a){if(!b){b=this.getFilters()}b.splice(0,b.length,a)}return b},updateFilters:function(a,c){var b=this;if(c){c.un('endupdate','onEndUpdateFilters',b)}if(a){a.on('endupdate','onEndUpdateFilters',b,{prepend:!0});a.$filterable=b}b.onEndUpdateFilters(a)},onEndUpdateFilters:function(a){var b=this,d=b.filtered,c=!!a&&a.length>0;if(d||c){b.filtered=c;b.onFilterChange(a)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(b){var a=this._sorters;if(!a&&b!==!1){a=new Ext.util.SorterCollection();this.setSorters(a)}return a},onSortChange:function(){if(this.sorted){this.sortItems()}},sort:function(c,b,d){var a=this.getSorters();a.addSort.apply(a,arguments);return this},sortData:function(a){Ext.Array.sort(a,this.getSortFn());return a},sortItems:function(b){var a=this;if(a.sorted){b=a.getSortFn()}a.indices=null;if(a.length){Ext.Array.sort(a.items,b)}a.notify('sort')},sortBy:function(a){return this.sortItems(a)},findInsertionIndex:function(c,b,a){if(!b){b=this.items}if(!a){a=this.getSortFn()}return Ext.Array.binarySearch(b,c,a)},applySorters:function(a,b){if(a==null||a&&a.isSorterCollection){return a}if(a){if(!b){b=this.getSorters()}b.splice(0,b.length,a)}return b},createSortFn:function(){var c=this,b=c.getGrouper(),a=c.getSorters().getSortFn();if(!b){return a}return function(c,d){return b.sort(c,d)||a(c,d)}},updateGrouper:function(d){var a=this,b=a.getGroups(),f=a.getSorters(),e,c;a.onSorterChange();a.grouped=!!d;if(d){if(!b){b=new Ext.util.GroupCollection({itemRoot:a.getRootProperty()});a.addObserver(b);a.setGroups(b)}c=b.getSorters();c.splice(0,c.length,{property:'_groupKey',direction:d.getDirection()});e=!0}else {if(b){a.removeObserver(b);b.destroy()}a.setGroups(null)}if(!f.updating){a.onEndUpdateSorters(f)}if(e){b.onCollectionRefresh(a)}},updateSorters:function(b,c){var a=this;if(c){c.un('endupdate','onEndUpdateSorters',a)}if(b){b.on('endupdate','onEndUpdateSorters',a,{prepend:!0});b.$sortable=a}a.onSorterChange();a.onEndUpdateSorters(b)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(b){var a=this,d=a.sorted,c=a.grouped||!!b&&b.length>0;if(d||c){a.sorted=c;a.onSortChange(b)}},removeObserver:function(b){var a=this.observers;if(a){Ext.Array.remove(a,b);delete this.observerMap[b.getId()]}},spliceMerge:function(j){var g=this,d,l=j.length,e=0,n=g.items,m=n.length,f=[],b=0,c=[],p=g.getSorters(),i,h,k,a,o;g.items=c;for(d=0;d<l;d=h){a=j[d];for(;e<m;++e){if(p.sortFn(a,o=n[e])<0){break}c.push(o)}if(e===m){f[b++]={at:c.length,items:i=[]};if(b>1){f[b-2].next=f[b-1]}for(;d<l;++d){i.push(a=j[d]);c.push(a)}break}f[b++]={at:c.length,items:i=[a]};if(b>1){f[b-2].next=f[b-1]}c.push(a);for(h=d+1;h<l;++h){if(p.sortFn(a=j[h],o)>=0){break}c.push(a);i.push(a)}}for(;e<m;++e){c.push(n[e])}g.length=c.length;++g.generation;for(k=0;k<b;++k){g.notify('add',[f[k]])}},getGroups:function(){return (arguments.callee.$previous||Ext.Base.prototype.getGroups).call(this)||null},updateGroups:function(a,b){if(b){this.removeObserver(b)}if(a){this.addObserver(a)}},updateSource:function(a,b){var c=this.autoSource;if(b){b.removeObserver(this);if(b===c){c.destroy();this.autoSource=null}}if(a){a.addObserver(this);if(a.length||this.length){this.onCollectionRefresh(a)}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'Collection'],function(){var a=this.prototype;a.removeAtKey=a.removeByKey;a.decodeRemoveItems=a.decodeItems;Ext.Object.each(a._aggregators,function(b){a[b]=function(a,c,d){return this.aggregate(a,b,c,d)};a[b+'ByGroup']=function(a){return this.aggregateByGroup(a,b)}})});Ext.cmd.derive('Ext.util.Scheduler',Ext.Base,{busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},constructor:function(a){this.mixins.observable.constructor.call(this,a);this.items=new Ext.util.Collection()},destroy:function(){var a=this,b=a.timer;if(b){window.clearTimeout(b);a.timer=null}a.destroyed=!0;a.items=a.orderedItems=null;a.destroy=Ext.emptyFn},add:function(c){var a=this,b=a.items;if(b===a.firing){a.items=b=b.clone()}c.id=c.id||++a.nextId;c.scheduler=a;b.add(c);if(!a.sortMap){a.orderedItems=null}},remove:function(c){var a=this,b=a.items;if(a.destroyed){return}if(b===a.firing){a.items=b=b.clone()}if(c.scheduled){a.unscheduleItem(c);c.scheduled=!1}b.remove(c);a.orderedItems=null},sort:function(){var a=this,b=a.items,f={},e=a.getPreSort(),c,d;a.orderedItems=[];a.sortMap=f;if(e){b.sortItems(e)}b=b.items;for(c=0;c<b.length;++c){d=b[c];if(!f[d.id]){a.sortItem(d)}}a.sortMap=null},sortItem:function(a){var b=this,d=b.sortMap,e=b.orderedItems,c;if(!a.scheduler){b.add(a)}c=a.id;if(!(c in d)){d[c]=0;if(!a.sort.$nullFn){a.sort()}d[c]=1;a.order=b.orderedItems.length;e.push(a)}return b},sortItems:function(a){var b=this,c=b.sortItem;if(a){if(a instanceof Array){Ext.each(a,c,b)}else {Ext.Object.eachValue(a,c,b)}}return b},applyPreSort:function(e){if(typeof e==='function'){return e}var b=e.split(','),d=[],g=b.length,c,a,f;for(a=0;a<g;++a){d[a]=1;f=b[a];if((c=f.charAt(0))==='-'){d[a]=-1}else {if(c!=='+'){c=0}}if(c){b[a]=f.substring(1)}}return function(j,k){var f=0,a,c,h,i;for(a=0;!f&&a<g;++a){c=b[a];h=j[c];i=k[c];f=d[a]*(h<i?-1:i<h?1:0)}return f}},notify:function(){var a=this,h=a.timer,g=a.getCycleLimit(),f,b,d,e,c;if(h){window.clearTimeout(h);a.timer=null}while(a.scheduledCount){if(g){--g}else {a.firing=null;break}++a.passes;if(!(c=a.orderedItems)){a.sort();c=a.orderedItems}e=c.length;if(e){a.firing=a.items;for(b=0;b<e;++b){d=c[b];if(d.scheduled){d.scheduled=!1;--a.scheduledCount;a.notifyIndex=b;d.react();if(!a.scheduledCount){break}}}}}a.firing=null;a.notifyIndex=-1;if((f=a.busyCounter)!==a.lastBusyCounter){if(!(a.lastBusyCounter=f)){a.fireEvent('idle',a)}}},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(b){var a=this;++a.scheduledCount;if(!a.timer&&!a.firing){a.scheduleTick()}},scheduleTick:function(){var a=this;if(!a.destroyed&&!a.timer){a.timer=Ext.Function.defer(a.onTick,a.getTickDelay(),a)}},unscheduleItem:function(a){if(this.scheduledCount){--this.scheduledCount}},adjustBusy:function(c){var a=this,b=a.busyCounter+c;a.busyCounter=b;if(b){if(!a.lastBusyCounter){a.lastBusyCounter=b;a.fireEvent('busy',a)}}else {if(a.lastBusyCounter&&!a.timer){a.scheduleTick()}}},isBusy:function(){return !this.isIdle()},isIdle:function(){return !(this.busyCounter+this.lastBusyCounter)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'Scheduler'],0);Ext.cmd.derive('Ext.util.ObjectTemplate',Ext.Base,{isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(a,b){return a.isObjectTemplate?a:new Ext.util.ObjectTemplate(a,b)}},constructor:function(a,b){Ext.apply(this,b);this.template=a},apply:function(b){var a=this;delete a.apply;a.apply=a.compile(a.template);return a.apply(b)},privates:{compile:function(a){var e=this,g=e.excludeProperties,d,b,f,c;if(Ext.isString(a)){if(a.indexOf('{')<0){c=function(){return a}}else {if(e.valueRe.test(a)){a=a.substring(1,a.length-1).split('.');c=function(d){for(var b=d,c=0;b&&c<a.length;++c){b=b[a[c]]}return b}}else {a=new Ext.XTemplate(a);c=function(b){return a.apply(b)}}}}else {if(Ext.isPrimitive(a)){c=function(){return a}}else {if(a instanceof Array){d=[];for(b=0,f=a.length;b<f;++b){d[b]=e.compile(a[b])}c=function(e){var c=[],b;for(b=0;b<f;++b){c[b]=d[b](e)}return c}}else {d={};for(b in a){if(!g[b]){d[b]=e.compile(a[b])}}c=function(f){var e={},b,c;for(b in a){c=g[b]?a[b]:d[b](f);if(c!==undefined){e[b]=c}}return e}}}}return c}}},1,0,0,0,0,0,[Ext.util,'ObjectTemplate'],0);Ext.cmd.derive('Ext.data.schema.Role',Ext.Base,{isRole:!0,left:!0,owner:!1,side:'left',isMany:!1,defaultReaderType:'json',constructor:function(b,d){var a=this,c=d.extra;Ext.apply(a,d);if(c){delete c.type;Ext.apply(a,c);delete a.extra}a.association=b;if(b.owner===a.side){b.owner=a;a.owner=!0}},getAssociatedStore:function(a,c){var d=this,f=d.storeName||d.getStoreName(),b=a[f],g=a.session,e;if(b===undefined){if(g){e=g.bind({reference:a.entityName,id:a.getId(),association:d.role},Ext.emptyFn,undefined,c?{data:c}:undefined);b=e.stub.store;e.destroy()}else {b=a.schema.createAssociationStore(null,d,a);if(!c&&d.autoLoad){b.load()}}a[f]=b;if(c){b.add(c)}}return b},getAssociatedItem:function(b){var a=this.isMany?this.getStoreName():this.role;return b[a]||null},getReaderRoot:function(){var a=this;return a.associationKey||(a.associationKey=a.association.schema.getNamer().readerRoot(a.role))},getReader:function(){var b=this,a=b.reader,e=b.cls,c=!b.associationKey,d=this.getReaderRoot();if(a){if(Ext.isString(a)){a={type:a,rootProperty:d,useSimpleAccessors:c}}if(a.isReader){a.setModel(e);a.setRootProperty(d);a.setUseSimpleAccessors(c)}else {Ext.applyIf(a,{model:model,rootProperty:d,useSimpleAccessors:c,type:b.defaultReaderType})}a=b.reader=Ext.createByAlias('reader.'+a.type,a)}return a},getStoreName:function(){var a=this;return a.storeName||(a.storeName=a.association.schema.getNamer().storeName(a.role))},constructReader:function(g){var b=this,a=b.getReader(),d=b.cls,f=!b.associationKey,e=b.getReaderRoot(),c;if(!a){c=d.getProxy();if(c){a=c.getReader();b.savedRoot=a.getRootProperty();a.setRootProperty(e)}else {a=new g.self({model:d,useSimpleAccessors:f,rootProperty:e})}}return a},read:function(h,g,e,d){var c=this,a=this.constructReader(e),f=a.read(g,d),b=c.savedRoot;if(b!==undefined){a.setRootProperty(b);delete c.savedRoot}return f},doGetFK:function(b,a,c){var g=this,o=g.cls,j=g.association.getFieldName(),h=g.role,d=b[h],f=d!==undefined&&!(a&&a.reload),k=b.session,i,l,e,n,m;if(!f){if(k){n=k.bind({reference:b.entityName,id:b.getId(),association:g.role},function(d){n.destroy();if(!f&&a){e=[d];c=c||a.scope||b;Ext.callback(a,c,e);Ext.callback(a.success,c,e);Ext.callback(a.callback,c,e)}});m=k.getEntity(g.type,b.get(j));f=!!m;if(f){d=m;b[h]=d}}else {if(j){if(Ext.isEmpty(i=b.get(j))){f=!0;d=null}else {d=o.createWithId(i);b[h]=d;if(typeof a==='function'){a={callback:a,scope:c||b}}else {a=Ext.apply({},a)}l=a.success;a.success=function(d){b[h]=d;if(l){l.apply(this,arguments)}};o.load(i,a)}}else {f=!0}}}if(f&&a){e=[d];c=c||a.scope||b;Ext.callback(a,c,e);Ext.callback(a.success,c,e);Ext.callback(a.callback,c,e)}return d},doSetFK:function(a,b,d,l){var g=this,f=g.association.getFieldName(),e=g.role,c=a[e],j=g.inverse,h=j.setterName,k=a.session,i;if(b&&b.isEntity){if(c!==b){a[e]=b;if(f){a.set(f,b.getId())}if(h){b[h](a)}}}else {i=a.set(f,b);if(i&&c&&c.isEntity&&!c.isEqual(c.getId(),b)){c[j.role]=a[e]=undefined}}if(d){if(k){}else {if(Ext.isFunction(d)){d={callback:d,scope:l||a}}c=a.save(d)}}return c},syncFK:function(f,b,e){var c=this.association.getFieldName(),h=this.inverse.setterName,i=f.length,g=e?null:b,d,a;while(i-->0){a=f[i];d=!a.isEqual(b,a.get(c));if(d!==e){if(h){a[h](g)}else {a.set(c,g)}}}}},1,0,0,0,0,0,[Ext.data.schema,'Role'],0);Ext.cmd.derive('Ext.data.schema.Association',Ext.Base,{isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(d){var a=this,c,b;Ext.apply(a,d);a.left=c=new a.Left(a,a.left);a.right=b=new a.Right(a,a.right);c.inverse=b;b.inverse=c},hasField:function(){return !!this.field},getFieldName:function(){var a=this.field;return a?a.name:''}},1,0,0,0,0,0,[Ext.data.schema,'Association'],0);Ext.cmd.derive('Ext.data.schema.OneToOne',Ext.data.schema.Association,{isOneToOne:!0,isToOne:!0,kind:'one-to-one',Left:Ext.define(null,{extend:'Ext.data.schema.Role',createGetter:function(){var a=this;return function(){return a.doGet(this)}},createSetter:function(){var a=this;return function(b){return a.doSet(this,b)}},createStub:function(b,c,a){return new Ext.data.session.AssociatedEntitiesStub(b,c,a)},doGet:function(a){var c=this.role,b=a[c],d=a.session;if(!b&&d){}return b},doSet:function(a,b){var d=this.role,e=a[d],c=this.inverse.setterName;if(e!==b){a[d]=b;if(c){b[c](a)}}return e},read:function(a,g,e,d){var c=this,f=c.callParent([a,g,e,d]),b=f.getRecords()[0];if(b){a[c.role]=b;b[c.inverse.role]=a}}}),Right:Ext.define(null,{extend:'Ext.data.schema.Role',left:!1,side:'right',createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(d,b,c){return a.doSetFK(this,d,b,c)}},createStub:function(b,c,a){return new Ext.data.session.AssociatedEntityStub(b,c,a)},read:function(a,g,e,d){var c=this,f=c.callParent([a,g,e,d]),b=f.getRecords()[0];if(b){a[c.role]=b;b[c.inverse.role]=a}}})},0,0,0,0,0,0,[Ext.data.schema,'OneToOne'],0);Ext.cmd.derive('Ext.data.schema.ManyToOne',Ext.data.schema.Association,{isManyToOne:!0,isToOne:!0,kind:'many-to-one',Left:Ext.define(null,{extend:'Ext.data.schema.Role',isMany:!0,createGetter:function(){var a=this;return function(b){return a.getAssociatedStore(this,b)}},createSetter:null,createStub:function(b,c,a){return new Ext.data.session.AssociatedEntitiesStub(b,c,a)},onAddToMany:function(a,b){this.syncFK(b,a.associatedEntity||a.foreignKeyValue,!1)},onRemoveFromMany:function(b,a){this.syncFK(a,b.foreignKeyValue,!0)},read:function(b,j,i,h){var d=this,k=d.inverse.role,e=d.callParent([b,j,i,h]),f,c,g,a;if(e.getReadRoot()){f=b[d.getterName](e.getRecords());c=f.data.items;g=c.length;for(a=0;a<g;++a){c[a][k]=b}}}}),Right:Ext.define(null,{extend:'Ext.data.schema.Role',left:!1,side:'right',createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(b,c,d){return a.doSetFK(this,b,c,d)}},createStub:function(b,c,a){return new Ext.data.session.AssociatedEntityStub(b,c,a)},read:function(a,f,d,c){var e=this.callParent([a,f,d,c]),b=e.getRecords()[0];if(b){a[this.role]=b}}})},0,0,0,0,0,0,[Ext.data.schema,'ManyToOne'],0);Ext.cmd.derive('Ext.data.schema.ManyToMany',Ext.data.schema.Association,{isManyToMany:!0,isToMany:!0,kind:'many-to-many',Left:Ext.define(null,{extend:'Ext.data.schema.Role',isMany:!0,createGetter:function(){var a=this;return function(b){return a.getAssociatedStore(this,b)}},createStub:function(b,c,a){return new Ext.data.session.MatrixStub(b,c,a)},onAddToMany:function(a,b){if(!a.matrixUpdate){a.matrixUpdate=1;a.matrix.update(b,1);a.matrixUpdate=0}},onRemoveFromMany:function(a,b){if(!a.matrixUpdate){a.matrixUpdate=1;a.matrix.update(b,-1);a.matrixUpdate=0}},onMatrixUpdate:function(f,e,g){var a=f.store,b,c,d;if(a&&!a.loading&&!a.matrixUpdate){a.matrixUpdate=1;b=a.data.indexOfKey(e);if(g<0){if(b>=0){a.remove([b])}}else {if(b<0){d=a.session.data[a.role.type][e];c=d&&d.record;if(c){a.add(c)}}}a.matrixUpdate=0}}},function(){var a=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:a,left:!1,side:'right'})},null,'Ext.data.schema.ManyToMany')})},0,0,0,0,0,0,[Ext.data.schema,'ManyToMany'],0);Ext.cmd.derive('Ext.util.Inflector',Ext.Base,{singleton:!0,plurals:[[/(quiz)$/i,'$1zes'],[/^(ox)$/i,'$1en'],[/([m|l])ouse$/i,'$1ice'],[/(matr|vert|ind)ix|ex$/i,'$1ices'],[/(x|ch|ss|sh)$/i,'$1es'],[/([^aeiouy]|qu)y$/i,'$1ies'],[/(hive)$/i,'$1s'],[/(?:([^f])fe|([lr])f)$/i,'$1$2ves'],[/sis$/i,'ses'],[/([ti])um$/i,'$1a'],[/(buffal|tomat|potat)o$/i,'$1oes'],[/(bu)s$/i,'$1ses'],[/(alias|status|sex)$/i,'$1es'],[/(octop|vir)us$/i,'$1i'],[/(ax|test)is$/i,'$1es'],[/^(p)erson$/i,'$1eople'],[/^(m)an$/i,'$1en'],[/(.*)(child)(ren)?$/i,'$1$2ren'],[/s$/i,'s'],[/$/,'s']],singulars:[[/(address)$/i,'$1'],[/(quiz)zes$/i,'$1'],[/(matr)ices$/i,'$1ix'],[/(vert|ind)ices$/i,'$1ex'],[/^(ox)en/i,'$1'],[/(alias|status)es$/i,'$1'],[/(octop|vir)i$/i,'$1us'],[/(cris|ax|test)es$/i,'$1is'],[/(shoe)s$/i,'$1'],[/(o)es$/i,'$1'],[/(bus)es$/i,'$1'],[/([m|l])ice$/i,'$1ouse'],[/(x|ch|ss|sh)es$/i,'$1'],[/(m)ovies$/i,'$1ovie'],[/(s)eries$/i,'$1eries'],[/([^aeiouy]|qu)ies$/i,'$1y'],[/([lr])ves$/i,'$1f'],[/(tive)s$/i,'$1'],[/(hive)s$/i,'$1'],[/([^f])ves$/i,'$1fe'],[/(^analy)ses$/i,'$1sis'],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,'$1$2sis'],[/([ti])a$/i,'$1um'],[/(n)ews$/i,'$1ews'],[/(p)eople$/i,'$1erson'],[/s$/i,'']],uncountable:['sheep','fish','series','species','money','rice','information','equipment','grass','mud','offspring','deer','means'],singular:function(b,a){this.singulars.unshift([b,a])},plural:function(b,a){this.plurals.unshift([b,a])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(a){if(this.isTransnumeral(a)){return a}var e=this.plurals,f=e.length,d,b,c;for(c=0;c<f;c++){d=e[c];b=d[0];if(b==a||b.test&&b.test(a)){return a.replace(b,d[1])}}return a},singularize:function(a){if(this.isTransnumeral(a)){return a}var e=this.singulars,f=e.length,d,b,c;for(c=0;c<f;c++){d=e[c];b=d[0];if(b==a||b.test&&b.test(a)){return a.replace(b,d[1])}}return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var c=parseInt(a,10),d=c%10,b=c%100;if(11<=b&&b<=13){return a+'th'}else {switch(d){case 1:return a+'st';case 2:return a+'nd';case 3:return a+'rd';default:return a+'th';}}}},0,0,0,0,0,0,[Ext.util,'Inflector'],function(){var b={alumnus:'alumni',cactus:'cacti',focus:'foci',nucleus:'nuclei',radius:'radii',stimulus:'stimuli',ellipsis:'ellipses',paralysis:'paralyses',oasis:'oases',appendix:'appendices',index:'indexes',beau:'beaux',bureau:'bureaux',tableau:'tableaux',woman:'women',child:'children',man:'men',corpus:'corpora',criterion:'criteria',curriculum:'curricula',genus:'genera',memorandum:'memoranda',phenomenon:'phenomena',foot:'feet',goose:'geese',tooth:'teeth',antenna:'antennae',formula:'formulae',nebula:'nebulae',vertebra:'vertebrae',vita:'vitae'},a;for(a in b){if(b.hasOwnProperty(a)){this.plural(a,b[a]);this.singular(b[a],a)}}});Ext.cmd.derive('Ext.data.schema.Namer',Ext.Base,{isNamer:!0,capitalize:function(a){return Ext.String.capitalize(a)},fieldRole:function(a){var b=a.match(this.endsWithIdRe,'');if(b){return a.substr(0,a.length-(b[1]||b[2]).length)}return a},idField:function(a){return this.apply('uncapitalize,singularize',a)+'Id'},multiRole:function(a){return this.apply('undotted,uncapitalize,pluralize',a)},pluralize:function(a){return Ext.util.Inflector.pluralize(a)},readerRoot:function(a){return this.apply('uncapitalize',a)},singularize:function(a){return Ext.util.Inflector.singularize(a)},storeName:function(a){return this.apply('underscore',a)},uncapitalize:function(a){return Ext.String.uncapitalize(a)},underscore:function(a){return '_'+a},uniRole:function(a){return this.apply('undotted,uncapitalize,singularize',a)},undotted:function(c){if(c.indexOf('.')<0){return c}var a=c.split('.'),b=a.length;while(b-->1){a[b]=this.apply('capitalize',a[b])}return a.join('')},getterName:function(a){var b=a.role;if(a&&a.isMany){return b}return 'get'+this.apply('capitalize',b)},inverseFieldRole:function(e,f,c,d){var a=this,b=a.apply(f?'uniRole':'multiRole',e),g=a.apply('pluralize',c),h=a.apply('undotted,pluralize',d);if(g.toLowerCase()!==h.toLowerCase()){b=c+a.apply('capitalize',b)}return b},manyToMany:function(c,e,d){var b=this,a=b.apply('undotted,capitalize,singularize',e)+b.apply('undotted,capitalize,pluralize',d);if(c){a=b.apply('capitalize',c+a)}return a},manyToOne:function(d,b,a,c){return this.apply('capitalize,singularize',a)+this.apply('capitalize',b)},matrixRole:function(a,c){var b=this.apply(a?'multiRole,capitalize':'multiRole',c);return a?a+b:b},oneToOne:function(d,b,a,c){return this.apply('undotted,capitalize,singularize',a)+this.apply('capitalize',b)},setterName:function(a){return 'set'+this.apply('capitalize',a.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(b,c){var e=this,h=e.cache,i=h[c]||(h[c]={}),a=i[b],d,g,f;if(!a){if(b.indexOf(',')<0){a=e[b](c)}else {g=(f=b.split(',')).length;a=c;for(d=0;d<g;++d){a=e.apply(f[d],a)}}i[b]=a}return a}},0,0,0,0,['namer.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,'Namer'],0);Ext.cmd.derive('Ext.data.schema.Schema',Ext.Base,{aliasPrefix:'schema.',isSchema:!0,type:'default',statics:{instances:{},get:function(a){var f=this,g=f.instances,c='default',e=a&&Ext.isString(a),b,d;if(a){if(a.isSchema){return a}c=e?a:a.id||c}if(!(b=g[c])){g[c]=b=f.create(a);b.id=c}else {if(a&&!e){d=Ext.merge({},b.config);Ext.merge(d,a);b.setConfig(d);b.config=d}}return b},lookupEntity:function(a){var b=null,e=this.instances,c,d,f;if(a){if(a.isEntity){b=a.self}else {if(Ext.isFunction(a)){b=a}else {if(Ext.isString(a)){for(d in e){f=e[d];c=f.getEntity(a);if(c){if(b){Ext.Error.raise('Ambiguous entity name "'+a+'". Defined by schema "'+b.schema.type+'" and "'+d+'"')}b=c}}if(!b){Ext.Error.raise('No such Entity "'+a+'".')}}}}}return b}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,namer:'default',namespace:null,proxy:{type:'ajax',url:'{prefix}/{entityName}',reader:{type:'json'}},urlPrefix:''},onClassExtended:function(c,b){var a=b.alias;if(a&&!b.type){if(!Ext.isString(a)){a=a[0]}c.prototype.type=a.substring(this.prototype.aliasPrefix.length)}},constructor:function(a){this.initConfig(a);this.clear()},applyDefaultIdentifier:function(a){return a&&Ext.Factory.dataIdentifier(a)},applyNamer:function(b){var a=Ext.data.schema.Namer.create(b);a.schema=this;return a},applyProxy:function(a){return Ext.util.ObjectTemplate.create(a)},eachAssociation:function(d,c){var b=this.associations,a;for(a in b){if(b.hasOwnProperty(a)){if(d.call(c,a,b[a])===!1){break}}}},eachEntity:function(d,c){var b=this.entities,a;for(a in b){if(b.hasOwnProperty(a)){if(d.call(c,a,b[a].cls)===!1){break}}}},getAssociation:function(b){var a=this.associations[b];return a||null},getEntity:function(b){var a=this.entityClasses[b]||this.entities[b];return a&&a.cls||null},getEntityName:function(c){var b=this.getNamespace(),a;if(typeof c==='string'){a=c}else {a=c.$className||null}if(a){if(b){if(!this._endsWithPeriodRe.test(b)){b+='.'}a=a.replace(b,'')}else {a=a.split('.').pop()}}return a},hasAssociations:function(a){a=a.entityName||a;return !!this.associationEntityMap[a]},hasEntity:function(b){var a=this.getEntityName(b);return !!(this.entities[a]||this.entityClasses[a])},addMatrix:function(k,l,m,j,i){var a=this,f=a.getNamer(),n=a.associations,e=a.entities,c=j.type,b=i.type,p=j.field||f.apply('idField',c),o=i.field||f.apply('idField',b),r=j.role||f.matrixRole(m,c),q=i.role||f.matrixRole(m,b),d,h,g;h=e[c]||(e[c]={cls:null,name:c,associations:{}});g=e[b]||(e[b]={cls:null,name:b,associations:{}});++a.assocCount;n[l]=d=new Ext.data.schema.ManyToMany({name:l,schema:a,definedBy:k,left:{cls:h.cls,type:c,role:r,field:p},right:{cls:g.cls,type:b,role:q,field:o}});h.associations[d.right.role]=d.right;g.associations[d.left.role]=d.left;a.associationEntityMap[k.entityName]=!0;a.decorateModel(d)},addReference:function(g,f,b,m){var e=this,j=e.getNamer(),o=e.entities,s=e.associations,k=g.entityName,a=b.association,t=!!b.legacy,q=b.child,p=b.parent,c=b.role,d=b.type||p||q,l=b.inverse,n=Ext.isString(l)?{role:l}:l,h=n&&n.role,i,r;if(!c){if(t){c=d}else {c=j.apply('fieldRole',f.name)}}if(!h){h=j.inverseFieldRole(k,m,c,d)}if(!a){if(m){a=j.oneToOne(g,h,d,c)}else {a=j.manyToOne(g,h,d,c)}}i=o[d]||(o[d]={cls:null,name:d,associations:{}});r=m?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;a=new r({name:a,owner:q?'left':p?'right':null,definedBy:g,schema:e,field:f,nullable:f?!!f.allowBlank:!0,legacy:b.legacy,left:{cls:g,type:k,role:h,extra:n},right:{cls:i.cls,type:d,role:c,extra:b}});g.associations[c]=a.right;i.associations[h]=a.left;if(f){f.reference=a.right;g.references.push(f)}++e.assocCount;e.associationEntityMap[k]=!0;if(i.cls){e.associationEntityMap[i.cls.entityName]=!0}s[a.name]=a;if(a.right.cls){e.decorateModel(a)}},createAssociationStore:function(b,a,f,m){var j=a.association,d=j.getFieldName(),i=j.isManyToMany,k=a.storeConfig,l=f.isEntity?f:null,g=f.isEntity?f.getId():f,e={model:a.cls,data:m,role:a,session:b,associatedEntity:l,associatedEntityId:g,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,recordCreator:b?b.recordCreator:undefined,trackRemoved:!b},h,c;if(i){e.filters=[{property:a.inverse.field,value:g,exactMatch:!0}]}else {if(d){e.filters=[{property:d,value:g,exactMatch:!0}];e.foreignKeyName=d}}if(k){Ext.apply(e,k)}c=Ext.Factory.store(e);if(i){if(b){c.matrix=h=b.getMatrixSlice(a.inverse,g);h.attach(c);h.notify=a.onMatrixUpdate;h.scope=a}}else {if(d){c.foreignKeyValue=g}}if(d||i){c.on({add:'onAddToMany',remove:'onRemoveFromMany',scope:a})}return c},privates:{_endsWithPeriodRe:/\.$/,addEntity:function(a){var c=this,i=c.entities,e=a.entityName,b=i[e],j=a.fields,d,g,f,k,h;if(!b){i[e]=b={name:e,associations:{}}}else {d=b.associations;for(h in d){d[h].inverse.cls=a;c.associationEntityMap[e]=!0;c.decorateModel(d[h].association)}}b.cls=a;a.prototype.associations=a.associations=b.associations;c.entityClasses[a.$className]=b;++c.entityCount;for(f=0,k=j.length;f<k;++f){g=j[f];if(g.reference){c.addReferenceDescr(a,g)}}},addMatrices:function(c,a){var e=this,b,f,d;if(Ext.isString(a)){e.addMatrixDescr(c,null,a)}else {if(a[0]){for(b=0,f=a.length;b<f;++b){e.addMatrixDescr(c,null,a[b])}}else {for(d in a){e.addMatrixDescr(c,d,a[d])}}}},addMatrixDescr:function(i,f,a){var h=this,d=i.entityName,k=h.associations,e=h.getNamer(),c=a.left,b=a.right,j,g;if(Ext.isString(a)){if(a.charAt(0)==='#'){c={type:d};b={type:a.substring(1)}}else {if(a.charAt(j=a.length-1)==='#'){c={type:a.substring(0,j)};b={type:d}}else {if(e.apply('multiRole',d)<e.apply('multiRole',a)){c={type:d};b={type:a}}else {c={type:a};b={type:d}}}}}else {g=a.relation;if(c||!b&&e.apply('multiRole',d)<e.apply('multiRole',a.type)){if(!c||c===!0){c={type:d}}else {c=Ext.apply({type:d},c)}b=a}else {if(!b||b===!0){b={type:d}}else {b=Ext.apply({type:d},b)}c=a}}if(!f){f=e.manyToMany(g,c.type,b.type)}if(!(f in k)){h.addMatrix(i,f,g,c,b)}},addReferenceDescr:function(c,b){var d=this,a=b.reference;if(Ext.isString(a)){a={type:a}}d.addReference(c,b,a,b.unique)},addPending:function(b,c,d,e){var a=this.pending;if(!a[b]){a[b]=[]}a[b].push([c,d,e])},addLegacyBelongsTo:function(a,b){this.addLegacySingle(a,b)},addLegacyHasOne:function(a,b){this.addLegacySingle(a,b)},addLegacySingle:function(b,a){var d,e,c;a=this.constructLegacyAssociation(b,a);e=a.type;d=a.foreignKey||e.toLowerCase()+'_id';c=b.getField(d);this.addReference(b,c,a,!0)},addLegacyHasMany:function(d,a){var g=this,j=g.entities,e=g.pending,f,b,h,c,i;a=this.constructLegacyAssociation(d,a);b=a.type;c=j[b];if(c&&c.cls){a.type=d.entityName;i=a.foreignKey||a.type.toLowerCase()+'_id';f=c.cls;h=f.getField(i);a.inverse=a;g.addReference(f,h,a,!1)}else {if(!e[b]){e[b]=[]}e[b].push([d,a])}},constructLegacyAssociation:function(b,a){if(Ext.isString(a)){a={model:a}}a.legacy=!0;a.type=this.getEntityName(a.model);if(a.associatedName){a.role=a.associatedName}return a},afterLegacyAssociations:function(f){var c=this.pending,d=f.entityName,b=c[d],a,e;if(b){for(a=0,e=b.length;a<e;++a){this.addLegacyHasMany.apply(this,b[a])}delete c[d]}},clear:function(){var a=this;delete a.setConfig;a.associations={};a.associationEntityMap={};a.entities={};a.entityClasses={};a.pending={};a.assocCount=a.entityCount=0},constructProxy:function(c){var b=this,a=Ext.Object.chain(c),d=b.getProxy();a.schema=b;a.prefix=b.getUrlPrefix();return d.apply(a)},applyDecoration:function(a){var g=this,f=a.inverse.cls,e=g.getNamer(),b,c,d;if(f&&!a.decorated){a.decorated=!0;d=f.prototype;if(!(b=a.getterName)){a.getterName=b=e.getterName(a)}d[b]=a.createGetter();if(a.createSetter){if(!(c=a.setterName)){a.setterName=c=e.setterName(a)}d[c]=a.createSetter()}}},decorateModel:function(a){this.applyDecoration(a.left);this.applyDecoration(a.right)},rankEntities:function(){var d=this,e=d.entities,b=Ext.Object.getKeys(e),f=b.length,c,a;d.nextRank=1;b.sort();for(a=0;a<f;++a){c=e[b[a]].cls;if(!c.rank){d.rankEntity(c)}}},rankEntity:function(d){var c=d.associations,b,a,e;for(e in c){a=c[e];if(!a.left&&a.association.field){b=a.cls;if(!b.rank){this.rankEntity(b)}}}d.rank=this.nextRank++}}},1,0,0,0,['schema.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,'Schema'],0);Ext.cmd.derive('Ext.data.Batch',Ext.Base,{config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a,b);a.operations=[];a.exceptions=[]},add:function(a){var b=this,c,d;if(Ext.isArray(a)){for(c=0,d=a.length;c<d;++c){b.add(a[c])}}else {b.total++;a.setBatch(b);b.operations.push(a)}return b},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(b,e){var f=b.order-e.order;if(f){return f}var a=b.entityType,d=e.entityType,c;if(!a||!d){return 0}if(!(c=a.rank)){a.schema.rankEntities();c=a.rank}return (c-d.rank)*b.foreignKeyDirection},start:function(b){var a=this;if(!a.operations.length||a.running){return a}a.exceptions.length=0;a.exception=!1;a.running=!0;return a.runOperation(Ext.isDefined(b)?b:a.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){var a=this;if(a.running){a.runOperation(a.current+1)}return a},pause:function(){this.running=!1;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var b=null,a=this.current;if(!(a===-1||this.complete)){b=this.operations[a]}return b},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(d){var a=this,c=a.operations,b=c[d];if(b===undefined){a.running=!1;a.complete=!0;a.fireEvent('complete',a,c[c.length-1])}else {a.current=d;b.setInternalCallback(a.onOperationComplete);b.setInternalScope(a);b.execute()}return a},onOperationComplete:function(b){var a=this,c=b.hasException();if(c){a.exception=!0;a.exceptions.push(b);a.fireEvent('exception',a,b)}if(c&&a.getPauseOnException()){a.pause()}else {a.fireEvent('operationcomplete',a,b);a.runNextOperation()}}},1,0,0,0,0,[['observable',Ext.mixin.Observable]],[Ext.data,'Batch'],0);Ext.cmd.derive('Ext.util.Schedulable',Ext.Base,{'abstract':!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var a=this,b=a.getScheduler();if(b){b.remove(a)}a.destroyed=!0;a.scheduler=null;a.schedule=a.destroy=a.react=Ext.emptyFn},getFullName:function(){return this.name||this.id},getScheduler:function(){return this.scheduler},schedule:function(){var a=this,b;if(!a.scheduled){b=a.getScheduler();if(b){a.scheduled=!0;if(a.onSchedule){a.onSchedule()}b.scheduleItem(a)}}},sort:Ext.emptyFn,unschedule:function(){var a=this,b;if(a.scheduled){b=a.getScheduler();if(b){b.unscheduleItem(a)}a.scheduled=!1}}},1,0,0,0,0,0,[Ext.util,'Schedulable'],0);Ext.cmd.derive('Ext.data.session.BaseBinding',Ext.util.Schedulable,{calls:0,kind:20,defaultOptions:{},lastValue:undefined,constructor:function(d,b,e,c){var a=this;a.options=c;a.owner=d;a.scope=e;a.callback=b;a.lateBound=Ext.isString(b);Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var a=this;Ext.util.Schedulable.prototype.destroy.call(this);a.scope=a.callback=a.owner=null},getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},getSession:function(){var a=this.owner;return a.isSession?a:a.getSession()},notify:function(b){var a=this,d=a.options||a.defaultOptions,c=a.lastValue;if(!a.calls||a.deep||c!==b||Ext.isArray(b)){++a.calls;a.lastValue=b;if(a.lateBound){a.scope[a.callback](b,c,a)}else {a.callback.call(a.scope,b,c,a)}if(d.single){a.destroy()}}}},1,0,0,0,0,0,[Ext.data.session,'BaseBinding'],0);Ext.cmd.derive('Ext.data.session.Binding',Ext.data.session.BaseBinding,{constructor:function(a,c,e,d){var b=this;Ext.data.session.BaseBinding.prototype.constructor.call(this,a.owner,c,e,d);b.stub=a;b.depth=a.depth;if(!a.isLoading()&&!a.scheduled){b.schedule()}},destroy:function(c){var a=this,b=a.stub;if(b&&!c){b.unbind(a);a.stub=null}Ext.data.session.BaseBinding.prototype.destroy.call(this)},bindValidation:function(b,c){var a=this.stub;return a&&a.bindValidation(b,c)},getFullName:function(){return this.fullName||(this.fullName='@('+this.stub.getFullName()+')')},getValue:function(){var b=this,c=b.stub,a=c&&c.getValue();if(b.transform){a=b.transform(a)}return a},isLoading:function(){var a=this.stub;return a&&a.isLoading()},isReadOnly:function(){var b=this.stub,a;if(b&&b.set){a=b.formula;if(!a||a.set){return !1}}return !0},refresh:function(){},setValue:function(c){var a=this.stub,b=a.formula;if(b){b.set.call(a.owner,c)}else {a.set(c)}},privates:{getDataObject:function(){var a=this.stub;return a&&a.getDataObject()},getRawValue:function(){var b=this,c=b.stub,a=c&&c.getRawValue();if(b.transform){a=b.transform(a)}return a},isDescendantOf:function(b){var a=this.stub;return a?b===a||a.isDescendantOf(b):!1},react:function(){this.notify(this.getValue())},schedule:function(){if(!this.stub.scheduled){Ext.data.session.BaseBinding.prototype.schedule.call(this)}},sort:function(){var a=this.stub;a.scheduler.sortItem(a)}}},1,0,0,0,0,0,[Ext.data.session,'Binding'],0);Ext.cmd.derive('Ext.data.session.AbstractStub',Ext.util.Schedulable,{children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(b,c){var a=this;a.owner=b;a.name=c;Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var a=this,d=a.children,c=a.bindings,f,b,e;if(c){for(b=0,f=c.length;b<f;++b){c[b].destroy(!0)}}for(e in d){d[e].destroy()}Ext.util.Schedulable.prototype.destroy.call(this);a.bindings=a.children=a.owner=null},add:function(a){var b=this;(b.children||(b.children={}))[a.name]=a;a.depth=b.depth+1;a.parent=b},getChild:function(b){var a=Ext.isString(b)?b.split('.'):b;if(a&&a.length){return this.descend(a,0)}return this},getFullName:function(){var b=this,a=b.fullName,d=b.parent,c;if(!a){a=b.name||b.id;if(d&&(c=d.getFullName())){a=(c.charAt(c.length-1)!==':'?c+'.':c)+a}b.fullName=a}return a},getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},getSession:function(){var a=this.owner;return a.isSession?a:a.getSession()},bind:function(d,f,e){var a=this,b=new Ext.data.session.Binding(a,d,f,e),c=a.bindings||(a.bindings=[]);b.depth=a.depth;c.push(b);return b},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(b){var a=this,c=a.bindings,e=a.name,d;b.depth=a.depth;b.bindings=c;b.generation=a.generation+1;b.name=e;b.id=a.id;if(c){for(d=c.length;d-->0;){c[d].stub=b}}a.parent=a.bindings=null;a.destroy();return b},isDescendantOf:function(b){for(var a=this;a=a.parent;){if(a===b){return !0}}return !1},onSchedule:function(){for(var c,e,b,a,d=this.parent;d;d=d.parent){a=d.bindings;if(a){for(c=0,e=a.length;c<e;++c){b=a[c];if(b.deep&&!b.scheduled){b.schedule()}}}}},react:function(){var b=this.bindings,c,a,d;if(b){for(a=0,d=b.length;a<d;++a){c=b[a];if(!c.scheduled){c.schedule()}}}},sort:function(){var a=this.parent;if(a){this.scheduler.sortItem(a)}},unbind:function(b){var a=this.bindings;if(a&&a.length){Ext.Array.remove(a,b)}},collect:function(){var a=this.children,f=this.bindings,b=0,d=0,c,e;if(a){for(e in a){c=a[e];d=c.collect();if(d===0){c.destroy();delete a[e]}b+=d}}if(f){b+=f.length}return b}},1,0,0,0,0,0,[Ext.data.session,'AbstractStub'],0);Ext.cmd.derive('Ext.data.session.EntityStub',Ext.data.session.AbstractStub,{isEntityStub:!0,record:null,constructor:function(b,d,e){var a=this,c;Ext.data.session.AbstractStub.prototype.constructor.call(this,b,d);Ext.apply(a,e);if(!(c=b.data[a.entityType.entityName][a.entityId].record)){a.fetch()}else {a.set(c)}},destroy:function(){var a=this,c=a.record,b=a.fetchOperation;if(c){c.$stub=null}if(b){b.abort()}a.record=a.fetchOperation=null;Ext.data.session.AbstractStub.prototype.destroy.call(this)},bind:function(){var a=Ext.data.session.AbstractStub.prototype.bind.apply(this,arguments);a.deep=!0;return a},fetch:function(){var a=this,b=a.getSession();a.fetchOperation=a.entityType.load(a.entityId,{success:a.onFetched,scope:a,recordCreator:b.recordCreator})},getDataObject:function(){return this.record},getRawValue:function(){return this.record},isLoading:function(){return !!this.fetchOperation},onFetched:function(a){this.fetchOperation=null;this.set(a);this.schedule()},set:function(a){this.record=a;if(a){a.$stub=this}}},1,0,0,0,0,0,[Ext.data.session,'EntityStub'],0);Ext.cmd.derive('Ext.data.session.MatrixSlice',Ext.Base,{stub:null,constructor:function(a,b){this.id=b;this.side=a;this.members={}},attach:function(a){this.store=a;a.on({load:'onStoreLoad',scope:this,single:!0})},changeId:function(b){var g=this,c=g.id,f=g.side,e=f.slices,j=e[c],h=j.members,l=f.index,k=f.inverse.slices,i,d,a;g.id=b;e[b]=j;delete e[c];for(d in h){i=h[d];i[l]=b;a=k[d].members;a[b]=a[c];delete a[c]}},onStoreLoad:function(a){this.update(a.data.items,0)},update:function(m,e){var d=this,p=Ext.data.session.MatrixSlice,o=d.side,q=o.index,r=m.length,j=d.id,l=d.members,h=o.inverse,c,g,k,i,b,n,a,f;for(k=0;k<r;++k){g=f=null;i=m[k];b=i.isEntity?(f=i).id:i;if(f&&f.phantom&&f.dropped&&e<0){delete l[b];a=h[b];if(a){delete a.members[j]}g=1}else {if(!(c=l[b])){c=[b,b,e];c[q]=j;l[b]=c;if(!(a=(n=h.slices)[b])){n[b]=a=new p(h,b)}a.members[j]=c;g=1}else {if(e!==c[2]){c[2]=e;a=h.slices[b];g=1}}}if(g){if(d.notify){d.notify.call(d.scope,d,b,e)}if(a&&a.notify){a.notify.call(a.scope,a,j,e)}}}}},1,0,0,0,0,0,[Ext.data.session,'MatrixSlice'],0);Ext.cmd.derive('Ext.data.session.MatrixSide',Ext.Base,{constructor:function(b,c,d){var a=this;a.matrix=b;a.index=c;a.role=d;a.slices={}},get:function(a,b){var e=this,c=e.slices,d=c[a]||(c[a]=new Ext.data.session.MatrixSlice(e,a));return b||b===0?d.members[b]:d},update:function(c,d,b){var a=this.get(c);return a.update(d,b)}},1,0,0,0,0,0,[Ext.data.session,'MatrixSide'],0);Ext.cmd.derive('Ext.data.session.Matrix',Ext.Base,{constructor:function(f,c){var a=this,b=c.isManyToMany?c:f.getSchema().getAssociation(c),g=Ext.data.session.MatrixSide,e=new g(a,0,b.left),d=new g(a,1,b.right);a.association=b;a.session=f;a.left=e;a.right=d;e.inverse=d;d.inverse=e},update:function(b,c,a){return this.left.update(b,c,a)}},1,0,0,0,0,0,[Ext.data.session,'Matrix'],0);Ext.cmd.derive('Ext.data.session.ValidationStub',Ext.data.session.AbstractStub,{isValidationStub:!0,entity:null,lastGeneration:undefined,validation:null,constructor:function(b,c,d){var a=this;Ext.data.session.AbstractStub.prototype.constructor.call(this,b,c+'/validation');Ext.apply(a,d);a.entityBinding=b.bind({reference:a.entityType.entityName,id:a.entityId},a.onEntity,a)},destroy:function(){var a=this;a.entityBinding=Ext.destroy(a.entityBinding)},collect:function(){return Ext.data.session.AbstractStub.prototype.collect.call(this)+(this.entityBinding?1:0)},getRawValue:function(){return this.validation},isLoading:function(){var a=this.entityBinding;return a&&a.isLoading()},onEntity:function(a){this.entity=a;if(!this.scheduled){this.schedule()}},react:function(){var a=this,d=a.entity,b=a.validation,c;if(d){if(b){b.refresh()}else {a.validation=b=d.getValidation()}if(a.lastGeneration===(c=b.generation)){return}a.lastGeneration=c}else {if(b){a.validation=null}else {return}}Ext.data.session.AbstractStub.prototype.react.call(this)},sort:function(){Ext.data.session.AbstractStub.prototype.sort.call(this);var a=this.entityBinding;if(a){this.scheduler.sortItem(a)}}},1,0,0,0,0,0,[Ext.data.session,'ValidationStub'],0);Ext.cmd.derive('Ext.data.session.Session',Ext.Base,{isSession:!0,config:{scheduler:{preSort:'kind,-depth'},schema:'default'},destroyed:!1,constructor:function(b){var a=this;a.data={};a.matrices={};a.identifierCache={};a.recordCreator=a.recordCreator.bind(a);a.initConfig(b)},destroy:function(){var a=this,b=a._scheduler;a.destroy=Ext.emptyFn;if(b){b.destroy();a.scheduler=null}},createRecord:function(a,e){var b=this,c=a.$isClass?a:b.getSchema().getEntity(a),d=new c(e,b);return d},getSession:function(){return this},bind:function(a,c,d,b){var e=this.getStub(a.reference,a.id,a.association,a.validation,b);return e.bind(c,d||this,b)},getChanges:function(){var r=this,x=r.data,t=r.matrices,d=null,z=r.getSchema(),p,a,f,v,g,c,s,e,y,h,b,u,i,j,q,l,k,n,w,m,o;for(b in x){s=z.getEntity(b);n=s.getProxy().getWriter();j=Ext.Object.chain(n.getAllDataOptions());k=Ext.Object.chain(n.getPartialDataOptions());j.serialize=k.serialize=!0;p=x[b];for(e in p){c=p[e].record;if(c){f=c.phantom;v=c.dirty;g=c.dropped;if(f&&g){continue}if(f||v||g){a=(d||(d={}))[b]||(d[b]={});if(f){a=a.C||(a.C=[]);a.push(c.getData(j))}else {if(g){a=a.D||(a.D=[]);a.push(c.id)}else {a=a.U||(a.U=[]);a.push(c.getData(k))}}}}}}for(b in t){h=t[b].left;m=h.slices;b=h.role.type;i=h.role.inverse.role;for(e in m){w=m[e];l=w.members;for(y in l){o=(u=l[y])[2];if(o){q=o<0?'D':'C';a=(d||(d={}))[b]||(d[b]={});a=a[i]||(a[i]={});a=a[q]||(a[q]={});a=a[e]||(a[e]=[]);a.push(u[1])}}}}return d},gatherSaveOperations:function(h){var o=this,k=o.data,e=null,j,a,f,l,g,b,n,d,c,i,m;for(c in k){j=k[c];for(n in j){b=j[n].record;if(b){f=b.phantom;l=b.dirty;g=b.dropped;if(f&&g){continue}if(f||l||g){a=(e||(e={}))[c]||(e[c]={entity:b.self});d=f?'create':g?'destroy':'update';a=a[d]||(a[d]=[]);a.push(b)}}}}if(e){if(!h){h=new Ext.data.Batch()}for(c in e){a=e[c];b=a.entity;delete a.entity;m=b.getProxy();for(d in a){i=m.createOperation(d,{records:a[d]});i.entityType=b;h.add(i)}}}return h},getSaveBatch:function(b){var a=this.gatherSaveOperations();if(a&&b!==!1){a.sort()}return a},contains:function(a,b){return !!this.peekEntityStub(a,b)},getEntry:function(a,c){if(a.isModel){c=a.getId();a=a.entityName}a=this.getSchema().getEntityName(a);var b=this.data[a],d=b&&b[c];return d||null},peekEntity:function(b,c){var a=this.getEntry(b,c);return a&&a.record||null},peekEntityStub:function(b,c){var a=this.getEntry(b,c);return a&&a.stub||null},getEntity:function(c,d){var a=this.getEntityStub(c,d),b;if(a){b=a.getRawValue()}return b||null},getEntityStub:function(b,c){var a=this.peekEntityStub(b,c);if(!a){a=this.getStub(b,c)}return a},notify:function(){this.getScheduler().notify()},privates:{add:function(a){var k=this.data,g=a.entityName,i=a.id,d,e,f,b,l,c,j,h;b=k[g]||(k[g]={});b=b[i]||(b[i]={assoc:{}});f=b.assoc;b.record=a;this.getStub(g,i);for(j in f){e=f[j];c=e.role;if(!(h=e.store)){d=e.record;if(d){a[c.role]=d;d[c.inverse.role]=a}}else {l=c.storeName||c.getStoreName();h.associatedEntity=a;a[l]=h}}this.registerReferences(a)},applyScheduler:function(a){if(a&&!a.isScheduler){a=new Ext.util.Scheduler(a)}return a},applySchema:function(a){return Ext.data.schema.Schema.get(a)},getIdentifier:function(d){var c=this.identifierCache,b=d.identifier,e=b.id||d.entityName,a=c[e];if(!a){if(b.clone){a=b.clone({cache:c})}else {a=b}c[e]=a}return a},getMatrix:function(a){var c=a.isManyToMany?a.name:a,b=this.matrices;return b[c]||(b[c]=new Ext.data.session.Matrix(this,a))},getMatrixSlice:function(a,d){var b=this.getMatrix(a.association),c=b[a.side];return c.get(d)},getStub:function(f,j,e,k,a){var i=this,h=f,d=j,b,c,l,g;if(h.$isClass){f=h.entityName}else {h=i.getSchema().getEntity(f)}c={entityId:j,entityType:h};a=a?Ext.apply(c,a):c;c=i.data;c=c[f]||(c[f]={});b=c[j]||(c[j]={assoc:{}});g=e?b.assoc[e]:k?b.val:b.stub;if(!g){a.entry=b;d+='@';d+=f;if(e){a.associatedEntity=b.record;a.role=l=h.associations[e];d+=':';d+=e;b.assoc[e]=g=l.createStub(i,d,a)}else {if(k){b.val=g=new Ext.data.session.ValidationStub(i,d,a)}else {b.stub=g=new Ext.data.session.EntityStub(i,d,a)}}}return g},recordCreator:function(d,b){var h=this,f=b.idField,g=f.calculated?(new b(d)).id:d[f.name],e=b.entityName,a=h.data,c;a=a[e]||(a[e]={});a=a[g]||(a[g]={assoc:{}});if(!(c=a.record)){c=new b(d,h)}return c},registerReferences:function(d,i){var k=this.data,g=d.entityName,o=d.id,m=d.data,n=i||i===0,b,f,e,l,a,j,c,h;l=(j=d.references).length;for(f=0;f<l;++f){a=j[f];e=m[a.name];if(e||e===0){a=a.reference;g=a.type;h=a.inverse.role;b=k[g]||(k[g]={});b=b[e]||(b[e]={assoc:{}});c=b.refs||(b.refs={});c=c[h]||(c[h]={});c[o]=d;if(n){delete c[i]}}}},spawn:function(a){return new this.self(Ext.merge(Ext.merge({},this.initialConfig),a))},updateReference:function(i,l,b,d){var j=this.data,h=l.reference,g=h.type,e=h.inverse.role,k=i.id,c,f,a;c=j[g]||(j[g]={});if(d||d===0){a=c[d].refs[e];delete a[k]}if(b||b===0){f=c[b]||(c[b]={assoc:{}});a=f.refs||(f.refs={});a=a[e]||(a[e]={});a[k]=i}},afterEdit:function(b){var a=b.$stub;if(a){a.schedule()}},_setNoRefs:{refs:!1},onIdChanged:function(c,k,j){var m=this,q=c.entityName,s=c.id,g=m.data[q],i=g[k],b=i.assoc,l=i.refs,r=m._setNoRefs,e,n,h,o,p,a,f,d;delete g[k];g[j]=i;for(a in b){d=b[a].store;if(d){d.associatedEntityId=j;h=d.matrix;if(h){h.changeId(j)}}}if(l){b=c.associations;for(a in l){f=l[a];p=b[a];e=p.association;if(e.isManyToMany){}else {n=e.field.name;for(o in f){f[o].set(n,s,r)}}}}m.registerReferences(c,k)}}},1,0,0,0,0,0,[Ext.data.session,'Session'],0);Ext.cmd.derive('Ext.app.bind.Stub',Ext.data.session.AbstractStub,{isStub:!0,formula:null,constructor:function(b,c,a){Ext.data.session.AbstractStub.prototype.constructor.call(this,b,c);if(a){a.add(this)}},destroy:function(){var a=this,e=a.formula,f=a.parent,c=a.assocBinding,d=a.storeBinding,b=a.recordBinding;if(c){c.destroy()}if(e){e.destroy()}if(d){d.destroy()}if(b){b.destroy()}a.formula=a.storeBinding=a.assocBinding=a.recordBinding=null;Ext.data.session.AbstractStub.prototype.destroy.call(this)},collect:function(){var a=this,e=Ext.data.session.AbstractStub.prototype.collect.call(this),c=a.assocBinding?1:0,d=a.storeBinding?1:0,b=a.recordBinding?1:0;return e+c+d+b},bindValidation:function(b,c){var a=this.parent;return a&&a.descend(['validation',this.name]).bind(b,c)},descend:function(c,g){var b=this,f=b.children||(b.children={}),d=g||0,e=c[d++],a;if(!(a=f[e])){a=new Ext.app.bind.Stub(b.owner,e,b)}if(d<c.length){a=a.descend(c,d)}return a},getAssociationBinding:function(d,f){var b=this,g=b.assocBinding,a=g?g.stub:null,h=!a,e,c;if(a){e=a.role;if(a.isValidationStub){e=!0}h=a.entityId!==d.id||a.entityType!==d.self||e!==f}if(h){Ext.destroy(g);c={reference:d.entityName,id:d.getId()};if(f===!0){c.validation=!0}else {c.association=f.role}b.assocBinding=b.owner.bind(c,b.onAssociationLoad,b)}return b.assocBinding},getChildValue:function(a){var e=this,c=e.name,d,b;if(!a&&!Ext.isString(a)){b=a===null?undefined:null}else {if(a.isEntity){d=a.associations;if(d&&c in d){b=e.getAssociationBinding(a,d[c]).getValue()}else {if(c==='validation'){b=e.getAssociationBinding(a,!0).getValue()}else {b=a.data[c]}}}else {b=a[c]}}return b},getDataObject:function(){var b=this.parent.getDataObject(),c=this.name,a=b?b[c]:null;if(!a||!(a.$className||Ext.isObject(a))){if(a){}b[c]=a={};this.hadValue=!0}return a},onAssociationLoad:function(a){this.scheduleDeep()},getRawValue:function(){return this.getChildValue(this.parent.getValue())},graft:function(a){var c=this,d=c.parent,b=c.children,f=c.name,e;a.parent=d;a.children=b;if(d){d.children[f]=a}if(b){for(e in b){b[e].parent=a}}c.children=null;return Ext.data.session.AbstractStub.prototype.graft.call(this,a)},isLoading:function(){var b=this,f=b.parent,e=!1,g=b.name,a,c,d;if(f&&!(e=f.isLoading())){a=f.getRawValue();if(a&&a.isEntity){c=a.associations;if(c&&g in c){d=b.getAssociationBinding(a,c[g])}else {if(g==='validation'){d=b.getAssociationBinding(a,!0)}}if(d){e=d.isLoading()}}else {e=!b.hadValue&&b.getRawValue()===undefined}}return e},scheduleDeep:function(){var a=this,b=a.children,c,d;if(!a.isLoading()){if(!a.scheduled){a.schedule()}if(b){for(d in b){if(!(c=b[d]).scheduled){c.scheduleDeep()}}}}},set:function(a){var b=this,h=b.parent,d=b.name,c=h.getDataObject(),g=b.recordBinding,e,f;if(g){g.destroy();b.recordBinding=null}if(c.isEntity){e=c.associations;if(e&&d in e){}else {c.set(d,a)}}else {if(a&&a.constructor===Object||a!==c[d]){if(!b.setByLink(a)){if(a===undefined){delete c[d]}else {c[d]=a;b.hadValue=!0}b.scheduleDeep();if(a&&a.isModel){f=a.$stub;if(f){b.recordBinding=f.bind(b.onRecordChange,b)}}}}}},setByLink:function(g){var f=this,e=0,d,b,c,a;for(a=f;a;a=a.parent){if(a.isLinkStub){b=a;if(e){for(c=[],d=0,a=f;a!==b;a=a.parent){++d;c[e-d]=a.name}}break}++e}if(!b||!(a=b.getTargetStub())){return !1}if(c){a=a.descend(c)}a.set(g);return !0},setFormula:function(c){var a=this,b=a.formula;if(b){b.destroy()}a.formula=new Ext.app.bind.Formula(a,c)},setStore:function(a){this.storeBinding=a},sort:function(){var a=this,f=a.formula,d=a.assocBinding,b=a.scheduler,e=a.storeBinding,c=a.recordBinding;Ext.data.session.AbstractStub.prototype.sort.call(this);if(d){b.sortItem(d)}if(e){b.sortItem(e)}if(c){b.sortItem(c)}if(f){b.sortItem(f)}},onRecordChange:function(d){var b=this.children,c,a;if(b&&d){for(c in b){a=d.associations;if(!(a&&c in a)){b[c].schedule()}}}}},1,0,0,0,0,0,[Ext.app.bind,'Stub'],0);Ext.cmd.derive('Ext.app.bind.LinkStub',Ext.app.bind.Stub,{isLinkStub:!0,binding:null,destroy:function(){var a=this,b=a.binding,c=a.owner;if(b){a.binding=null;b.destroy();if(c){delete c.linkData[a.name]}}a.target=null;Ext.app.bind.Stub.prototype.destroy.call(this)},getFullName:function(){var a=this;return a.fullName||(a.fullName='('+Ext.app.bind.Stub.prototype.getFullName.call(this)+' -> '+a.binding.getFullName()+')')},getDataObject:function(){var a=this.binding;return a&&a.getDataObject()},getRawValue:function(){var a=this.binding;return a&&a.getRawValue()},getValue:function(){var a=this.binding;return a&&a.getValue()},getTargetStub:function(){var a=this.binding;return a&&a.stub},isLoading:function(){var a=this.binding;return a?a.isLoading():!1},link:function(c,b){var a=this,d=a.binding;if(d){d.destroy()}b=a.target=b||a.owner;a.linkDescriptor=c;a.binding=b.bind(c,a.onChange,a);a.binding.deep=!0},onChange:function(){this.scheduleDeep()},react:function(){var a=this,b=a.owner.linkData;b[a.name]=a.getValue();Ext.app.bind.Stub.prototype.react.call(this)},sort:function(){var a=this.binding;if(a){this.scheduler.sortItem(a)}}},0,0,0,0,0,0,[Ext.app.bind,'LinkStub'],0);Ext.cmd.derive('Ext.app.bind.RootStub',Ext.data.session.AbstractStub,{isRootStub:!0,depth:0,createRootChild:function(a,j){var e=this,d=e.owner,i=d.getData(),g=e.children,c=g&&g[a],f=c?null:e,h,b;if(j||i.hasOwnProperty(a)||!(h=d.getParent())){b=new Ext.app.bind.Stub(d,a,f)}else {b=new Ext.app.bind.LinkStub(d,a,c?null:f);b.link('{'+a+'}',h)}if(c){c.graft(b)}return b},createStubChild:function(a){return this.createRootChild(a,!0)},descend:function(a,g){var f=this,d=f.children,b=g||0,e=a[b++],c=d&&d[e]||f.createRootChild(e);if(b<a.length){c=c.descend(a,b)}return c},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+':')},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return !1},isLoading:function(){return !1},set:function(g){var c=this,e=c.children||(c.children={}),d=c.owner,h=d.data,j=d.getParent(),f,a,i,b;for(b in g){if((i=g[b])!==undefined){if(!(a=e[b])){a=new Ext.app.bind.Stub(d,b,c)}else {if(a.isLinkStub){f=a;a=new Ext.app.bind.Stub(d,b);f.graft(a)}}a.set(i)}else {if(h.hasOwnProperty(b)){delete h[b];a=e[b];if(a&&!a.isLinkStub&&j){a=c.createRootChild(b)}a.scheduleDeep()}}}},schedule:Ext.emptyFn,unschedule:Ext.emptyFn},0,0,0,0,0,0,[Ext.app.bind,'RootStub'],0);Ext.cmd.derive('Ext.app.bind.Multi',Ext.data.session.BaseBinding,{isMultiBinding:!0,missing:1,deep:!0,constructor:function(b,e,c,f,d){var a=this;Ext.data.session.BaseBinding.prototype.constructor.call(this,e,c,f,d);a.bindings=[];a.literal=b.$literal;if(b.constructor===Object){a.addObject(b,a.lastValue={})}else {a.addArray(b,a.lastValue=[])}if(!--a.missing&&!a.scheduled){a.schedule()}},destroy:function(){var a=this;a.bindings=Ext.destroy(a.bindings);Ext.data.session.BaseBinding.prototype.destroy.call(this)},add:function(d,i,f){var a=this,h=a.owner,e=a.bindings,g=a.literal?d.reference?'bindEntity':'bindExpression':'bind',b,c;++a.missing;b=h[g](d,function(c){i[f]=c;if(b.calls===1){--a.missing}if(!a.missing&&!a.scheduled){a.schedule()}},a,null);c=b.depth;if(!e.length||c<a.depth){a.depth=c}e.push(b)},addArray:function(e,c){var d=this,f=e.length,a,b;for(b=0;b<f;++b){a=e[b];if(a&&(a.reference||Ext.isString(a))){d.add(a,c,b)}else {if(Ext.isArray(a)){d.addArray(a,c[b]=[])}else {if(a&&a.constructor===Object){d.addObject(a,c[b]={})}else {c[b]=a}}}}},addObject:function(e,c){var d=this,a,b;for(b in e){a=e[b];if(a&&(a.reference||Ext.isString(a))){d.add(a,c,b)}else {if(Ext.isArray(a)){d.addArray(a,c[b]=[])}else {if(a&&a.constructor===Object){d.addObject(a,c[b]={})}else {c[b]=a}}}}},getFullName:function(){var c=this,a=c.fullName,d=c.bindings,e=d.length,b;if(!a){a='@[';for(b=0;b<e;++b){if(b){a+=','}a+=d[b].getFullName()}a+=']';c.fullName=a}return a},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return !1},isLoading:function(){for(var a=this.bindings,b=a.length;b-->0;){if(a[b].isLoading()){return !0}}return !1},react:function(){this.notify(this.lastValue)},refresh:function(){},sort:function(){this.scheduler.sortItems(this.bindings)}},1,0,0,0,0,0,[Ext.app.bind,'Multi'],0);Ext.cmd.derive('Ext.app.bind.Formula',Ext.util.Schedulable,{isFormula:!0,calculation:null,explicit:!1,set:null,single:!1,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,formulaRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)((?:\.[a-z_][a-z_0-9]*)+)(?:[(](?:['"]([a-z_][a-z_0-9]*)['"][)])?)?/gi,constructor:function(h,c){var a=this,g=h.owner,f,b,d,e;a.owner=g;a.stub=h;Ext.util.Schedulable.prototype.constructor.call(this);if(c instanceof Function){a.get=d=c}else {a.get=d=c.get;a.set=c.set;b=c.bind;if(c.single){a.single=c.single}if(b){f=b.bindTo;if(f){e=Ext.apply({},b);delete e.bindTo;b=f}}}if(b){a.explicit=!0}else {b=d.$expressions||a.parseFormula(d)}a.binding=g.bind(b,a.onChange,a,e)},destroy:function(){var a=this,b=a.binding,c=a.stub;if(b){b.destroy();a.binding=null}if(c){c.formula=null}Ext.util.Schedulable.prototype.destroy.call(this);a.owner=null},getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+'='+Ext.util.Schedulable.prototype.getFullName.call(this)+')')},getRawValue:function(){return this.calculation},onChange:function(){if(!this.scheduled){this.schedule()}},parseFormula:function(i){var c=[],g=this.formulaRe,k=i.toString(),j={},h,d,e,f,b,a;b=this.argumentNamesRe.exec(k);h=b?b[1]:'data';while(b=g.exec(k)){f=b[0];if(b[1]!==h){--g.lastIndex;continue}a=b[2].substring(1);e=b[3];if(e){d=a.lastIndexOf('.');a=a.substring(0,d+1)+e}else {if(f.charAt(f.length-1)==='('){d=a.lastIndexOf('.');a=a.substring(0,d)}}if(!j[a]){c.push(a);j[a]=1}}c.$literal=!0;i.$expressions=c;return c},react:function(){var a=this,b=a.owner,c=a.explicit?a.binding.lastValue:b.data;a.settingValue=!0;a.stub.set(a.calculation=a.get.call(b,c,c));a.settingValue=!1;if(a.single){a.destroy()}},sort:function(){var b=this,a=b.binding;if(!a.destroyed){b.scheduler.sortItem(a)}}},1,0,0,0,0,0,[Ext.app.bind,'Formula'],0);Ext.cmd.derive('Ext.app.bind.Template',Ext.Base,{numberRe:/^(?:\d+(?:\.\d*)?)$/,stringRe:/^(?:["][^"]*["])$/,tokenRe:/\{[!]?(?:(?:(\d+)|([a-z_][\w\-\.]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,formatRe:/^([a-z_]+)(?:\(([^\)]*?)?\))?$/i,buffer:null,slots:null,tokens:null,constructor:function(d){var b=this,c=b._initters,a;b.text=d;for(a in c){b[a]=c[a]}},_initters:{apply:function(a,b){return this.parse().apply(a,b)},getTokens:function(){return this.parse().getTokens()}},apply:function(h,i){var f=this,e=f.slots,d=f.buffer,g=e.length,c,b,a;for(c=0;c<g;++c){b=e[c];if(b){if((a=h[b.pos])==null){a=''}if(b.not){a=!a}if(b.format){a=b.format(a,i)}d[c]=a}}return d.join('')},getTokens:function(){return this.tokens},parse:function(){var a=this,g=a.text,j=[],m=[],k=[],i={},d=0,q=a.numberRe,p=a.tokenRe,r=a.stringRe,l=0,t,s,h,n,f,c,o,b,e;for(n in a._initters){delete a[n]}a.buffer=j;a.slots=m;a.tokens=k;while(c=p.exec(g)){f=c.index-d;if(f){j[l++]=g.substring(d,d+f);d+=f}d+=(o=c[0]).length;b={fmt:h=c[3]||null,index:c[1]?parseInt(c[1],10):null,not:o.charAt(1)==='!',token:c[2]||null};e=b.token||String(b.index);if(e in i){b.pos=i[e]}else {i[e]=b.pos=k.length;k.push(e)}if(h){if(h.substring(0,5)==='this.'){b.fmt=h.substring(5)}else {b.scope=Ext.util.Format}a.parseArgs(c[4],b)}m[l++]=b}if(d<g.length){j[l++]=g.substring(d)}return a},parseArgs:function(e,d){var f=this,h=f.numberRe,i=f.stringRe,b,a,c,g;if(!e){a=[]}else {if(e.indexOf(',')<0){a=[e]}else {a=e.split(',')}}d=d||{};g=a.length;d.args=a;for(c=0;c<g;++c){b=a[c];if(b==='true'){a[c]=!0}else {if(b==='false'){a[c]=!1}else {if(b==='null'){a[c]=null}else {if(h.test(b)){a[c]=parseFloat(b)}else {if(i.test(b)){a[c]=b.substring(1,b.length-1)}else {d.fn=Ext.functionFactory('return ['+e+'];');d.format=f._formatEval;break}}}}}}if(!d.format){a.unshift(0);d.format=f._formatArgs}return d},parseFormat:function(e){var c=this,d=c.formatRe.exec(e),a={fmt:e,scope:Ext.util.Format},b;b=d[2];if(b){a.fmt=d[1];c.parseArgs(b,a)}else {a.args=[0];a.format=c._formatArgs}return a},_formatArgs:function(b,a){a=this.scope||a;this.args[0]=b;return a[this.fmt].apply(a,this.args)},_formatEval:function(c,a){var b=this.fn();b.unshift(c);a=this.scope||a;return a[this.fmt].apply(a,b)}},1,0,0,0,0,0,[Ext.app.bind,'Template'],0);Ext.cmd.derive('Ext.app.bind.TemplateBinding',Ext.data.session.BaseBinding,{isTemplateBinding:!0,lastValue:undefined,value:undefined,constructor:function(f,d,e,h,g){var a=this,c=new Ext.app.bind.Template(f),b=c.getTokens();Ext.data.session.BaseBinding.prototype.constructor.call(this,d,e,h,g);a.tpl=c;a.tokens=b;b.$literal=!0;if(b.length){a.multiBinding=new Ext.app.bind.Multi(b,d,a.onBindData,a)}else {a.isStatic=!0;a.onData(c.text)}},destroy:function(){var a=this;Ext.destroy(a.multiBinding);a.tpl=a.multiBinding=null;Ext.data.session.BaseBinding.prototype.destroy.call(this)},getFullName:function(){var a=this.multiBinding;return this.fullName||(this.fullName='$'+(a?a.getFullName():Ext.data.session.BaseBinding.prototype.getFullName.call(this)))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return !1},isLoading:function(){var a=this.multiBinding;return a?a.isLoading():!1},onBindData:function(a){this.onData(this.tpl.apply(a,this.getTemplateScope()))},onData:function(c){var a=this,b=a.value;if(b!==(a.value=c)){a.lastValue=b;a.schedule()}},react:function(){this.notify(this.value)},refresh:function(){var a=this.multiBinding;if(a){a.refresh()}},sort:function(){var a=this.multiBinding;if(a){this.scheduler.sortItem(a)}}},1,0,0,0,0,0,[Ext.app.bind,'TemplateBinding'],0);Ext.cmd.derive('Ext.data.AbstractStore',Ext.Base,{factoryConfig:{defaultType:'store',type:'store'},$configPrefixed:!1,$configStrict:!1,config:{filters:undefined,autoDestroy:!1,storeId:null,statefulFilters:!1,sorters:undefined,remoteSort:!1,remoteFilter:!1,groupField:undefined,groupDir:'ASC',grouper:null,pageSize:25},currentPage:1,loading:!1,isDestroyed:!1,isStore:!0,updating:0,constructor:function(b){var a=this;a.isInitializing=!0;a.mixins.observable.constructor.call(a,b);a.isInitializing=!1;if(a.getStoreId()){Ext.data.StoreManager.register(a)}},getId:function(){return this.getObservableId()},getCount:function(){return this.getData().getCount()},rangeCached:function(a,b){return this.getData().getCount()>=Math.max(a,b)},find:function(g,h,d,e,b,c){var a=!e,f=a&&c;return this.getData().findIndex(g,h,d,a,f,!b)},findRecord:function(){var a=this,b=a.find.apply(a,arguments);return b!==-1?a.getAt(b):null},findExact:function(a,c,b){return this.getData().findIndexBy(function(d){return d.isEqual(d.get(a),c)},this,b)},findBy:function(c,a,b){return this.getData().findIndexBy(c,a,b)},getAt:function(a){return this.getData().getAt(a)||null},getRange:function(d,b,a){var c=this.getData().getRange(d,Ext.isNumber(b)?b+1:b);if(a&&a.callback){a.callback.call(a.scope||this,c,d,b,a)}return c},applyFilters:function(b,a){if(!a){a=this.createFiltersCollection();a.setRootProperty('data')}a.add(b);return a},applySorters:function(b,a){if(!a){a=this.createSortersCollection();a.setRootProperty('data')}a.add(b);return a},filter:function(a,b){if(Ext.isString(a)){a={property:a,value:b}}this.getFilters().add(a)},removeFilter:function(a){var c=this,b=c.getFilters();if(a instanceof Ext.util.Filter){b.remove(a)}else {b.removeByKey(a)}},updateRemoteSort:function(b){var a=this.getSorters();if(b){a.on('endupdate',this.onSorterEndUpdate,this)}else {a.un('endupdate',this.onSorterEndUpdate,this)}},updateRemoteFilter:function(b){var a=this.getFilters();if(b){a.on('endupdate',this.onFilterEndUpdate,this)}else {a.un('endupdate',this.onFilterEndUpdate,this)}},addFilter:function(a){this.getFilters().add(a)},filterBy:function(b,a){this.getFilters().add({filterFn:b,scope:a||this})},clearFilter:function(c){var b=this,a=b.getFilters(!1);if(!a||a.getCount()===0){return}b.suppressNextFilter=!!c;a.removeAll();b.suppressNextFilter=!1},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){return this.getSorters().getCount()>0||this.isGrouped()},addFieldTransform:function(b){if(b.getTransform()){return}var d=b.getProperty(),c=this.getModel().getField(d),a=c?c.getSortType():null;if(a&&a!==Ext.identityFn){b.setTransform(a)}},beginUpdate:function(){if(!this.updating++){this.fireEvent('beginupdate')}},endUpdate:function(){if(!--this.updating){this.fireEvent('endupdate');this.onEndUpdate()}},getState:function(){var e=this,d=[],c=[],f=e.getGrouper(),b,a;e.getSorters().each(function(a){d[d.length]=a.getState();b=!0});if(e.statefulFilters){e.getFilters().each(function(a){c[c.length]=a.getState();b=!0})}if(f){b=!0}if(b){a={};if(d.length){a.sorters=d}if(c.length){a.filters=c}if(f){a.grouper=f.getState()}}return a},applyState:function(a){var e=this,g=e.getSorters(),f=e.getFilters(),d=a.sorters,b=a.filters,c=a.grouper;if(d){g.replaceAll(d)}if(b){f.replaceAll(b)}if(c){this.setGrouper(c)}},hasPendingLoad:Ext.emptyFn,isLoading:Ext.emptyFn,destroyStore:function(){var a=this;if(a.isDestroyed){return}a.isDestroyed=!0;a.clearListeners();if(a.getStoreId()){Ext.data.StoreManager.unregister(a)}a.onDestroyStore()},sort:function(c,b,d){var a=this;if(arguments.length===0){if(a.getRemoteSort()){a.attemptLoad()}else {a.forceLocalSort()}}else {a.getSorters().addSort(c,b,d)}},onSorterEndUpdate:function(){var a=this,b=a.getSorters().getRange();if(b.length){if(a.getRemoteSort()){a.attemptLoad({callback:function(){a.fireEvent('sort',a,b)}})}else {a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireEvent('sort',a,b)}}else {a.fireEvent('sort',a,b)}},onFilterEndUpdate:function(){var a=this,b=a.suppressNextFilter;if(a.getRemoteFilter()){a.currentPage=1;if(!b){a.attemptLoad()}}else {if(!b){a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}}a.fireEvent('filterchange',a,a.getFilters().getRange())},updateGroupField:function(a){var b=this.getData();if(a){b.setGrouper({property:a,direction:this.getGroupDir()})}else {b.setGrouper(null)}},getGrouper:function(){return this.getData().getGrouper()},group:function(b,c,e){var a=this,d=b||a.getSorters().getCount()>0;if(b&&typeof b==='string'){b={property:b,direction:c}}a.getData().setGrouper(b);if(a.isLoadBlocked()){return}if(d){if(a.getRemoteSort()){a.attemptLoad({callback:function(){a.fireEvent('groupchange',a,a.getGrouper())}})}else {a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireEvent('groupchange',a,a.getGrouper())}}else {a.fireEvent('groupchange',a,a.getGrouper())}},clearGrouping:function(){this.group(null)},getGroupField:function(){var a=this.getGrouper(),b='';if(a){b=a.getProperty()}return b},isGrouped:function(){return !!this.getGrouper()},applyGrouper:function(a){this.group(a);return a},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data,'AbstractStore'],0);Ext.cmd.derive('Ext.data.LocalStore',Ext.Mixin,{mixinConfig:{id:'localstore'},constructDataCollection:function(){var b=new Ext.util.Collection({rootProperty:'data',extraKeys:{byInternalId:{property:'internalId',rootProperty:''}}}),a;a=b.getSorters();a.setSorterConfigure(this.addFieldTransform,this);return b},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){return this.getData().getSorters()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(a){return this.indexOf(a)>-1},each:function(f,e){var c=this.data.items,d=c.length,b,a;for(a=0;a<d;++a){b=c[a];if(f.call(e||b,b,a,d)===!1){break}}},collect:function(d,c,b){var e=this,a=e.getData();if(b===!0&&a.filtered){a=a.getSource()}return a.collect(d,'data',c)},getById:function(b){var a=this.getData();if(a.filtered){a=a.getSource()}return a.get(b)||null},getByInternalId:function(b){var a=this.getData();if(a.filtered){a=a.getSource()}return a.byInternalId.get(b)||null},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},queryBy:function(c,b){var a=this.getData();return (a.getSource()||a).createFiltered(c,b)},query:function(e,f,d,b,c){var a=this.getData();return (a.getSource()||a).createFiltered(e,f,d,b,c)},first:function(a){return this.getData().first(a)||null},last:function(a){return this.getData().last(a)||null},sum:function(a,c){var b=this.getData();return c&&this.isGrouped()?b.sumByGroup(a):b.sum(a)},count:function(b){var a=this.getData();return b&&this.isGrouped()?a.countByGroup():a.count()},min:function(a,c){var b=this.getData();return c&&this.isGrouped()?b.minByGroup(a):b.min(a)},max:function(a,c){var b=this.getData();return c&&this.isGrouped()?b.maxByGroup(a):b.max(a)},average:function(a,c){var b=this.getData();return c&&this.isGrouped()?b.averageByGroup(a):b.average(a)},aggregate:function(i,g,j,f){var a=this,c,h,e,d,b;if(j&&a.isGrouped()){c=a.getGroups().items;h=c.length;e={};for(b=0;b<h;++b){d=c[b];e[d.getGroupKey()]=a.getAggregate(i,g||a,d.items,f)}return e}else {return a.getAggregate(i,g,a.getData().items,f)}},getAggregate:function(g,e,b,d){var c=[],f=b.length,a;for(a=0;a<f;++a){c[a]=b[a].get(d)}return g.call(e||this,b,c)},addObserver:function(b){var a=this.observers;if(!a){this.observers=a=new Ext.util.Collection()}a.add(b)},removeObserver:function(b){var a=this.observers;if(a){a.remove(b)}},callObservers:function(h,a){var f=this.observers,g,e,c,d,b;if(f){e=f.items;if(a){a.unshift(this)}else {a=[this]}for(c=0,g=e.length;c<g;++c){b=e[c];d='onSource'+h;if(b[d]){b[d].apply(b,a)}}}}},0,0,0,0,0,0,[Ext.data,'LocalStore'],0);Ext.cmd.derive('Ext.data.ChainedStore',Ext.data.AbstractStore,{config:{source:null,remoteFilter:!1,remoteSort:!1},constructor:function(){Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);this.getData().addObserver(this)},add:function(){var a=this.getSource();return a.add.apply(a,arguments)},remove:function(){var a=this.getSource();return a.remove.apply(a,arguments)},getData:function(){var b=this,a=b.data;if(!a){b.data=a=b.constructDataCollection()}return a},applySource:function(a){if(a){a=Ext.data.StoreManager.lookup(a)}return a},updateSource:function(b,c){var a=this,d;if(c){c.removeObserver(a)}if(b){d=a.getData();d.setSource(b.getData());if(!a.isInitializing){a.fireEvent('refresh',a);a.fireEvent('datachanged',a)}b.addObserver(a)}},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(e,b){var a=this,d=b.items,c=!b.next;if(a.ignoreCollectionAdd){return}a.fireEvent('add',a,d,b.at);if(c){a.fireEvent('datachanged',a)}},onCollectionItemChange:function(d,b){var a=b.item,c=b.modified;if(this.contains(a)){this.fireEvent('update',this,a,'edit',c)}},onCollectionRemove:function(e,b){var a=this,d=b.items,c=!b.next;if(a.ignoreCollectionRemove){return}a.fireEvent('remove',a,d,b.at,!1);if(c){a.fireEvent('datachanged',a)}},onSourceBeforeLoad:function(){this.ignoreCollectionAdd=!0;this.callObservers('BeforeLoad')},onSourceAfterLoad:function(){var a=this;a.ignoreCollectionAdd=!1;a.fireEvent('datachanged',a);a.fireEvent('refresh',a);this.callObservers('AfterLoad')},onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0;this.callObservers('BeforeClear')},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1;this.callObservers('AfterClear')},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=!0;this.callObservers('BeforeRemoveAll')},onSourceAfterRemoveAll:function(c,b){var a=this;a.ignoreCollectionRemove=!1;if(!b){a.fireEvent('clear',a);a.fireEvent('datachanged',a)}this.callObservers('AfterRemoveAll',[b])},hasPendingLoad:function(){return !1},isLoading:function(){return !1},onDestroyStore:function(){var a=this,b=a.data;a.observers=null;a.setSource(null);if(b){b.destroy();a.data=null}}},1,0,0,0,['store.chained'],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,'ChainedStore'],0);Ext.cmd.derive('Ext.app.ViewModel',Ext.Base,{isViewModel:!0,factoryConfig:{name:'viewModel'},destroyed:!1,expressionRe:/^(?:\{[!]?(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:!1,config:{data:!0,formulas:{merge:function(b,d,e){var a,c;if(!d){a=b}else {if(!b){a=d}else {a=Ext.apply({},d);for(c in b){if(!(e&&a[c])){a[c]=b[c]}}}}return a},$value:null},links:null,parent:null,root:!0,scheduler:null,session:null,stores:null,view:null},constructor:function(a){this.initConfig(a)},destroy:function(){var a=this,b=a._scheduler,c=a.storeInfo,d=a.getParent(),e;a.destroy=Ext.emptyFn;if(c){for(e in c){c[e].destroyStore()}}if(d){d.unregisterChild(a)}a.getRoot().destroy();if(b&&b.$owner===a){b.$owner=null;b.destroy()}a.children=a.storeInfo=a._session=a._view=a._scheduler=a._root=a._parent=null},bind:function(a,f,c,b){var d=this,e;c=c||d;if(a.reference){e=d.bindEntity(a,f,c,b)}else {if(!b&&a.bindTo!==undefined&&!Ext.isString(a)){b=a;a=b.bindTo}if(!Ext.isString(a)){e=new Ext.app.bind.Multi(a,d,f,c,b)}else {if(d.expressionRe.test(a)){a=a.substring(1,a.length-1);e=d.bindExpression(a,f,c,b)}else {e=new Ext.app.bind.TemplateBinding(a,d,f,c,b)}}}return e},getSession:function(){var b=this,a=b._session,c;if(!a&&(c=b.getParent())){b.setSession(a=c.getSession())}return a},getStore:function(c){var a=this.storeInfo,b;if(a){b=a[c]}return b||null},linkTo:function(e,c,d){var a=this.getStub(e),b;if(!a.isLinkStub){b=new Ext.app.bind.LinkStub(this,a.name);a.graft(b);a=b}a.link(c,d)},notify:function(){this.getScheduler().notify()},set:function(a,b){var d,c;if(b===undefined&&a&&a.constructor===Object){c=this.getRoot();b=a}else {if(a&&a.indexOf('.')<0){d={};d[a]=b;b=d;c=this.getRoot()}else {c=this.getStub(a)}}c.set(b)},privates:{registerChild:function(b){var a=this.children;if(!a){this.children=a={}}a[b.getId()]=b},unregisterChild:function(b){var a=this.children;if(a){delete a[b.getId()]}},notFn:function(a){return !a},bindEntity:function(a,b,e,c){var d=this.getSession();return d.bind(a,b,e,c)},bindExpression:function(a,d,f,e){var i=a.charAt(0),c=i==='!',g=c?a.substring(1):a,h=this.getStub(g),b;b=h.bind(d,f,e);if(c){b.transform=this.notFn}return b},applyScheduler:function(a){if(a&&!a.isInstance){a=new Ext.util.Scheduler(a);a.$owner=this}return a},getScheduler:function(){var b=this,a=b._scheduler,d,c;if(!a){if(!(d=b.getParent())){if(!(c=b.getSession())){a=new Ext.util.Scheduler({preSort:'kind,-depth'});a.$owner=b}else {a=c.getScheduler()}}else {a=d.getScheduler()}b.setScheduler(a)}return a},getStub:function(a){var b=this.getRoot();return a?b.getChild(a):b},collect:function(){var a=this.children,b;if(a){for(b in a){a[b].collect()}}this.getRoot().collect()},applyData:function(b,e){var a=this,d,c;a.getSession();if(!e){c=a.getParent();a.linkData=d=c?Ext.Object.chain(c.getData()):{};a.data=a._data=Ext.Object.chain(d)}if(b&&b.constructor===Object){a.getRoot().set(b)}},applyParent:function(a){if(a){a.registerChild(this)}return a},applyStores:function(f){var b=this,h=b.getRoot(),d,a,c,g,e;b.storeInfo={};b.listenerScopeFn=function(){return b.getView().getInheritedConfig('defaultListenerScope')};for(d in f){a=f[d];if(Ext.isString(a)){a={source:a}}else {a=Ext.apply({},a)}e=a.listeners;delete a.listeners;c=b.bind(a,b.onStoreBind,b);c.$storeKey=d;c.$listeners=e;g=h.createStubChild(d);g.setStore(c)}},onStoreBind:function(a,j,f){var e=this,h=e.storeInfo,d=f.$storeKey,i=f.$listeners,b=h[d],g=e.getSession(),c;if(!b){a=Ext.apply({session:a.isolated===!1&&g?g:undefined},a);if(a.source){a=Ext.apply({type:'chained'},a)}a.listeners=i;b=Ext.Factory.store(a);b.resolveListenerScope=e.listenerScopeFn;h[d]=b;this.set(d,b)}else {a=Ext.merge({},a);c=a.proxy;delete a.type;delete a.model;delete a.fields;delete a.proxy;delete a.listeners;if(c){delete c.reader;delete c.writer;b.getProxy().setConfig(c)}b.setConfig(a)}},applyFormulas:function(b){var c=this,e=c.getRoot(),a,d;c.getData();for(a in b){e.createStubChild(a);d=c.getStub(a);d.setFormula(b[a])}return b},applyLinks:function(a){for(var b in a){this.linkTo(b,a[b])}},applyRoot:function(){var b=new Ext.app.bind.RootStub(this),a=this.getParent();if(a){b.depth=a.getRoot().depth-1000}return b}}},1,0,0,0,['viewmodel.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.app,'ViewModel'],0);Ext.cmd.derive('Ext.data.ResultSet',Ext.Base,{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null,readRoot:!1},constructor:function(a){this.initConfig(a)},applyCount:function(a){if(!a&&a!==0){return this.getRecords().length}return a},updateRecords:function(a){this.setCount(a.length)}},1,0,0,0,0,0,[Ext.data,'ResultSet'],0);Ext.cmd.derive('Ext.data.reader.Reader',Ext.Base,{alternateClassName:['Ext.data.Reader','Ext.data.DataReader'],factoryConfig:{defaultType:null},config:{totalProperty:'total',successProperty:'success',rootProperty:'',messageProperty:'',typeProperty:'',implicitIncludes:!0,readRecordsOnFailure:!0,model:null,proxy:null},isReader:!0,constructor:function(a){if(a&&a.hasOwnProperty('root')){a=Ext.apply({},a);a.rootProperty=a.root;delete a.root}var b=this;b.duringInit=!0;b.initConfig(a);delete b.duringInit;b.mixins.observable.constructor.call(b,a);b.buildExtractors()},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},forceBuildExtractors:function(){if(!this.duringInit){this.buildExtractors(!0)}},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(b,d){var c,a;if(b){if(b.responseText){a=this.getResponseData(b);if(a&&a.__$isError){return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:a.msg})}else {c=this.readRecords(a,d)}}else {c=this.readRecords(b,d)}}return c||this.nullResultSet},createReadError:function(a){return {__$isError:!0,msg:a}},readRecords:function(b,j){var a=this,g,e,f,d,h,c,i;a.buildExtractors();a.rawData=b;b=a.getData(b);g=!0;e=0;f=[];if(a.getSuccessProperty()){c=a.getSuccess(b);if(c===!1||c==='false'){g=!1}}if(a.getMessageProperty()){i=a.getMessage(b)}if(a.getReadRecordsOnFailure()||g){d=Ext.isArray(b)?b:a.getRoot(b);if(d){h=d.length}if(a.getTotalProperty()){c=parseInt(a.getTotal(b),10);if(!isNaN(c)){h=c}}if(d){f=a.extractData(d,j);e=f.length}}return new Ext.data.ResultSet({total:h||e,count:e,records:f,success:g,message:i,readRoot:!!d})},extractData:function(e,c){var b=this,g=c&&c.model?Ext.data.schema.Schema.lookupEntity(c.model):b.getModel(),k=g.schema,o=k.hasAssociations(g)&&b.getImplicitIncludes(),n=b.getFieldExtractorInfo(g.fieldExtractors),h=e.length,m=new Array(h),l=b.getTypeProperty(),i,j,d,a,f;if(!h&&Ext.isObject(e)){e=[e];h=1}for(f=0;f<h;f++){a=e[f];if(!a.isModel){j=a;if(l&&(d=b.getChildType(k,j,l))){i=d.getProxy().getReader();a=i.extractRecord(j,c,d,k.hasAssociations(d)&&i.getImplicitIncludes(),i.getFieldExtractorInfo(d.fieldExtractors))}else {a=b.extractRecord(j,c,g,o,n)}}m[f]=a}return m},getChildType:function(d,c,a){var b;switch(typeof a){case 'string':return d.getEntity(c[a]);case 'object':b=a.namespace;return d.getEntity((b?b+'.':'')+c[a.name]);case 'function':return d.getEntity(a(c));}},extractRecordData:function(d,a){var b=a&&a.model?Ext.data.schema.Schema.lookupEntity(a.model):this.getModel(),c=this.getFieldExtractorInfo(b.fieldExtractors);return this.extractRecord(d,a,b,!1,c)},extractRecord:function(e,b,g,i,f){var a=this,h=b&&b.recordCreator||a.defaultRecordCreator,d,c;d=a.extractModelData(e,f);c=h.call(a,d,g||a.getModel());if(i){a.readAssociated(c,e,b)}return c},getFieldExtractorInfo:function(b){var c=this.type,a=b[c];if(a===undefined){b[c]=a=this.buildFieldExtractors()}return a},buildFieldExtractors:function(){var f=this.getFields(),j=f.length,c=[],e=[],i=null,h=0,d,g,a,b;for(a=0;a<j;++a){d=f[a];b=this.createFieldAccessor(d);if(b){g=d.name;c.push("data['"+g+"'] = extractors["+h+'](raw);');e.push(b);++h}}if(c.length){i={extractors:e,fn:new Function('raw','data','extractors',c.join(''))}}return i},defaultRecordCreator:function(c,b){var a=new b(c);a.phantom=!1;return a},getModelData:function(a){return {}},extractModelData:function(c,a){var b=this.getModelData(c),d;if(a){d=a.fn;d(c,b,a.extractors)}return b},readAssociated:function(c,f,e){var a=c.associations,b,d;for(b in a){if(a.hasOwnProperty(b)){d=a[b];d.read(c,f,this,e)}}},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(a){},onMetaChange:function(a){var b=this,f=a.fields||b.getFields(),g,c,e,d;b.metaData=a;if(a.root){b.setRootProperty(a.root)}if(a.totalProperty){b.setTotalProperty(a.totalProperty)}if(a.successProperty){b.setSuccessProperty(a.successProperty)}if(a.messageProperty){b.setMessageProperty(a.messageProperty)}e=a.clientIdProperty;c=Ext.define(null,{extend:'Ext.data.Model',fields:f,clientIdProperty:e});b.setModel(c);d=b.getProxy();if(d){d.setModel(c)}b.buildExtractors(!0)},buildExtractors:function(e){var a=this,d=a.getTotalProperty(),c=a.getSuccessProperty(),b=a.getMessageProperty();if(e||!a.hasExtractors){if(d){a.getTotal=a.createAccessor(d)}if(c){a.getSuccess=a.createAccessor(c)}if(b){a.getMessage=a.createAccessor(b)}a.hasExtractors=!0;return !0}},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroyReader:function(){var a=this;delete a.model;delete a.getTotal;delete a.getSuccess;delete a.getMessage}},1,0,0,0,['reader.base'],[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.reader,'Reader',Ext.data,'Reader',Ext.data,'DataReader'],function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:''})})});Ext.cmd.derive('Ext.data.writer.Writer',Ext.Base,{factoryConfig:{defaultType:null},alternateClassName:['Ext.data.DataWriter','Ext.data.Writer'],config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:'name',writeRecordId:!0},isWriter:!0,constructor:function(a){this.initConfig(a)},write:function(d){var b=d.getOperation(),c=b.getRecords()||[],f=c.length,e=[],a;for(a=0;a<f;a++){e.push(this.getRecordData(c[a],b))}return this.writeRecords(d,e)},writeRecords:Ext.emptyFn,getRecordData:function(e,m){var d=this,h=d.getNameProperty(),j=h!=='name',i=e.self.idField,b=i.name,a=e.id,n=d.getWriteAllFields(),c;if(i.serialize){a=i.serialize(a)}if(!n&&m&&m.isDestroyOperation){c={};c[h?i[h]:b]=a}else {var l=d.getDateFormat(),p=e.phantom,o=p||n?d.getAllDataOptions():d.getPartialDataOptions(),k=p&&d.getClientIdProperty(),q=e.getFieldsMap(),f,g;o.serialize=!1;f=e.getData(o);c=j?{}:f;if(k){c[k]=a;delete f[b]}else {if(!d.getWriteRecordId()){delete f[b]}}for(b in f){a=f[b];if(!(g=q[b])){if(j){c[b]=a}}else {if(g.isDateField&&l&&Ext.isDate(a)){a=Ext.Date.format(a,l)}else {if(g.serialize){a=g.serialize(a,e)}}if(j){b=g[h]||b}c[b]=a}}}return c}},1,0,0,0,['writer.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.writer,'Writer',Ext.data,'DataWriter',Ext.data,'Writer'],0);Ext.cmd.derive('Ext.data.proxy.Proxy',Ext.Base,{alternateClassName:['Ext.data.DataProxy','Ext.data.Proxy'],config:{batchOrder:'create,update,destroy',batchActions:!0,model:undefined,reader:{type:'json'},writer:{type:'json'}},isProxy:!0,isSynchronous:!1,constructor:function(b){var a=this;a.initConfig(b);a.mixins.observable.constructor.call(a)},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},updateModel:function(b){if(b){var a=this.getReader();if(a&&!a.getModel()){a.setModel(b)}}},applyReader:function(a){return Ext.Factory.reader(a)},updateReader:function(a){if(a){var c=this,b=c.getModel();if(!b){b=a.getModel();if(b){c.setModel(b)}}else {a.setModel(b)}if(a.onMetaChange){a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,c.onMetaChange,c)}}},applyWriter:function(a){return Ext.Factory.writer(a)},abort:Ext.emptyFn,onMetaChange:function(a){this.fireEvent('metachange',this,a)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,l){var c=this,m=c.getBatchActions(),b,d,h,j,e,f,g,k,i;if(a.operations===undefined){a={operations:a,listeners:l}}if(a.batch){if(Ext.isDefined(a.batch.runOperation)){b=Ext.applyIf(a.batch,{proxy:c,listeners:{}})}}else {a.batch={proxy:c,listeners:a.listeners||{}}}if(!b){b=new Ext.data.Batch(a.batch)}b.on('complete',Ext.bind(c.onBatchComplete,c,[a],0));h=c.getBatchOrder().split(',');j=h.length;for(f=0;f<j;f++){e=h[f];d=a.operations[e];if(d){if(m){b.add(c.createOperation(e,{records:d}))}else {k=d.length;for(g=0;g<k;g++){i=d[g];b.add(c.createOperation(e,{records:[i]}))}}}}b.start();return b},onBatchComplete:function(a,b){var c=a.scope||this;if(b.hasException()){if(Ext.isFunction(a.failure)){Ext.callback(a.failure,c,[b,a])}}else {if(Ext.isFunction(a.success)){Ext.callback(a.success,c,[b,a])}}if(Ext.isFunction(a.callback)){Ext.callback(a.callback,c,[b,a])}},createOperation:function(b,c){var a=Ext.createByAlias('data.operation.'+b,c);a.setProxy(this);return a},clone:function(){return new this.self(this.getInitialConfig())}},1,0,0,0,['proxy.proxy'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable]],[Ext.data.proxy,'Proxy',Ext.data,'DataProxy',Ext.data,'Proxy'],0);Ext.cmd.derive('Ext.data.proxy.Client',Ext.data.proxy.Proxy,{alternateClassName:'Ext.data.ClientProxy',isSynchronous:!0,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,'Client',Ext.data,'ClientProxy'],0);Ext.cmd.derive('Ext.data.proxy.Memory',Ext.data.proxy.Client,{alternateClassName:'Ext.data.MemoryProxy',isMemoryProxy:!0,config:{enablePaging:!1,data:null},finishOperation:function(b){var a=0,c=b.getRecords(),d=c.length;for(a;a<d;a++){c[a].commit()}b.setSuccessful(!0)},create:function(a){this.finishOperation(a)},update:function(a){this.finishOperation(a)},destroy:function(){this.finishOperation(operation)},read:function(b){var g=this,a=g.getReader().read(g.getData()),d=a.getRecords(),c=b.getSorters(),h=b.getGrouper(),f=b.getFilters(),e=b.getStart(),i=b.getLimit();if(b.process(a,null,null,!1)!==!1){if(f&&f.length){a.setRecords(d=Ext.Array.filter(d,Ext.util.Filter.createFilterFn(f)));a.setTotal(d.length)}if(h){c=c?c.concat(h):c}if(c&&c.length){a.setRecords(d=Ext.Array.sort(d,Ext.util.Sortable.createComparator(c)))}if(g.getEnablePaging()&&e!==undefined&&i!==undefined){if(e>=a.getTotal()){a.setConfig({success:!1,records:[],total:0})}else {a.setRecords(Ext.Array.slice(d,e,e+i))}}b.setCompleted()}},clear:Ext.emptyFn},0,0,0,0,['proxy.memory'],0,[Ext.data.proxy,'Memory',Ext.data,'MemoryProxy'],0);Ext.cmd.derive('Ext.data.operation.Operation',Ext.Base,{alternateClassName:'Ext.data.Operation',isOperation:!0,config:{synchronous:!1,params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:undefined,exception:!1,error:undefined,constructor:function(a){var b=a&&a.scope;this.initConfig(a);if(a){a.scope=b}if(b){this.setScope(b);this.initialConfig.scope=b}},getAction:function(){return this.action},execute:function(){var a=this;delete a.error;delete a.success;a.complete=a.exception=!1;a.setStarted();return a.request=a.doExecute()},doExecute:Ext.emptyFn,abort:function(){var a=this,b=a.request;if(a.running&&b){a.getProxy().abort(b);a.request=null}},process:function(c,e,d,b){var a=this;b=b!==!1;a.setResponse(d);a.setResultSet(c);if(c.getSuccess()){a.doProcess(c,e,d);a.setSuccessful(b)}else {if(b){a.setException(c.getMessage())}}},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(l,n,m){var j=this,i=j._commitSetOptions,e=j.getRecords(),k=e.length,g=e[0].clientIdProperty,f=l.getRecords(),h=f?f.length:0,d,c,b,a;if(h&&g){d=Ext.Array.toValueMap(e,'id');for(a=0;a<h;++a){c=f[a];b=d[c[g]];if(b){delete d[b.id];delete c[g];b.set(c,i)}}for(a in d){d[a].commit()}}else {for(a=0;a<k;++a){b=e[a];if(h===0||!(c=f[a])){b.commit()}else {b.set(c,i)}}}},setStarted:function(){this.started=this.running=!0},setCompleted:function(){this.complete=!0;this.running=!1;this.triggerCallbacks()},setSuccessful:function(a){this.success=!0;if(a){this.setCompleted()}},setException:function(b){var a=this;a.exception=!0;a.success=a.running=!1;a.error=b;a.setCompleted()},triggerCallbacks:function(){var a=this,b=a.getInternalCallback();if(b){b.call(a.getInternalScope()||a,a)}if(b=a.getCallback()){b.call(a.getScope()||a,a.getRecords(),a,a.wasSuccessful())}},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var a;return this._records||((a=this.getResultSet())?a.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===!0},allowWrite:function(){return !0}},1,0,0,0,0,0,[Ext.data.operation,'Operation',Ext.data,'Operation'],0);Ext.cmd.derive('Ext.data.operation.Create',Ext.data.operation.Operation,{action:'create',isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}},0,0,0,0,['data.operation.create'],0,[Ext.data.operation,'Create'],0);Ext.cmd.derive('Ext.data.operation.Destroy',Ext.data.operation.Operation,{action:'destroy',isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){var b=this.getRecords(),c=b.length,a;for(a=0;a<c;++a){b[a].setErased()}},doExecute:function(){return this.getProxy().destroy(this)},getRecordData:function(a,e){var b={},d=a.idField,c=this.getNameProperty()||'name';b[d[c]]=a.id;return b}},0,0,0,0,['data.operation.destroy'],0,[Ext.data.operation,'Destroy'],0);Ext.cmd.derive('Ext.data.operation.Read',Ext.data.operation.Operation,{action:'read',isReadOperation:!0,config:{filters:undefined,sorters:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return !1}},0,0,0,0,['data.operation.read'],0,[Ext.data.operation,'Read'],0);Ext.cmd.derive('Ext.data.operation.Update',Ext.data.operation.Operation,{action:'update',isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}},0,0,0,0,['data.operation.update'],0,[Ext.data.operation,'Update'],0);Ext.cmd.derive('Ext.data.ProxyStore',Ext.data.AbstractStore,{config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:!1,batchUpdateMode:'operation',filterOnLoad:!0,sortOnLoad:!0,trackRemoved:!0,session:undefined},onClassExtended:function(e,d,b){var c=d.model,a;if(typeof c==='string'){a=b.onBeforeCreated;b.onBeforeCreated=function(){var g=this,f=arguments;Ext.require(c,function(){a.apply(g,f)})}}},loadCount:0,implicitModel:!1,blockLoadCounter:0,autoSyncSuspended:0,constructor:function(b){var a=this;a.removed=[];a.blockLoad();Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);a.unblockLoad()},updateAutoLoad:function(b){var a=this,c;a.getData();if(b){c=a.loadTask||(a.loadTask=new Ext.util.DelayedTask());c.delay(1,a.attemptLoad,a,Ext.isObject(b)?[b]:undefined)}},getTotalCount:function(){return this.totalCount||0},applyFields:function(c){var b=this,d,a;if(c){b.implicitModel=!0;b.setModel(d=Ext.define(null,{extend:'Ext.data.Model',fields:c,proxy:a=b.getProxy()}));if(a&&!a.getModel()){a.setModel(d)}}},applyModel:function(a){if(a){a=Ext.data.schema.Schema.lookupEntity(a)}else {this.getFields();return this.getModel()}return a},applyProxy:function(a){var c=this,b=c.getModel();if(a){if(a.isProxy){a.setModel(b)}else {if(Ext.isString(a)){a={type:a,model:b}}else {if(!a.model){a=Ext.apply({model:b},a)}}a=Ext.createByAlias('proxy.'+a.type,a)}}else {if(b){a=b.getProxy()}}if(!a){a=Ext.createByAlias('proxy.memory')}return a},updateTrackRemoved:function(a){this.removed=a?[]:null},onMetaChange:function(b,a){this.fireEvent('metachange',this,a)},create:function(f,a){var b=this,d=new b.model(f),e=b.getProxy(),c;a=Ext.apply({},a);if(!a.records){a.records=[d]}a.internalScope=b;a.internalCallback=b.onProxyWrite;c=e.createOperation('create',a);return c.execute()},read:function(){return this.load.apply(this,arguments)},update:function(a){var b=this,d=b.getProxy(),c;a=Ext.apply({},a);if(!a.records){a.records=b.getUpdatedRecords()}a.internalScope=b;a.internalCallback=b.onProxyWrite;c=d.createOperation('update',a);return c.execute()},onProxyWrite:function(b){var a=this,c=b.wasSuccessful(),d=b.getRecords();switch(b.getAction()){case 'create':a.onCreateRecords(d,b,c);break;case 'update':a.onUpdateRecords(d,b,c);break;case 'destroy':a.onDestroyRecords(d,b,c);break;}if(c){a.fireEvent('write',a,b);a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(c,b,a){if(a){this.removed.length=0}},destroy:function(a){var b=this,d=b.getProxy(),c;a=Ext.apply({},a);if(!a.records){a.records=b.getRemovedRecords()}a.internalScope=b;a.internalCallback=b.onProxyWrite;c=d.createOperation('destroy',a);return c.execute()},onBatchOperationComplete:function(b,a){return this.onProxyWrite(a)},onBatchComplete:function(e,f){var a=this,c=e.operations,d=c.length,b;if(a.batchUpdateMode!='operation'){a.suspendEvents();for(b=0;b<d;b++){a.onProxyWrite(c[b])}a.resumeEvents()}a.isSyncing=!1;a.fireEvent('datachanged',a);a.fireEvent('refresh',a)},onBatchException:function(b,a){},filterNew:function(a){return a.phantom===!0&&a.isValid()},getNewRecords:function(){return []},getUpdatedRecords:function(){return []},getModifiedRecords:function(){return [].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===!0&&a.phantom!==!0&&a.isValid()},getRemovedRecords:function(){return this.removed},sync:function(d){var a=this,b={},f=a.getNewRecords(),g=a.getUpdatedRecords(),e=a.getRemovedRecords(),c=!1;a.needsSync=!1;if(f.length>0){b.create=f;c=!0}if(g.length>0){b.update=g;c=!0}if(e.length>0){b.destroy=e;c=!0}if(c&&a.fireEvent('beforesync',b)!==!1){a.isSyncing=!0;d=d||{};a.proxy.batch(Ext.apply(d,{operations:b,listeners:a.getBatchListeners()}))}return a},getBatchListeners:function(){var a=this,b={scope:a,exception:a.onBatchException,complete:a.onBatchComplete};if(a.batchUpdateMode=='operation'){b.operationcomplete=a.onBatchOperationComplete}return b},save:function(){return this.sync.apply(this,arguments)},blockLoad:function(a){if(a!==undefined){this.blockLoadCounter=a}else {++this.blockLoadCounter}},unblockLoad:function(c){var a=this,b=a.blockLoadCounter;if(c){a.blockLoadCounter=0}else {if(b){--a.blockLoadCounter}}return b},isLoadBlocked:function(){return !!this.blockLoadCounter},attemptLoad:function(a){if(!this.isLoadBlocked()){this.load(a)}},load:function(g){if(this.isLoadBlocked()){return}var a=this,h=a.getProxy(),f=a.loadTask,b={internalScope:a,internalCallback:a.onProxyLoad},c,e,d;if(a.getRemoteFilter()){c=a.getFilters();if(c.getCount()){b.filters=c.getRange()}}if(a.getRemoteSort()){e=a.getSorters();if(e.getCount()){b.sorters=e.getRange()}}Ext.apply(b,g);b.scope=b.scope||a;if(!b.recordCreator){d=a.getSession();if(d){b.recordCreator=d.recordCreator}}a.lastOptions=b;b=h.createOperation('read',b);if(a.fireEvent('beforeload',a,b)!==!1){a.loading=!0;if(f){f.cancel();a.loadTask=null}b.execute()}return a},reload:function(a){var b=Ext.apply({},a,this.lastOptions);return this.load(b)},onEndUpdate:function(){var a=this;if(a.needsSync&&a.autoSync&&!a.autoSyncSuspended){a.sync()}},afterReject:function(b){var a=this;if(a.contains(b)){a.onUpdate(b,Ext.data.Model.REJECT,null);a.fireEvent('update',a,b,Ext.data.Model.REJECT,null)}},afterCommit:function(c,a){var b=this;if(!a){a=null}if(b.contains(c)){b.onUpdate(c,Ext.data.Model.COMMIT,a);b.fireEvent('update',b,c,Ext.data.Model.COMMIT,a)}},afterErase:function(a){this.onErase(a)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,onDestroyStore:function(){var a=this;a.blockLoad();a.clearData();a.setProxy(null);a.setModel(null);a.setSession(null)},hasPendingLoad:function(){return !!this.loadTask},isLoading:function(){return !!this.loading},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(b){var a=this;if(a.autoSyncSuspended&&!--a.autoSyncSuspended){if(b){a.sync()}}},removeAll:Ext.emptyFn,clearData:Ext.emptyFn},1,0,0,0,0,0,[Ext.data,'ProxyStore'],0);Ext.cmd.derive('Ext.data.Error',Ext.Base,{isError:!0,$configPrefixed:!1,config:{field:null,message:''},constructor:function(a){this.initConfig(a);this.msg=this.message}},1,0,0,0,0,0,[Ext.data,'Error'],0);Ext.cmd.derive('Ext.data.ErrorCollection',Ext.util.MixedCollection,{alternateClassName:'Ext.data.Errors',init:function(e){var b=this,l=e.fields,j=e.validators,o=e.data,k,c,f,g,h,m,n,a,i,d;for(g=0,n=l.length;g<n;++g){c=l[g];d=c.name;i=o[d];if(c.validate&&!c.validate.$nullFn){k=b.length;a=c.validate(i,null,b);if(k===b.length&&a!==!0){b.add(d,a)}}if(j){f=j[d];if(f){for(h=0,m=f.length;h<m;++h){a=f[h].validate(i,e);if(a!==!0){b.add(d,a)}}}}}return b},add:function(b,f){var e=this,d=Ext.data.field.Field.defaultInvalidMessage,a=b,c;if(Ext.isString(b)){a=new Ext.data.Error({field:b,message:f||d})}else {if(!a.isError){a=new Ext.data.Error({field:a.field||a.name,message:a.error||a.message||a.msg||d})}b=a.field}c=e.get(b);if(c){if(Ext.isArray(c)){c.push(a);return c}e.removeAtKey(b);a=[c,a];a.field=b;a=[a]}return Ext.util.MixedCollection.prototype.add.call(this,a)},getKey:function(a){return a.field},isValid:function(){return this.length===0},getByField:function(b){var a=this.get(b);if(a&&!Ext.isArray(a)){a=[a]}return a||[]}},0,0,0,0,0,0,[Ext.data,'ErrorCollection',Ext.data,'Errors'],0);Ext.cmd.derive('Ext.data.SortTypes',Ext.Base,{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,'')},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,'')},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(b){var a=parseFloat(String(b).replace(/,/g,''));return isNaN(a)?0:a},asInt:function(b){var a=parseInt(String(b).replace(/,/g,''),10);return isNaN(a)?0:a}},0,0,0,0,0,0,[Ext.data,'SortTypes'],0);Ext.cmd.derive('Ext.data.validator.Validator',Ext.Base,{isValidator:!0,type:'base',statics:{all:{},register:function(a,c){var b=this.all;b[a.toUpperCase()]=b[a.toLowerCase()]=b[a]=c.prototype}},onClassExtended:function(b,a){if(a.type){Ext.data.validator.Validator.register(a.type,b)}},constructor:function(a){if(typeof a==='function'){this.fnOnly=!0;this.validate=a}else {this.initConfig(a)}},validate:function(){return !0},clone:function(){var a=this;if(a.fnOnly){return new Ext.data.validator.Validator(a.validate)}return new a.self(a.getCurrentConfig())}},1,0,0,0,['data.validator.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.validator,'Validator'],function(){this.register(this.prototype.type,this)});Ext.cmd.derive('Ext.data.field.Field',Ext.Base,{alternateClassName:'Ext.data.Field',aliasPrefix:'data.field.',type:'auto',factoryConfig:{defaultProperty:'name'},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:'This field is invalid',defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,sortDir:'ASC',unique:!1,rank:null,stripRe:/[\$,%]/g,calculated:!1,evil:!1,identifier:!1,onClassExtended:function(e,b){var c=this,i=c.prototype,g=i.aliasPrefix.length,h=b.validators,a=b.alias,d=b.sortType,f;if(a){if(Ext.isString(a)){c.register(a.substring(g),e)}else {for(f=a.length;f--;){c.register(a[f].substring(g),e)}}}if(d&&Ext.isString(d)){e.prototype.sortType=Ext.data.SortTypes[d]}if(h){delete b.validators;b.validate=c.compileValidators(h)}},statics:{all:{},compileValidators:function(b){if(!(b instanceof Array)){b=[b]}var c=b.length,a;for(a=0;a<c;++a){b[a]=Ext.Factory.dataValidator(b[a])}return function(j,f,g){var h=this,e='',d,i;for(a=-1;a<c;++a){if(a<0){d=h.callParent([j,f,g])}else {i=b[a];d=i.validate(j)}if(d!==!0){d=d||h.defaultInvalidMessage;if(g){g.add(h.name,d);e=e||d}else {if(f){if(e){e+=f}e+=d}else {e=d;break}}}}return d||!0}},register:function(a,c){var b=this.all;b[a.toUpperCase()]=b[a]=c.prototype}},argumentNamesRe:/^function\s+\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(f){var a=this,m=a.calculateRe,e,g,c,h,b,j,d,l,k,i;if(f){if(Ext.isString(f)){a.name=f}else {Ext.apply(a,f)}}e=a.calculate;b=a.depends;if(e){a.convert=a.doCalculate;if(!b){if(!(b=e.$depends)){j={};k=e.toString();e.$depends=b=[];d=a.argumentNamesRe.exec(k);l=d?d[1]:'data';while(d=m.exec(k)){if(l===d[1]&&!j[i=d[2]]){j[i]=1;b.push(i)}}}a.depends=b}}c=a.defaultValue;if(a.convert){if(c!==undefined){a.defaultValue=c=a.convert(c)}a.calculated=g=a.convert.length>1;a.evil=g&&!b}if(a.persist===null){a.persist=!g}h=a.sortType;if(!a.sortType){a.sortType=Ext.data.SortTypes.none}else {if(Ext.isString(h)){a.sortType=Ext.data.SortTypes[h]}}if(a.validators){Ext.override(a,{validate:Ext.data.field.Field.compileValidators(a.validators)})}if(b&&typeof b==='string'){a.depends=[b]}a.cloneDefaultValue=c!==undefined&&(Ext.isDate(c)||Ext.isArray(c)||Ext.isObject(c))},collate:function(d,e){var c=this,a=d,b=e;if(c.sortType){a=c.sortType(a);b=c.sortType(b)}return a<b?-1:a>b?1:0},compare:function(a,b){return a===b?0:a<b?-1:1},isEqual:function(a,b){return !this.compare(a,b)},convert:null,serialize:null,validate:Ext.returnTrue,doCalculate:function(b,a){return a?this.calculate(a.data):b},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var a=this.mapping;return !!(a||a===0)},getPersist:function(){return this.persist},getSortDir:function(){return this.sortDir},getSortType:function(){return this.sortType},getType:function(){return 'auto'}},1,0,0,0,['data.field.auto'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.field,'Field',Ext.data,'Field'],function(){this.register(this.prototype.type,this)});Ext.cmd.derive('Ext.data.field.Boolean',Ext.data.field.Field,{isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(a){if(typeof a==='boolean'){return a}if(this.allowNull&&(a===undefined||a===null||a==='')){return null}return this.trueRe.test(String(a))},getType:function(){return 'bool'}},0,0,0,0,['data.field.bool','data.field.boolean'],0,[Ext.data.field,'Boolean'],0);Ext.cmd.derive('Ext.data.field.Date',Ext.data.field.Field,{sortType:'asDate',isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(d,e){var b=d instanceof Date,c=e instanceof Date,a;if(c&&b){a=d.getTime()-e.getTime();if(a===0){a=0}else {a=a<0?-1:1}}else {if(b===c){a=0}else {a=b?1:-1}}return a},convert:function(a){if(!a){return null}if(a instanceof Date){return a}var c=this.dateReadFormat||this.dateFormat,b;if(c){return Ext.Date.parse(a,c)}b=Date.parse(a);return b?new Date(b):null},serialize:function(b){var c=null,a;if(Ext.isDate(b)){a=this.getDateWriteFormat();c=a?Ext.Date.format(b,a):b}return c},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var a=this;if(a.hasOwnProperty('dateWriteFormat')){return a.dateWriteFormat}if(a.hasOwnProperty('dateFormat')){return a.dateFormat}return a.dateWriteFormat||a.dateFormat||'timestamp'},getType:function(){return 'date'}},0,0,0,0,['data.field.date'],0,[Ext.data.field,'Date'],0);Ext.cmd.derive('Ext.data.field.Integer',Ext.data.field.Field,{isNumeric:!0,isIntegerField:!0,convert:function(a){if(typeof a=='number'){return parseInt(a)}var d=a===undefined||a===null||a==='',c=this.allowNull,b;if(d){b=c?null:0}else {b=parseInt(String(a).replace(this.stripRe,''),10);if(c&&isNaN(b)){b=null}}return b},getType:function(){return 'int'}},0,0,0,0,['data.field.int','data.field.integer'],0,[Ext.data.field,'Integer'],0);Ext.cmd.derive('Ext.data.field.Number',Ext.data.field.Field,{isNumeric:!0,isNumberField:!0,convert:function(a){if(typeof a==='number'){return a}var d=a===undefined||a===null||a==='',c=this.allowNull,b;if(d){b=c?null:0}else {b=parseFloat(String(a).replace(this.stripRe,''));if(c&&isNaN(b)){b=null}}return b},getType:function(){return 'float'}},0,0,0,0,['data.field.float','data.field.number'],0,[Ext.data.field,'Number'],0);Ext.cmd.derive('Ext.data.field.String',Ext.data.field.Field,{sortType:'asUCString',isStringField:!0,convert:function(a){var b=this.allowNull?null:'';return a===undefined||a===null?b:String(a)},getType:function(){return 'string'}},0,0,0,0,['data.field.string'],0,[Ext.data.field,'String'],0);Ext.cmd.derive('Ext.data.identifier.Generator',Ext.Base,{'abstract':!0,factoryConfig:{defaultType:'sequential'},isGenerator:!0,config:{id:null},constructor:function(a){var c=this,d,b;c.initConfig(a);b=c.getId();if(b){d=a&&a.cache||Ext.data.identifier.Generator.all;d[b]=c}},privates:{clone:function(b){var a=this.getInitialConfig();a=b?Ext.apply({},b,a):a;return new this.self(a)},statics:{all:{}}}},1,0,0,0,['data.identifier.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.identifier,'Generator'],function(){var b=this,a=Ext.Factory,c=a.dataIdentifier;a.dataIdentifier=function(a){var d=Ext.isString(a)?a:a&&a.id,e=d&&(a&&a.cache||b.all)[d];return e||c(a)}});Ext.cmd.derive('Ext.data.identifier.Sequential',Ext.data.identifier.Generator,{config:{increment:1,prefix:null,seed:1},generate:function(){var a=this,c=a._seed,b=a._prefix;a._seed+=a._increment;return b!==null?b+c:c}},0,0,0,0,['data.identifier.sequential'],0,[Ext.data.identifier,'Sequential'],0);Ext.cmd.derive('Ext.data.Model',Ext.Base,{alternateClassName:'Ext.data.Record',isEntity:!0,isModel:!0,validIdRe:null,observableType:'record',constructor:function(b,e){var a=this,c=a.self,g=c.identifier,n=Ext.data.Model,k=n.identifier,l=a.idField.name,j,d,h,m,o,f,i;a.data=b||(b={});a.session=e;a.internalId=m=k.generate();if((j=b) instanceof Array){a.data=b={};i=a.getFields();o=Math.min(i.length,j.length);for(f=0;f<o;++f){b[i[f].name]=j[f]}}if(!(h=c.initializeFn)){c.initializeFn=h=n.makeInitializeFn(c)}if(!h.$nullFn){c.initializeFn(a)}if(!(a.id=d=b[l])&&d!==0){if(e){g=e.getIdentifier(c);d=g.generate()}else {if(k===g){d=m}else {d=g.generate()}}b[l]=a.id=d;a.phantom=!0}if(e){e.add(a)}if(a.init&&Ext.isFunction(a.init)){a.init()}},editing:!1,dirty:!1,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:'id',identifier:null,previousValues:undefined,proxy:undefined,schema:'default',versionProperty:null,generation:1,validationSeparator:null,eachStore:function(c,d){var f=this,b=f.stores,e=b.length,a;for(a=0;a<e;++a){c.call(d,b[a])}},beginEdit:function(){var a=this,c=a.modified,b=a.previousValues;if(!a.editing){a.editing=!0;a.editMemento={dirty:a.dirty,data:Ext.apply({},a.data),generation:a.generation,modified:c&&Ext.apply({},c),previousValues:b&&Ext.apply({},b)}}},cancelEdit:function(){var a=this,b=a.editMemento;if(b){a.editing=!1;Ext.apply(a,b);a.editMemento=null}},endEdit:function(d,b){var a=this,c=a.editMemento;if(c){a.editing=!1;a.editMemento=null;a.previousValues=c.previousValues;if(!d){if(!b){b=a.getModifiedFieldNames(c.data)}if(a.dirty||b&&b.length){a.callStore('afterEdit',[b])}}}},getField:function(a){return this.self.getField(a)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(a){this.set(this.idProperty,a)},getPrevious:function(b){var a=this.previousValues;return a&&a[b]},isModified:function(b){var a=this.modified;return !!(a&&a.hasOwnProperty(b))},getModified:function(a){var b;if(this.isModified(a)){b=this.modified[a]}return b},get:function(a){return this.data[a]},_singleProp:{},set:function(h,x,I){var a=this,E=a.self,s=a.data,f=a.modified,y=a.previousValues,z=a.session,m=Ext.isString(h),e=m?I:x,v=!e||e.convert!==!1,H=a.fieldsMap,B=e&&e.silent,A=e&&e.commit,G=!(e&&e.refs===!1)&&z,C=!(e&&e.dirty===!1&&!A),j=null,k,b,w,F,c,D,n,t,o,u,d=0,p,r,l,q,i,g;if(m){g=a._singleProp;g[h]=x}else {g=h}if(!(l=E.rankedFields)){l=E.rankFields()}p=l.length;do{for(c in g){i=g[c];k=s[c];n=a;b=H[c];if(b){if(v&&b.convert){i=b.convert(i,a)}n=b;q=b.reference}else {q=null}if(n.isEqual(k,i)){continue}s[c]=i;(j||(j=[])).push(c);(y||(a.previousValues=y={}))[c]=k;if(G&&q){z.updateReference(a,b,i,k)}u=(o=b&&b.dependents)&&o.length;while(u-->0){(t=o[u]).dirty=!0;d=d?Math.min(d,t.rank):t.rank}if(!b||b.persist){if(f&&f.hasOwnProperty(c)){if(!C||n.isEqual(f[c],i)){delete f[c];a.dirty=-1}}else {if(C){if(!f){a.modified=f={}}a.dirty=!0;f[c]=k}}}if(c===a.idField.name){w=!0;D=k;r=i}}if(!d){break}b=l[d-1];b.dirty=!1;if(m){delete g[h]}else {g=a._singleProp;m=!0}h=b.name;g[h]=s[h];v=!0;for(;d<p;++d){if(l[d].dirty){break}}if(d<p){++d}else {d=0}}while(1);if(a.dirty<0){a.dirty=!1;for(F in f){if(f.hasOwnProperty(F)){a.dirty=!0;break}}}if(m){delete g[h]}++a.generation;if(w){a.id=r;a.callStore('onIdChanged',[D,r])}if(A){a.commit(B,j)}else {if(!B&&!a.editing&&j){a.callStore('afterEdit',[j])}}return j},reject:function(b){var a=this;Ext.apply(a.data,a.modified);++a.generation;a.clearState();if(!b){a.callStore('afterReject')}},commit:function(d,c){var a=this,b;a.clearState();a.phantom=!1;if(a.dropped){a.erased=b=!0}if(!d){if(b){a.callStore('afterErase')}else {a.callStore('afterCommit',[c])}}},clearState:function(){var a=this;a.dirty=a.editing=!1;a.editMemento=a.modified=null},drop:function(b){var a=this;a.dropped=!0},join:function(c){var b=this,a=b.stores;if(!a){b.stores=a=[]}if(a.length){Ext.Array.include(a,c)}else {a[0]=c}b.store=a[0]},unjoin:function(b){var c=this,a=c.stores;if(a.length>1){Ext.Array.remove(a,b)}else {if(b===a[0]){a.length=0}}c.store=a[0]||null},copy:function(a){var c=this,b=Ext.apply({},c.data),d=c.idProperty,e=c.self;if(a||a===0){b[d]=a}else {if(a===null){delete b[d]}}return new e(b)},getProxy:function(){return this.self.getProxy()},getValidation:function(c){var b=this,a=b.validation;if(!a){b.validation=a=new Ext.data.Validation();a.attach(b)}if(c===!0||c!==!1&&a.syncGeneration!==b.generation){a.refresh(c)}return a},validate:function(){return (new Ext.data.ErrorCollection()).init(this)},isValid:function(){var a=this.getValidation();return !a.dirty},erase:function(a){this.drop();return this.save(a)},setErased:function(){this.erased=!0;this.callStore('afterErase')},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var a=this.self,b=a.criticalFields;if(!b){a.rankFields();b=a.criticalFields}return b},getAssociatedData:function(c){var d=this,i=d.associations,e,a,h,b,j,g,k,f;c=c||{};d.$gathering=1;for(f in i){k=i[f];a=k.getAssociatedItem(d);if(!a||a.$gathering){continue}if(a.isStore){a.$gathering=1;h=a.getData().items;j=h.length;b=[];for(e=0;e<j;++e){g=h[e];b.push(g.getData(!g.$gathering))}delete a.$gathering}else {b=a.getData(!0)}c[f]=b}delete d.$gathering;return c},getData:function(m){var a=this,e={},f=m===!0?a._getAssociatedOptions:m||e,h=a.data,n=f.associated,k=f.changes,p=k&&f.critical,l=k?a.modified:h,o=a.fieldsMap,q=f.persist,j=f.serialize,g,b,i,d,c;if(l){for(d in l){c=h[d];b=o[d];if(b){if(q&&!b.persist){continue}if(j&&b.serialize){c=b.serialize(c,a)}}e[d]=c}}if(p){g=a.self.criticalFields||a.getCriticalFields();for(i=g.length;i-->0;){d=(b=g[i]).name;if(!(d in e)){c=h[d];if(j&&b.serialize){c=b.serialize(c,a)}e[d]=c}}}if(n){a.getAssociatedData(e)}return e},getTransientFields:function(){var a=this.self,b=a.transientFields;if(!b){a.rankFields();b=a.transientFields}return b},save:function(a){a=Ext.apply({},a);var b=this,f=b.phantom,e=b.dropped,h=e?'destroy':f?'create':'update',d=a.scope||b,g=a.callback,i=b.getProxy(),c;a.records=[b];a.internalCallback=function(e){var c=[b,e],f=e.wasSuccessful();if(f){Ext.callback(a.success,d,c)}else {Ext.callback(a.failure,d,c)}c.push(f);Ext.callback(g,d,c)};delete a.callback;c=i.createOperation(h,a);if(e&&f){c.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);b.setErased();c.setSuccessful(!0)}else {c.execute()}return c},inheritableStatics:{addFields:function(a){this.replaceFields(a)},replaceFields:function(k,i){var c=this,m=c.prototype,n=Ext.data.field.Field,f=c.fields,j=c.fieldsMap,e=c.fieldOrdinals,d,a,g,h,b,l;if(i===!0){f.length=0;c.fieldsMap=j={};c.fieldOrdinals=e={}}else {if(i){for(a=i.length;a-->0;){b=i[a];if(b in e){delete e[b];delete j[b]}}for(a=0,h=f.length;a<h;++a){b=(d=f[a]).name;if(b in e){e[b]=a}else {f.splice(a,1);--a;--h}}}}for(a=0,h=k?k.length:0;a<h;a++){b=(d=k[a]).name;if(!(b in e)){e[b]=l=f.length;f.push(d=n.create(d));j[b]=d;d.ordinal=l;d.definedBy=d.owner=this}}c.idField=m.idField=g=j[m.idProperty];g.allowNull=g.critical=g.identifier=!0;g.defaultValue=null;c.initializeFn=c.rankedFields=c.transientFields=c.criticalFields=null},removeFields:function(a){this.replaceFields(null,a)},createWithId:function(c,b,e){var a=b,d=this;if(c||c===0){a={};if(b){Ext.apply(a,b)}a[d.idField.name]=c}return new d(a,e)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(a){return this.fieldsMap[a]||null},getProxy:function(){var b=this,a=b.proxy,c;if(!a){a=b.proxyConfig;if(!a||!a.isProxy){c=b.schema.constructProxy(b);a=a?Ext.merge(c,a):c}a=b.setProxy(a)}return a},setProxy:function(a){var b=this,c;if(a){if(!a.isProxy){a=Ext.Factory.proxy(a)}else {c=a.getModel();if(c&&c!==b){a=a.clone()}}a.setModel(b)}return b.prototype.proxy=b.proxy=a},load:function(b,a){a=Ext.apply({},a);var e=this,d=a.scope||e,g=e.getProxy(),f=a.callback,c;if(b||b===0){a.id=b}a.internalCallback=function(e){var g=e.getRecords(),c=g?g[0]:null,h=!!(e.wasSuccessful()&&c);if(h){if(c.getId()!==b){c.setId(b)}Ext.callback(a.success,d,[c,e])}else {Ext.callback(a.failure,d,[c,e])}Ext.callback(f,d,[c,e,h])};delete a.callback;c=g.createOperation('read',a);c.execute();return c}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},copyFrom:function(c){var a=this,i=a.fields,k=i.length,g=[],j,f=0,e,h,l=a.idProperty,b,d;if(c){e=a.data;h=c.data;for(;f<k;f++){j=i[f];b=j.name;if(b!=l){d=h[b];if(d!==undefined&&!a.isEqual(e[b],d)){e[b]=d;g.push(b)}}}if(a.phantom&&!c.phantom){a.beginEdit();a.setId(c.getId());a.endEdit(!0);a.commit(!0)}}return g},callStore:function(h,a){var f=this,c=f.stores,b=f.session,g,i,e,d;if(!c&&!b){return}if(a){a.unshift(f)}else {a=[f]}if(b&&(e=b[h])){e.apply(b,a)}if(c){for(g=0,i=c.length;g<i;++g){d=c[g];if(d&&(e=d[h])){e.apply(d,a)}}}},setSession:function(a){this.session=a;if(a){a.add(this)}},getModifiedFieldNames:function(f){var c=this,b=c.data,d=[],e=f||c.editMemento.data,a;for(a in b){if(b.hasOwnProperty(a)){if(!c.isEqual(b[a],e[a],a)){d.push(a)}}}return d},isEqual:function(b,c,a){var d;if(a){d=a.isField?a:this.fieldsMap[a];if(d){return d.compare(b,c)===0}}if(b instanceof Date&&c instanceof Date){return b.getTime()===c.getTime()}return b===c},statics:{EDIT:'edit',REJECT:'reject',COMMIT:'commit',rankFields:function(){var d=this,g=d.prototype,h=d.fields,f=h.length,c=[],j=[],i=[],e,a,b;d.rankedFields=g.rankedFields=c;d.criticalFields=g.criticalFields=j;d.transientFields=g.transientFields=i;for(b=0;b<f;++b){a=h[b];if(a.critical){j.push(a)}if(!a.persist){i.push(a)}if(a.evil){(e||(e=[])).push(a)}else {if(!a.depends){c.push(a);a.rank=c.length}}}for(b=0;b<f;++b){if(!(a=h[b]).rank&&!a.evil){d.topoAdd(a)}}if(e){for(b=0,f=e.length;b<f;++b){c.push(a=e[b]);a.rank=c.length}}return c},topoAdd:function(b){var d=this,e=b.depends,g=e?e.length:0,f=d.rankedFields,c,a;for(c=0;c<g;++c){a=d.fieldsMap[e[c]];(a.dependents||(a.dependents=[])).push(b);if(!a.rank){d.topoAdd(a)}}f.push(b);b.rank=f.length},initFields:function(m,f,e){var p=Ext.data.field.Field,o=m.fields,h=[],i={},j={},r=[],n=e.fields,q=m.versionProperty||e.versionProperty,k=m.idProperty||e.idProperty,b,a,c,l,g,d;f.fields=e.fields=h;f.fieldOrdinals=e.fieldOrdinals=i;f.fieldsMap=e.fieldsMap=j;f.references=e.references=r;if(n){for(c=0,l=n.length;c<l;++c){h[c]=a=Ext.Object.chain(n[c]);a.dependents=null;a.owner=f;i[g=a.name]=c;j[g]=a}}if(o){delete m.fields;for(c=0,l=o.length;c<l;++c){a=p.create(o[c]);g=a.name;d=i[g];if(d===undefined){i[g]=d=h.length}j[g]=a;h[d]=a;a.definedBy=a.owner=f;a.ordinal=d;if(g===q){a.critical=!0}}}if(!(b=j[k])){b=new p(k);d=h.length;h[d]=b;i[k]=d;j[k]=b;b.definedBy=f;b.ordinal=d}b.allowNull=b.critical=b.identifier=!0;b.defaultValue=null;f.idField=e.idField=b},initAssociations:function(d,b,e){var f=b.associations,g=b.belongsTo,h=b.hasMany,i=b.hasOne,k=b.manyToMany,a,c,j;delete b.manyToMany;if(k){d.addMatrices(e,k)}delete b.associations;delete b.belongsTo;delete b.hasMany;delete b.hasOne;if(f){f=Ext.isArray(f)?f:[f];for(a=0,c=f.length;a<c;++a){j=f[a];switch(j.type){case 'belongsTo':d.addLegacyBelongsTo(e,j);break;case 'hasMany':d.addLegacyHasMany(e,j);break;case 'hasOne':d.addLegacyHasOne(e,j);break;}}}if(g){g=Ext.isArray(g)?g:[g];for(a=0,c=g.length;a<c;++a){d.addLegacyBelongsTo(e,g[a])}}if(h){h=Ext.isArray(h)?h:[h];for(a=0,c=h.length;a<c;++a){d.addLegacyHasMany(e,h[a])}}if(i){i=Ext.isArray(i)?i:[i];for(a=0,c=i.length;a<c;++a){d.addLegacyHasOne(e,i[a])}}d.afterLegacyAssociations(e)},initIdentifier:function(d,e,f){var a=d.identifier||d.idgen,b=f.identifier||e.schema._defaultIdentifier,c;if(a){delete d.identifier;delete d.idgen;a=Ext.Factory.dataIdentifier(a)}else {if(b){if(b.clone&&!b.getId()){a=b.clone()}else {if(b.isGenerator){a=b}else {a=Ext.Factory.dataIdentifier(b)}}}}e.identifier=f.identifier=a;if(!a){c=e.entityName;if(!c){c=Ext.id(null,'extModel')}e.identifier=Ext.Factory.dataIdentifier({type:'sequential',prefix:c+'-'})}},findValidator:function(f,g,d){var h=d.type||d,b=f[g],e,a,c;if(b){for(a=0,e=b.length;a<e;++a){c=b[a];if(c.type===h){return c}}}return null},initValidators:function(n,q,p){var m=Ext.data.validator.Validator,j=p.validators,f,l,g,e,b,i,k,a,h,d,c,o;if(j){f={};for(l in j){if(j.hasOwnProperty(l)){h=j[l];g=[];for(b=0,i=h.length;b<i;++b){g[b]=h[b].clone()}f[l]=g}}}e=n.validators||n.validations;if(e){delete n.validators;f=f||{};if(Ext.isArray(e)){g={};for(b=0,i=e.length;b<i;++b){c=e[b];d=c.field;if(!g[d]){g[d]=[]}c=c.fn||c;g[d].push(c)}e=g}for(d in e){if(e.hasOwnProperty(d)){c=e[d];if(!Ext.isArray(c)){c=[c]}for(b=0,i=c.length;b<i;++b){a=c[b];o=typeof a;if(o==='function'){a=new m(a)}else {if(j){k=this.findValidator(f,d,a)}if(o==='string'){if(!k){a=m.create({type:a})}else {a=null}}else {if(!k){a=m.create(a)}else {k.setConfig(a);a=null}}}if(a){h=f[d];if(!h){h=f[d]=[]}h.push(a)}}}}}q.validators=p.validators=f},makeInitializeFn:function(o){var a=['var '],g=['\nreturn function (e) {\n    var data = e.data, v;\n'],p=[],n=0,i,j,h,c,l,f,e,d,k,b,m;if(!(e=o.rankedFields)){e=o.rankFields()}for(b=0,m=e.length;b<m;++b){f=e[b];p[b]=d='f'+b;h=f.convert;if(b){a.push(',  \n    ')}a.push(d,' = $fields['+b+']');if((k=f.defaultValue!==undefined)||h){c='data["'+f.name+'"]';++n;i=j='';if(f.cloneDefaultValue){i='Ext.clone(';j=')'}g.push('\n');if(h&&k){g.push('    v = ',c,';\n    if (v !== undefined) {\n        v = ',d,'.convert(v, e);\n    }\n    if (v === undefined) {\n        v = ',i,d,'.defaultValue',j,';\n    }\n    ',c,' = v;')}else {if(h){g.push('    v = ',d,'.convert(',c,',e);\n    if (v !== undefined) {\n        ',c,' = v;\n    }\n')}else {if(k){g.push('    if (',c,' === undefined) {\n        ',c,' = ',i,d,'.defaultValue',j,';\n    }\n')}}}}}if(!n){return Ext.emptyFn}a.push(';\n');a.push.apply(a,g);a.push('}');a=a.join('');l=new Function('$fields',a);return l(e)}}}},1,0,0,0,0,0,[Ext.data,'Model',Ext.data,'Record'],function(){var a=this,b=a.prototype,c=Ext.data.schema.Schema,d;a.proxyConfig=b.proxy;delete b.proxy;a.schema=b.schema=c.get(b.schema);b.idField=new Ext.data.field.Field(b.idProperty);a.identifier=new Ext.data.identifier.Sequential();a.onExtended(function(b,e){var f=b.prototype,j=e.schema,k=f.superclass.self,g,h,i;b.idProperty=f.idProperty;if(j){delete e.schema;g=c.get(j)}else {if(!(g=f.schema)){g=d||(d=c.get('default'))}}b.rankFields=a.rankFields;b.topoAdd=a.topoAdd;f.schema=b.schema=g;if(!(h=e.entityName)){f.entityName=h=g.getEntityName(b)}b.entityName=h;b.fieldExtractors={};a.initIdentifier(e,b,f);a.initFields(e,b,f);b.fields.items=b.fields;if(h){g.addEntity(b);a.initAssociations(g,e,b)}a.initValidators(e,b,f);i=e.proxy;if(i){delete e.proxy}else {i=k.proxyConfig||k.proxy}b.proxyConfig=i})});Ext.cmd.derive('Ext.data.proxy.Server',Ext.data.proxy.Proxy,{alternateClassName:'Ext.data.ServerProxy',isRemote:!0,config:{url:'',pageParam:'page',startParam:'start',limitParam:'limit',groupParam:'group',groupDirectionParam:'groupDir',sortParam:'sort',filterParam:'filter',directionParam:'dir',idParam:'id',simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:'_dc',timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(b,a){this.getExtraParams()[b]=a},buildRequest:function(a){var b=this,g=Ext.apply({},a.getParams()),d=Ext.applyIf(g,b.getExtraParams()||{}),c,e,f;Ext.applyIf(d,b.getParams(a));e=a.getId();f=b.getIdParam();if(e!==undefined&&d[b.idParam]===undefined){d[f]=e}c=new Ext.data.Request({params:d,action:a.getAction(),records:a.getRecords(),operation:a,proxy:b});c.setUrl(b.buildUrl(c));a.setRequest(c);return c},processResponse:function(g,b,f,c){var a=this,d,h,e;if(g===!0){h=a.getReader();e=h.read(a.extractResponseData(c),{recordCreator:b.getRecordCreator()});b.process(e,f,c);d=!b.wasSuccessful()}else {a.setException(b,c);d=!0}if(d){a.fireEvent('exception',a,c,b)}a.afterRequest(f,g)},setException:function(b,a){b.setException({status:a.status,statusText:a.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(d,e){var c=[],f=d.length,a,b;for(a=0;a<f;a++){b=d[a];c[a]={property:b.getProperty(),direction:b.getDirection()}}return this.applyEncoding(e?c[0]:c)},encodeFilters:function(e){var c=[],f=e.length,a,d,b;for(a=0;a<f;a++){b=e[a];c[a]={property:b.getProperty(),value:b.getValue()};d=b.getOperator();if(d){c[a].operator=d}}return this.applyEncoding(c)},getParams:function(c){if(!c.isReadOperation){return {}}var a=this,b={},e=c.getGrouper(),d=c.getSorters(),j=c.getFilters(),q=c.getPage(),p=c.getStart(),o=c.getLimit(),u=a.getSimpleSortMode(),s=a.getSimpleGroupMode(),n=a.getPageParam(),m=a.getStartParam(),l=a.getLimitParam(),g=a.getGroupParam(),r=a.getGroupDirectionParam(),i=a.getSortParam(),k=a.getFilterParam(),t=a.getDirectionParam(),h,f;if(n&&q){b[n]=q}if(m&&p){b[m]=p}if(l&&o){b[l]=o}h=g&&e;if(h){if(s){b[g]=e.getProperty();b[r]=e.getDirection()}else {b[g]=a.encodeSorters([e],!0)}}if(i&&d&&d.length>0){if(u){f=0;if(d.length>1&&h){f=1}b[i]=d[f].getProperty();b[t]=d[f].getDirection()}else {b[i]=a.encodeSorters(d)}}if(k&&j&&j.length>0){b[k]=a.encodeFilters(j)}return b},buildUrl:function(c){var b=this,a=b.getUrl(c);if(b.getNoCache()){a=Ext.urlAppend(a,Ext.String.format('{0}={1}',b.getCacheString(),Ext.Date.now()))}return a},getUrl:function(a){var b;if(a){b=a.getUrl()||this.getApi()[a.getAction()]}return b?b:(arguments.callee.$previous||Ext.data.proxy.Proxy.prototype.getUrl).call(this)},doRequest:function(a){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())}},0,0,0,0,['proxy.server'],0,[Ext.data.proxy,'Server',Ext.data,'ServerProxy'],0);Ext.cmd.derive('Ext.data.proxy.Ajax',Ext.data.proxy.Server,{alternateClassName:['Ext.data.HttpProxy','Ext.data.AjaxProxy'],defaultActionMethods:{create:'POST',read:'GET',update:'POST',destroy:'POST'},config:{binary:!1,headers:undefined,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:'POST',read:'GET',update:'POST',destroy:'POST'}},doRequest:function(c){var a=this,e=a.getWriter(),b=a.buildRequest(c),d=a.getMethod(b);if(e&&c.allowWrite()){b=e.write(b)}b.setConfig({binary:a.getBinary(),headers:a.getHeaders(),timeout:a.getTimeout(),scope:a,callback:a.createRequestCallback(b,c),method:d,useDefaultXhrHeader:a.getUseDefaultXhrHeader(),disableCaching:!1});if(d.toUpperCase()!=='GET'&&a.getParamsAsJson()){b.setJsonData(b.getParams());b.setParams(undefined)}if(a.getWithCredentials()){b.setWithCredentials(!0);b.setUsername(a.getUsername());b.setPassword(a.getPassword())}return a.sendRequest(b)},sendRequest:function(a){a.setRawRequest(Ext.Ajax.request(a.getCurrentConfig()));this.lastRequest=a;return a},abort:function(a){a=a||this.lastRequest;if(a){Ext.Ajax.abort(a.getRawRequest())}},getMethod:function(d){var a=this.getActionMethods(),b=d.getAction(),c;if(a){c=a[b]}return c||this.defaultActionMethods[b]},createRequestCallback:function(b,c){var a=this;return function(f,e,d){if(b===a.lastRequest){a.lastRequest=null}a.processResponse(e,c,b,d)}}},0,0,0,0,['proxy.ajax'],0,[Ext.data.proxy,'Ajax',Ext.data,'HttpProxy',Ext.data,'AjaxProxy'],0);Ext.cmd.derive('Ext.data.reader.Json',Ext.data.reader.Reader,{alternateClassName:'Ext.data.JsonReader',config:{record:null,metaProperty:'metaData',useSimpleAccessors:!1,preserveRawData:!1},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},readRecords:function(b,d){var a=this,c;if(a.getMeta){c=a.getMeta(b);if(c){a.onMetaChange(c)}}else {if(b.metaData){a.onMetaChange(b.metaData)}}return Ext.data.reader.Reader.prototype.readRecords.apply(this,arguments)},getResponseData:function(a){try{return Ext.decode(a.responseText)}catch(b){Ext.Logger.warn('Unable to parse the JSON returned by the server');return this.createReadError(b.message)}},buildExtractors:function(){var a=this,b=a.getMetaProperty(),c=a.getRootProperty();if(Ext.data.reader.Reader.prototype.buildExtractors.apply(this,arguments)){if(c){a.getRoot=a.createAccessor(c)}else {a.getRoot=Ext.identityFn}if(b){a.getMeta=a.createAccessor(b)}}},extractData:function(a,f){var e=this.getRecord(),d=[],c,b;if(e){c=a.length;if(!c&&Ext.isObject(a)){c=1;a=[a]}for(b=0;b<c;b++){d[b]=a[b][e]}}else {d=a}return Ext.data.reader.Reader.prototype.extractData.call(this,d,f)},getModelData:function(a){return this.getPreserveRawData()?Ext.apply({},a):a},createAccessor:function(){var b=/[\[\.]/,a=/^\[(?:\'|\")?([^\'\"]*)(?:\'|\")?\]$/;return function(c){var l=this,j=l.getUseSimpleAccessors(),h=0,d,f,k,g,e,i;if(!(c||c===0)){return}if(typeof c==='function'){return c}if(!j){h=String(c).search(b)}if(j===!0||h<=0){if(h===0){c=c.replace(a,'$1')}d=function(a){return a[c]}}else {f=c.split('.');k=f.length;e='raw.'+f[0];i=[e];for(g=1;g<k;g++){e+='.'+f[g];i.push(e)}d=i.join(' && ');d=Ext.functionFactory('raw','return '+d)}return d}}(),createFieldAccessor:function(b){var e=this,a=b.mapping,c=a||a===0,d=c?a:b.name;if(c){if(typeof d==='function'){return function(a){return b.mapping(a,e)}}else {return e.createAccessor(d)}}}},0,0,0,0,['reader.json'],0,[Ext.data.reader,'Json',Ext.data,'JsonReader'],0);Ext.cmd.derive('Ext.data.writer.Json',Ext.data.writer.Writer,{alternateClassName:'Ext.data.JsonWriter',config:{rootProperty:undefined,encode:!1,allowSingle:!0,expandData:!1},getExpandedData:function(f){var h=f.length,g=0,a,c,b,d,e,i=function(c,b){var a={};a[c]=b;return a};for(;g<h;g++){a=f[g];for(c in a){if(a.hasOwnProperty(c)){b=c.split('.');d=b.length-1;if(d>0){e=a[c];for(;d>0;d--){e=i(b[d],e)}a[b[0]]=a[b[0]]||{};Ext.Object.merge(a[b[0]],e);delete a[c]}}}}return f},writeRecords:function(c,a){var b=this,e=b.getRootProperty(),d,f;if(b.getExpandData()){a=b.getExpandedData(a)}if(b.getAllowSingle()&&a.length===1){a=a[0];f=!0}if(b.getEncode()){if(e){c.setParam(e,Ext.encode(a))}else {}}else {if(f||a&&a.length){d=c.getJsonData()||{};if(e){d[e]=a}else {d=a}c.setJsonData(d)}}return c}},0,0,0,0,['writer.json'],0,[Ext.data.writer,'Json',Ext.data,'JsonWriter'],0);Ext.cmd.derive('Ext.util.Group',Ext.util.Collection,{config:{groupKey:null}},0,0,0,0,0,0,[Ext.util,'Group'],0);Ext.cmd.derive('Ext.util.SorterCollection',Ext.util.Collection,{isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(b){var a=this;a.sortFn=Ext.util.Sorter.createComparator(a);Ext.util.Collection.prototype.constructor.call(this,b);a.setDecoder(a.decodeSorter)},addSort:function(b,c,d){var a=this,f,j,k,g,h,i,e;if(!b){a.beginUpdate();a.endUpdate()}else {g=a.getOptions();if(b instanceof Array){e=b;d=c;c=null}else {if(Ext.isString(b)){if(!(i=a.get(b))){e=[{property:b,direction:c||g.getDefaultSortDirection()}]}else {e=[i]}}else {if(Ext.isFunction(b)){e=[{sorterFn:b,direction:c||g.getDefaultSortDirection()}]}else {e=[b];d=c;c=null}}}d=a._sortModes[d||'replace'];h=a.getAt(0);f=a.length;j=d.append?f:0;a.beginUpdate();a.splice(j,d.replace?f:0,e);if(d.multi){f=a.length;k=g.getMultiSortLimit();if(f>k){a.removeAt(k,f)}}if(i&&c){i.setDirection(c)}else {if(j===0&&h&&h===a.getAt(0)){h.toggle()}}a.endUpdate()}},getSortFn:function(){return this.sortFn},getByProperty:function(d){var c=this.items,e=c.length,a,b;for(a=0;a<e;++a){b=c[a];if(b.getProperty()===d){return b}}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(a,i){var c=this,g=c.getOptions(),h=g.getRootProperty(),f=c.getSorterOptionsFn(),d,b,e;if(a.isSorter){if(!a.getRoot()){a.setRoot(h)}}else {b={direction:g.getDefaultSortDirection(),root:h};e=typeof a;if(e==='string'){d=c.get(a);if(d){return d}b.property=a}else {if(e==='function'){b.sorterFn=a}else {b=Ext.apply(b,a);if(b.fn){b.sorterFn=b.fn;delete b.fn}}}a=Ext.create(i||'Ext.util.Sorter',b)}if(f){f.call(c.getSorterOptionsScope()||c,a)}return a},setSorterConfigure:function(b,a){this.setSorterOptionsFn(b);this.setSorterOptionsScope(a)},decodeRemoveItems:function(e,d){var k=this,b=d===undefined?e:e[d];if(!b||!b.$cloned){if(e.length>d+1||!Ext.isIterable(b)){b=Ext.Array.slice(e,d)}var j=k.items,l=b.length,c=[],f,g,i,a,h;for(f=0;f<l;f++){a=b[f];if(a&&a.isFilter){c.push(a)}else {h=typeof a;if(h==='string'){a=k.get(a);if(a){c.push(a)}}else {if(h==='function'){for(i=j.length;i-->0;){g=j[i];if(g.getSorterFn()===a){c.push(g)}}}}}}b=c;b.$cloned=!0}return b},getOptions:function(){return this.$sortable||this}},1,0,0,0,0,0,[Ext.util,'SorterCollection'],0);Ext.cmd.derive('Ext.util.FilterCollection',Ext.util.Collection,{isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(b){var a=this;a.filterFn=Ext.util.Filter.createFilterFn(a);Ext.util.Collection.prototype.constructor.call(this,b);a.setDecoder(a.decodeFilter)},filterData:function(a){return this.filtered?Ext.Array.filter(a,this.filterFn):a},getFilterFn:function(){return this.filterFn},isItemFiltered:function(a){return !this.filterFn(a)},decodeFilter:function(b){var d=this.getOptions(),c=d.getRootProperty(),a;if(b.isFilter){if(!b.getRoot()){b.setRoot(c)}}else {a={root:c};if(Ext.isFunction(b)){a.filterFn=b}else {a=Ext.apply(a,b);if(a.fn){a.filterFn=a.fn;delete a.fn}if(Ext.util.Filter.isInvalid(a)){return !1}}b=new Ext.util.Filter(a)}return b},decodeRemoveItems:function(f,e){var p=this,b=e===undefined?f:f[e];if(!b.$cloned){if(f.length>e+1||!Ext.isIterable(b)){b=Ext.Array.slice(f,e)}var k=p.items,o=b.length,h=[],a,g,l,n,m,c,d,j,i;for(g=0;g<o;g++){a=b[g];if(a&&a.isFilter){h.push(a)}else {i=typeof a;l=i==='function';n=a.property!==undefined&&a.value!==undefined;m=i==='string';for(j=k.length;j-->0;){c=k[j];d=!1;if(m){d=c.getProperty()===a}else {if(l){d=c.getFilterFn()===a}else {if(n){d=c.getProperty()===a.property&&c.getValue()===a.value}}}if(d){h.push(c)}}}}b=h;b.$cloned=!0}return b},getOptions:function(){return this.$filterable||this}},1,0,0,0,0,0,[Ext.util,'FilterCollection'],0);Ext.cmd.derive('Ext.util.GroupCollection',Ext.util.Collection,{isGroupCollection:!0,config:{itemRoot:null},observerPriority:-100,onCollectionAdd:function(b,a){this.addItemsToGroups(b,a.items)},onCollectionBeforeItemChange:function(c,b){var a=this,d=b.item,e=c.getKey(d);a.onCollectionAdd=a.onCollectionRemove=a.onCollectionUpdateKey=null;a.syncItemGrouping(c,d,e,b.oldKey)},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(b,a){delete this.onCollectionAdd;delete this.onCollectionRemove;delete this.onCollectionUpdateKey},onCollectionRefresh:function(a){this.removeAll();this.addItemsToGroups(a,a.items)},onCollectionRemove:function(i,h){var f=this,d=f.groupItems(i,h.items,!1),e,a,c,g,b;for(c=0,g=d.length;c<g;++c){a=(e=d[c]).group;if(a){a.remove(e.items);if(!a.length){(b||(b=[])).push(a)}}}if(b){f.remove(b)}},onCollectionSort:function(f){var d=this,c=f.getSorters(),g=d.items,e=d.length,a,b;for(a=0;a<e;++a){b=g[a];if(b.getSorters()!==c){b.setSorters(c)}}},onCollectionUpdateKey:function(b,a){this.syncItemGrouping(b,a.item,a.newKey,a.oldKey)},addItemsToGroups:function(e,f){var g=this,c=g.groupItems(e,f,!0),b,a,d;for(a=0,d=c.length;a<d;++a){b=c[a];b.group.add(b.items)}},groupItems:function(g,n,m){var b=this,k={},l=[],p=g.getGrouper(),c=b.itemGroupKeys,h,i,a,e,j,f,o,d;for(e=0,o=n.length;e<o;++e){a=p.getGroupString(j=n[e]);f=g.getKey(j);if(m){(c||(b.itemGroupKeys=c={}))[f]=a}else {if(c){delete c[f]}}if(!(h=k[a])){if(!(i=b.getByKey(a))&&m){(d||(d=[])).push(i=b.createGroup(g,a))}l.push(k[a]=h={group:i,items:[]})}h.items.push(j)}if(d){b.add(d)}return l},syncItemGrouping:function(l,e,j,k){var a=this,f=a.itemGroupKeys||(a.itemGroupKeys={}),m=l.getGrouper(),h=m.getGroupString(e),g=0,i,c,d,b;if(k){b=f[k];delete f[k]}else {b=f[j]}f[j]=h;if(!(c=a.get(h))){c=a.createGroup(l,h);i=[c]}if(c.get(j)!==e){c.add(e)}else {c.itemChanged(e)}if(h!==b&&(b===0||b)){d=a.get(b);if(d){d.remove(e);if(!d.length){g=[d]}}}if(i){a.splice(0,g,i)}else {if(g){a.splice(0,g)}}},createGroup:function(a,c){var b=new Ext.util.Group({groupKey:c,rootProperty:this.getItemRoot(),sorters:a.getSorters()});return b},getKey:function(a){return a.getGroupKey()}},0,0,0,0,0,0,[Ext.util,'GroupCollection'],0);Ext.cmd.derive('Ext.data.Store',Ext.data.ProxyStore,{config:{data:0,clearRemovedOnLoad:!0,clearOnPageLoad:!0},addRecordsOptions:{addRecords:!0},constructor:function(b){var a=this,c;if(b){if(b.buffered){return new Ext.data.BufferedStore(b)}}Ext.data.ProxyStore.prototype.constructor.apply(this,arguments);c=a.inlineData;if(c){delete a.inlineData;a.loadInlineData(c)}a.getData().addObserver(this)},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},applyData:function(c,b){var a=this;a.getFields();a.getModel();if(!b){b=a.constructDataCollection()}if(c){if(a.isInitializing){a.inlineData=c}else {a.loadData(c)}}return b},loadInlineData:function(d){var a=this,b=a.getProxy(),c;if(b&&b.isMemoryProxy){b.setData(d);c=a.unblockLoad(!0);a.suspendEvents();a.read();a.resumeEvents();a.blockLoad(c)}else {a.removeAll(!0);a.suspendEvents();a.fireEvent('clear',a);a.loadData(d);a.resumeEvents()}},updateRemoteFilter:function(c){var a=this.getData(),b=this.getFilters();if(c){a.setFilters(null)}else {a.setFilters(b)}Ext.data.ProxyStore.prototype.updateRemoteFilter.apply(this,arguments)},updateRemoteSort:function(c){var a=this.getData(),b=this.getSorters();if(c){a.setSorters(null)}else {a.setSorters(b)}Ext.data.ProxyStore.prototype.updateRemoteSort.apply(this,arguments)},onErase:function(a){this.remove(a)},insert:function(f,a){var d=this,c,b,e;if(a){if(!Ext.isIterable(a)){a=[a]}else {a=Ext.Array.clone(a)}c=a.length}if(!c){return []}for(b=0;b<c;++b){a[b]=e=d.createModel(a[b])}d.getData().insert(f,a);return a},onCollectionAdd:function(j,f){var a=this,d=f.items,i=d.length,h=!f.next,c,g,b,e=a.getRemovedRecords();if(a.ignoreCollectionAdd){return}for(c=0;c<i;++c){b=d[c];b.join(a);if(e&&e.length){Ext.Array.remove(e,b)}g=g||b.phantom||b.dirty}a.fireEvent('add',a,d,f.at);if(h){a.fireEvent('datachanged',a)}a.needsSync=a.needsSync||g},onCollectionItemChange:function(e,d){var a=this,b=d.item,c=d.modified;if(a.contains(b)){a.onUpdate(b,'edit',c);a.fireEvent('update',a,b,'edit',c)}},afterEdit:function(a,b){this.needsSync=this.needsSync||a.dirty;this.getData().itemChanged(a,b)},onCollectionFilterAdd:function(d,b){var c=b.length,a;for(a=0;a<c;++a){b[a].join(this)}},add:function(a){return this.insert(this.getCount(),arguments.length===1?a:arguments)},addSorted:function(c){var a=this,d=a.getRemoteSort(),b=a.getData(),e;if(d){b.setSorters(a.getSorters())}e=b.findInsertionIndex(c);if(d){b.setSorters(null)}return a.insert(e,c)},createModel:function(a){if(!a.isModel){var b=this.getModel();a=new b(a,this.getSession())}return a},remove:function(c,h,i){var e=this,g=e.getData(),d,f,b,a;if(c){if(c.isModel){if(e.indexOf(c)>-1){b=[c];d=1}else {d=0}}else {b=[];for(f=0,d=c.length;f<d;++f){a=c[f];if(a&&a.isEntity){if(!g.contains(a)){continue}}else {if(!(a=g.getAt(a))){continue}}b.push(a)}d=b.length}}if(!d){return []}e.removeIsMove=h===!0;e.removeIsSilent=i;g.remove(b);e.removeIsSilent=!1;return b},onCollectionRemove:function(n,g){var a=this,i=a.removed,e=g.items,j=g.at,m=e.length,f=a.removeIsMove,l=a.removeIsSilent,k=!g.next,c,b,h,d;if(a.ignoreCollectionRemove){return}for(c=0;c<m;++c){b=e[c];b.unjoin(a);d=!b.phantom;if(i&&!f&&d){b.removedFrom=j+c;i.push(b)}h=h||d}if(!l){a.fireEvent('remove',a,e,j,f);if(k){a.fireEvent('datachanged',a)}}a.needsSync=a.needsSync||h&&!f},removeAt:function(a,b){var c=this.getData();a=Math.max(a,0);if(a<c.length){if(arguments.length===1){b=1}else {if(!b){return}}c.removeAt(a,b)}},removeAll:function(b){var a=this,c=a.getData();if(c.length){a.removeIsSilent=!0;a.callObservers('BeforeRemoveAll');c.removeAll();if(!b){a.fireEvent('clear',a);a.fireEvent('datachanged',a)}a.callObservers('AfterRemoveAll',[!!b])}},load:function(a){var b=this,d=b.recordCreator,c=b.getPageSize();if(typeof a==='function'){a={callback:a}}else {a=Ext.apply({},a)}if(b.getRemoteSort()&&!a.grouper&&b.getGrouper()){a.grouper=b.getGrouper()}if(c||'start' in a||'limit' in a||'page' in a){a.page=a.page||b.currentPage;a.start=a.start!==undefined?a.start:(a.page-1)*c;a.limit=a.limit||c}a.addRecords=a.addRecords||!1;if(d){a.recordCreator=d}return Ext.data.ProxyStore.prototype.load.call(this,a)},onProxyLoad:function(b){var a=this,d=b.getResultSet(),e=b.getRecords(),c=b.wasSuccessful();if(a.isDestroyed){return}if(d){a.totalCount=d.getTotal()}++a.loadCount;a.loading=!1;if(c){a.loadRecords(e,b.getAddRecords()?{addRecords:!0}:undefined)}if(a.hasListener('load')){a.fireEvent('load',a,e,c)}},getNewRecords:function(){return this.getData().createFiltered(this.filterNew).getRange()},getUpdatedRecords:function(){return this.getData().createFiltered(this.filterUpdated).getRange()},loadData:function(c,d){var e=c.length,b=[],a;for(a=0;a<e;a++){b.push(this.createModel(c[a]))}this.loadRecords(b,d?this.addRecordsOptions:undefined)},loadRawData:function(g,f){var a=this,c=a.getSession(),b=a.getProxy().getReader().read(g,c?{recordCreator:c.recordCreator}:undefined),e=b.getRecords(),d=b.getSuccess();if(d){a.totalCount=b.getTotal();a.loadRecords(e,f?a.addRecordsOptions:undefined)}return d},loadRecords:function(e,h){var a=this,i=e.length,b=a.getData(),f,g,d,c;if(h){f=h.addRecords}d=a.getRemoteSort()||!a.getSortOnLoad();if(d){g=b.getAutoSort();b.setAutoSort(!1)}if(!f){a.clearData(!0)}a.ignoreCollectionAdd=!0;a.callObservers('BeforeLoad');b.add(e);a.ignoreCollectionAdd=!1;for(c=0;c<i;c++){e[c].join(a)}if(d){b.setAutoSort(g)}a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.callObservers('AfterLoad')},loadPage:function(c,b){var a=this,d=a.getPageSize();a.currentPage=c;b=Ext.apply({page:c,start:(c-1)*d,limit:d,addRecords:!a.getClearOnPageLoad()},b);a.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(g){var a=this,d=a.getData(),e=a.removed,c,b,f;if(d){c=d.items;for(b=0,f=c.length;b<f;++b){c[b].unjoin(a)}a.ignoreCollectionRemove=!0;a.callObservers('BeforeClear');d.removeAll();a.ignoreCollectionRemove=!1;a.callObservers('AfterClear')}if(e&&(g!==!0||a.getClearRemovedOnLoad())){e.length=0}},onIdChanged:function(b,a,c){this.getData().updateKey(b,a)},commitChanges:function(){var d=this,c=d.getModifiedRecords(),e=c.length,b=d.removed,a=0;for(;a<e;a++){c[a].commit()}if(b){b.length=0}},filterNewOnly:function(a){return a.phantom===!0},getRejectRecords:function(){var a=this.getData().createFiltered(this.filterNew).getRange();return Ext.Array.push(a,this.getUpdatedRecords())},rejectChanges:function(){var d=this,b=d.getRejectRecords(),e=b.length,c=0,a;for(;c<e;c++){a=b[c];a.reject();if(a.phantom){d.remove(a)}}b=d.removed;if(b){e=b.length;for(c=e-1;c>=0;c--){a=b[c];d.insert(a.removedFrom||0,a);a.reject()}b.length=0}},onDestroyStore:function(){var a=this,b=a.loadTask;Ext.data.ProxyStore.prototype.onDestroyStore.call(this);a.observers=null;if(b){b.cancel();a.loadTask=null}a.getData().destroy();a.setData(null)}},1,0,0,0,['store.store'],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,'Store'],0);Ext.cmd.derive('Ext.data.reader.Array',Ext.data.reader.Json,{alternateClassName:'Ext.data.ArrayReader',config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(a){var b=a.mapping,d=a.hasMapping()?b:a.ordinal,c;a.mapping=d;c=Ext.data.reader.Json.prototype.createFieldAccessor.apply(this,arguments);a.mapping=b;return c},getModelData:function(a){return {}}},0,0,0,0,['reader.array'],0,[Ext.data.reader,'Array',Ext.data,'ArrayReader'],0);Ext.cmd.derive('Ext.data.ArrayStore',Ext.data.Store,{alternateClassName:['Ext.data.SimpleStore'],config:{proxy:{type:'memory',reader:'array'}},loadData:function(a,d){if(this.expandData){var c=[],b=0,e=a.length;for(;b<e;b++){c[c.length]=[a[b]]}a=c}Ext.data.Store.prototype.loadData.call(this,a,d)}},0,0,0,0,['store.array'],0,[Ext.data,'ArrayStore',Ext.data,'SimpleStore'],0);Ext.cmd.derive('Ext.data.BufferStore',Ext.data.Store,{sortOnLoad:!1,filterOnLoad:!1,constructor:function(){Ext.Error.raise('The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store')}},1,0,0,0,['store.buffer'],0,[Ext.data,'BufferStore'],0);Ext.cmd.derive('Ext.util.LruCache',Ext.util.HashMap,{config:{maxSize:null},add:function(e,c){var a=this,d=a.findKey(c),b;if(d){a.unlinkEntry(b=a.map[d]);b.prev=a.last;b.next=null}else {b={prev:a.last,next:null,key:e,value:c}}if(a.last){a.last.next=b}else {a.first=b}a.last=b;Ext.util.HashMap.prototype.add.call(this,e,b);a.prune();return c},insertBefore:function(f,d,a){var c=this,e,b;if(a=this.map[this.findKey(a)]){e=c.findKey(d);if(e){c.unlinkEntry(b=c.map[e])}else {b={prev:a.prev,next:a,key:f,value:d}}if(a.prev){b.prev.next=b}else {c.first=b}b.next=a;a.prev=b;c.prune();return d}else {return c.add(f,d)}},get:function(b){var a=this.map[b];if(a){if(a.next){this.moveToEnd(a)}return a.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(a){this.first=this.last=null;return Ext.util.HashMap.prototype.clear.apply(this,arguments)},unlinkEntry:function(a){if(a){if(a.next){a.next.prev=a.prev}else {this.last=a.prev}if(a.prev){a.prev.next=a.next}else {this.first=a.next}a.prev=a.next=null}},moveToEnd:function(a){this.unlinkEntry(a);if(a.prev=this.last){this.last.next=a}else {this.first=a}this.last=a},getArray:function(c){var b=[],a=this.first;while(a){b.push(c?a.key:a.value);a=a.next}return b},each:function(f,c,d){var b=this,a=d?b.last:b.first,e=b.length;c=c||b;while(a){if(f.call(c,a.key,a.value,e)===!1){break}a=d?a.prev:a.next}return b},findKey:function(c){var a,b=this.map;for(a in b){if(b.hasOwnProperty(a)&&b[a].value===c){return a}}return undefined},clone:function(){var a=new this.self(this.initialConfig),c=this.map,b;a.suspendEvents();for(b in c){if(c.hasOwnProperty(b)){a.add(b,c[b].value)}}a.resumeEvents();return a},prune:function(){var a=this,c=a.getMaxSize(),b=c?a.length-c:0;if(b>0){for(;a.first&&b;b--){a.removeAtKey(a.first.key)}}}},0,0,0,0,0,0,[Ext.util,'LruCache'],0);Ext.cmd.derive('Ext.data.PageMap',Ext.util.LruCache,{clear:function(b){var a=this;a.pageMapGeneration=(a.pageMapGeneration||0)+1;Ext.util.LruCache.prototype.clear.apply(this,arguments)},forEach:function(j,f){var d=this,b=Ext.Object.getKeys(d.map),h=b.length,a,c,e,g,i;for(a=0;a<h;a++){b[a]=Number(b[a])}Ext.Array.sort(b);f=f||d;for(a=0;a<h;a++){e=b[a];g=d.getPage(e);i=g.length;for(c=0;c<i;c++){if(j.call(f,g[c],(e-1)*d.pageSize+c)===!1){return}}}},findBy:function(d,a){var c=this,b=null;a=a||c;c.forEach(function(c,e){if(d.call(a,c,e)){b=c;return !1}});return b},findIndexBy:function(d,a){var c=this,b=-1;a=a||c;c.forEach(function(e,c){if(d.call(a,e)){b=c;return !1}});return b},find:function(f,a,h,d,e,c){if(Ext.isEmpty(a,!1)){return null}var g=Ext.String.createRegex(a,d,e,c),b=this.rootProperty;return this.findBy(function(i){return i&&g.test((b?i[b]:i)[f])},null,h)},findIndex:function(f,a,h,d,e,c){if(Ext.isEmpty(a,!1)){return null}var g=Ext.String.createRegex(a,d,e,c),b=this.rootProperty;return this.findIndexBy(function(i){return i&&g.test((b?i[b]:i)[f])},null,h)},getPageFromRecordIndex:function(){return Ext.data.BufferedStore.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(a){this.addPage(1,a)},addPage:function(a,e){var b=this,f=a+Math.floor((e.length-1)/b.pageSize),c,d;for(c=0;a<=f;a++,c+=b.pageSize){d=Ext.Array.slice(e,c,c+b.pageSize);b.add(a,d);b.fireEvent('pageAdded',a,d)}},getCount:function(){var a=Ext.util.LruCache.prototype.getCount.call(this);if(a){a=(a-1)*this.pageSize+this.last.value.length}return a},indexOf:function(a){return a?a.index:-1},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(b){var a=this.getPage(b);if(a&&a.value){a.value.length=0}return Ext.util.LruCache.prototype.removeAtKey.apply(this,arguments)},getPage:function(a){return this.get(a)},hasRange:function(c,d){var a=this.getPageFromRecordIndex(c),b=this.getPageFromRecordIndex(d);for(;a<=b;a++){if(!this.hasPage(a)){return !1}}return !0},hasPage:function(a){return !!this.get(a)},getAt:function(a){return this.getRange(a,a+1)[0]},getRange:function(e,f){f--;if(!this.hasRange(e,f)){Ext.Error.raise('PageMap asked for range which it does not have')}var a=this,g=a.getPageFromRecordIndex(e),h=a.getPageFromRecordIndex(f),m=(g-1)*a.pageSize,n=h*a.pageSize-1,b=g,c=[],i,k,d,j=0,l;for(;b<=h;b++){if(b===g){i=e-m;d=!0}else {i=0;d=!1}if(b===h){k=a.pageSize-(n-f);d=!0}if(d){Ext.Array.push(c,Ext.Array.slice(a.getPage(b),i,k))}else {Ext.Array.push(c,a.getPage(b))}}for(l=c.length;j<l;j++){c[j].index=e++}return c}},0,0,0,0,0,0,[Ext.data,'PageMap'],0);Ext.cmd.derive('Ext.data.BufferedStore',Ext.data.ProxyStore,{isBufferedStore:!0,buffered:!0,config:{pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,filterOnLoad:!1,data:0},purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,applyData:function(b){var a=this.data||(this.data=this.createDataCollection());return a},createFiltersCollection:function(){return new Ext.util.FilterCollection()},createSortersCollection:function(){return new Ext.util.SorterCollection()},updateGroupField:function(a){if(this.isInitializing){this.blockLoad()}this.group(a);if(this.isInitializing){this.unblockLoad()}},getGrouper:function(){return this.grouper},isGrouped:function(){return !!this.grouper},createDataCollection:function(){var a=this,b=new Ext.data.PageMap({store:a,rootProperty:'data',keyFn:Ext.data.Store.recordIdFn,pageSize:a.pageSize,maxSize:a.purgePageCount,listeners:{clear:a.onPageMapClear,scope:a}});a.pageRequests={};return b},updateGroupsOnUpdate:function(d,a){var b=this,c=b.getGroupField();if(a&&Ext.Array.contains(a,c)){Ext.Error.raise('Cannot move records between groups in a buffered store record - the store is a map of remote data')}b.callParent(arguments)},add:function(a){this.callParent(arguments)},removeAll:function(b){var a=this,c=a.getData();if(c){if(b){a.suspendEvent('clear')}c.clear();if(b){a.resumeEvent('clear')}}},load:function(a){var b=this;b.getData().clear();(a||(a={})).page=1;a.start=0;a.limit=b.viewSize||b.defaultViewSize;a.loadCallback=a.callback;delete a.callback;return b.loadToPrefetch(a)},reload:function(c){var a=this,b,d,i,j,f,g,h,k,e=a.getData();if(!c){c={}}delete a.totalCount;e.clear(!0);g=function(){if(a.rangeCached(b,d)){a.loading=!1;e.un('pageAdded',g);k=e.getRange(b,d+1);a.fireEvent('load',a,k,!0)}};h=Math.ceil((a.leadingBufferZone+a.trailingBufferZone)/2);if(!a.lastRequestStart){b=c.start||0;d=b+(c.count||a.pageSize)-1}else {b=a.lastRequestStart;d=a.lastRequestEnd}i=a.getPageFromRecordIndex(Math.max(b-h,0));j=a.getPageFromRecordIndex(d+h);if(a.fireEvent('beforeload',a,c)!==!1){a.loading=!0;e.on('pageAdded',g);for(f=i;f<=j;f++){a.prefetchPage(f,c)}}},filter:function(){if(this.remoteSort){this.getData().clear();Ext.data.ProxyStore.prototype.filter.apply(this,arguments)}Ext.data.ProxyStore.prototype.filter.apply(this,arguments)},clearFilter:function(){this.getData().clear();Ext.data.ProxyStore.prototype.clearFilter.apply(this,arguments)},filterBy:function(b,a){},loadData:function(b,a){},loadPage:function(c,a){var b=this;(a||(a={})).page=b.currentPage=c;a.start=(c-1)*b.pageSize;a.limit=b.viewSize||b.defaultViewSize;a.loadCallback=a.callback;delete a.callback;return b.loadToPrefetch(a)},clearData:function(b){var a=this;if(a.data){a.data.clear()}if(b!==!0||a.clearRemovedOnLoad){a.removed.length=0}},doSort:function(){if(this.remoteSort){this.callParent(arguments)}},getRange:function(c,b,d){var a=this,f,g,i=a.totalCount-1,k=a.lastRequestStart,e,j,h=a.getData();d=Ext.apply({prefetchStart:c,prefetchEnd:b},d);b=b>=a.totalCount?i:b;f=c===0?0:c-1;g=b===i?b:b+1;a.lastRequestStart=c;a.lastRequestEnd=b;if(a.rangeCached(f,g)){a.onRangeAvailable(d);j=h.getRange(c,b+1)}else {a.fireEvent('cachemiss',a,c,b);e=function(j,i){if(a.rangeCached(f,g)){a.fireEvent('cachefilled',a,c,b);h.un('pageAdded',e);a.onRangeAvailable(d)}};h.on('pageAdded',e);a.prefetchRange(c,b)}a.primeCache(c,b,c<k?-1:1);return j},getById:function(b){var a=this.data.findBy(function(a){return a.getId()===b});return a},getByInternalId:function(b){var a;a=this.data.findBy(function(a){return a.internalId===b});return a},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},group:function(b,d){var a=this,c;if(b&&typeof b==='string'){c=a.grouper;if(!c){a.grouper=new Ext.util.Grouper({property:b,direction:d||'ASC',root:'data'})}else {if(d===undefined){c.toggle()}else {c.setDirection(d)}}}else {a.grouper=b?a.getSorters().decodeSorter(b,'Ext.util.Grouper'):null}if(a.isLoadBlocked()){return}a.data.clear();a.loadPage(1,{callback:function(){a.fireEvent('groupchange',a,a.getGrouper())}})},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},loadToPrefetch:function(b){var a=this,h,f,i,e=b,d=b.start,l=b.start+b.limit-1,c=Math.min(l,b.start+(a.viewSize||b.limit)-1),j=a.getPageFromRecordIndex(Math.max(d-a.trailingBufferZone,0)),k=a.getPageFromRecordIndex(l+a.leadingBufferZone),g=a.getData(),m=function(){if(a.rangeCached(d,c)){a.loading=!1;f=g.getRange(d,c+1);g.un('pageAdded',m);if(a.hasListeners.guaranteedrange){a.guaranteeRange(d,c,b.callback,b.scope)}if(b.loadCallback){b.loadCallback.call(b.scope||a,f,n,!0)}if(b.callback){b.callback.call(b.scope||a,f,d,l,b)}a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireEvent('load',a,f,!0)}},n;if(a.purgePageCount){g.setMaxSize(a.purgePageCount=Math.max(a.purgePageCount,k-j+1))}if(a.fireEvent('beforeload',a,b)!==!1){delete a.totalCount;a.loading=!0;if(b.callback){e=Ext.apply({},b);delete e.callback}a.on('prefetch',function(o,d,f,l){if(f){n=l;if(i=a.getTotalCount()){g.on('pageAdded',m);c=Math.min(c,i-1);k=a.getPageFromRecordIndex(Math.min(c+a.leadingBufferZone,i-1));for(h=j+1;h<=k;++h){a.prefetchPage(h,e)}}else {a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireEvent('load',a,d,!0)}}else {a.fireEvent('load',a,d,!1)}},null,{single:!0});a.prefetchPage(j,e)}},prefetch:function(b){var a=this,c=a.pageSize,f,d,e=a.getData();if(c){if(a.lastPageSize&&c!=a.lastPageSize){Ext.Error.raise('pageSize cannot be dynamically altered')}if(!e.pageSize){e.pageSize=c}}else {a.pageSize=e.pageSize=c=b.limit}a.lastPageSize=c;if(!b.page){b.page=a.getPageFromRecordIndex(b.start);b.start=(b.page-1)*c;b.limit=Math.ceil(b.limit/c)*c}if(!a.pageRequests[b.page]){f=a.proxy;b=Ext.apply({action:'read',filters:a.getFilters().items,sorters:a.getSorters().items,grouper:a.getGrouper(),internalCallback:a.onProxyPrefetch,internalScope:a},b);d=f.createOperation('read',b);d.pageMapGeneration=e.pageMapGeneration;if(a.fireEvent('beforeprefetch',a,d)!==!1){a.pageRequests[b.page]=d.execute();if(f.isSynchronous){delete a.pageRequests[b.page]}}}return a},onPageMapClear:function(){var a=this,f=a.wasLoading,c=a.pageRequests,e,b,d=a.getData();if(d.events.pageadded){d.events.pageadded.clearListeners()}a.loading=!0;a.totalCount=0;for(b in c){if(c.hasOwnProperty(b)){e=c[b];delete c[b];delete e.callback}}a.fireEvent('clear',a);a.loading=f},prefetchPage:function(c,e){var a=this,d=a.pageSize,f=(c-1)*a.pageSize,b=a.totalCount;if(b!==undefined&&a.getCount()===b){return}a.prefetch(Ext.applyIf({page:c,start:f,limit:d},e))},onProxyPrefetch:function(b){var a=this,e=b.getResultSet(),d=b.getRecords(),c=b.wasSuccessful(),f=b.getPage(),g=a.totalCount;if(b.pageMapGeneration===a.getData().pageMapGeneration){if(e){a.totalCount=e.getTotal();if(a.totalCount!==g){a.fireEvent('totalcountchange',a.totalCount)}}if(f!==undefined){delete a.pageRequests[f]}a.loading=!1;a.fireEvent('prefetch',a,d,c,b);if(c){a.cachePage(d,b.getPage())}Ext.callback(b.getCallback(),b.getScope()||a,[d,b,c])}},cachePage:function(b,d){var a=this,e=b.length,c;if(!Ext.isDefined(a.totalCount)){a.totalCount=b.length;a.fireEvent('totalcountchange',a.totalCount)}for(c=0;c<e;c++){b[c].join(a)}a.getData().addPage(d,b)},rangeCached:function(a,b){return this.getData().hasRange(a,b)},pageCached:function(a){return this.getData().hasPage(a)},pagePending:function(a){return !!this.pageRequests[a]},rangeSatisfied:function(a,b){return this.rangeCached(a,b)},onRangeAvailable:function(a){var c=this,f=c.getTotalCount(),e=a.prefetchStart,b=a.prefetchEnd>f-1?f-1:a.prefetchEnd,d;b=Math.max(0,b);d=c.getData().getRange(e,b+1);if(a.fireEvent!==!1){c.fireEvent('guaranteedrange',d,e,b,a)}if(a.callback){a.callback.call(a.scope||c,d,e,b,a)}},guaranteeRange:function(d,e,b,c,a){a=Ext.apply({callback:b,scope:c},a);this.getRange(d,e+1,a)},prefetchRange:function(e,f){var a=this,c,d,b;if(!a.rangeCached(e,f)){c=a.getPageFromRecordIndex(e);d=a.getPageFromRecordIndex(f);a.getData().setMaxSize(a.purgePageCount?d-c+1+a.purgePageCount:0);for(b=c;b<=d;b++){if(!a.pageCached(b)){a.prefetchPage(b)}}}},primeCache:function(b,c,d){var a=this;if(d===-1){b=Math.max(b-a.leadingBufferZone,0);c=Math.min(c+a.trailingBufferZone,a.totalCount-1)}else {if(d===1){b=Math.max(Math.min(b-a.trailingBufferZone,a.totalCount-a.pageSize),0);c=Math.min(c+a.leadingBufferZone,a.totalCount-1)}else {b=Math.min(Math.max(Math.floor(b-(a.leadingBufferZone+a.trailingBufferZone)/2),0),a.totalCount-a.pageSize);c=Math.min(Math.max(Math.ceil(c+(a.leadingBufferZone+a.trailingBufferZone)/2),0),a.totalCount-1)}}a.prefetchRange(b,c)},sort:function(){this.getData().clear();this.loadPage(1)}},0,0,0,0,['store.buffered'],0,[Ext.data,'BufferedStore'],0);Ext.cmd.derive('Ext.direct.Manager',Ext.Base,{singleton:!0,exceptions:{TRANSPORT:'xhr',PARSE:'parse',DATA:'data',LOGIN:'login',SERVER:'exception'},constructor:function(){var a=this;a.transactions=new Ext.util.MixedCollection();a.providers=new Ext.util.MixedCollection();a.mixins.observable.constructor.call(a)},addProvider:function(a){var b=this,d=arguments,f=b.relayers||(b.relayers={}),c,e;if(d.length>1){for(c=0,e=d.length;c<e;++c){b.addProvider(d[c])}return}if(!a.isProvider){a=Ext.create('direct.'+a.type+'provider',a)}b.providers.add(a);a.on('data',b.onProviderData,b);if(a.relayedEvents){f[a.id]=b.relayEvents(a,a.relayedEvents)}if(!a.isConnected()){a.connect()}return a},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(a){var c=this,e=c.providers,d=c.relayers,b;a=a.isProvider?a:e.get(a);if(a){a.un('data',c.onProviderData,c);b=a.id;if(d[b]){d[b].destroy();delete d[b]}e.remove(a);return a}return null},addTransaction:function(a){this.transactions.add(a);return a},removeTransaction:function(a){var b=this;a=b.getTransaction(a);b.transactions.remove(a);return a},getTransaction:function(a){return typeof a==='object'?a:this.transactions.get(a)},onProviderData:function(d,a){var b=this,c,e;if(Ext.isArray(a)){for(c=0,e=a.length;c<e;++c){b.onProviderData(d,a[c])}return}if(a.name&&a.name!='event'&&a.name!='exception'){b.fireEvent(a.name,a)}else {if(a.status===!1){b.fireEvent('exception',a)}}b.fireEvent('event',a,d)},parseMethod:function(b){if(Ext.isString(b)){var d=b.split('.'),c=0,e=d.length,a=Ext.global;while(a&&c<e){a=a[d[c]];++c}b=Ext.isFunction(a)?a:null}return b||null}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.direct,'Manager'],function(){Ext.Direct=Ext.direct.Manager});Ext.cmd.derive('Ext.data.proxy.Direct',Ext.data.proxy.Server,{alternateClassName:'Ext.data.DirectProxy',config:{paramOrder:undefined,paramsAsHash:!0,directFn:undefined,api:undefined},paramOrderRe:/[\s,|]/,applyParamOrder:function(a){if(Ext.isString(a)){a=a.split(this.paramOrderRe)}return a},resolveMethods:function(){var d=this,a=d.getDirectFn(),b=d.getApi(),e=Ext.direct.Manager,c;if(a){d.setDirectFn(c=e.parseMethod(a));if(!Ext.isFunction(c)){Ext.Error.raise('Cannot resolve directFn '+a)}}else {if(b){for(a in b){if(b.hasOwnProperty(a)){c=b[a];b[a]=e.parseMethod(c);if(!Ext.isFunction(b[a])){Ext.Error.raise('Cannot resolve Direct api '+a+' method '+c)}}}}}d.methodsResolved=!0},doRequest:function(e){var a=this,h=a.getWriter(),b=a.buildRequest(e),j=b.getParams(),d=[],f=b.getAction(),i=a.getApi(),c,g;if(!a.methodsResolved){a.resolveMethods()}if(i){c=i[f]}c=c||a.getDirectFn();if(h&&e.allowWrite()){b=h.write(b)}if(f==='read'){g=c.directCfg.method;d=g.getArgs(j,a.getParamOrder(),a.getParamsAsHash())}else {d.push(b.getJsonData())}d.push(a.createRequestCallback(b,e),a);b.setConfig({args:d,directFn:c});c.apply(window,d)},applyEncoding:Ext.identityFn,createRequestCallback:function(b,a){var c=this;return function(e,d){c.processResponse(d.status,a,b,d)}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(a,b){a.setException(b.message)},buildUrl:function(){return ''}},0,0,0,0,['proxy.direct'],0,[Ext.data.proxy,'Direct',Ext.data,'DirectProxy'],0);Ext.cmd.derive('Ext.data.DirectStore',Ext.data.Store,{constructor:function(a){a=Ext.apply({},a);if(!a.proxy){var b={type:'direct',reader:{type:'json'}};Ext.copyTo(b,a,'paramOrder,paramsAsHash,directFn,api,simpleSortMode');Ext.copyTo(b.reader,a,'totalProperty,root,idProperty');a.proxy=b}Ext.data.Store.prototype.constructor.call(this,a)}},1,0,0,0,['store.direct'],0,[Ext.data,'DirectStore'],0);Ext.cmd.derive('Ext.data.JsonP',Ext.Base,{singleton:!0,requestCount:0,requests:{},timeout:30000,disableCaching:!0,disableCachingParam:'_dc',callbackKey:'callback',request:function(a){a=Ext.apply({},a);var b=this,l=Ext.isDefined(a.disableCaching)?a.disableCaching:b.disableCaching,h=a.disableCachingParam||b.disableCachingParam,f=++b.requestCount,e=a.callbackName||'callback'+f,g=a.callbackKey||b.callbackKey,i=Ext.isDefined(a.timeout)?a.timeout:b.timeout,d=Ext.apply({},a.params),k=a.url,m=Ext.name,c,j;if(l&&!d[h]){d[h]=Ext.Date.now()}a.params=d;d[g]=m+'.data.JsonP.'+e;j=b.createScript(k,d,a);b.requests[f]=c={url:k,params:d,script:j,id:f,scope:a.scope,success:a.success,failure:a.failure,callback:a.callback,callbackKey:g,callbackName:e};if(i>0){c.timeout=setTimeout(Ext.bind(b.handleTimeout,b,[c]),i)}b.setupErrorHandling(c);b[e]=Ext.bind(b.handleResponse,b,[c],!0);b.loadScript(c);return c},abort:function(a){var d=this,b=d.requests,c;if(a){if(!a.id){a=b[a]}d.handleAbort(a)}else {for(c in b){if(b.hasOwnProperty(c)){d.abort(b[c])}}}},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType='abort';this.handleResponse(null,a)},handleError:function(a){a.errorType='error';this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType='timeout';this.handleResponse(null,a)},handleResponse:function(d,a){var c=!0,b=Ext.GlobalEvents;if(a.timeout){clearTimeout(a.timeout)}delete this[a.callbackName];delete this.requests[a.id];this.cleanupErrorHandling(a);Ext.fly(a.script).destroy();if(a.errorType){c=!1;Ext.callback(a.failure,a.scope,[a.errorType])}else {Ext.callback(a.success,a.scope,[d])}Ext.callback(a.callback,a.scope,[c,d,a.errorType]);if(b.hasListeners.idle){b.fireEvent('idle')}},createScript:function(c,b,d){var a=document.createElement('script');a.setAttribute('src',Ext.urlAppend(c,Ext.Object.toQueryString(b)));a.setAttribute('async',!0);a.setAttribute('type','text/javascript');return a},loadScript:function(a){Ext.getHead().appendChild(a.script)}},0,0,0,0,0,0,[Ext.data,'JsonP'],0);Ext.cmd.derive('Ext.data.proxy.JsonP',Ext.data.proxy.Server,{alternateClassName:'Ext.data.ScriptTagProxy',config:{callbackKey:'callback',recordParam:'records',autoAppendParams:!0},doRequest:function(c){var b=this,a=b.buildRequest(c),d=a.getParams();a.setConfig({callbackKey:b.callbackKey,timeout:b.timeout,scope:b,disableCaching:!1,callback:b.createRequestCallback(a,c)});if(b.getAutoAppendParams()){a.setParams({})}a.setRawRequest(Ext.data.JsonP.request(a.getCurrentConfig()));a.setParams(d);b.lastRequest=a;return a},createRequestCallback:function(b,c){var a=this;return function(e,d,f){if(b===a.lastRequest){a.lastRequest=null}a.processResponse(e,c,b,d)}},setException:function(a,b){a.setException(a.getRequest().getRawRequest().errorType)},buildUrl:function(c){var e=this,i=Ext.data.proxy.Server.prototype.buildUrl.apply(this,arguments),g=c.getRecords(),d=e.getWriter(),a,b,h,f,j;if(d&&c.getOperation().allowWrite()){c=d.write(c)}a=c.getParams();b=a.filters;delete a.filters;if(b&&b.length){for(f=0;f<b.length;f++){h=b[f];j=h.getValue();if(j){a[h.getProperty()]=j}}}if(Ext.isArray(g)&&g.length>0&&(!d||!d.getEncode())){a[e.getRecordParam()]=e.encodeRecords(g)}if(e.getAutoAppendParams()){i=Ext.urlAppend(i,Ext.Object.toQueryString(a))}return i},abort:function(a){a=a||this.lastRequest;if(a){Ext.data.JsonP.abort(a.getRawRequest())}},encodeRecords:function(c){var b=[],a=0,d=c.length;for(;a<d;a++){b.push(Ext.encode(c[a].getData()))}return b}},0,0,0,0,['proxy.jsonp','proxy.scripttag'],0,[Ext.data.proxy,'JsonP',Ext.data,'ScriptTagProxy'],0);Ext.cmd.derive('Ext.data.JsonPStore',Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:'jsonp',reader:'json'}},a);Ext.data.Store.prototype.constructor.call(this,a)}},1,0,0,0,['store.jsonp'],0,[Ext.data,'JsonPStore'],0);Ext.cmd.derive('Ext.data.JsonStore',Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:'ajax',reader:'json',writer:'json'}},a);Ext.data.Store.prototype.constructor.call(this,a)}},1,0,0,0,['store.json'],0,[Ext.data,'JsonStore'],0);Ext.cmd.derive('Ext.data.ModelManager',Ext.Base,{alternateClassName:'Ext.ModelMgr',singleton:!0,getModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},deprecated:{5:{methods:{clear:null,create:function(b,c,d){var a=c;if(!a.isEntity){a=this.getModel(c||b.name)}return a.createWithId(d,b)}}}}},0,0,0,0,0,0,[Ext.data,'ModelManager',Ext,'ModelMgr'],0);Ext.cmd.derive('Ext.data.NodeInterface',Ext.Base,{statics:{decorate:function(f){var a=Ext.data.schema.Schema.lookupEntity(f),e=a.prototype,c,b,d;if(!a.prototype.isObservable){a.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable)}if(e.isNode){return}c=e.idProperty;b=a.getField(c);d=b.type;a.override(this.getPrototypeBody());a.addFields([{name:'parentId',type:d,defaultValue:null,allowNull:b.allowNull},{name:'index',type:'int',defaultValue:-1,persist:!1,convert:null},{name:'depth',type:'int',defaultValue:0,persist:!1,convert:null},{name:'expanded',type:'bool',defaultValue:!1,persist:!1,convert:null},{name:'expandable',type:'bool',defaultValue:!0,persist:!1,convert:null},{name:'checked',type:'auto',defaultValue:null,persist:!1,convert:null},{name:'leaf',type:'bool',defaultValue:!1},{name:'cls',type:'string',defaultValue:'',persist:!1,convert:null},{name:'iconCls',type:'string',defaultValue:'',persist:!1,convert:null},{name:'icon',type:'string',defaultValue:'',persist:!1,convert:null},{name:'root',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'isLast',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'isFirst',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'allowDrop',type:'boolean',defaultValue:!0,persist:!1,convert:null},{name:'allowDrag',type:'boolean',defaultValue:!0,persist:!1,convert:null},{name:'loaded',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'loading',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'href',type:'string',defaultValue:'',persist:!1,convert:null},{name:'hrefTarget',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qtip',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qtitle',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qshowDelay',type:'int',defaultValue:0,persist:!1,convert:null},{name:'children',type:'auto',defaultValue:null,persist:!1,convert:null},{name:'visible',type:'boolean',defaultValue:!0,persist:!1},{name:'text',type:'string',persist:!1}])},getPrototypeBody:function(){var a={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0};return {isNode:!0,constructor:function(){var a=this;a.mixins.observable.constructor.call(a);a.callParent(arguments);a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null;a.childNodes=[];return a},createNode:function(a){var b=this,j=b.childType,h,e,f,c,g,d,i=b.self;if(!a.isModel){if(j){i=b.schema.getEntity(j)}else {h=b.getTreeStore();e=h&&h.getProxy().getReader();f=b.getProxy();c=f?f.getReader():null;g=!e||c&&c.initialConfig.typeProperty?c:e;if(g){d=g.typeProperty;if(d){i=b.schema.getEntity(a[d])}}}a=new i(a)}if(!a.childNodes){a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null;a.childNodes=[]}return a},isLeaf:function(){return this.get('leaf')===!0},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(o,f){var a=this,r=a.data.depth,m={},n=a.childNodes,q=n.length,g,s=a.phantom,l=a.data,t=a.fields,c=a.modified||(a.modified={}),b,e,j,d,p,k=f.parentId,h,i;if(!f){Ext.Error.raise('NodeInterface expects update info to be passed')}for(b in f){j=t[a.fieldOrdinals[b]];e=f[b];i=j&&j.persist;d=l[b];h=i&&b==='index'&&d!==-1&&(k&&k!==c.parentId);if(!h&&a.isEqual(d,e)){continue}l[b]=e;if(i){if(!h&&c.hasOwnProperty(b)){if(a.isEqual(c[b],e)){delete c[b];a.dirty=!1;for(p in c){if(c.hasOwnProperty(p)){a.dirty=!0;break}}}}else {a.dirty=!0;c[b]=d}}}if(o){a.commit();a.phantom=s}if(a.data.depth!==r){m={depth:a.data.depth+1};for(g=0;g<q;g++){n[g].updateInfo(o,m)}}},isLast:function(){return this.get('isLast')},isFirst:function(){return this.get('isFirst')},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var a=this;if(a.get('expandable')){return !(a.isLeaf()||a.isLoaded()&&!a.phantom&&!a.hasChildNodes())}return !1},triggerUIUpdate:function(){this.callStore('afterEdit',[])},appendChild:function(b,g,i){var a=this,f,k,c,d,e,h={isLast:!0,parentId:a.getId(),depth:(a.data.depth||0)+1},j;if(Ext.isArray(b)){k=b.length;j=new Array(k);a.callStore('beginFill');for(f=0;f<k;f++){j[f]=a.appendChild(b[f],g,i)}a.callStore('endFill',[j])}else {b=a.createNode(b);if(g!==!0&&a.fireEventArgs('beforeappend',[a,b])===!1){return !1}c=a.childNodes.length;d=b.parentNode;if(d){if(g!==!0&&b.fireEventArgs('beforemove',[b,d,a,c])===!1){return !1}d.removeChild(b,!1,!1,d.getTreeStore()===a.getTreeStore())}a.suspendUIChanges();c=a.childNodes.length;if(c===0){a.setFirstChild(b)}a.childNodes[c]=b;b.parentNode=a;b.nextSibling=null;a.setLastChild(b);e=a.childNodes[c-1];if(e){b.previousSibling=e;e.nextSibling=b;e.updateInfo(i,{isLast:!1});e.triggerUIUpdate()}else {b.previousSibling=null}h.isFirst=c===0;h.index=c;b.updateInfo(i,h);if(a.isLeaf()){a.set('leaf',!1)}if(!a.isLoaded()){a.set('loaded',!0)}else {if(a.childNodes.length===1){a.triggerUIUpdate()}}if(c&&a.childNodes[c-1].isExpanded()){a.childNodes[c-1].cascadeBy(a.triggerUIUpdate)}if(!b.isLeaf()&&b.phantom){b.set('loaded',!0)}if(g!==!0){a.fireEventArgs('append',[a,b,c]);if(d){b.fireEventArgs('move',[b,d,a,c])}}a.callStore('onNodeAppend',[b,c]);a.resumeUIChanges(!0);return b}},getOwnerTree:function(){var a=this.getTreeStore();if(a){return a.ownerTree}},getTreeStore:function(){return this.stores&&this.stores[0]},removeChild:function(a,i,g,e){var b=this,f=b.indexOf(a),d,h,c;if(f===-1||g!==!0&&b.fireEventArgs('beforeremove',[b,a,!!e])===!1){return !1}b.suspendUIChanges();Ext.Array.erase(b.childNodes,f,1);if(b.firstChild===a){b.setFirstChild(a.nextSibling)}if(b.lastChild===a){b.setLastChild(a.previousSibling)}c=a.previousSibling;if(c){a.previousSibling.nextSibling=a.nextSibling}if(a.nextSibling){a.nextSibling.previousSibling=a.previousSibling;if(f===0){a.nextSibling.updateInfo(!1,{isFirst:!0})}for(d=f,h=b.childNodes.length;d<h;d++){b.childNodes[d].updateInfo(!1,{index:d})}}else {if(c){c.updateInfo(!1,{isLast:!0});if(c.isExpanded()){c.cascadeBy(b.triggerUIUpdate)}else {c.triggerUIUpdate()}}}if(!b.childNodes.length){b.triggerUIUpdate()}b.resumeUIChanges(!0);if(g!==!0){b.callStore('beforeNodeRemove',[[a],!!e]);a.previousSibling=a.nextSibling=a.parentNode=null;b.fireEventArgs('remove',[b,a,!!e]);b.callStore('onNodeRemove',[[a],!!e])}if(i){a.erase(!0)}else {a.clear()}return a},copy:function(f,d){var a=this,c=a.callParent(arguments),e=a.childNodes?a.childNodes.length:0,b;if(d){for(b=0;b<e;b++){c.appendChild(a.childNodes[b].copy(undefined,!0))}}return c},clear:function(b){var a=this;a.parentNode=a.previousSibling=a.nextSibling=null;if(b){a.firstChild=a.lastChild=null}},erase:function(c){var a=this,e=a.destroyOptions,d=a.childNodes,f=d.length,b;if(c===!0){a.clear(!0);for(b=0;b<f;b++){d[b].erase(!0)}a.childNodes=null;delete a.destroyOptions;a.callParent([e])}else {a.destroyOptions=c;a.remove(!0)}},insertBefore:function(a,d,h){var b=this,i=b.indexOf(d),e=a.parentNode,c=i,j,g,f;if(!d){return b.appendChild(a)}if(a===d){return !1}a=b.createNode(a);if(h!==!0&&b.fireEventArgs('beforeinsert',[b,a,d])===!1){return !1}if(e===b&&b.indexOf(a)<i){c--}if(e){if(h!==!0&&a.fireEventArgs('beforemove',[a,e,b,i,d])===!1){return !1}e.removeChild(a,!1,!1,e.getTreeStore()===b.getTreeStore())}if(c===0){b.setFirstChild(a)}Ext.Array.splice(b.childNodes,c,0,a);a.parentNode=b;a.nextSibling=d;d.previousSibling=a;g=b.childNodes[c-1];if(g){a.previousSibling=g;g.nextSibling=a}else {a.previousSibling=null}a.updateInfo(!1,{parentId:b.getId(),index:c,isFirst:c===0,isLast:!1,depth:(b.data.depth||0)+1});for(f=c+1,j=b.childNodes.length;f<j;f++){b.childNodes[f].updateInfo(!1,{index:f})}if(!b.isLoaded()){b.set('loaded',!0)}else {if(b.childNodes.length===1){b.triggerUIUpdate()}}if(!a.isLeaf()&&a.phantom){a.set('loaded',!0)}if(h!==!0){b.fireEventArgs('insert',[b,a,d]);if(e){a.fireEventArgs('move',[a,e,b,c,d])}}b.callStore('onNodeInsert',[a,c]);return a},insertChild:function(c,b){var a=this.childNodes[c];if(a){return this.insertBefore(b,a)}else {return this.appendChild(b)}},isLastVisible:function(){var b=this,c=b.data.isLast,a=b.nextSibling;if(!c&&b.getTreeStore().isFiltered()){while(a){if(a.data.visible){return !1}a=a.nextSibling}return !0}return c},remove:function(c,d){var a=this,b=a.parentNode;if(b){b.removeChild(a,c,d)}else {if(c){a.erase(!0)}}return a},removeAll:function(h,f,g){var a=this,c=a.childNodes,d=0,e=c.length,b;if(!e){return}a.callStore('beforeNodeRemove',[c,!1]);for(;d<e;++d){b=c[d];b.previousSibling=b.nextSibling=b.parentNode=null;a.fireEventArgs('remove',[a,b,!1]);if(h){b.erase(!0)}else {b.removeAll(!1,f,!0)}}a.callStore('onNodeRemove',[c,!1]);a.firstChild=a.lastChild=null;a.childNodes.length=0;if(!g){a.triggerUIUpdate()}return a},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(c,a,b){var d=a?a.nextSibling:null;this.removeChild(a,!1,b);this.insertBefore(c,d,b);return a},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(d){var b=this.childNodes,c=b.length,a=0;for(;a<c;++a){if(b[a].getId()===d){return a}}return -1},getPath:function(c,a){c=c||this.idProperty;a=a||'/';var d=[this.get(c)],b=this.parentNode;while(b){d.unshift(b.get(c));b=b.parentNode}return a+d.join(a)},getDepth:function(){return this.get('depth')},bubble:function(d,b,c){var a=this;while(a){if(d.apply(b||a,c||[a])===!1){break}a=a.parentNode}},cascadeBy:function(a,e,f,d){var b=this;if(arguments.length===1&&!Ext.isFunction(a)){d=a.after;e=a.scope;f=a.args;a=a.before}if(!a||a.apply(e||b,f||[b])!==!1){var g=b.childNodes,h=g.length,c;for(c=0;c<h;c++){g[c].cascadeBy.call(g[c],a,e,f,d)}if(d){d.apply(e||b,f||[b])}}},eachChild:function(f,d,e){var b=this.childNodes,c=b.length,a;for(a=0;a<c;a++){if(f.apply(d||this,e||[b[a]])===!1){break}}},findChild:function(a,b,c){return this.findChildBy(function(){return this.get(a)==b},null,c)},findChildBy:function(g,d,e){var f=this.childNodes,h=f.length,c=0,a,b;for(;c<h;c++){a=f[c];if(g.call(d||a,a)===!0){return a}else {if(e){b=a.findChildBy(g,d,e);if(b!==null){return b}}}}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(b){var a=this.parentNode;while(a){if(a===b){return !0}a=a.parentNode}return !1},sort:function(e,i,h){var c=this,a=c.childNodes,g=a.length,b,d,f={isFirst:!0};if(g>0){if(!e){e=c.getTreeStore().getSortFn()}Ext.Array.sort(a,e);c.setFirstChild(a[0]);c.setLastChild(a[g-1]);for(b=0;b<g;b++){d=a[b];d.previousSibling=a[b-1];d.nextSibling=a[b+1];f.isLast=b===g-1;f.index=b;d.updateInfo(!1,f);f.isFirst=!1;if(i&&!d.isLeaf()){d.sort(e,!0,!0)}}if(h!==!0){c.fireEventArgs('sort',[c,a]);c.callStore('onNodeSort',[a])}}},isExpanded:function(){return this.get('expanded')},isLoaded:function(){return this.get('loaded')},isLoading:function(){return this.get('loading')},isRoot:function(){return !this.parentNode},isVisible:function(){var a=this.parentNode;while(a){if(!a.isExpanded()){return !1}a=a.parentNode}return !0},expand:function(d,b,c){var a=this;if(!a.isLeaf()){if(a.isLoading()){a.on('expand',function(){a.expand(d,b,c)},a,{single:!0})}else {if(!a.isExpanded()){if(a.fireEventArgs('beforeexpand',[a])!==!1){a.callStore('onBeforeNodeExpand',[a.onChildNodesAvailable,a,[d,b,c]])}}else {if(d){a.expandChildren(!0,b,c)}else {Ext.callback(b,c||a,[a.childNodes])}}}}else {Ext.callback(b,c||a)}},onChildNodesAvailable:function(c,e,b,d){var a=this;a.suspendUIChanges();a.set('expanded',!0);a.callStore('onNodeExpand',[c,!1]);a.fireEventArgs('expand',[a,c]);if(e){a.expandChildren(!0,b,d)}else {Ext.callback(b,d||a,[a.childNodes])}a.resumeUIChanges(!0)},expandChildren:function(k,d,h,b){var g=this,j,a,e,c,f,i;if(Ext.isBoolean(d)){j=d;d=h;h=b;b=j}if(b===undefined){b=g.getTreeStore().singleExpand}e=g.childNodes;c=[];f=b?Math.min(e.length,1):e.length;for(a=0;a<f;++a){i=e[a];if(!i.isLeaf()){c[c.length]=i}}f=c.length;for(a=0;a<f;++a){c[a].expand(k)}if(d){Ext.callback(d,h||g,[g.childNodes])}},collapse:function(f,b,d){var a=this,h=a.isExpanded(),g=a.childNodes.length,c,e;if(!a.isLeaf()&&(!h&&f||a.fireEventArgs('beforecollapse',[a])!==!1)){a.suspendUIChanges();if(a.isExpanded()){if(f){e=function(){for(c=0;c<g;c++){a.childNodes[c].setCollapsed(!0)}};if(b){b=Ext.Function.createSequence(e,Ext.Function.bind(b,d,[a.childNodes]))}else {b=e}}else {if(b){b=Ext.Function.bind(b,d,[a.childNodes])}}a.set('expanded',!1);a.callStore('onNodeCollapse',[a.childNodes,b,d]);a.fireEventArgs('collapse',[a,a.childNodes]);b=null}else {if(f){for(c=0;c<g;c++){a.childNodes[c].setCollapsed(!0)}}}a.resumeUIChanges(!0)}Ext.callback(b,d||a,[a.childNodes])},setCollapsed:function(c){var a=this,d=a.childNodes.length,b;if(!a.isLeaf()&&a.fireEventArgs('beforecollapse',[a])!==!1){a.data.expanded=!1;a.fireEventArgs('collapse',[a,a.childNodes]);if(c){for(b=0;b<d;b++){a.childNodes[b].setCollapsed(!0)}}}},collapseChildren:function(e,g,h){var i=this,a,f=i.childNodes,c=f.length,d=[],b;for(a=0;a<c;++a){b=f[a];if(!b.isLeaf()&&b.isLoaded()&&b.isExpanded()){d.push(b)}}c=d.length;if(c){for(a=0;a<c;++a){b=d[a];if(a===c-1){b.collapse(e,g,h)}else {b.collapse(e)}}}else {Ext.callback(g,h)}},fireEvent:function(a){return this.fireEventArgs(a,Ext.Array.slice(arguments,1))},fireEventArgs:function(c,f){var e=Ext.mixin.Observable.prototype.fireEventArgs,d,b;if(a[c]){for(b=this;d!==!1&&b;b=b.parentNode){if(b.hasListeners&&b.hasListeners[c]){d=e.call(b,c,f)}}return d}else {return e.apply(this,arguments)}},serialize:function(){var d=Ext.data.writer.Json.prototype.getRecordData(this),c=this.childNodes,e=c.length,b,a;if(e>0){b=[];for(a=0;a<e;a++){b.push(c[a].serialize())}d.children=b}return d},suspendUIChanges:Ext.emptyFn,resumeUIChanges:Ext.emptyFn}}}},0,0,0,0,0,0,[Ext.data,'NodeInterface'],0);Ext.cmd.derive('Ext.data.NodeStore',Ext.data.Store,{isNodeStore:!0,config:{node:null,recursive:!1,rootVisible:!1,folderSort:!1},isExpandingOrCollapsing:0,getTotalCount:function(){return this.getCount()},afterEdit:function(b,a){if(this.getNode()&&a){if(a.indexOf('loaded')!==-1){return this.add(this.retrieveChildNodes(b))}if(a.indexOf('expanded')!==-1){return this.filter()}if(a.indexOf('sorted')!==-1){return this.sort()}}Ext.data.Store.prototype.afterEdit.apply(this,arguments)},onNodeAppend:function(b,a){this.add([a].concat(this.retrieveChildNodes(a)))},onNodeInsert:function(b,a){this.add([a].concat(this.retrieveChildNodes(a)))},onNodeRemove:function(b,a){this.remove([a].concat(this.retrieveChildNodes(a)))},applyNode:function(a){if(a){a=Ext.data.NodeInterface.decorate(a)}return a},updateNode:function(a,c){if(c&&!c.isDestroyed){c.un({append:'onNodeAppend',insert:'onNodeInsert',remove:'onNodeRemove',load:'onNodeLoad',scope:this});c.unjoin(this)}if(a){a.on({scope:this,append:'onNodeAppend',insert:'onNodeInsert',remove:'onNodeRemove',load:'onNodeLoad'});a.join(this);var b=[];if(a.childNodes.length){b=b.concat(this.retrieveChildNodes(a))}if(this.getRootVisible()){b.push(a)}else {if(a.isLoaded()||a.isLoading()){a.set('expanded',!0)}}this.data.clear();this.fireEvent('clear',this);this.suspendEvents();this.add(b);this.resumeEvents();if(b.length===0){this.loaded=a.loaded=!0}this.fireEvent('refresh',this,this.data)}},retrieveChildNodes:function(b){var e=this.getNode(),d=this.getRecursive(),c=[],a=b;if(!b.childNodes.length||!d&&b!==e){return c}if(!d){return b.childNodes}while(a){if(a._added){delete a._added;if(a===b){break}else {a=a.nextSibling||a.parentNode}}else {if(a!==b){c.push(a)}if(a.firstChild){a._added=!0;a=a.firstChild}else {a=a.nextSibling||a.parentNode}}}return c},isVisible:function(b){var a=b.parentNode;if(!this.getRecursive()&&a!==this.getNode()){return !1}while(a){if(!a.isExpanded()){return !1}if(a===this.getNode()){break}a=a.parentNode}return !0}},0,0,0,0,['store.node'],0,[Ext.data,'NodeStore'],0);Ext.cmd.derive('Ext.data.Request',Ext.Base,{config:{action:undefined,params:undefined,method:'GET',url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(a){this.initConfig(a)},getParam:function(b){var a=this.getParams(),c;if(a){return a[b]}return c},setParam:function(c,b){var a=this.getParams()||{};a[c]=b;this.setParams(a)}},1,0,0,0,0,0,[Ext.data,'Request'],0);Ext.cmd.derive('Ext.data.StoreManager',Ext.util.MixedCollection,{alternateClassName:['Ext.StoreMgr','Ext.data.StoreMgr','Ext.StoreManager'],singleton:!0,register:function(){for(var a=0,b;b=arguments[a];a++){this.add(b)}},unregister:function(){for(var a=0,b;b=arguments[a];a++){this.remove(this.lookup(b))}},lookup:function(a){if(Ext.isArray(a)){var f=['field1'],e=!Ext.isArray(a[0]),d=a,b,c;if(e){d=[];for(b=0,c=a.length;b<c;++b){d.push([a[b]])}}else {for(b=2,c=a[0].length;b<=c;++b){f.push('field'+b)}}return new Ext.data.ArrayStore({data:d,fields:f,autoDestroy:!0,autoCreated:!0,expanded:e})}if(Ext.isString(a)){return this.get(a)}else {return Ext.Factory.store(a)}},getKey:function(a){return a.storeId}},0,0,0,0,0,0,[Ext.data,'StoreManager',Ext,'StoreMgr',Ext.data,'StoreMgr',Ext,'StoreManager'],function(){Ext.regStore=function(b,a){var c;if(Ext.isObject(b)){a=b}else {if(Ext.data.StoreManager.containsKey(b)){return Ext.data.StoreManager.lookup(b)}a.storeId=b}if(a instanceof Ext.data.Store){c=a}else {c=new Ext.data.Store(a)}Ext.data.StoreManager.register(c);return c};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)};var a=Ext.regStore('ext-empty-store',{proxy:'memory'});a.isEmptyStore=!0});Ext.cmd.derive('Ext.mixin.Queryable',Ext.Base,{mixinId:'queryable',isQueryable:!0,query:function(a){a=a||'*';return Ext.ComponentQuery.query(a,this.getQueryRoot())},queryBy:function(g,e){var d=[],c=this.getQueryRoot().getRefItems(!0),b=0,f=c.length,a;for(;b<f;++b){a=c[b];if(g.call(e||a,a)!==!1){d.push(a)}}return d},queryById:function(a){return this.down(Ext.makeIdSelector(a))},child:function(a){var b=this.getQueryRoot().getRefItems();if(a&&a.isComponent){a=Ext.makeIdSelector(a.getItemId())}if(a){b=Ext.ComponentQuery.query(a,b)}if(b.length){return b[0]}return null},down:function(a){if(a&&a.isComponent){a=Ext.makeIdSelector(a.getItemId())}a=a||'';return this.query(a)[0]||null},visitPreOrder:function(b,d,c,a){Ext.ComponentQuery._visit(!0,b,this.getQueryRoot(),d,c,a)},visitPostOrder:function(b,d,c,a){Ext.ComponentQuery._visit(!1,b,this.getQueryRoot(),d,c,a)},getRefItems:function(){return []},getQueryRoot:function(){return this}},0,0,0,0,0,0,[Ext.mixin,'Queryable'],0);Ext.cmd.derive('Ext.data.TreeModel',Ext.data.Model,{getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode}},0,0,0,0,0,[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.data,'TreeModel'],function(){Ext.data.NodeInterface.decorate(this)});Ext.cmd.derive('Ext.data.TreeStore',Ext.data.NodeStore,{isTreeStore:!0,config:{root:null,rootVisible:!1,recursive:!0,defaultRootProperty:'children'},clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:'node',defaultRootId:'root',defaultRootText:'Root',fillCount:0,folderSort:!1,constructor:function(b){var a=this;a.byIdMap={};a.byInternalIdMap={};Ext.data.NodeStore.prototype.constructor.call(this,b)},applyFields:function(b){var a=this;if(b){if(a.defaultRootProperty!==a.self.prototype.config.defaultRootProperty){b=b.concat({name:a.defaultRootProperty,type:'auto',defaultValue:null,persist:!1})}a.setModel(Ext.define(null,{extend:'Ext.data.TreeModel',fields:b,proxy:a.getProxy()}));a.implicitModel=!0}},onSorterEndUpdate:function(){var a=this,d=a.getSorters(),b=d.getRange(),c=a.getRoot();if(c&&b.length){if(a.getRemoteSort()){a.attemptLoad({callback:function(){a.fireEvent('sort',a,b)}})}else {c.sort(this.getSortFn(),!0);a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireEvent('sort',a,b)}}else {a.fireEvent('sort',a,b)}},updateRemoteFilter:function(){var b=this.getData(),a=this.getFilters();b.setFilters(null);a.on('endupdate',this.onFilterEndUpdate,this)},updateRemoteSort:function(){var b=this.getData(),a=this.getSorters();b.setSorters(null);a.on('endupdate',this.onSorterEndUpdate,this)},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var a=this.sorters.getSortFn(),b=a;if(this.getFolderSort()){b=function(b,c){var d=b.get('leaf')?1:0,e=c.get('leaf')?1:0;return d-e||a(b,c)}}return b},updateRootVisible:function(c){var a=this.getRoot(),b;if(a){b=this.getData();if(c){b.insert(0,a)}else {b.remove(a)}}},updateTrackRemoved:function(a){Ext.data.NodeStore.prototype.updateTrackRemoved.apply(this,arguments);this.removedNodes=this.removed;this.removed=null},getRemovedRecords:function(){return this.removedNodes},onDestroyRecords:function(c,b,a){if(a){this.removedNodes.length=0}},applyProxy:function(a){var b;a=Ext.data.NodeStore.prototype.applyProxy.apply(this,arguments);if(a.setIdParam){a.setIdParam(this.nodeParam)}if(Ext.isEmpty(a.getReader().getRootProperty())){b=a.getReader();b.setRootProperty(this.defaultRootProperty);b.buildExtractors(!0)}return a},applyModel:function(a){a=Ext.data.NodeStore.prototype.applyModel.apply(this,arguments);if(!a){a=Ext.data.TreeModel}return a},updateModel:function(a){var b=a.prototype.isNode;Ext.data.NodeInterface.decorate(a);if(!b){this.getProxy().getReader().buildExtractors(!0)}},onFilterEndUpdate:function(e){var d=this,c,f=e.length,g=e.getFilterFn(),a=d.getRoot(),b;if(f){b=[];a.cascadeBy({after:function(a){a.set('visible',g(a))}});for(c=0,f=a.childNodes.length;c<f;c++){if(a.childNodes[c].get('visible')){b.push(a.childNodes[c])}}}else {b=a.childNodes}d.onNodeFilter(a,b);a.fireEvent('filterchange',a,b);d.fireEvent('filterchange',d,e)},clearFilter:function(){var b=this,a=b.getRoot();Ext.data.NodeStore.prototype.clearFilter.call(this);b.filterFn=null;a.cascadeBy(function(a){a.set('visible',!0)});b.onNodeFilter(a,a.childNodes);a.fireEvent('filterchange',a,a.childNodes);b.fireEvent('filterchange',b,[])},onNodeFilter:function(e,d){var a=this,c=a.getData(),b=[];a.handleNodeExpand(e,d,b);a.suspendEvents();c.splice(0,c.getCount(),b);a.resumeEvents();a.fireEvent('datachanged',a);a.fireEvent('refresh',a)},onBeforeNodeExpand:function(b,f,g,c){var d=this,k,i,e,j,l,a,h;if(b.isLoaded()){a=[b.childNodes];if(c){a.push.apply(a,c)}Ext.callback(f,g||b,a)}else {if(b.isLoading()){d.on('load',function(){a=[b.childNodes];if(c){a.push.apply(a,c)}Ext.callback(f,g||b,a)},d,{single:!0,priority:1001})}else {k=d.getProxy().getReader();i=b.getProxy();e=i?i.getReader():null;j=e&&e.initialConfig.rootProperty?e:k;if(l=j.getRoot(b.raw||b.data)){h=b.childType;d.fillNode(b,j.extractData(l,h?{model:h}:undefined));a=[b.childNodes];if(c){a.push.apply(a,c)}Ext.callback(f,g||b,a)}else {d.read({node:b,onChildNodesAvailable:function(){delete d.lastOptions.onChildNodesAvailable;a=[b.childNodes];if(c){a.push.apply(a,c)}Ext.callback(f,g||b,a)}})}}}},onNodeExpand:function(b,e){var a=this,d=a.indexOf(b)+1,c=[];a.handleNodeExpand(b,e,c);if(!a.refreshCounter&&b.isRoot()&&!b.get('visible')){a.loadRecords(c)}else {a.insert(d,c)}},handleNodeExpand:function(d,c,e){var g=this,f=c?c.length:0,b,a;if(d!==this.getRoot()&&!g.isVisible(d)){return}if(f){for(b=0;b<f;b++){a=c[b];if(a.get('visible')){e.push(a);if(a.isExpanded()){if(a.isLoaded()){g.handleNodeExpand(a,a.childNodes,e)}else {a.set('expanded',!1);a.expand()}}}}}},onNodeCollapse:function(f,d,i,j){var a=this,g=a.indexOf(f)+1,c,e,b,h;if(!a.recursive&&f!==a.getRoot()){return}if(!a.remoteFilter&&a.getFilters().getCount()){d=Ext.Array.filter(d,a.filterVisible)}if(d.length&&a.data.contains(d[0])){c=f;while(c.parentNode){for(b=c.nextSibling;b&&!b.get('visible');b=b.nextSibling){}if(b){h=!0;e=a.indexOf(b);break}else {c=c.parentNode}}if(!h){e=a.getCount()}a.removeAt(g,e-g)}Ext.callback(i,j)},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(e,a){if(!Ext.isArray(a)){a=[a]}var c,d=a.length,b;for(c=0;c<d;c++){b=a[c];if(!b.isLeaf()&&b.isExpanded()){this.onNodeCollapse(b,b.childNodes)}}},onNodeRemove:function(i,d,g){var b=this,f=b.removedNodes,h=d.length,c,a,e;b.remove(d,g);for(c=0;c<h;c++){a=d[c];e=!a.phantom;if(f&&!g&&e&&!b.loading){a.removedFrom=b.indexOf(a);f.push(a)}b.unregisterNode(a,!0)}},onNodeAppend:function(a,c,b){this.onNodeInsert(a,c,b)},onNodeInsert:function(j,a,m){var b=this,i,c,l,g,d,k,n=a.raw||a.data,h,f,e;if(b.filterFn){f=b.filterFn(a);a.set('visible',f);if(f){j.set('visible',b.filterFn(j))}}b.registerNode(a,!0);a.join(b);b.beginUpdate();if(b.isVisible(a)){if(m===0||!a.previousSibling){i=j}else {for(c=a.previousSibling;c&&!c.get('visible');c=c.previousSibling){}while(c.isExpanded()&&c.lastChild){c=c.lastChild}i=c}b.insert(b.indexOf(i)+1,a);if(!a.isLeaf()&&a.isExpanded()){if(a.isLoaded()){b.onNodeExpand(a,a.childNodes)}else {if(!b.fillCount){a.set('expanded',!1);a.expand()}}}}else {b.needsSync=b.needsSync||a.phantom||a.dirty}if(!a.isLeaf()&&!a.isLoaded()&&!b.lazyFill){l=b.getProxy().getReader();g=a.getProxy();d=g?g.getReader():null;k=d&&d.initialConfig.rootProperty?d:l;h=k.getRoot(n);if(h){e=a.childType;b.fillNode(a,k.extractData(h,e?{model:e}:undefined))}}b.endUpdate()},afterEdit:function(a,b){if(this.getData().indexOf(a)!==-1){Ext.data.NodeStore.prototype.afterEdit.apply(this,arguments)}},registerNode:function(a,f){var d=this,c,e,b;d.byIdMap[a.id]=a;d.byInternalIdMap[a.internalId]=a;if(f===!0){c=a.childNodes;e=c.length;for(b=0;b<e;b++){d.registerNode(c[b],!0)}}},unregisterNode:function(c,f){var d=this,b,e,a;delete d.byIdMap[c.id];delete d.byInternalIdMap[c.internalId];if(f===!0){b=c.childNodes;e=b.length;for(a=0;a<e;a++){d.unregisterNode(b[a],!0)}}},onNodeSort:function(b,c){var a=this;a.suspendAutoSync();if(a.indexOf(b)!==-1||b===a.getRoot()&&!a.rootVisible&&b.isExpanded()){Ext.suspendLayouts();a.onNodeCollapse(b,c);a.onNodeExpand(b,c);Ext.resumeLayouts(!0)}a.resumeAutoSync(a.autoSync)},applyRoot:function(a){var b=this,d=b.getModel(),c=d.prototype.idProperty;if(a&&!a.isNode){a=Ext.apply({text:b.defaultRootText,root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,allowDrag:!1},a);if(b.defaultRootId&&a[c]===undefined){a[c]=b.defaultRootId}a=new d(a)}return a},updateRoot:function(a,c){var b=this,d;b.byIdMap={};b.byInternalIdMap={};b.getTrackRemoved();b.suspendEvents();b.getData().clear();if(a){if(a.fireEventArgs('beforeappend',[null,a])===!1){a=null}else {if(d=a.parentNode){if(!d.removeChild(a,!1,!1,d.getTreeStore()===b)){return}}else {if((d=a.getTreeStore())&&d!==b&&a===d.getRoot()){d.setRoot(null)}}a.set('root',!0);a.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null});a.fireEvent('append',null,a,!1);a.fireEvent('rootchange',a);b.onNodeAppend(null,a,0)}}b.fireEvent('rootchange',a,c);if(c){c.set('root',!1);b.remove(c);c.fireEvent('remove',null,c,!1);c.fireEvent('rootchange',null);c.unjoin(b)}b.resumeEvents();if(a&&!a.isLoaded()&&(b.autoLoad===!0||a.isExpanded())){a.data.expanded=!1;a.expand()}else {b.fireEvent('datachanged',b);b.fireEvent('refresh',b)}return a},getNodeById:function(b){var a=this.byIdMap[b];if(a&&a.data.visible){return a}},load:function(b){b=b||{};b.params=b.params||{};var a=this,c=b.node||a.getRoot(),f=a.getProxy(),e=b.callback,g=b.scope,d;if(!c){a.setRoot({expanded:!0});return}if(c.data.expanded){c.data.loaded=!1;if(a.clearOnLoad){c.data.expanded=!1}b.callback=function(){if(!a.clearOnLoad){c.collapse()}c.expand();Ext.callback(e,g,arguments)}}b.id=c.getId();b=Ext.apply({filters:a.getFilters().items,sorters:a.getSorters().items,node:b.node||c,internalScope:a,internalCallback:a.onProxyLoad},b);a.lastOptions=Ext.apply({},b);d=f.createOperation('read',b);if(a.fireEvent('beforeload',a,d)!==!1){a.loading=!0;if(a.clearOnLoad){if(a.clearRemovedOnLoad){a.clearRemoved(c)}c.removeAll(!1)}d.execute()}if(a.loading&&c){c.set('loading',!0)}return a},clearRemoved:function(k){var d=this,e=d.removedNodes,l=k.getId(),f=e.length,b=f,h={},j=[],i={},a,c,g;if(k===d.getRoot()){d.removedNodes=[];return}for(;b--;){a=e[b];i[a.getId()]=a}for(b=f;b--;){a=e[b];c=a;while(c&&c.getId()!==l){g=c.get('parentId');c=c.parentNode||d.getNodeById(g)||i[g]}if(c){h[a.getId()]=a}}for(b=0;b<f;b++){a=e[b];if(!h[a.getId()]){j.push(a)}}d.removedNodes=j},fillNode:function(i,b){var a=this,g=b?b.length:0,c=a.getSorters(),e,d=!1,j=a.sortOnLoad&&g>1&&!a.remoteSort&&c&&c.items&&c.items.length,f,h;if(g){if(!a.remoteFilter&&a.getFilters().getCount()){b[0].set('visible',a.filterFn(b[0]))}for(e=1;!d&&e<g;e++){f=b[e];h=b[e-1];if(a.filterFn){f.set('visible',a.filterFn(f))}d=f.data.index!==h.data.index}if(j){if(d){a.indexSorter=c.insert(0,a.indexSorter)}Ext.Array.sort(b,c.getSortFn());if(d){c.remove(a.indexSorter)}}else {if(d){Ext.Array.sort(b,a.sortByIndex)}}}i.set('loaded',!0);if(b.length){i.appendChild(b,undefined,!0)}return b},beginFill:function(){var a=this;if(!a.fillCount++){a.beginUpdate();a.suspendEvents();a.suspendAutoSync();a.fillArray=[]}},endFill:function(f,e){var a=this,b,d,c;a.fillArray.push(e);if(!--a.fillCount){a.resumeAutoSync();a.resumeEvents();for(b=0,d=a.fillArray.length;b<d;b++){c=a.indexOf(a.fillArray[b][0]);if(c!==-1){a.fireEvent('add',a,a.fillArray[b],c)}}a.fillArray=null;a.endUpdate()}},sortByIndex:function(a,b){return a.data.index-b.data.index},onIdChanged:function(d,e,c){var b=d.childNodes,f=b&&b.length,a;Ext.data.NodeStore.prototype.onIdChanged.apply(this,arguments);delete this.byIdMap[e];this.byIdMap[c]=d;for(a=0;a<f;a++){b[a].set('parentId',c)}},onProxyLoad:function(b){var a=this,f=b.initialConfig,d=b.wasSuccessful(),c=b.getRecords(),e=f.node,g=b.getScope()||a,h=[c,b,d];a.loading=!1;e.set('loading',!1);if(d){if(!a.clearOnLoad){c=a.cleanRecords(e,c)}c=a.fillNode(e,c)}Ext.callback(f.onChildNodesAvailable,g,h);a.fireEvent('load',a,b.node,c,d)},cleanRecords:function(h,f){var e={},d=h.childNodes,a=0,b=d.length,g=[],c;for(;a<b;++a){e[d[a].getId()]=!0}for(a=0,b=f.length;a<b;++a){c=f[a];if(!e[c.getId()]){g.push(c)}}return g},removeAll:function(){this.suspendEvents();this.setRoot(null);this.resumeEvents();Ext.data.NodeStore.prototype.removeAll.call(this)},doSort:function(b){var a=this;if(a.remoteSort){a.load()}else {a.tree.sort(b,!0);a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}a.fireEvent('sort',a,a.sorters.getRange())},filterVisible:function(a){return a.get('visible')},isVisible:function(c){var a=c.parentNode,b=c.data.visible,d=this.getRoot();while(b&&a){b=a.data.expanded&&a.data.visible;a=a.parentNode}return b&&!(c===d&&!this.rootVisible)},getRootNode:function(){return this.getRoot()},setRootNode:function(a){this.setRoot(a);return this.getRoot()},deprecated:{5:{properties:{tree:null}}}},1,0,0,0,['store.tree'],0,[Ext.data,'TreeStore'],function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})});Ext.cmd.derive('Ext.data.Types',Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext.data,'Types'],function(a){var b=Ext.data.SortTypes;Ext.apply(a,{stripRe:/[\$,%]/g,AUTO:{sortType:b.none,type:'auto'},STRING:{convert:function(b){var c=this.getAllowNull()?null:'';return b===undefined||b===null?c:String(b)},sortType:b.asUCString,type:'string'},INT:{convert:function(b){if(typeof b=='number'){return parseInt(b)}return b!==undefined&&b!==null&&b!==''?parseInt(String(b).replace(a.stripRe,''),10):this.getAllowNull()?null:0},sortType:b.none,type:'int'},FLOAT:{convert:function(b){if(typeof b==='number'){return b}return b!==undefined&&b!==null&&b!==''?parseFloat(String(b).replace(a.stripRe,''),10):this.getAllowNull()?null:0},sortType:b.none,type:'float'},BOOL:{convert:function(b){if(typeof b==='boolean'){return b}if(this.getAllowNull()&&(b===undefined||b===null||b==='')){return null}return b==='true'||b==1},sortType:b.none,type:'bool'},DATE:{convert:function(b){var d=this.getDateReadFormat()||this.getDateFormat(),c;if(!b){return null}if(b instanceof Date){return b}if(d){return Ext.Date.parse(b,d)}c=Date.parse(b);return c?new Date(c):null},sortType:b.asDate,type:'date'}});a.BOOLEAN=a.BOOL;a.INTEGER=a.INT;a.NUMBER=a.FLOAT});Ext.cmd.derive('Ext.data.Validation',Ext.data.Model,{syncGeneration:0,attach:function(a){this.record=a;delete this.data.id},getValidation:function(){return null},isValid:function(){var a=this;if(a.syncGeneration!==a.record.generation){a.refresh()}return a.dirty},refresh:function(v){var d=this,n=d.data,e=d.record,r=e.fields,p=e.generation,q=e.validators,u=e.data,g,j=e.validationSeparator,h=null,m,a,f,i,k,l,s,t,c,o,b;if(v||d.syncGeneration!==p){d.syncGeneration=p;for(k=0,t=r.length;k<t;++k){f=r[k];b=f.name;o=u[b];g=f.defaultInvalidMessage;a=0;if(!(b in n)){n[b]=m=!0}else {m=n[b]}if(f.validate!==Ext.emptyFn){c=f.validate(o,j);if(c!==!0){a=c||g}}if((j||!a)&&q){i=q[b];if(i){for(l=0,s=i.length;l<s;++l){c=i[l].validate(o,d);if(c!==!0){if(a){a+=j;a+=c||g}else {a=c||g;if(!j){break}}}}}}if(!a){a=!0}if(a!==m){(h||(h={}))[b]=a}}if(h){d.set(h)}}}},0,0,0,0,0,0,[Ext.data,'Validation'],0);Ext.cmd.derive('Ext.dom.Query',Ext.Base,function(){var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var a=doc.createElement('div');a.innerHTML='<!-- -->text<!-- -->';return a.children&&a.children.length===0}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?!0:!1,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var a,b='<r><a:b xmlns:a="n"></a:b></r>';if(window.DOMParser){a=(new DOMParser()).parseFromString(b,'application/xml')}else {a=new ActiveXObject('Microsoft.XMLDOM');a.loadXML(b)}return !!a.getElementsByTagName('a:b').length}(),longHexToChar=function(b,a){return String.fromCharCode(parseInt(a,16))},shortToLongHex=function(b,a){while(a.length<6){a='0'+a}return '\\'+a},charToLongHex=function(b,a){num=a.charCodeAt(0).toString(16);if(num.length===1){num='0'+num}return '\\0000'+num},unescapeCssSelector=function(a){return hasEscapes?a.replace(longHex,longHexToChar):a},setupEscapes=function(a){hasEscapes=a.indexOf('\\')>-1;if(hasEscapes){a=a.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,'\\\\')}return a};eval('var batch = 30803, child, next, prev, byClassName;');child=useChildrenCollection?function child(a,b){return a.children[b]}:function child(b,c){var d=0,a=b.firstChild;while(a){if(a.nodeType==1){if(++d==c){return a}}a=a.nextSibling}return null};next=useElementPointer?function(a){return a.nextElementSibling}:function(a){while((a=a.nextSibling)&&a.nodeType!=1){}return a};prev=useElementPointer?function(a){return a.previousElementSibling}:function(a){while((a=a.previousSibling)&&a.nodeType!=1){}return a};function children(c){var a=c.firstChild,d=-1,b;while(a){b=a.nextSibling;if(a.nodeType==3&&!nonSpace.test(a.nodeValue)){c.removeChild(a)}else {a.nodeIndex=++d}a=b}return this}byClassName=useClassList?function(f,a){a=unescapeCssSelector(a);if(!a){return f}var d=[],g=-1,e,b,c;for(e=0;b=f[e];e++){c=b.classList;if(c){if(c.contains(a)){d[++g]=b}}else {if((' '+b.className+' ').indexOf(a)!==-1){d[++g]=b}}}return d}:function(d,a){a=unescapeCssSelector(a);if(!a){return d}var e=[],f=-1,c,b;for(c=0;b=d[c];c++){if((' '+b.className+' ').indexOf(a)!==-1){e[++f]=b}}return e};function attrValue(a,b){if(!a.tagName&&typeof a.length!='undefined'){a=a[0]}if(!a){return null}if(b=='for'){return a.htmlFor}if(b=='class'||b=='className'){return a.className}return a.getAttribute(b)||a[b]}function getNodes(d,i,a){var f=[],k=-1,m,b,h,e,j,n,g,c,l;if(!d){return f}a=a.replace('|',':')||'*';if(typeof d.getElementsByTagName!='undefined'){d=[d]}if(!i){a=unescapeCssSelector(a);if(!supportsColonNsSeparator&&DQ.isXml(d[0])&&a.indexOf(':')!==-1){for(b=0;h=d[b];b++){m=h.getElementsByTagName(a.split(':').pop());for(e=0;j=m[e];e++){if(j.tagName===a){f[++k]=j}}}}else {for(b=0;h=d[b];b++){m=h.getElementsByTagName(a);for(e=0;j=m[e];e++){f[++k]=j}}}}else {if(i=='/'||i=='>'){g=a.toUpperCase();for(b=0;h=d[b];b++){n=h.childNodes;for(e=0;l=n[e];e++){if(l.nodeName==g||l.nodeName==a||a=='*'){f[++k]=l}}}}else {if(i=='+'){g=a.toUpperCase();for(b=0;c=d[b];b++){while((c=c.nextSibling)&&c.nodeType!=1){}if(c&&(c.nodeName==g||c.nodeName==a||a=='*')){f[++k]=c}}}else {if(i=='~'){g=a.toUpperCase();for(b=0;c=d[b];b++){while(c=c.nextSibling){if(c.nodeName==g||c.nodeName==a||a=='*'){f[++k]=c}}}}}}}return f}function concat(a,b){a.push.apply(a,b);return a}function byTag(a,b){if(a.tagName||a===doc){a=[a]}if(!b){return a}var e=[],f=-1,d,c;b=b.toLowerCase();for(d=0;c=a[d];d++){if(c.nodeType==1&&c.tagName.toLowerCase()==b){e[++f]=c}}return e}function byId(a,c){c=unescapeCssSelector(c);if(a.tagName||a===doc){a=[a]}if(!c){return a}var d=[],f=-1,e,b;for(e=0;b=a[e];e++){if(b&&b.id==c){d[++f]=b;return d}}return d}function byAttribute(l,c,d,m,k){var h=[],n=-1,j=k=='{',e=DQ.operators[m],b,i,g,f,a;d=unescapeCssSelector(d);for(f=0;a=l[f];f++){if(a.nodeType===1){if(!g){i=DQ.isXml(a);g=!0}if(!i){if(j){b=DQ.getStyle(a,c)}else {if(c=='class'||c=='className'){b=a.className}else {if(c=='for'){b=a.htmlFor}else {if(c=='href'){b=a.getAttribute('href',2)}else {b=a.getAttribute(c)}}}}}else {b=a.getAttribute(c)}if(e&&e(b,d)||!e&&b){h[++n]=a}}}return h}function byPseudo(c,b,a){a=unescapeCssSelector(a);return DQ.pseudos[b](c,a)}function nodupIEXml(b){var f=++key,e,a,c,d;b[0].setAttribute('_nodup',f);e=[b[0]];for(a=1,c=b.length;a<c;a++){d=b[a];if(!d.getAttribute('_nodup')!=f){d.setAttribute('_nodup',f);e[e.length]=d}}for(a=0,c=b.length;a<c;a++){b[a].removeAttribute('_nodup')}return e}function nodup(a){if(!a){return []}var h=a.length,g,d,e=a,f,i=-1,c,b;if(!h||typeof a.nodeType!='undefined'||h==1){return a}if(isIE&&typeof a[0].selectSingleNode!='undefined'){return nodupIEXml(a)}c=++key;a[0]._nodup=c;for(d=1;g=a[d];d++){if(g._nodup!=c){g._nodup=c}else {e=[];for(b=0;b<d;b++){e[++i]=a[b]}for(b=d+1;f=a[b];b++){if(f._nodup!=c){f._nodup=c;e[++i]=f}}return e}}return e}function quickDiffIEXml(c,d){var f=++key,e=[],a,b;for(a=0,b=c.length;a<b;a++){c[a].setAttribute('_qdiff',f)}for(a=0,b=d.length;a<b;a++){if(d[a].getAttribute('_qdiff')!=f){e[e.length]=d[a]}}for(a=0,b=c.length;a<b;a++){c[a].removeAttribute('_qdiff')}return e}function quickDiff(c,b){var e=c.length,g=++key,d=[],a,f;if(!e){return b}if(isIE&&typeof c[0].selectSingleNode!='undefined'){return quickDiffIEXml(c,b)}for(a=0;a<e;a++){c[a]._qdiff=g}for(a=0,f=b.length;a<f;a++){if(b[a]._qdiff!=g){d[d.length]=b[a]}}return d}function quickId(b,d,c,a){if(b==c){a=unescapeCssSelector(a);var e=c.ownerDocument||c;return e.getElementById(a)}b=getNodes(b,d,'*');return byId(b,a)}return {singleton:!0,alternateClassName:['Ext.core.DomQuery','Ext.DomQuery'],_init:function(){DQ=this;DQ.operators=Ext.Object.chain(Ext.util.Operators)},getStyle:function(b,a){return Ext.fly(b,'_DomQuery').getStyle(a)},compile:function(path,type){type=type||'select';var fn=['var f = function(root) {\n var mode; ++batch; var n = root || document;\n'],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;path=setupEscapes(path);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,'')+'";';path=path.replace(lmode[1],'')}while(path.substr(0,1)=='/'){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;tokenMatch=path.match(tagTokenRe);if(type=='select'){if(tokenMatch){if(tokenMatch[1]=='#'){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else {fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],'')}else {if(path.substr(0,1)!='@'){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else {if(tokenMatch){if(tokenMatch[1]=='#'){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else {fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],'')}}while(!(modeMatch=path.match(modeRe))){matched=!1;for(j=0;j<matchersLn;j++){t=matchers[j];m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(b,a){return m[a]});path=path.replace(m[0],'');matched=!0;break}}if(!matched){Ext.Error.raise({sourceClass:'Ext.DomQuery',sourceMethod:'compile',msg:'Error parsing selector. Parsing failed at "'+path+'"'})}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,'')+'";';path=path.replace(modeMatch[1],'')}}fn[fn.length]='return nodup(n);\n}';eval(fn.join(''));return f},jsSelect:function(h,b,i){b=b||doc;if(typeof b=='string'){b=doc.getElementById(b)}var f=h.split(','),c=[],e,g,a,d;for(e=0,g=f.length;e<g;e++){a=f[e].replace(trimRe,'');if(!cache[a]){cache[a]=DQ.compile(a,i);if(!cache[a]){Ext.Error.raise({sourceClass:'Ext.DomQuery',sourceMethod:'jsSelect',msg:a+' is not a valid selector'})}}else {setupEscapes(a)}d=cache[a](b);if(d&&d!==doc){c=c.concat(d)}}if(f.length>1){return nodup(c)}return c},isXml:function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=='HTML':!1},select:doc.querySelectorAll?function(b,a,d,c){a=a||doc;if(!DQ.isXml(a)){try{if(a.parentNode&&a.nodeType!==9&&b.indexOf(',')===-1&&!startIdRe.test(b)){b=Ext.makeIdSelector(Ext.id(a))+' '+b;a=a.parentNode}return c?[a.querySelector(b)]:Ext.Array.toArray(a.querySelectorAll(b))}catch(e){}}return DQ.jsSelect.call(this,b,a,d)}:function(a,b,c){return DQ.jsSelect.call(this,a,b,c)},selectNode:function(a,b){return Ext.DomQuery.select(a,b,null,!0)[0]},selectValue:function(a,c,d){a=a.replace(trimRe,'');if(!valueCache[a]){valueCache[a]=DQ.compile(a,'select')}else {setupEscapes(a)}var b=valueCache[a](c);return DQ.getNodeValue(b[0]?b[0]:b)},getNodeValue:function(a,c){if(typeof a.normalize=='function'){a.normalize()}var b=a&&a.firstChild?a.firstChild.nodeValue:null;return b===null||b===undefined||b===''?c:b},selectNumber:function(b,c,a){var d=DQ.selectValue(b,c,a||0);return parseFloat(d)},is:function(a,d){if(typeof a=='string'){a=doc.getElementById(a)}var b=Ext.isArray(a),c=DQ.filter(b?a:[a],d);return b?c.length==a.length:c.length>0},filter:function(c,a,d){a=a.replace(trimRe,'');if(!simpleCache[a]){simpleCache[a]=DQ.compile(a,'simple')}else {setupEscapes(a)}var b=simpleCache[a](c);return d?quickDiff(b,c):b},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{'first-child':function(f){var d=[],e=-1,a,b,c;for(b=0;c=a=f[b];b++){while((a=a.previousSibling)&&a.nodeType!=1){}if(!a){d[++e]=c}}return d},'last-child':function(f){var d=[],e=-1,a,b,c;for(b=0;c=a=f[b];b++){while((a=a.nextSibling)&&a.nodeType!=1){}if(!a){d[++e]=c}}return d},'nth-child':function(l,c){var g=[],h=-1,k=nthRe.exec(c=='even'&&'2n'||c=='odd'&&'2n+1'||!nthRe2.test(c)&&'n+'+c||c),i=(k[1]||1)-0,f=k[2]-0,e,b,j,a,d;for(e=0;b=l[e];e++){d=b.parentNode;if(batch!=d._batch){j=0;for(a=d.firstChild;a;a=a.nextSibling){if(a.nodeType==1){a.nodeIndex=++j}}d._batch=batch}if(i==1){if(f===0||b.nodeIndex==f){g[++h]=b}}else {if((b.nodeIndex+f)%i===0){g[++h]=b}}}return g},'only-child':function(e){var c=[],d=-1,b,a;for(b=0;a=e[b];b++){if(!prev(a)&&!next(a)){c[++d]=a}}return c},'empty':function(i){var g=[],h=-1,d,b,f,e,c,a;for(d=0;b=i[d];d++){f=b.childNodes;e=0;a=!0;while(c=f[e]){++e;if(c.nodeType==1||c.nodeType==3){a=!1;break}}if(a){g[++h]=b}}return g},'contains':function(e,f){var c=[],d=-1,b,a;for(b=0;a=e[b];b++){if((a.textContent||a.innerText||a.text||'').indexOf(f)!=-1){c[++d]=a}}return c},'nodeValue':function(e,f){var c=[],d=-1,b,a;for(b=0;a=e[b];b++){if(a.firstChild&&a.firstChild.nodeValue==f){c[++d]=a}}return c},'checked':function(e){var c=[],d=-1,b,a;for(b=0;a=e[b];b++){if(a.checked===!0){c[++d]=a}}return c},'not':function(b,a){return DQ.filter(b,a,!0)},'any':function(i,f){var h=f.split('|'),d=[],g=-1,e,b,a,c;for(b=0;a=i[b];b++){for(c=0;e=h[c];c++){if(DQ.is(a,e)){d[++g]=a;break}}}return d},'odd':function(a){return this['nth-child'](a,'odd')},'even':function(a){return this['nth-child'](a,'even')},'nth':function(b,a){return b[a-1]||[]},'first':function(a){return a[0]||[]},'last':function(a){return a[a.length-1]||[]},'has':function(f,e){var g=DQ.select,c=[],d=-1,b,a;for(b=0;a=f[b];b++){if(g(e,a).length>0){c[++d]=a}}return c},'next':function(h,g){var e=DQ.is,d=[],f=-1,b,a,c;for(b=0;a=h[b];b++){c=next(a);if(c&&e(c,g)){d[++f]=a}}return d},'prev':function(h,g){var e=DQ.is,d=[],f=-1,b,a,c;for(b=0;a=h[b];b++){c=prev(a);if(c&&e(c,g)){d[++f]=a}}return d},focusable:function(c){var e=c.length,d=[],b=0,a;for(;b<e;b++){a=c[b];if(Ext.fly(a,'_DomQuery').isFocusable()){d.push(a)}}return d},visible:function(c,e){var f=c.length,d=[],b=0,a;for(;b<f;b++){a=c[b];if(Ext.fly(a,'_DomQuery').isVisible(e)){d.push(a)}}return d},isScrolled:function(f){var d=[],e=-1,b,a,c;for(b=0;a=f[b];b++){c=Ext.fly(a,'_DomQuery').getScroll();if(c.top>0||c.left>0){d[++e]=a}}return d}}}},0,0,0,0,0,0,[Ext.dom,'Query',Ext.core,'DomQuery',Ext,'DomQuery'],function(){this._init()});Ext.cmd.derive('Ext.data.reader.Xml',Ext.data.reader.Reader,{alternateClassName:'Ext.data.XmlReader',config:{record:'',namespace:''},createAccessor:function(a){var b=this;if(Ext.isEmpty(a)){return Ext.emptyFn}if(Ext.isFunction(a)){return a}return function(c){return b.getNodeValue(Ext.DomQuery.selectNode(a,c))}},getNodeValue:function(a){if(a){if(typeof a.normalize==='function'){a.normalize()}a=a.firstChild;if(a){return a.nodeValue}}return undefined},getResponseData:function(c){var b=c.responseXML,a='XML data not found in the response';if(!b){Ext.Logger.warn(a);return this.createReadError(a)}return b},getData:function(a){return a.documentElement||a},getRoot:function(a){var c=a.nodeName,b=this.getRootProperty();if(!b||c&&c==b){return a}else {if(Ext.DomQuery.isXml(a)){return Ext.DomQuery.selectNode(b,a)}}},extractData:function(a,c){var b=this.getRecord();if(b!==a.nodeName){a=Ext.DomQuery.select(b,a)}else {a=[a]}return Ext.data.reader.Reader.prototype.extractData.call(this,a,c)},readRecords:function(a,b){if(Ext.isArray(a)){a=a[0]}this.xmlData=a;return Ext.data.reader.Reader.prototype.readRecords.call(this,a,b)},createFieldAccessor:function(c){var d=this,e=d.getNamespace(),a,b;a=c.mapping||(e?e+'|':'')+c.name;if(typeof a==='function'){b=function(a){return c.mapping(a,d)}}else {b=function(b){return d.getNodeValue(Ext.DomQuery.selectNode(a,b))}}return b}},0,0,0,0,['reader.xml'],0,[Ext.data.reader,'Xml',Ext.data,'XmlReader'],0);Ext.cmd.derive('Ext.data.writer.Xml',Ext.data.writer.Writer,{alternateClassName:'Ext.data.XmlWriter',config:{documentRoot:'xmlData',defaultDocumentRoot:'xmlData',header:'',record:'record'},writeRecords:function(h,f){var e=this,a=[],g=0,k=f.length,b=e.getDocumentRoot(),i=e.getRecord(),j=f.length!==1,d,c;a.push(e.getHeader()||'');if(!b&&j){b=e.getDefaultDocumentRoot()}if(b){a.push('<',b,'>')}for(;g<k;++g){d=f[g];a.push('<',i,'>');for(c in d){if(d.hasOwnProperty(c)){a.push('<',c,'>',d[c],'</',c,'>')}}a.push('</',i,'>')}if(b){a.push('</',b,'>')}h.setXmlData(a.join(''));return h}},0,0,0,0,['writer.xml'],0,[Ext.data.writer,'Xml',Ext.data,'XmlWriter'],0);Ext.cmd.derive('Ext.data.XmlStore',Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:'ajax',reader:'xml',writer:'xml'}},a);Ext.data.Store.prototype.constructor.call(this,a)}},1,0,0,0,['store.xml'],0,[Ext.data,'XmlStore'],0);Ext.cmd.derive('Ext.data.identifier.Negative',Ext.data.identifier.Sequential,{config:{increment:-1,seed:-1}},0,0,0,0,['data.identifier.negative'],0,[Ext.data.identifier,'Negative'],0);Ext.cmd.derive('Ext.data.identifier.Uuid',Ext.data.identifier.Generator,{isUnique:!0,config:{id:null},constructor:function(a){Ext.data.identifier.Generator.prototype.constructor.call(this,a);this.reconfigure(a)},reconfigure:function(a){var b=this.self;this.generate=a&&a.version===1?b.createSequential(a.salt,a.timestamp,a.clockSeq):b.createRandom()},clone:null,statics:{createRandom:function(){var a='xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx'.split(''),d='0123456789abcdef'.split(''),c=a.length,b=[];return function(){for(var f,e,g=0;g<c;++g){e=a[g];if(e!=='-'&&e!=='4'){f=Math.random()*16;f=e==='R'?f&3|8:f|(e==='M'?1:0);e=d[f]}b[g]=e}return b.join('')}},createSequential:function(f,g,i){var b=[],c=Math.pow(2,32),j=f.lo,h=f.hi,e=g.lo,d=g.hi,a=function(c,b){var a=c.toString(16).toLowerCase();if(a.length>b){a=a.substring(a.length-b)}else {if(a.length<b){a=Ext.String.leftPad(a,b,'0')}}return a};if(typeof f==='number'){h=Math.floor(f/c);j=Math.floor(f-h*c)}if(typeof g==='number'){d=Math.floor(g/c);e=Math.floor(g-d*c)}h|=256;b[3]=a(128|i>>>8&63,2)+a(i&255,2);b[4]=a(h,4)+a(j,8);return function(){b[0]=a(e,8);b[1]=a(d&65535,4);b[2]=a(d>>>16&4095|1<<12,4);++e;if(e>=c){e=0;++d}return b.join('-')}}}},1,0,0,0,['data.identifier.uuid'],0,[Ext.data.identifier,'Uuid'],function(){this.Global=new this({id:'uuid'})});Ext.cmd.derive('Ext.data.proxy.WebStorage',Ext.data.proxy.Client,{alternateClassName:'Ext.data.WebStorageProxy',config:{id:undefined},constructor:function(a){Ext.data.proxy.Client.prototype.constructor.apply(this,arguments);this.cache={};this.initialize()},create:function(e){var a=this,f=e.getRecords(),h=f.length,g=a.getIds(),c,b,d;e.setStarted();if(a.isHierarchical===undefined){a.isHierarchical=!!f[0].isNode;if(a.isHierarchical){a.getStorageObject().setItem(a.getTreeKey(),!0)}}for(d=0;d<h;d++){b=f[d];if(b.phantom){b.phantom=!1;c=a.getNextId()}else {c=b.getId()}a.setRecord(b,c);b.commit();g.push(c)}a.setIds(g);e.setSuccessful(!0)},read:function(b){var a=this,c=[],h=0,i=!0,k=a.getModel(),g,j,f,d,e;b.setStarted();if(a.isHierarchical){c=a.getTreeData()}else {g=a.getIds();j=g.length;e=b.getId();if(e){d=a.getRecord(e);if(d!==null){f=new k(d)}if(f){c.push(f)}else {i=!1}}else {for(;h<j;h++){e=g[h];d=a.getRecord(e);c.push(new k(d))}}}if(i){b.setResultSet(new Ext.data.ResultSet({records:c,total:c.length,loaded:!0}));b.setSuccessful(!0)}else {b.setException('Unable to load records')}},update:function(d){var f=d.getRecords(),g=f.length,e=this.getIds(),a,b,c;d.setStarted();for(c=0;c<g;c++){a=f[c];this.setRecord(a);a.commit();b=a.getId();if(b!==undefined&&Ext.Array.indexOf(e,b)===-1){e.push(b)}}this.setIds(e);d.setSuccessful(!0)},destroy:function(b){var d=this,f=b.getRecords(),h=d.getIds(),i=h.length,g=[],e={},a=f.length,c;b.setStarted();for(;a--;){Ext.apply(e,d.removeRecord(f[a]))}for(a=0;a<i;a++){c=h[a];if(!e[c]){g.push(c)}}d.setIds(g);b.setSuccessful(!0)},getRecord:function(a){var c=this,d=c.cache,b=!d[a]?Ext.decode(c.getStorageObject().getItem(c.getRecordKey(a))):d[a];if(!b){return null}d[a]=b;b[c.getModel().prototype.idProperty]=a;return Ext.merge({},b)},setRecord:function(a,c){if(c){a.set('id',c,{commit:!0})}else {c=a.getId()}var d=this,l=a.getData(),b={},k=d.getModel(),j=k.getFields(),m=j.length,i=0,e,f,h,g;for(;i<m;i++){e=j[i];f=e.name;if(e.persist){b[f]=l[f]}}delete b[k.prototype.idProperty];if(a.isNode&&a.get('depth')===1){delete b.parentId}h=d.getStorageObject();g=d.getRecordKey(c);d.cache[c]=b;h.removeItem(g);h.setItem(g,Ext.encode(b))},removeRecord:function(a){var b=this,e=a.getId(),d={},f,c;d[e]=a;b.getStorageObject().removeItem(b.getRecordKey(e));delete b.cache[e];if(a.childNodes){c=a.childNodes;for(f=c.length;f--;){Ext.apply(d,b.removeRecord(c[f]))}}return d},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format('{0}-{1}',this.getId(),a)},getRecordCounterKey:function(){return Ext.String.format('{0}-counter',this.getId())},getTreeKey:function(){return Ext.String.format('{0}-tree',this.getId())},getIds:function(){var d=this,a=(d.getStorageObject().getItem(d.getId())||'').split(','),c=a.length,e=this.getIdField().isStringField,b;if(c===1&&a[0]===''){a=[]}else {for(b=0;b<c;b++){a[b]=e?a[b]:+a[b]}}return a},getIdField:function(){return this.getModel().prototype.idField},setIds:function(d){var a=this.getStorageObject(),b=d.join(','),c=this.getId();a.removeItem(c);if(!Ext.isEmpty(b)){a.setItem(c,b)}},getNextId:function(){var b=this,e=b.getStorageObject(),d=b.getRecordCounterKey(),c=b.getIdField().isStringField,a;a=b.idGenerator.generate();e.setItem(d,a);if(c){a=a+''}return a},getTreeData:function(){var f=this,n=f.getIds(),i=n.length,d=[],k={},c=[],b=0,m=f.getModel(),o=m.prototype.idProperty,g,a,e,h,l,j;for(;b<i;b++){j=n[b];a=f.getRecord(j);d.push(a);k[j]=a;if(!a.parentId){c.push(a)}}g=c.length;Ext.Array.sort(d,f.sortByParentId);for(b=g;b<i;b++){a=d[b];h=a.parentId;if(!e||e[o]!==h){e=k[h];e.children=l=[]}l.push(a)}for(b=i;b--;){a=d[b];if(!a.children&&!a.leaf){a.loaded=!0}}for(b=g;b--;){a=c[b];c[b]=new m(a)}return c},sortByParentId:function(a,b){return (a.parentId||0)-(b.parentId||0)},initialize:function(){var a=this,b=a.getStorageObject(),c=+b.getItem(a.getRecordCounterKey()),d=a.getId();b.setItem(d,b.getItem(d)||'');if(b.getItem(a.getTreeKey())){a.isHierarchical=!0}a.idGenerator=new Ext.data.identifier.Sequential({seed:c?c+1:1})},clear:function(){var a=this,b=a.getStorageObject(),d=a.getIds(),e=d.length,c;for(c=0;c<e;c++){b.removeItem(a.getRecordKey(d[c]))}b.removeItem(a.getRecordCounterKey());b.removeItem(a.getTreeKey());b.removeItem(a.getId());a.cache={}},getStorageObject:function(){}},1,0,0,0,0,0,[Ext.data.proxy,'WebStorage',Ext.data,'WebStorageProxy'],0);Ext.cmd.derive('Ext.data.proxy.LocalStorage',Ext.data.proxy.WebStorage,{alternateClassName:'Ext.data.LocalStorageProxy',getStorageObject:function(){return window.localStorage}},0,0,0,0,['proxy.localstorage'],0,[Ext.data.proxy,'LocalStorage',Ext.data,'LocalStorageProxy'],0);Ext.cmd.derive('Ext.data.proxy.Rest',Ext.data.proxy.Ajax,{alternateClassName:'Ext.data.RestProxy',defaultActionMethods:{create:'POST',read:'GET',update:'PUT',destroy:'DELETE'},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:!0,format:null,batchActions:!1,actionMethods:{create:'POST',read:'GET',update:'PUT',destroy:'DELETE'}},buildUrl:function(c){var b=this,g=c.getOperation(),h=g.getRecords(),f=h?h[0]:null,i=b.getFormat(),a=b.getUrl(c),d,e;if(f&&!f.phantom){d=f.getId()}else {d=g.getId()}if(b.getAppendId()&&b.isValidId(d)){if(!a.match(b.slashRe)){a+='/'}a+=d;e=c.getParams();if(e){delete e[b.getIdParam()]}}if(i){if(!a.match(b.periodRe)){a+='.'}a+=i}c.setUrl(a);return Ext.data.proxy.Ajax.prototype.buildUrl.call(this,c)},isValidId:function(a){return a||a===0}},0,0,0,0,['proxy.rest'],0,[Ext.data.proxy,'Rest',Ext.data,'RestProxy'],0);Ext.cmd.derive('Ext.data.proxy.SessionStorage',Ext.data.proxy.WebStorage,{alternateClassName:'Ext.data.SessionStorageProxy',getStorageObject:function(){return window.sessionStorage}},0,0,0,0,['proxy.sessionstorage'],0,[Ext.data.proxy,'SessionStorage',Ext.data,'SessionStorageProxy'],0);Ext.cmd.derive('Ext.data.proxy.Sql',Ext.data.proxy.Client,{alternateClassName:'Ext.data.proxy.SQL',isSQLProxy:!0,config:{reader:null,writer:null,table:null,database:'Sencha',columns:'',uniqueIdStrategy:!1,tableExists:!1,defaultDateFormat:'Y-m-d H:i:s.u'},updateModel:function(a){if(a){var b=a.modelName,c=this.getDefaultDateFormat(),d=b.slice(b.lastIndexOf('.')+1);a.getFields().each(function(b){if(b.isDateField&&!b.getDateFormat()){b.dateFormat=c}});this.setUniqueIdStrategy(a.getIdentifier().isUnique);if(!this.getTable()){this.setTable(d)}this.setColumns(this.getPersistedModelColumns(a))}Ext.data.proxy.Client.prototype.updateModel.apply(this,arguments)},setException:function(a,b){a.setException(b)},create:function(b,c,d){var a=this,g=a.getDatabaseObject(),f=b.getRecords(),e=a.getTableExists();b.setStarted();g.transaction(function(g){if(!e){a.createTable(g)}a.insertRecords(f,g,function(f,e){if(b.process(b.getAction(),f)===!1){a.fireEvent('exception',a,b)}if(e){b.setException(e)}},a)},function(f,e){a.setException(b,e);if(typeof c=='function'){c.call(d||a,b)}},function(e){if(typeof c=='function'){c.call(d||a,b)}})},read:function(a,f,h){var b=this,r=b.getDatabaseObject(),o=b.getModel(),l=o.getIdProperty(),k=b.getTableExists(),g=a.getParams()||{},i=g[l],m=a.getSorters(),d=a.getFilters(),q=a.getPage(),p=a.getStart(),n=a.getLimit(),c,e,j;g=Ext.apply(g,{page:q,start:p,limit:n,sorters:m,filters:d});a.setStarted();r.transaction(function(l){if(!k){b.createTable(l)}b.selectRecords(l,i!==undefined?i:g,function(g,i){if(a.process(a.getAction(),g)===!1){b.fireEvent('exception',b,a)}if(i){a.setException(i)}if(d&&d.length){c=Ext.create('Ext.util.Collection',function(b){return b.getId()});c.setFilterRoot('data');for(e=0,j=d.length;e<j;e++){if(d[e].getProperty()===null){c.addFilter(d[e])}}c.addAll(a.getRecords());a.setRecords(c.items.slice());g.setRecords(a.getRecords());g.setCount(c.items.length);g.setTotal(c.items.length)}})},function(d,c){b.setException(a,c);if(typeof f=='function'){f.call(h||b,a)}},function(c){if(typeof f=='function'){f.call(h||b,a)}})},update:function(a,c,d){var b=this,f=a.getRecords(),g=b.getDatabaseObject(),e=b.getTableExists();a.setStarted();g.transaction(function(g){if(!e){b.createTable(g)}b.updateRecords(g,f,function(f,e){if(a.process(a.getAction(),f)===!1){b.fireEvent('exception',b,a)}if(e){a.setException(e)}})},function(f,e){b.setException(a,e);if(typeof c=='function'){c.call(d||b,a)}},function(e){if(typeof c=='function'){c.call(d||b,a)}})},destroy:function(a,c,d){var b=this,f=a.getRecords(),g=b.getDatabaseObject(),e=b.getTableExists();a.setStarted();g.transaction(function(g){if(!e){b.createTable(g)}b.destroyRecords(g,f,function(f,e){if(a.process(a.getAction(),f)===!1){b.fireEvent('exception',b,a)}if(e){a.setException(e)}})},function(f,e){b.setException(a,e);if(typeof c=='function'){c.call(d||b,a)}},function(e){if(typeof c=='function'){c.call(d||b,a)}})},createTable:function(a){a.executeSql('CREATE TABLE IF NOT EXISTS '+this.getTable()+' ('+this.getSchemaString()+')');this.setTableExists(!0)},insertRecords:function(k,p,b,l){var a=this,q=a.getTable(),e=a.getColumns(),j=k.length,c=0,m=[],h=[],d=[],o=a.getUniqueIdStrategy(),g,n,i,f;f=new Ext.data.ResultSet({records:h,success:!0});for(g=0,n=e.length;g<n;g++){m.push('?')}i=m.join(', ');Ext.each(k,function(n){var m=n.getId(),g=a.getRecordData(n),r=a.getColumnValues(e,g);p.executeSql('INSERT INTO '+q+' ('+e.join(', ')+') VALUES ('+i+')',r,function(i,e){c++;h.push({clientId:m,id:o?m:e.insertId,data:g,node:g});if(c===j&&typeof b=='function'){b.call(l||a,f,d.length>0?d:null)}},function(g,e){c++;d.push({clientId:m,error:e});if(c===j&&typeof b=='function'){b.call(l||a,f,d)}})})},selectRecords:function(t,b,g,s){var k=this,u=k.getTable(),q=k.getModel().getIdProperty(),f='SELECT * FROM '+u,r=[],l=' WHERE ',p=' ORDER BY ',a,d,j,c,i,o,h,m,e,n;c=new Ext.data.ResultSet({records:r,success:!0});if(!Ext.isObject(b)){f+=l+q+' = '+b}else {d=b.filters&&b.filters.length;if(d){for(a=0;a<d;a++){h=b.filters[a];e=h.getProperty();n=h.getValue();if(e!==null){f+=l+e+' '+(h.getAnyMatch()?"LIKE '%"+n+"%'":"= '"+n+"'");l=' AND '}}}d=b.sorters&&b.sorters.length;if(d){for(a=0;a<d;a++){m=b.sorters[a];e=m.getProperty();if(e!==null){f+=p+e+' '+m.getDirection();p=', '}}}if(b.page!==undefined){f+=' LIMIT '+parseInt(b.start,10)+', '+parseInt(b.limit,10)}}t.executeSql(f,null,function(f,e){o=e.rows;i=o.length;for(a=0,d=i;a<d;a++){j=o.item(a);r.push({clientId:null,id:j[q],data:j,node:j})}c.setSuccess(!0);c.setTotal(i);c.setCount(i);if(typeof g=='function'){g.call(s||k,c)}},function(d,a){c.setSuccess(!1);c.setTotal(0);c.setCount(0);if(typeof g=='function'){g.call(s||k,c,a)}})},updateRecords:function(m,j,b,k){var a=this,o=a.getTable(),f=a.getColumns(),i=j.length,n=a.getModel().getIdProperty(),c=0,h=[],d=[],e,l,g;g=new Ext.data.ResultSet({records:h,success:!0});Ext.each(j,function(s){var p=s.getId(),q=a.getRecordData(s),t=a.getColumnValues(f,q),r=[];for(e=0,l=f.length;e<l;e++){r.push(f[e]+' = ?')}m.executeSql('UPDATE '+o+' SET '+r.join(', ')+' WHERE '+n+' = ?',t.concat(p),function(e,f){c++;h.push({clientId:p,id:p,data:q,node:q});if(c===i&&typeof b=='function'){b.call(k||a,g,d.length>0?d:null)}},function(f,e){c++;d.push({clientId:p,error:e});if(c===i&&typeof b=='function'){b.call(k||a,g,d)}})})},destroyRecords:function(l,c,b,j){var e=this,n=e.getTable(),m=e.getModel().getIdProperty(),k=[],i=[],g=[],a,d,f,h;for(a=0,d=c.length;a<d;a++){k.push(m+' = ?');i.push(c[a].getId())}f=new Ext.data.ResultSet({records:g,success:!0});l.executeSql('DELETE FROM '+n+' WHERE '+k.join(' OR '),i,function(i,k){for(a=0,d=c.length;a<d;a++){h=c[a];g.push({id:h.getId()})}if(typeof b=='function'){b.call(j||e,f)}},function(d,a){if(typeof b=='function'){b.call(j||e,f,a)}})},getRecordData:function(c){var d=this,h=c.getFields(),g=c.getIdProperty(),f=d.getUniqueIdStrategy(),e={},b,a;h.each(function(h){if(h.persist){b=h.name;if(b===g&&!f){return}a=c.get(b);if(h.isDateField){a=d.writeDate(h,a)}e[b]=a}},d);return e},getColumnValues:function(c,f){var g=c.length,e=[],a,d,b;for(a=0;a<g;a++){d=c[a];b=f[d];if(b!==undefined){e.push(b)}}return e},getSchemaString:function(){var c=this,b=[],i=c.getModel(),e=i.getIdProperty(),h=i.getFields().items,j=c.getUniqueIdStrategy(),k=h.length,d,f,a,g;for(d=0;d<k;d++){f=h[d];a=f.getType();g=f.name;if(g===e){if(j){a=c.convertToSqlType(a);b.unshift(e+' '+a)}else {b.unshift(e+' INTEGER PRIMARY KEY AUTOINCREMENT')}}else {a=c.convertToSqlType(a);b.push(g+' '+a)}}return b.join(', ')},getPersistedModelColumns:function(e){var d=e.getFields().items,g=this.getUniqueIdStrategy(),h=e.getIdProperty(),c=[],i=d.length,b,a,f;for(b=0;b<i;b++){a=d[b];f=a.name;if(f===h&&!g){continue}if(a.persist){c.push(a.name)}}return c},convertToSqlType:function(a){switch(a.toLowerCase()){case 'date':case 'string':case 'auto':return 'TEXT';case 'int':return 'INTEGER';case 'float':return 'REAL';case 'bool':return 'NUMERIC';}},writeDate:function(c,a){if(Ext.isEmpty(a)){return null}var b=c.getDateFormat()||this.getDefaultDateFormat();switch(b){case 'timestamp':return a.getTime()/1000;case 'time':return a.getTime();default:return Ext.Date.format(a,b);}},dropTable:function(c){var a=this,d=a.getTable(),b=c?c.callback:null,e=c?c.scope||a:null,f=a.getDatabaseObject();f.transaction(function(a){a.executeSql('DROP TABLE '+d)},function(g,f){if(typeof b=='function'){b.call(e||a,!1,d,f)}},function(f){if(typeof b=='function'){b.call(e||a,!0,d)}});a.setTableExists(!1)},getDatabaseObject:function(){return openDatabase(this.getDatabase(),'1.0','Sencha Database',5*1024*1024)}},0,0,0,0,['proxy.sql'],0,[Ext.data.proxy,'Sql',Ext.data.proxy,'SQL'],0);Ext.cmd.derive('Ext.data.session.AssociatedEntitiesStub',Ext.data.session.AbstractStub,{isAssociationStub:!0,isForeignKeyStub:!0,firstTick:!0,constructor:function(c,j,g){var b=this,h=c.getSchema(),i=g&&g.data,a,e,d,f;Ext.data.session.AbstractStub.prototype.constructor.call(this,c,j);Ext.apply(b,g);a=b.entityId;d=b.role;f=c.peekEntityStub(d.inverse.cls,a);if(f){a=f.getValue()||a}b.store=e=h.createAssociationStore(c,d,a,i);e.$stub=b;if(a.isEntity){a[h.getNamer().storeName(d.role)]=e;b.entity=a}if(i){b.firstTick=!1}b.schedule()},getRawValue:function(){return this.store},isLoading:function(){return this.firstTick||this.store.isLoading()},onLoad:function(){this.react()},react:function(){var a=this,b=a.store;if(a.firstTick){a.firstTick=!1;if(!b.loadCount){b.load({callback:a.onLoad,scope:a})}}else {Ext.data.session.AbstractStub.prototype.react.call(this)}}},1,0,0,0,0,0,[Ext.data.session,'AssociatedEntitiesStub'],0);Ext.cmd.derive('Ext.data.session.AssociatedEntityStub',Ext.data.session.AbstractStub,{isAssociationStub:!0,isAssociatedEntityStub:!0,assocBinding:null,entity:null,lastId:undefined,record:null,constructor:function(b,c,d){var a=this;Ext.data.session.AbstractStub.prototype.constructor.call(this,b,c);Ext.apply(a,d);a.foreignKey=a.role.association.field;a.entityBinding=b.bind({reference:a.role.inverse.type,id:a.entityId},a.onEntity,a)},destroy:function(){var a=this,c=a.assocBinding,b=a.entityBinding;if(c){c.destroy()}if(b){b.destroy()}a.assocBinding=a.entityBinding=null;Ext.data.session.AbstractStub.prototype.destroy.call(this)},bind:function(){var a=Ext.data.session.AbstractStub.prototype.bind.apply(this,arguments);a.deep=!0;return a},getRawValue:function(){return this.record},isLoading:function(){var a=this,b=a.assocBinding;if(a.foreignKey){return !b||b.isLoading()}return a.entityBinding.isLoading()},onEntity:function(c){var a=this,g=a.getSession(),e=a.foreignKey,f=a.role,d=a.assocBinding,b;if(!(a.entity=c)){a.push(null)}else {if(e){b=c.get(e.name);if(b===undefined){b=null}if(a.lastId!==b){if(d){d.destroy()}a.assocBinding=g.bind({reference:f.type,id:a.lastId=b},a.push,a)}}else {a.push(c[f.role])}}},push:function(b){var a=this;if(a.record||b){a.entity[a.role.role]=a.record=b||null;if(!a.scheduled){a.schedule()}}},sort:function(){var a=this,c=a.assocBinding,b=a.entityBinding,d=a.scheduler;if(b){d.sortItem(b)}if(c){d.sortItem(c)}Ext.data.session.AbstractStub.prototype.sort.call(this)}},1,0,0,0,0,0,[Ext.data.session,'AssociatedEntityStub'],0);Ext.cmd.derive('Ext.data.session.MatrixStub',Ext.data.session.AbstractStub,{isAssociationStub:!0,isMatrixStub:!0,firstTick:!0,constructor:function(c,f,g){var a=this,e=c.getSchema(),b,d;Ext.data.session.AbstractStub.prototype.constructor.call(this,c,f);Ext.apply(a,g);b=a.associatedEntity;a.store=d=e.createAssociationStore(c,a.role,b||a.entityId);d.$stub=a;if(b&&b.phantom){a.firstTick=!1}a.schedule()},getRawValue:function(){return this.store},isLoading:function(){return this.firstTick||this.store.isLoading()},onLoad:function(){this.react()},react:function(){var a=this;if(a.firstTick){a.firstTick=!1;a.store.load({callback:a.onLoad,scope:a})}else {Ext.data.session.AbstractStub.prototype.react.call(this)}}},1,0,0,0,0,0,[Ext.data.session,'MatrixStub'],0);Ext.cmd.derive('Ext.data.validator.Bound',Ext.data.validator.Validator,{type:'bound',config:{min:undefined,max:undefined,emptyMessage:'Must be present',minOnlyMessage:null,maxOnlyMessage:null,bothOnlyMessage:null},constructor:function(){var a=this;a.preventConfigure=!0;Ext.data.validator.Validator.prototype.constructor.apply(this,arguments);delete a.preventConfigure;a.configure()},setConfig:function(){var a=this;a.preventConfigure=!0;a.callParent(arguments);delete a.preventConfigure;a.configure()},configure:function(){var a=this,e,d,c,b;if(a.preventConfigure){return}c=a.getMin();b=a.getMax();e=a.hasMin=c!==undefined;d=a.hasMax=b!==undefined;if(e&&d){a._bothMsg=Ext.String.format(a.getBothMessage(),c,b)}else {if(e){a._minMsg=Ext.String.format(a.getMinOnlyMessage(),c)}else {if(d){a._maxMsg=Ext.String.format(a.getMaxOnlyMessage(),b)}}}},updateMin:function(){this.configure()},updateMax:function(){this.configure()},updateMinOnlyMessage:function(a){this.configure()},updateMaxOnlyMessage:function(){this.configure()},updateBothMessage:function(){this.configure()},validate:function(b){var a=this,e=a.hasMin,d=a.hasMax,g=a.getMin(),f=a.getMax(),c=!0,h;if(b===undefined||b===null){return a.getEmptyMessage()}b=a.getValue(b);if(e&&d){if(b<g||b>f){c=a._bothMsg}}else {if(e){if(b<g){c=a._minMsg}}else {if(d){if(b>f){c=a._maxMsg}}}}return c},getValue:Ext.identityFn},1,0,0,0,['data.validator.bound'],0,[Ext.data.validator,'Bound'],0);Ext.cmd.derive('Ext.data.validator.Format',Ext.data.validator.Validator,{type:'format',config:{message:'Is in the wrong format',matcher:undefined},validate:function(c){var a=this.getMatcher(),b=a&&a.test(c);return b?b:this.getMessage()}},0,0,0,0,['data.validator.format'],0,[Ext.data.validator,'Format'],0);Ext.cmd.derive('Ext.data.validator.Email',Ext.data.validator.Format,{type:'email',config:{message:'Is not a valid email address',matcher:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+\/=?\^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/}},0,0,0,0,['data.validator.email'],0,[Ext.data.validator,'Email'],0);Ext.cmd.derive('Ext.data.validator.List',Ext.data.validator.Validator,{type:'list',config:{list:null},inclusion:null,validate:function(e){var b=Ext.Array.contains(this.getList(),e),a=this.inclusion,d=!a,c;c=a&&b||d&&!b;return c||this.getMessage()}},0,0,0,0,['data.validator.list'],0,[Ext.data.validator,'List'],0);Ext.cmd.derive('Ext.data.validator.Exclusion',Ext.data.validator.List,{type:'exclusion',config:{message:'Is a value that has been excluded'},inclusion:!1},0,0,0,0,['data.validator.exclusion'],0,[Ext.data.validator,'Exclusion'],0);Ext.cmd.derive('Ext.data.validator.Inclusion',Ext.data.validator.List,{type:'inclusion',config:{message:'Is not in the list of acceptable values'},inclusion:!0},0,0,0,0,['data.validator.inclusion'],0,[Ext.data.validator,'Inclusion'],0);Ext.cmd.derive('Ext.data.validator.Length',Ext.data.validator.Bound,{type:'length',config:{minOnlyMessage:'Length must be greater than {0}',maxOnlyMessage:'Length must be less than {0}',bothMessage:'Length must be between {0} and {1}'},getValue:function(a){return String(a).length}},0,0,0,0,['data.validator.length'],0,[Ext.data.validator,'Length'],0);Ext.cmd.derive('Ext.data.validator.Presence',Ext.data.validator.Validator,{type:'presence',config:{message:'Must be present'},validate:function(a){var b=!(a===undefined||a===null);return b?!0:this.getMessage()}},0,0,0,0,['data.validator.presence'],0,[Ext.data.validator,'Presence'],0);Ext.cmd.derive('Ext.data.validator.Range',Ext.data.validator.Bound,{type:'range',config:{minOnlyMessage:'Must be greater than {0}',maxOnlyMessage:'Must be less than {0}',bothMessage:'Must be between {0} and {1}'}},0,0,0,0,['data.validator.range'],0,[Ext.data.validator,'Range'],0);Ext.define('Ext.dom.CompositeElement',{alternateClassName:'Ext.CompositeElement',extend:Ext.dom.CompositeElementLite,isLite:!1,getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}});Ext.cmd.derive('Ext.util.paintmonitor.Abstract',Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:'',monitorClass:'',constructor:function(a){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(a)},bindListeners:function(a){this.monitorElement[a?'addEventListener':'removeEventListener'](this.eventName,this.onElementPainted,!0)},applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(a){this.monitorElement=Ext.Element.create({classList:['x-paint-monitor',this.monitorClass]},!0);a.appendChild(this.monitorElement);a.addCls('x-paint-monitored');this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var b=this.monitorElement,c=b.parentNode,a=this.getElement();this.bindListeners(!1);delete this.monitorElement;if(a&&!a.isDestroyed){a.removeCls('x-paint-monitored');delete this._element}if(c){c.removeChild(b)}this.callSuper()}},1,0,0,0,0,0,[Ext.util.paintmonitor,'Abstract'],0);Ext.cmd.derive('Ext.util.paintmonitor.CssAnimation',Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.WebKit?'webkitAnimationEnd':'animationend',monitorClass:'cssanimation',onElementPainted:function(a){if(a.animationName==='x-paint-monitor-helper'){this.getCallback().apply(this.getScope(),this.getArgs())}}},0,0,0,0,0,0,[Ext.util.paintmonitor,'CssAnimation'],0);Ext.cmd.derive('Ext.util.paintmonitor.OverflowChange',Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.Firefox?'overflow':'overflowchanged',monitorClass:'overflowchange',onElementPainted:function(a){this.getCallback().apply(this.getScope(),this.getArgs())}},0,0,0,0,0,0,[Ext.util.paintmonitor,'OverflowChange'],0);Ext.cmd.derive('Ext.util.PaintMonitor',Ext.Base,{constructor:function(a){if(Ext.browser.is.Firefox||Ext.browser.is.WebKit&&Ext.browser.engineVersion.gtEq('536')&&!Ext.os.is.Blackberry){return new Ext.util.paintmonitor.OverflowChange(a)}else {return new Ext.util.paintmonitor.CssAnimation(a)}}},1,0,0,0,0,0,[Ext.util,'PaintMonitor'],0);Ext.cmd.derive('Ext.mixin.Templatable',Ext.Mixin,{mixinConfig:{id:'templatable'},referenceAttributeName:'reference',referenceSelector:'[reference]',getElementConfig:function(){return {reference:'element'}},getElementTemplate:function(){var a=document.createDocumentFragment();a.appendChild(Ext.Element.create(this.getElementConfig(),!0));return a},initElement:function(){var a=this.self.prototype;a.elementTemplate=this.getElementTemplate();a.initElement=a.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(a,b){this.link(a,b)},doInitElement:function(){var d=this.referenceAttributeName,e,c,b,g,a,f;e=this.elementTemplate.cloneNode(!0);c=e.querySelectorAll(this.referenceSelector);for(b=0,g=c.length;b<g;b++){a=c[b];f=a.getAttribute(d);a.removeAttribute(d);this.linkElement(f,a)}}},0,0,0,0,0,0,[Ext.mixin,'Templatable'],0);Ext.cmd.derive('Ext.util.sizemonitor.Abstract',Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:0,height:0,contentWidth:0,contentHeight:0,constructor:function(a){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(a);this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(a){a.append(this.detectorsContainer);a.addCls('x-size-monitored')},applyArgs:function(a){return a.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead('refresh',this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.offsetWidth},getContentHeight:function(){return this.detectorsContainer.offsetHeight},refreshSize:function(){var b=this.getElement();if(!b||b.isDestroyed){return !1}var h=b.getWidth(),g=b.getHeight(),d=this.getContentWidth(),c=this.getContentHeight(),j=this.contentWidth,i=this.contentHeight,a=this.info,f=!1,e;this.width=h;this.height=g;this.contentWidth=d;this.contentHeight=c;e=(j!==d?1:0)+(i!==c?2:0);if(e>0){a.width=h;a.height=g;a.contentWidth=d;a.contentHeight=c;a.flag=e;f=!0;this.getCallback().apply(this.getScope(),this.getArgs())}return f},refresh:function(a){if(this.refreshSize()||a){Ext.TaskQueue.requestWrite('refreshMonitors',this)}},destroy:function(){var a=this.getElement();this.bindListeners(!1);if(a&&!a.isDestroyed){a.removeCls('x-size-monitored')}delete this._element;this.callSuper()}},1,0,0,0,0,[[Ext.mixin.Templatable.prototype.mixinId||Ext.mixin.Templatable.$className,Ext.mixin.Templatable]],[Ext.util.sizemonitor,'Abstract'],0);Ext.cmd.derive('Ext.util.sizemonitor.Default',Ext.util.sizemonitor.Abstract,{updateElement:function(a){},bindListeners:function(b){var a=this.getElement().dom;if(!a){return}if(b){a.onresize=this.refresh}else {delete a.onresize}},getContentBounds:function(){return this.getElement().dom.getBoundingClientRect()},getContentWidth:function(){return this.getElement().getWidth()},getContentHeight:function(){return this.getElement().getHeight()}},0,0,0,0,0,0,[Ext.util.sizemonitor,'Default'],0);Ext.cmd.derive('Ext.util.sizemonitor.Scroll',Ext.util.sizemonitor.Abstract,{getElementConfig:function(){return {reference:'detectorsContainer',classList:['x-size-monitors','scroll'],children:[{reference:'expandMonitor',className:'expand'},{reference:'shrinkMonitor',className:'shrink'}]}},constructor:function(a){this.onScroll=Ext.Function.bind(this.onScroll,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},bindListeners:function(b){var a=b?'addEventListener':'removeEventListener';this.expandMonitor[a]('scroll',this.onScroll,!0);this.shrinkMonitor[a]('scroll',this.onScroll,!0)},forceRefresh:function(){Ext.TaskQueue.requestRead('refresh',this,[!0])},onScroll:function(){Ext.TaskQueue.requestRead('refresh',this)},refreshMonitors:function(){var a=this.expandMonitor,b=this.shrinkMonitor,c=1000000;if(a&&!a.isDestroyed){a.scrollLeft=c;a.scrollTop=c}if(b&&!b.isDestroyed){b.scrollLeft=c;b.scrollTop=c}}},1,0,0,0,0,0,[Ext.util.sizemonitor,'Scroll'],0);Ext.cmd.derive('Ext.util.sizemonitor.OverflowChange',Ext.util.sizemonitor.Abstract,{constructor:function(a){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},getElementConfig:function(){return {reference:'detectorsContainer',classList:['x-size-monitors','overflowchanged'],children:[{reference:'expandMonitor',className:'expand',children:[{reference:'expandHelper'}]},{reference:'shrinkMonitor',className:'shrink',children:[{reference:'shrinkHelper'}]}]}},bindListeners:function(b){var a=b?'addEventListener':'removeEventListener';this.expandMonitor[a](Ext.browser.is.Firefox?'underflow':'overflowchanged',this.onExpand,!0);this.shrinkMonitor[a](Ext.browser.is.Firefox?'overflow':'overflowchanged',this.onShrink,!0)},onExpand:function(a){if(Ext.browser.is.Webkit&&a.horizontalOverflow&&a.verticalOverflow){return}Ext.TaskQueue.requestRead('refresh',this)},onShrink:function(a){if(Ext.browser.is.Webkit&&!a.horizontalOverflow&&!a.verticalOverflow){return}Ext.TaskQueue.requestRead('refresh',this)},refreshMonitors:function(){if(this.isDestroyed){return}var b=this.expandHelper,c=this.shrinkHelper,d=this.getContentBounds(),f=d.width,e=d.height,a;if(b&&!b.isDestroyed){a=b.style;a.width=f+1+'px';a.height=e+1+'px'}if(c&&!c.isDestroyed){a=c.style;a.width=f+'px';a.height=e+'px'}Ext.TaskQueue.requestRead('refresh',this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,'OverflowChange'],0);Ext.cmd.derive('Ext.util.SizeMonitor',Ext.Base,{constructor:function(b){var a=Ext.util.sizemonitor;if(Ext.browser.is.Firefox){return new a.OverflowChange(b)}else {if(Ext.browser.is.WebKit){if(!Ext.browser.is.Silk&&Ext.browser.engineVersion.gtEq('535')){return new a.OverflowChange(b)}else {return new a.Scroll(b)}}else {if(Ext.browser.is.IE11){return new a.Scroll(b)}else {return new a.Default(b)}}}}},1,0,0,0,0,0,[Ext.util,'SizeMonitor'],0);Ext.cmd.derive('Ext.fx.easing.Abstract',Ext.Base,{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(a){this.initConfig(a);return this},applyStartTime:function(a){if(!a){a=Ext.Date.now()}return a},updateStartTime:function(a){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn},1,0,0,0,0,0,[Ext.fx.easing,'Abstract'],0);Ext.cmd.derive('Ext.fx.easing.Bounce',Ext.fx.easing.Abstract,{config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var b=Ext.Date.now()-this.getStartTime(),a=b/this.getAcceleration(),c=a*Math.pow(Math.E,-this.getSpringTension()*a);return this.getStartValue()+this.getStartVelocity()*c}},0,0,0,0,0,0,[Ext.fx.easing,'Bounce'],0);Ext.cmd.derive('Ext.fx.easing.Momentum',Ext.fx.easing.Abstract,{config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(b){var a=Math.log(1-b/10);this.theta=a;this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a;this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}},0,0,0,0,0,0,[Ext.fx.easing,'Momentum'],0);Ext.cmd.derive('Ext.fx.easing.BoundMomentum',Ext.fx.easing.Abstract,{config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(b,a){return Ext.factory(b,Ext.fx.easing.Momentum,a)},applyBounce:function(b,a){return Ext.factory(b,Ext.fx.easing.Bounce,a)},updateStartTime:function(a){this.getMomentum().setStartTime(a);Ext.fx.easing.Abstract.prototype.updateStartTime.apply(this,arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},reset:function(){this.lastValue=null;this.isBouncingBack=!1;this.isOutOfBound=!1;return Ext.fx.easing.Abstract.prototype.reset.apply(this,arguments)},getValue:function(){var d=this.getMomentum(),j=this.getBounce(),f=d.getStartVelocity(),b=f>0?1:-1,i=this.getMinMomentumValue(),h=this.getMaxMomentumValue(),g=b==1?h:i,c=this.lastValue,a,e;if(f===0){return this.getStartValue()}if(!this.isOutOfBound){a=d.getValue();e=d.getVelocity();if(Math.abs(e)<this.getMinVelocity()){this.isEnded=!0}if(a>=i&&a<=h){return a}this.isOutOfBound=!0;j.setStartTime(Ext.Date.now()).setStartVelocity(e).setStartValue(g)}a=j.getValue();if(!this.isEnded){if(!this.isBouncingBack){if(c!==null){if(b==1&&a<c||b==-1&&a>c){this.isBouncingBack=!0}}}else {if(Math.round(a)==g){this.isEnded=!0}}}this.lastValue=a;return a}},0,0,0,0,0,0,[Ext.fx.easing,'BoundMomentum'],0);Ext.cmd.derive('Ext.fx.easing.Linear',Ext.fx.easing.Abstract,{config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();if(a>b){this.isEnded=!0;return this.getEndValue()}else {return this.getStartValue()+a/b*this.distance}}},0,0,0,0,['easing.linear'],0,[Ext.fx.easing,'Linear'],0);Ext.cmd.derive('Ext.fx.easing.EaseOut',Ext.fx.easing.Linear,{config:{exponent:4,duration:1500},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration(),d=this.getStartValue(),f=this.getEndValue(),e=this.distance,i=a/b,h=1-i,g=1-Math.pow(h,this.getExponent()),c=d+g*e;if(a>=b){this.isEnded=!0;return f}return c}},0,0,0,0,['easing.ease-out'],0,[Ext.fx.easing,'EaseOut'],0);Ext.cmd.derive('Ext.perf.Accumulator',Ext.Base,function(){var b=null,d=Ext.global['chrome'],c,a=function(){a=Ext.now;var b,c;if(Ext.isChrome&&d&&d.Interval){b=new d.Interval();b.start();a=function(){return b.microseconds()/1000}}else {if(window.ActiveXObject){try{c=new ActiveXObject('SenchaToolbox.Toolbox');Ext.senchaToolbox=c;a=function(){return c.milliseconds}}catch(e){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=a;return a()};function adjustSet(a,b){a.sum+=b;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b)}function leaveFrame(f){var d=f?f:a()-this.time,e=this,c=e.accum;++c.count;if(!--c.depth){adjustSet(c.total,d)}adjustSet(c.pure,d-e.childTime);b=e.parent;if(b){++b.accum.childCount;b.childTime+=d}}function makeSet(){return {min:Number.MAX_VALUE,max:0,sum:0}}function makeTap(b,a){return function(){var c=b.enter(),d=a.apply(this,arguments);c.leave();return d}}function round(a){return Math.round(a*100)/100}function setToJSON(d,e,b,c){var a={avg:0,min:c.min,max:c.max,sum:0};if(d){b=b||0;a.sum=c.sum-e*b;a.avg=a.sum/d}return a}return {constructor:function(b){var a=this;a.count=a.childCount=a.depth=a.maxDepth=0;a.pure=makeSet();a.total=makeSet();a.name=b},statics:{getTimestamp:a},format:function(b){if(!c){c=new Ext.XTemplate(['{name} - {count} call(s)','<tpl if="count">','<tpl if="childCount">',' ({childCount} children)','</tpl>','<tpl if="depth - 1">',' ({depth} deep)','</tpl>','<tpl for="times">',', {type}: {[this.time(values.sum)]} msec (','avg={[this.time(values.sum / parent.count)]}',')','</tpl>','</tpl>'].join(''),{time:function(a){return Math.round(a*100)/100}})}var a=this.getData(b);a.name=this.name;a.pure.type='Pure';a.total.type='Total';a.times=[a.pure,a.total];return c.apply(a)},getData:function(b){var a=this;return {count:a.count,childCount:a.childCount,depth:a.maxDepth,pure:setToJSON(a.count,a.childCount,b,a.pure),total:setToJSON(a.count,a.childCount,b,a.total)}},enter:function(){var c=this,d={accum:c,leave:leaveFrame,childTime:0,parent:b};++c.depth;if(c.maxDepth<c.depth){c.maxDepth=c.depth}b=d;d.time=a();return d},monitor:function(c,a,b){var d=this.enter();if(b){c.apply(a,b)}else {c.call(a)}d.leave()},report:function(){Ext.log(this.format())},tap:function(d,g){var j=this,k=typeof g=='string'?[g]:g,b,f,a,h,e,c,i,l;l=function(){if(typeof d=='string'){b=Ext.global;h=d.split('.');for(a=0,e=h.length;a<e;++a){b=b[h[a]]}}else {b=d}for(a=0,e=k.length;a<e;++a){c=k[a];f=c.charAt(0)=='!';if(f){c=c.substring(1)}else {f=!(c in b.prototype)}i=f?b:b.prototype;i[c]=makeTap(j,i[c])}};Ext.ClassManager.onCreated(l,j,d);return j}}},1,0,0,0,0,0,[Ext.perf,'Accumulator'],function(){Ext.perf.getTimestamp=this.getTimestamp});Ext.cmd.derive('Ext.perf.Monitor',Ext.Base,{singleton:!0,alternateClassName:'Ext.Perf',constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var d=new Ext.perf.Accumulator('$'),g=d.total,a=Ext.perf.Accumulator.getTimestamp,e=0,f,c,b;b=a();do{f=d.enter();f.leave();++e}while(g.sum<100);c=a();return (c-b)/e},get:function(b){var c=this,a=c.accumulatorsByName[b];if(!a){c.accumulatorsByName[b]=a=new Ext.perf.Accumulator(b);c.accumulators.push(a)}return a},enter:function(a){return this.get(a).enter()},monitor:function(b,c,a){this.get(b).monitor(c,a)},report:function(){var a=this,b=a.accumulators,c=a.calibrate();b.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});a.updateGC();Ext.log('Calibration: '+Math.round(c*100)/100+' msec/sample');Ext.each(b,function(a){Ext.log(a.format(c))})},getData:function(c){var a={},b=this.accumulators;Ext.each(b,function(b){if(c||b.count){a[b.name]=b.getData()}});return a},reset:function(){Ext.each(this.accumulators,function(b){var a=b;a.count=a.childCount=a.depth=a.maxDepth=0;a.pure={min:Number.MAX_VALUE,max:0,sum:0};a.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var b=this.accumulatorsByName.GC,c=Ext.senchaToolbox,a;if(b){b.count=c.garbageCollectionCounter||0;if(b.count){a=b.pure;b.total.sum=a.sum=c.garbageCollectionMilliseconds;a.min=a.max=a.sum/b.count;a=b.total;a.min=a.max=a.sum/b.count}}},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;if(a){this.get('GC');a.watchGarbageCollector(!1)}},setup:function(a){if(!a){a={render:{'Ext.Component':'render'},layout:{'Ext.layout.Context':'run'}}}this.currentConfig=a;var d,c,f,b,e;for(d in a){if(a.hasOwnProperty(d)){c=a[d];f=Ext.Perf.get(d);for(b in c){if(c.hasOwnProperty(b)){e=c[b];f.tap(b,e)}}}}this.watchGC()}},1,0,0,0,0,0,[Ext.perf,'Monitor',Ext,'Perf'],0);Ext.cmd.derive('Ext.util.translatable.Abstract',Ext.Evented,{config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(a){this.mixins.observable.constructor.call(this,a)},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,'easing')},applyEasing:function(a){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(a))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(a))}},applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},doTranslate:Ext.emptyFn,translate:function(a,b,c){if(c){return this.translateAnimated(a,b,c)}if(this.isAnimating){this.stopAnimation()}if(!isNaN(a)&&typeof a=='number'){this.x=a}if(!isNaN(b)&&typeof b=='number'){this.y=b}this.doTranslate(a,b)},translateAxis:function(e,a,d){var b,c;if(e=='x'){b=a}else {c=a}return this.translate(b,c,d)},animate:function(a,b){this.activeEasingX=a;this.activeEasingY=b;this.isAnimating=!0;this.lastX=null;this.lastY=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent('animationstart',this,this.x,this.y);return this},translateAnimated:function(f,g,a){if(!Ext.isObject(a)){a={}}if(this.isAnimating){this.stopAnimation()}var e=Ext.Date.now(),d=a.easing,b=typeof f=='number'?a.easingX||d||this.getEasingX()||!0:null,c=typeof g=='number'?a.easingY||d||this.getEasingY()||!0:null;if(b){b=this.factoryEasing(b);b.setStartTime(e);b.setStartValue(this.x);b.setEndValue(f);if('duration' in a){b.setDuration(a.duration)}}if(c){c=this.factoryEasing(c);c.setStartTime(e);c.setStartValue(this.y);c.setEndValue(g);if('duration' in a){c.setDuration(a.duration)}}return this.animate(b,c)},doAnimationFrame:function(){var a=this,d=a.activeEasingX,e=a.activeEasingY,f=Date.now(),b,c;if(!a.isAnimating){return}a.lastRun=f;if(d===null&&e===null){a.stopAnimation();return}if(d!==null){a.x=b=Math.round(d.getValue());if(d.isEnded){a.activeEasingX=null;a.fireEvent('axisanimationend',a,'x',b)}}else {b=a.x}if(e!==null){a.y=c=Math.round(e.getValue());if(e.isEnded){a.activeEasingY=null;a.fireEvent('axisanimationend',a,'y',c)}}else {c=a.y}if(a.lastX!==b||a.lastY!==c){a.doTranslate(b,c);a.lastX=b;a.lastY=c}a.fireEvent('animationframe',a,b,c)},stopAnimation:function(){if(!this.isAnimating){return}this.activeEasingX=null;this.activeEasingY=null;this.isAnimating=!1;Ext.AnimationQueue.stop(this.doAnimationFrame,this);this.fireEvent('animationend',this,this.x,this.y)},refresh:function(){this.translate(this.x,this.y)},destroy:function(){if(this.isAnimating){this.stopAnimation()}Ext.Evented.prototype.destroy.apply(this,arguments)}},1,0,0,0,0,0,[Ext.util.translatable,'Abstract'],0);Ext.cmd.derive('Ext.util.translatable.Dom',Ext.util.translatable.Abstract,{config:{element:null},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(){this.refresh()}},0,0,0,0,0,0,[Ext.util.translatable,'Dom'],0);Ext.cmd.derive('Ext.util.translatable.CssTransform',Ext.util.translatable.Dom,{doTranslate:function(b,c){var a=this.getElement();if(!this.isDestroyed&&!a.isDestroyed){a.translate(b,c)}},destroy:function(){var a=this.getElement();if(a&&!a.isDestroyed){a.dom.style.webkitTransform=null}Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util.translatable,'CssTransform'],0);Ext.cmd.derive('Ext.util.translatable.ScrollPosition',Ext.util.translatable.Dom,{type:'scrollposition',config:{useWrapper:!0},getWrapper:function(){var a=this.wrapper,c=this.getElement(),b;if(!a){b=c.getParent();if(!b){return null}if(b.hasCls('x-translatable-hboxfix')){b=b.getParent()}if(this.getUseWrapper()){a=c.wrap()}else {a=b}c.addCls('x-translatable');a.addCls('x-translatable-container');this.wrapper=a;a.on('painted',function(){if(!this.isAnimating){this.refresh()}},this);this.refresh()}return a},doTranslate:function(c,d){var b=this.getWrapper(),a;if(b){a=b.dom;if(typeof c=='number'){a.scrollLeft=500000-c}if(typeof d=='number'){a.scrollTop=500000-d}}},destroy:function(){var b=this.getElement(),a=this.wrapper;if(a){if(!b.isDestroyed){if(this.getUseWrapper()){a.doReplaceWith(b)}b.removeCls('x-translatable')}if(!a.isDestroyed){a.removeCls('x-translatable-container');a.un('painted','refresh',this)}delete this.wrapper;delete this._element}Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util.translatable,'ScrollPosition'],0);Ext.cmd.derive('Ext.util.translatable.ScrollParent',Ext.util.translatable.Dom,{applyElement:function(b){var a=Ext.get(b);this.parent=a.parent();return a},doTranslate:function(b,c){var a=this.parent;a.setScrollLeft(Math.round(-b));a.setScrollTop(Math.round(-c))}},0,0,0,0,0,0,[Ext.util.translatable,'ScrollParent'],0);Ext.cmd.derive('Ext.util.translatable.CssPosition',Ext.util.translatable.Dom,{doTranslate:function(b,c){var a=this.getElement().dom.style;if(typeof b=='number'){a.left=b+'px'}if(typeof c=='number'){a.top=c+'px'}},destroy:function(){var a=this.getElement().dom.style;a.left=null;a.top=null;Ext.util.translatable.Dom.prototype.destroy.apply(this,arguments)}},0,0,0,0,0,0,[Ext.util.translatable,'CssPosition'],0);Ext.cmd.derive('Ext.util.Translatable',Ext.Base,{constructor:function(a){var b=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(a)){case 'scrollposition':return new b.ScrollPosition(a);case 'scrollparent':return new b.ScrollParent(a);case 'csstransform':return new b.CssTransform(a);case 'cssposition':return new b.CssPosition(a);}}},1,0,0,0,0,0,[Ext.util,'Translatable'],0);Ext.cmd.derive('Ext.scroll.Scroller',Ext.Evented,{config:{element:null,direction:'auto',fps:'auto',disabled:null,directionLock:!1,momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:0.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:'auto',size:'auto',autoRefresh:!0,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150},translatable:{translationMethod:'auto',useWrapper:!1},mouseEnabled:!1},statics:{instances:{}},cls:'x-scroll-scroller',containerCls:'x-scroll-container',dragStartTime:0,dragEndTime:0,isDragging:!1,isAnimating:!1,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},constructor:function(c){var a=this,d=c&&c.element,b='onEvent';a.listenerMap={touchstart:'onTouchStart',touchend:'onTouchEnd',dragstart:'onDragStart',drag:'onDrag',dragend:'onDragEnd'};a.listeners={touchstart:b,touchend:b,dragstart:b,drag:b,dragend:b,scope:a};a.minPosition={x:0,y:0};a.startPosition={x:0,y:0};a.position={x:0,y:0};a.velocity={x:0,y:0};a.isAxisEnabledFlags={x:!1,y:!1};a.flickStartPosition={x:0,y:0};a.flickStartTime={x:0,y:0};a.lastDragPosition={x:0,y:0};a.dragDirection={x:0,y:0};a.initialConfig=c;if(d){a.setElement(d)}a.self.instances[a.id]=a;return this},initialize:function(){var a=this;if(!a.initialized){a.mixins.observable.constructor.call(a,a.initialConfig);a.initialized=!0}},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(f){var a=this;a.initialize();if(!a.FixedHBoxStretching){f.addCls(a.cls)}if(!a.getDisabled()){a.attachListeners()}var b=function(){a.refreshMaxPosition()},e=Ext.Function.createSequence,c=a.updateContainerSize,d=a.updateSize;a.updateContainerSize=c?e(c,b):b;a.updateSize=d?e(d,b):b;a.on({maxpositionchange:'snapToBoundary',minpositionchange:'snapToBoundary',scope:a});return a},applyTranslatable:function(b,a){return Ext.factory(b,Ext.util.Translatable,a)},updateTranslatable:function(a){a.setConfig({element:this.getElement(),listeners:{animationframe:'onAnimationFrame',animationend:'onAnimationEnd',scope:this}})},updateFps:function(a){if(a!=='auto'){this.getTranslatable().setFps(a)}},attachListeners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(a){if(a){this.detachListeners()}else {this.attachListeners()}},updateInitialOffset:function(a){if(typeof a=='number'){a={x:a,y:a}}var b=this.position,c,d;b.x=c=a.x;b.y=d=a.y;this.getTranslatable().translate(-c,-d)},applyDirection:function(a){var d=this.getMinPosition(),c=this.getMaxPosition(),b,e;this.givenDirection=a;if(a==='auto'){b=c.x>d.x;e=c.y>d.y;if(b&&e){a='both'}else {if(b){a='horizontal'}else {a='vertical'}}}return a},updateDirection:function(c,b){var a=this.isAxisEnabledFlags,f=this.cls+'-vertical',e=this.cls+'-horizontal',d=this.getElement();if(b==='both'||b==='horizontal'){d.removeCls(e)}if(b==='both'||b==='vertical'){d.removeCls(f)}a.x=a.y=!1;if(c==='both'||c==='horizontal'){a.x=!0;d.addCls(e)}if(c==='both'||c==='vertical'){a.y=!0;d.addCls(f)}},isAxisEnabled:function(a){this.getDirection();return this.isAxisEnabledFlags[a]},applyMomentumEasing:function(b){var a=Ext.fx.easing.BoundMomentum;return {x:Ext.factory(b,a),y:Ext.factory(b,a)}},applyBounceEasing:function(b){var a=Ext.fx.easing.EaseOut;return {x:Ext.factory(b,a),y:Ext.factory(b,a)}},updateBounceEasing:function(a){this.getTranslatable().setEasingX(a.x).setEasingY(a.y)},applySlotSnapEasing:function(b){var a=Ext.fx.easing.EaseOut;return {x:Ext.factory(b,a),y:Ext.factory(b,a)}},getMinPosition:function(){var a=this.minPosition;if(!a){this.minPosition=a={x:0,y:0};this.fireEvent('minpositionchange',this,a)}return a},getMaxPosition:function(){var a=this.maxPosition,c,b;if(!a){c=this.getSize();b=this.getContainerSize();this.maxPosition=a={x:Math.max(0,c.x-b.x),y:Math.max(0,c.y-b.y)};this.fireEvent('maxpositionchange',this,a)}return a},refreshMaxPosition:function(){this.maxPosition=null;this.getMaxPosition()},applyContainerSize:function(a){var b=this.getContainer().dom,c,d;if(!b){return}this.givenContainerSize=a;if(a==='auto'){c=b.clientWidth;d=b.clientHeight}else {c=a.x;d=a.y}return {x:c,y:d}},applySize:function(a){var d=this.getElement().dom,e=this.getContainer().dom,b,c;if(!d){return}this.givenSize=a;if(a==='auto'){b=Math.max(d.offsetWidth,e.clientWidth);c=Math.max(d.offsetHeight,e.clientHeight)}else {if(typeof a=='number'){b=a;c=a}else {b=a.x;c=a.y}}return {x:b,y:c}},updateAutoRefresh:function(a){this.getElement().toggleListener(a,'resize','onElementResize',this);this.getContainer().toggleListener(a,'resize','onContainerResize',this)},applySlotSnapSize:function(a){if(typeof a=='number'){return {x:a,y:a}}return a},applySlotSnapOffset:function(a){if(typeof a=='number'){return {x:a,y:a}}return a},getContainer:function(){var a=this.container,b;if(!a){b=this.getElement().getParent();this.container=a=this.FixedHBoxStretching?b.getParent():b;a.addCls(this.containerCls)}return a},refresh:function(){this.stopAnimation();this.getTranslatable().refresh();this.setSize(this.givenSize);this.setContainerSize(this.givenContainerSize);this.setDirection(this.givenDirection);this.fireEvent('refresh',this);return this},onElementResize:function(b,a){this.setSize({x:a.width,y:a.height});this.refresh()},onContainerResize:function(b,a){this.setContainerSize({x:a.width,y:a.height});this.refresh()},scrollTo:function(c,e,d){var b=this,f;if(b.isDestroyed){return b}if(typeof c!='number'&&arguments.length===1){e=c.y;c=c.x}var j=b.getTranslatable(),a=b.position,g=!1,h,i;if(b.isAxisEnabled('x')){if(isNaN(c)||typeof c!='number'){c=a.x}else {if(a.x!==c){a.x=c;g=!0}}h=this.convertX(-c)}if(b.isAxisEnabled('y')){if(isNaN(e)||typeof e!='number'){e=a.y}else {if(a.y!==e){a.y=e;g=!0}}i=-e}if(g){if(d!==undefined&&d!==!1){f=function(){b.fireEvent('scroll',b,a.x,a.y)};if(d===!0){d={callback:f}}else {if(d.callback){d.callback=Ext.Function.createSequence(d.callback,f)}else {d.callback=f}}j.translateAnimated(h,i,d)}else {j.translate(h,i);b.fireEvent('scroll',b,a.x,a.y)}}return this},scrollToTop:function(b){var a=this.getInitialOffset();return this.scrollTo(a.x,a.y,b)},scrollToEnd:function(c){var b=this.getSize(),a=this.getContainerSize();return this.scrollTo(b.x-a.x,b.y-a.y,c)},scrollBy:function(a,b,d){var c=this.position;a=typeof a=='number'?a+c.x:null;b=typeof b=='number'?b+c.y:null;return this.scrollTo(a,b,d)},onEvent:function(b){var a=this,c=b.browserEvent;if(!Ext.supports.Touch||a.getMouseEnabled()||!a.isMouseEvent[c.type]&&c.pointerType!=='mouse'){a[a.listenerMap[b.type]](b)}},onTouchStart:function(){this.isTouching=this.self.isTouching=!0;this.stopAnimation()},onTouchEnd:function(){var a=this.position;this.isTouching=this.self.isTouching=!1;if(!this.isDragging&&this.snapToSlot()){this.fireEvent('scrollstart',this,a.x,a.y)}},onDragStart:function(e){var c=this.getDirection(),l=e.absDeltaX,m=e.absDeltaY,n=this.getDirectionLock(),k=this.startPosition,f=this.flickStartPosition,i=this.flickStartTime,g=this.lastDragPosition,h=this.position,j=this.dragDirection,a=h.x,b=h.y,d=Ext.Date.now();this.isDragging=!0;if(n&&c!=='both'){if(c==='horizontal'&&l>m||c==='vertical'&&m>l){e.stopPropagation()}else {this.isDragging=!1;return}}g.x=a;g.y=b;f.x=a;f.y=b;k.x=a;k.y=b;i.x=d;i.y=d;j.x=0;j.y=0;this.dragStartTime=d;this.isDragging=!0;this.fireEvent('scrollstart',this,a,b)},onAxisDrag:function(a,n){if(!this.isAxisEnabled(a)){return}var m=this.flickStartPosition,f=this.flickStartTime,e=this.lastDragPosition,c=this.dragDirection,q=this.position[a],p=this.getMinPosition()[a],d=this.getMaxPosition()[a],o=this.startPosition[a],j=e[a],b=o-n,h=c[a],g=this.getOutOfBoundRestrictFactor(),l=this.getStartMomentumResetTime(),k=Ext.Date.now(),i;if(b<p){b*=g}else {if(b>d){i=b-d;b=d+i*g}}if(b>j){c[a]=1}else {if(b<j){c[a]=-1}}if(h!==0&&c[a]!==h||k-f[a]>l){m[a]=q;f[a]=k}e[a]=b},onDrag:function(b){if(!this.isDragging){return}var a=this.lastDragPosition;this.onAxisDrag('x',this.convertX(b.deltaX));this.onAxisDrag('y',b.deltaY);this.scrollTo(a.x,a.y)},onDragEnd:function(c){var a,b;if(!this.isDragging){return}this.dragEndTime=Ext.Date.now();this.onDrag(c);this.isDragging=!1;a=this.getAnimationEasing('x',c);b=this.getAnimationEasing('y',c);if(a||b){this.getTranslatable().animate(a,b)}else {this.onScrollEnd()}},getAnimationEasing:function(a,l){if(!this.isAxisEnabled(a)){return null}var c=this.position[a],j=this.getMinPosition()[a],h=this.getMaxPosition()[a],f=this.getMaxAbsoluteVelocity(),d=null,i=this.dragEndTime,b=l.flick.velocity[a],k=a==='x',g,e;if(c<j){d=j}else {if(c>h){d=h}}if(k){c=this.convertX(c);d=this.convertX(d)}if(d!==null){e=this.getBounceEasing()[a];e.setConfig({startTime:i,startValue:-c,endValue:-d});return e}if(b===0){return null}if(b<-f){b=-f}else {if(b>f){b=f}}if(Ext.browser.is.IE){b*=2}e=this.getMomentumEasing()[a];g={startTime:i,startValue:-c,startVelocity:b*1.5,minMomentumValue:-h,maxMomentumValue:0};if(k){this.convertEasingConfig(g)}e.setConfig(g);return e},onAnimationFrame:function(d,b,c){var a=this.position;a.x=this.convertX(-b);a.y=-c;this.fireEvent('scroll',this,a.x,a.y)},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var a=this.position;if(this.isTouching||!this.snapToSlot()){this.fireEvent('scrollend',this,a.x,a.y)}},snapToSlot:function(){var b=this.getSnapPosition('x'),c=this.getSnapPosition('y'),a=this.getSlotSnapEasing();if(b!==null||c!==null){this.scrollTo(b,c,{easingX:a.x,easingY:a.y});return !0}return !1},getSnapPosition:function(d){var c=this.getSlotSnapSize()[d],e=null,b,g,f,a;if(c!==0&&this.isAxisEnabled(d)){b=this.position[d];g=this.getSlotSnapOffset()[d];f=this.getMaxPosition()[d];a=Math.floor((b-g)%c);if(a!==0){if(b!==f){if(Math.abs(a)>c/2){e=Math.min(f,b+(a>0?c-a:a-c))}else {e=b-a}}else {e=b-a}}}return e},snapToBoundary:function(){var e=this.position,d=this.getMinPosition(),c=this.getMaxPosition(),h=d.x,i=d.y,f=c.x,g=c.y,a=Math.round(e.x),b=Math.round(e.y);if(a<h){a=h}else {if(a>f){a=f}}if(b<i){b=i}else {if(b>g){b=g}}this.scrollTo(a,b)},destroy:function(){var c=this.getElement(),b=this.sizeMonitors,a;if(b){b.element.destroy();b.container.destroy()}if(c&&!c.isDestroyed){c.removeCls(this.cls);a=this.getContainer();if(a&&!a.isDestroyed){a.removeCls(this.containerCls)}}Ext.destroy(this.getTranslatable());delete this.self.instances[this.id];Ext.Evented.prototype.destroy.apply(this,arguments)},convertX:function(a){return a},convertEasingConfig:function(a){return a}},1,0,0,0,0,0,[Ext.scroll,'Scroller'],function(){this.override({constructor:function(a){var f,b,g,e,c,d;if(!a){a={}}if(typeof a=='string'){a={direction:a}}if(arguments.length==2){f=a;a=arguments[1];if(!a){a={}}a.element=f}if(a.hasOwnProperty('acceleration')){b=a.acceleration;delete a.acceleration;Ext.merge(a,{momentumEasing:{momentum:{acceleration:b},bounce:{acceleration:b}}})}if(a.hasOwnProperty('snap')){a.slotSnapOffset=a.snap}if(a.hasOwnProperty('friction')){e=a.friction;delete a.friction;Ext.merge(a,{momentumEasing:{momentum:{friction:e}}})}if(a.hasOwnProperty('springTension')){c=a.springTension;delete a.springTension;Ext.merge(a,{momentumEasing:{momentum:{springTension:c}}})}if(a.hasOwnProperty('minVelocityForAnimation')){d=a.minVelocityForAnimation;delete a.minVelocityForAnimation;Ext.merge(a,{momentumEasing:{minVelocity:d}})}this.callOverridden(arguments)},scrollToAnimated:function(b,c,a){return this.scrollTo.apply(this,arguments)},scrollBy:function(a,b,c){if(Ext.isObject(a)){b=a.y;a=a.x}return this.callOverridden([a,b,c])},setOffset:function(a){return this.scrollToAnimated(-a.x,-a.y)}})});Ext.cmd.derive('Ext.util.LocalStorage',Ext.Base,{id:null,destroyed:!1,lazyKeys:!0,prefix:'',session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(c){var d=this,e=d.cache,b={_users:1},a;if(Ext.isString(c)){b.id=c}else {Ext.apply(b,c)}if(!(a=e[b.id])){a=new d(b)}else {++a._users}return a},supported:!0},constructor:function(b){var a=this;Ext.apply(a,b);if(a._users){Ext.util.LocalStorage.cache[a.id]=a}a.init()},init:function(){var a=this,b=a.id;if(!a.prefix&&b){a.prefix=b+'-'}a._store=a.session?window.sessionStorage:window.localStorage},destroy:function(){var a=this;delete Ext.util.LocalStorage.cache[a.id];a._store=a._keys=null;a.destroyed=!0;a.destroy=Ext.emptyFn},getKeys:function(){var c=this,g=c._store,f=c.prefix,a=c._keys,e=f.length,d,b;if(!a){c._keys=a=[];for(d=g.length;d--;){b=g.key(d);if(b.length>e){if(f===b.substring(0,e)){a.push(b.substring(e))}}}}return a},release:function(){if(!--this._users){this.destroy()}},save:Ext.emptyFn,clear:function(){var a=this,e=a._store,d=a.prefix,b=a._keys||a.getKeys(),c;for(c=b.length;c--;){e.removeItem(d+b[c])}b.length=0},key:function(a){var b=this._keys||this.getKeys();return 0<=a&&a<b.length?b[a]:null},getItem:function(a){var b=this.prefix+a;return this._store.getItem(b)},removeItem:function(d){var a=this,f=a.prefix+d,b=a._store,c=a._keys,e=b.length;b.removeItem(f);if(c&&e!==b.length){if(a.lazyKeys){a._keys=null}else {Ext.Array.remove(c,d)}}},setItem:function(d,f){var b=this,g=b.prefix+d,a=b._store,e=a.length,c=b._keys;a.setItem(g,f);if(c&&e!==a.length){c.push(d)}}},1,0,0,0,0,0,[Ext.util,'LocalStorage'],function(){var a=this;if('localStorage' in window){return}if(!Ext.isIE){a.supported=!1;return}a.override({data:null,flushDelay:1,init:function(){var a=this,c=a.data,b;a.el=b=document.createElement('div');b.id=a.id||(a.id='extjs-localstore');b.addBehavior('#default#userdata');Ext.getHead().dom.appendChild(b);b.load(a.id);c=b.getAttribute('xdata');a.data=c=c?Ext.decode(c):{};a._flushFn=function(){a._timer=null;a.save(0)}},destroy:function(){var a=this,b=a.el;if(b){if(a._timer){a.save()}b.parentNode.removeChild(b);a.data=a.el=null;a.callParent()}},getKeys:function(){var b=this,a=b._keys;if(!a){b._keys=a=Ext.Object.getKeys(b.data)}return a},save:function(b){var a=this;if(!b){if(a._timer){clearTimeout(a._timer);a._timer=null}a.el.setAttribute('xdata',Ext.encode(a.data));a.el.save(a.id)}else {if(!a._timer){a._timer=setTimeout(a._flushFn,b)}}},clear:function(){var a=this;a.data={};a._keys=null;a.save(a.flushDelay)},getItem:function(b){var a=this.data;return b in a?a[b]:null},removeItem:function(b){var a=this,d=a._keys,c=a.data;if(b in c){delete c[b];if(d){if(a.lazyKeys){a._keys=null}else {Ext.Array.remove(d,b)}}a.save(a.flushDelay)}},setItem:function(b,e){var a=this,c=a.data,d=a._keys;if(d&&!(b in c)){d.push(b)}c[b]=e;a.save(a.flushDelay)}})});Ext.cmd.derive('Ext.util.TaskManager',Ext.util.TaskRunner,{alternateClassName:['Ext.TaskManager'],singleton:!0},0,0,0,0,0,0,[Ext.util,'TaskManager',Ext,'TaskManager'],0);Ext.define('Ext.overrides.data.NodeInterface',{override:'Ext.NodeInterface',suspendUIChanges:function(){Ext.suspendLayouts()},resumeUIChanges:function(){Ext.resumeLayouts()}});Ext.cmd.derive('Ext.AbstractPlugin',Ext.Base,{disabled:!1,isPlugin:!0,stateEvents:undefined,constructor:function(a){this.pluginConfig=a;Ext.apply(this,a)},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,getState:null,applyState:null,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},onClassExtended:function(c,b,d){var a=b.alias;if(a&&!b.ptype){if(Ext.isArray(a)){a=a[0]}c.prototype.ptype=a.split('plugin.')[1]}}},1,0,0,0,0,0,[Ext,'AbstractPlugin'],0);Ext.cmd.derive('Ext.util.ProtoElement',Ext.Base,function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return {isProtoEl:!0,clsProp:'cls',styleProp:'style',removedProp:'removed',styleIsText:!1,constructor:function(f){var c=this,e,d;if(f){Ext.apply(c,f);e=c.cls;d=c.style;delete c.cls}c.classList=e?a(e):[];c.classMap=e?b(c.classList):{};if(d){if(typeof d==='string'){c.style=Ext.Element.parseStyles(d)}else {if(Ext.isFunction(d)){c.styleFn=d;delete c.style}else {c.style=Ext.apply({},d)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(d){if(!d){return this}var c=this,g=typeof d==='string'?a(d):d,i=g.length,j=c.classList,h=c.classMap,f=c.flushClassList,e=0,b;for(;e<i;++e){b=g[e];if(!h[b]){h[b]=!0;j.push(b);if(f){f.push(b);delete c.removedClasses[b]}}}return c},hasCls:function(a){return a in this.classMap},removeCls:function(l){var d=this,g=d.classList,i=d.classList=[],k=b(a(l)),j=g.length,h=d.classMap,f=d.removedClasses,e,c;for(e=0;e<j;++e){c=g[e];if(k[c]){if(f){if(h[c]){f[c]=!0;Ext.Array.remove(d.flushClassList,c)}}delete h[c]}else {i.push(c)}}return d},setStyle:function(a,d){var b=this,c=b.style||(b.style={});if(typeof a=='string'){if(arguments.length===1){b.setStyle(Ext.Element.parseStyles(a))}else {c[a]=d}}else {Ext.apply(c,a)}return b},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=!0}},writeTo:function(d){var a=this,e=a.flushClassList||a.classList,c=a.removedClasses,b;if(a.styleFn){b=Ext.apply({},a.styleFn());Ext.apply(b,a.style)}else {b=a.style}d[a.clsProp]=e.join(' ');if(b){d[a.styleProp]=a.styleIsText?Ext.DomHelper.generateStyles(b,null,!0):b}if(c){c=Ext.Object.getKeys(c);if(c.length){d[a.removedProp]=c.join(' ')}}if(a.unselectableAttr){d.unselectable='on'}return d}}},1,0,0,0,0,0,[Ext.util,'ProtoElement'],0);Ext.cmd.derive('Ext.PluginManager',Ext.Base,{alternateClassName:'Ext.PluginMgr',singleton:!0,typeName:'ptype',create:function(a,e,c){var b,d;if(a.init){b=a}else {if(c){a=Ext.apply({},a);a.cmp=c}else {c=a.cmp}if(a.xclass){b=Ext.create(a)}else {d='plugin.'+(a.ptype||e);b=Ext.ClassManager.instantiateByAlias(d,a)}}if(b&&c&&b.setCmp&&!b.setCmpCalled){b.setCmp(c);b.setCmpCalled=!0}return b}},0,0,0,0,0,0,[Ext,'PluginManager',Ext,'PluginMgr'],function(){Ext.preg=Ext.emptyFn});Ext.cmd.derive('Ext.util.ElementContainer',Ext.Base,{childEls:[],constructor:function(){var a=this,b;if(a.hasOwnProperty('childEls')){b=a.childEls;delete a.childEls;a.addChildEls.apply(a,b)}},destroy:function(){var c=this,e=c.getChildEls(),b,a,d,f;for(d=e.length;d--;){a=e[d];if(typeof a!='string'){a=a.name}b=c[a];if(b){c[a]=null;b.destroy()}}},addChildEls:function(){var a=this,b=arguments;if(a.hasOwnProperty('childEls')){a.childEls.push.apply(a.childEls,b)}else {a.childEls=a.getChildEls().concat(Array.prototype.slice.call(b))}a.prune(a.childEls,!1)},applyChildEls:function(e,k){var c=this,j=c.getChildEls(),g,b,f,h,i,d,a;g=(k||c.id)+'-';for(h=j.length;h--;){b=j[h];if(typeof b=='string'){a=e.getById(g+b)}else {if(d=b.select){a=e.select(d,!0)}else {if(d=b.selectNode){a=e.selectNode(d,!1)}else {a=e.getById(b.id||g+b.itemId)}}b=b.name}if(a){if(a.isElement){a.component=c}else {if(a.isComposite&&!a.isLite){f=a.elements;for(i=f.length;i--;){f[i].component=c}}}}c[b]=a}},getChildEls:function(){var a=this,b;if(a.hasOwnProperty('childEls')){return a.childEls}b=a.self;return b.$childEls||a.getClassChildEls(b)},getClassChildEls:function(h){var m=this,a=h.$childEls,d,i,n,k,l,e,g,c,f,b,j;if(!a){b=h.superclass;if(b){b=b.self;c=[b.$childEls||m.getClassChildEls(b)];j=b.prototype.mixins||{}}else {c=[];j={}}f=h.prototype;e=f.mixins;for(g in e){if(e.hasOwnProperty(g)&&!j.hasOwnProperty(g)){l=e[g].self;c.push(l.$childEls||m.getClassChildEls(l))}}c.push(f.hasOwnProperty('childEls')&&f.childEls);for(i=0,n=c.length;i<n;++i){d=c[i];if(d&&d.length){if(!a){a=d}else {if(!k){k=!0;a=a.slice(0)}a.push.apply(a,d)}}}h.$childEls=a=a?m.prune(a,!k):[]}return a},prune:function(a,d){var c=a.length,e={},b;while(c--){b=a[c];if(typeof b!='string'){b=b.name}if(!e[b]){e[b]=1}else {if(d){d=!1;a=a.slice(0)}Ext.Array.erase(a,c,1)}}return a},removeChildEls:function(g){var d=this,c=d.getChildEls(),f=d.childEls=[],e,a,b;for(a=0,e=c.length;a<e;++a){b=c[a];if(!g(b)){f.push(b)}}}},1,0,0,0,0,0,[Ext.util,'ElementContainer'],0);Ext.cmd.derive('Ext.util.Renderable',Ext.Base,{frameCls:'x-frame',frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:['TL','TC','TR','ML','MC','MR','BL','BC','BR','Table'],frameTpl:['{%this.renderDockedItems(out,values,0);%}','<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','</tpl>','<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">','{%this.applyRenderTpl(out, values)%}','</div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','</tpl>','{%this.renderDockedItems(out,values,1);%}'],frameTableTpl:['{%this.renderDockedItems(out,values,0);%}','<table id="{fgid}Table" class="',Ext.plainTableCls,'" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>','</tr>','</tpl>','<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">','{%this.applyRenderTpl(out, values)%}','</td>','<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>','</tr>','<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>','</tr>','</tpl>','</table>','{%this.renderDockedItems(out,values,1);%}'],_renderState:0,statics:{makeRenderSetter:function(c,b){var a=c.name;return function(g){var d=this,f=d.renderConfigs||(d.renderConfigs={}),e=f[b];if(d._renderState>=b){(c.setter||c.getSetter()).call(d,g)}else {if(!e){f[b]=e={}}if(!(a in e)){e[a]=d[a]}d[a]=g}return d}},processRenderConfig:function(g,e,c){var h=this.prototype,j=this.getConfigurator(),k=Ext.util.Renderable,l=k.makeRenderSetter,d=g[e],b,a,i,f;for(i in d){a=Ext.Config.get(i);if(!h[f=a.names.set]){b=a.renderSetter||(a.renderSetter={});h[f]=b[c]||(b[c]=l(a,c))}}delete g[e];j.add(d)}},onClassMixedIn:function(a){var e=a.override,c=this.processRenderConfig,d=function(b){if(b.beforeRenderConfig){this.processRenderConfig(b,'beforeRenderConfig',1)}if(b.renderConfig){this.processRenderConfig(b,'renderConfig',3)}e.call(this,b)},b=function(e,b){e.override=d;e.processRenderConfig=c;if(b.beforeRenderConfig){e.processRenderConfig(b,'beforeRenderConfig',1)}if(b.renderConfig){e.processRenderConfig(b,'renderConfig',3)}};b(a,a.prototype);a.onExtended(b)},afterRender:function(){var a=this,c={},h=a.protoEl,f=a.el,b,g,e,d;a.finishRenderChildren();a._renderState=4;if(a.contentEl){g='x-';e=g+'hidden-';d=Ext.get(a.contentEl);d.component=a;d.removeCls([g+'hidden',e+'display',e+'offsets']);a.getContentTarget().appendChild(d.dom)}h.writeTo(c);b=c.removed;if(b){f.removeCls(b)}b=c.cls;if(b.length){f.addCls(b)}b=c.style;if(c.style){f.setStyle(b)}a.protoEl=null;if(!a.ownerCt){a.updateLayout()}if(!(a.x&&a.y)&&(a.pageX||a.pageY)){a.setPagePosition(a.pageX,a.pageY)}if(a.disableOnRender){a.onDisable()}else {if(a.enableOnRender){a.onEnable()}}},afterFirstLayout:function(k,j){var a=this,f=a.x,g=a.y,d,e,b,c,i=a.defaultAlign,h=a.alignOffset;if(!a.ownerLayout){d=f!==undefined;e=g!==undefined}if(a.floating&&(!d||!e)){if(a.floatParent){b=a.floatParent.getTargetEl().getViewRegion();c=a.el.getAlignToXY(a.alignTarget||a.floatParent.getTargetEl(),i,h);b.x=c[0]-b.x;b.y=c[1]-b.y}else {c=a.el.getAlignToXY(a.alignTarget||a.container,i,h);b=a.container.translateXY(c[0],c[1])}f=d?f:b.x;g=e?g:b.y;d=e=!0}if(d||e){a.setPosition(f,g)}a.onBoxReady(k,j)},applyRenderSelectors:function(){var c=this,a=c.renderSelectors,d=c.el,b;c.applyChildEls(d);if(a){for(b in a){if(a.hasOwnProperty(b)&&a[b]){c[b]=d.selectNode(a[b],!1)}}}},flushRenderConfigs:function(){var b=this,f=b.renderConfigs,h=b._renderState,e,c,a,d,g;if(f){for(c=0;c<=h;++c){e=f[c];if(e){f[c]=null;for(a in e){g=e[a];(d||(d={}))[a]=b[a];b[a]=g}}}if(d){b.setConfig(d)}}},beforeRender:function(){var a=this,c=a.floating,d=a.getComponentLayout(),b;a._renderState=1;a.getBind();if(a.renderConfigs){a.flushRenderConfigs()}if(a.reference){a.publishState()}if(c){a.addCls('x-layer');b=c.cls;if(b){a.addCls(b)}}a.frame=a.frame||a.alwaysFramed;if(!d.initialized){d.initLayout()}a.initOverflow();a.setUI(a.ui);if(a.disabled){a.disable(!0)}},doApplyRenderTpl:function(d,a){var c=a.$comp,b;if(!c.rendered){b=c.initRenderTpl();b.applyOut(a.renderData,d)}},doAutoRender:function(){var a=this;if(!a.rendered){if(a.floating){a.render(a.renderTo||document.body)}else {a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)}}},doRenderContent:function(c,d){var a=d.$comp,b=a.data;if(a.html){Ext.DomHelper.generateMarkup(a.html,c);delete a.html}if(a.tpl){if(!a.tpl.isTemplate){a.tpl=new Ext.XTemplate(a.tpl)}if(b){a.data=b=b.isEntity?b.getData(!0):b;a.tpl.applyOut(b,c);delete a.data}}},doRenderFramingDockedItems:function(d,a,c){var b=a.$comp;if(!b.rendered&&b.doRenderDockedItems){a.renderData.$skipDockedItems=!0;b.doRenderDockedItems.call(this,d,a,c)}},finishRender:function(e){var a=this,c,d,b;if(!a.el||a.$pid){if(a.container){b=a.container.getById(a.id,!0)}else {b=Ext.getDom(a.$pid||a.id)}if(!a.el){a.wrapPrimaryEl(b)}else {delete a.$pid;if(!a.el.dom){a.wrapPrimaryEl(a.el)}b.parentNode.insertBefore(a.el.dom,b);Ext.removeNode(b)}}else {if(a.needsRenderTpl){c=a.initRenderTpl();if(c){d=a.initRenderData();c.insertFirst(a.getTargetEl(),d)}}}a.el.component=a;if(!a.container){a.container=Ext.get(a.el.dom.parentNode)}if(a.ctCls){a.container.addCls(a.ctCls)}a.onRender(a.container,e);if(!a.overflowInited){a.initOverflow()}a.el.setVisibilityMode(Ext.Element[a.hideMode.toUpperCase()]);if(a.overCls){a.el.hover(a.addOverCls,a.removeOverCls,a)}if(a.hasListeners.render){a.fireEvent('render',a)}a.afterRender();if(a.hasListeners.afterrender){a.fireEvent('afterrender',a)}a.initEvents();if(a.hidden){a.el.hide()}},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getElConfig:function(){var a=this,i=a.autoEl,g=a.getFrameInfo(),b={tag:'div',tpl:g?a.initFramingTpl(g.table):a.initRenderTpl()},h=a.protoEl,c,d,k,j,e,f;a.initStyles(h);h.writeTo(b);h.flush();if(Ext.isString(i)){b.tag=i}else {Ext.apply(b,i)}b.id=a.id;if(b.tpl){if(g){d=a.frameElNames;k=d.length;b.tplData=f=a.getFrameRenderData();f.renderData=a.initRenderData();e=f.fgid;for(c=0;c<k;c++){j=d[c];a.addChildEls({name:'frame'+j,id:e+j})}a.addChildEls({name:'frameBody',id:e+'MC'})}else {b.tplData=a.initRenderData()}}return b},initFramingTpl:function(b){var a=this.getFrameTpl(b);if(a&&!a.applyRenderTpl){this.setupFramingTpl(a)}return a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else {a=Ext.getDom(a)}}return a},getRenderTree:function(){var a=this;if(!a.hasListeners.beforerender||a.fireEvent('beforerender',a)!==!1){a._renderState=1;a.beforeRender();a.rendering=!0;a._renderState=2;if(a.el){return {tag:'div',role:'presentation',id:a.$pid=Ext.id()}}return a.getElConfig()}return null},initContainer:function(a){var b=this;if(!a&&b.el){a=b.el.dom.parentNode;b.allowDomMove=!1}b.container=a.dom?a:Ext.get(a);return b.container},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame,renderScroller:a.touchScroll,scrollerCls:a.scrollerCls,role:a.ariaRole,childElCls:''},a.renderData)},initRenderTpl:function(){var a=this.getTpl('renderTpl');if(a&&!a.renderContent){this.setupRenderTpl(a)}return a},onRender:function(i,h){var a=this,e=a.x,f=a.y,b=null,g=a.el,d,c;a.applyRenderSelectors();a.rendering=null;a.rendered=!0;a._renderState=3;if(a.renderConfigs){a.flushRenderConfigs()}if(e!=null){b={x:e}}if(f!=null){(b=b||{}).y=f}if(!a.getFrameInfo()){d=a.width;c=a.height;if(typeof d==='number'){b=b||{};b.width=d}if(typeof c==='number'){b=b||{};b.height=c}}if(a.touchScroll===1){a.getOverflowEl().disableTouchScroll()}a.lastBox=g.lastBox=b},render:function(c,f){var a=this,b=a.el&&(a.el=Ext.get(a.el)),g,d,e;Ext.suspendLayouts();c=a.initContainer(c);e=a.getInsertPosition(f);if(!b){d=a.getRenderTree();if(a.ownerLayout&&a.ownerLayout.transformItemRenderTree){d=a.ownerLayout.transformItemRenderTree(d)}if(d){if(e){b=Ext.DomHelper.insertBefore(e,d)}else {b=Ext.DomHelper.append(c,d)}a.wrapPrimaryEl(b)}}else {if(!a.hasListeners.beforerender||a.fireEvent('beforerender',a)!==!1){a.beforeRender();a.needsRenderTpl=a.rendering=!0;a._renderState=2;a.initStyles(b);if(a.allowDomMove!==!1){if(e){c.dom.insertBefore(b.dom,e)}else {c.dom.appendChild(b.dom)}}}else {g=!0}}if(b&&!g){a.finishRender(f)}Ext.resumeLayouts(!a.hidden&&!c.isDetachedBody)},ensureAttachedToBody:function(c){var a=this,b;while(a.ownerCt){a=a.ownerCt}if(a.container.isDetachedBody){a.container=b=Ext.getBody();b.appendChild(a.el.dom);if(c){a.updateLayout()}if(typeof a.x=='number'||typeof a.y=='number'){a.setPosition(a.x,a.y)}}},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent;a.renderPadding=this.doRenderPadding},initFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var a=this,g=a.getFrameInfo(),h,f,e=a.frameElNames,i=e.length,b,c,d;if(g){h=a.getFrameTpl(g.table);c=a.getFrameRenderData();f=c.fgid;h.insertFirst(a.el,c);a.frameBody=a.el.down('.'+a.frameCls+'-mc');a.removeChildEls(function(b){return b.id&&a.frameIdRegex.test(b.id)});for(b=0;b<i;b++){d=e[b];a['frame'+d]=a.el.getById(f+d)}}},getFrameRenderData:function(){var a=this,b=a.frameSize,c=(a.frameGenId||0)+1;a.frameGenId=c;return {$comp:a,fgid:a.id+'-frame'+c,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,frameElCls:''}},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var a=this,g=a.frameSize&&a.frameSize.table,f=a.frameTL,d=a.frameBL,e=a.frameML,b=a.frameMC,c;a.initFrame();if(b){if(a.frame){c=a.frameMC.dom.className;b.insertAfter(a.frameMC);a.frameMC.destroy();a.frameBody=a.frameMC=b;b.dom.className=c;if(g){a.el.query('> table')[1].destroy()}else {if(f){f.destroy()}if(d){d.destroy()}if(e){e.destroy()}}}}else {if(a.frame){a.applyRenderSelectors()}}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return !1}var d=this,v=d.frameInfoCache,u=d.getFramingInfoCls()+'-frameInfo',c=v[u],b=Math.max,w,x,a,p,n,m,o,l,k,i,j,t,s,q,r,g,h,f,e;if(c==null){w=Ext.fly(d.getStyleProxy(u),'frame-style-el');a=w.getStyle('font-family');if(a){a=a.split('-');g=parseInt(a[1],10);h=parseInt(a[2],10);f=parseInt(a[3],10);e=parseInt(a[4],10);l=parseInt(a[5],10);k=parseInt(a[6],10);i=parseInt(a[7],10);j=parseInt(a[8],10);t=parseInt(a[9],10);s=parseInt(a[10],10);q=parseInt(a[11],10);r=parseInt(a[12],10);p=b(l,b(g,h));n=b(k,b(h,f));m=b(i,b(e,f));o=b(j,b(g,e));c={table:a[0].charAt(0)==='t',vertical:a[0].charAt(1)==='v',top:p,right:n,bottom:m,left:o,width:o+n,height:p+m,maxWidth:b(p,n,m,o),border:{top:l,right:k,bottom:i,left:j,width:j+k,height:l+i},padding:{top:t,right:s,bottom:q,left:r,width:r+s,height:t+q},radius:{tl:g,tr:h,br:f,bl:e}}}else {c=!1}v[u]=c}d.frame=!!c;d.frameSize=c;return c},getFramingInfoCls:function(){return this.baseCls+'-'+this.ui},getStyleProxy:function(b){var a=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:'presentation',style:{position:'absolute',top:'-10000px'}},null,!0));a.className=b;return a},getFrameTpl:function(a){return this.getTpl(a?'frameTableTpl':'frameTpl')},initOverflow:function(){var a=this,d=a.getOverflowStyle(),c=a.scrollFlags,b=a.getOverflowEl(),e=a.touchScroll=(c.y||c.x)&&Ext.supports.touchScroll;if(!b){return}a.overflowInited=!0;if(e===2){b.setStyle('overflow','hidden')}else {b.setStyle(d)}},doRenderPadding:function(c,b){var a=b.$comp;if(a.touchScroll){c.push('padding:',a.unitizeBox(a.padding))}},frameInfoCache:{}},0,0,0,0,0,0,[Ext.util,'Renderable'],0);Ext.cmd.derive('Ext.state.Provider',Ext.Base,{prefix:'ext-',constructor:function(b){var a=this;Ext.apply(a,b);a.state={};a.mixins.observable.constructor.call(a)},get:function(a,b){return typeof this.state[a]=='undefined'?b:this.state[a]},clear:function(b){var a=this;delete a.state[b];a.fireEvent('statechange',a,b,null)},set:function(c,b){var a=this;a.state[c]=b;a.fireEvent('statechange',a,c,b)},decodeValue:function(a){var i=this,j=/^(a|n|d|b|s|o|e)\:(.*)$/,e=j.exec(unescape(a)),d,h,g,c,f,b;if(!e||!e[1]){return}h=e[1];a=e[2];switch(h){case 'e':return null;case 'n':return parseFloat(a);case 'd':return new Date(Date.parse(a));case 'b':return a=='1';case 'a':d=[];if(a!=''){c=a.split('^');f=c.length;for(b=0;b<f;b++){a=c[b];d.push(i.decodeValue(a))}};return d;case 'o':d={};if(a!=''){c=a.split('^');f=c.length;for(b=0;b<f;b++){a=c[b];g=a.split('=');d[g[0]]=i.decodeValue(g[1])}};return d;default:return a;}},encodeValue:function(a){var c='',e=0,b,f,d;if(a==null){return 'e:1'}else {if(typeof a=='number'){b='n:'+a}else {if(typeof a=='boolean'){b='b:'+(a?'1':'0')}else {if(Ext.isDate(a)){b='d:'+a.toGMTString()}else {if(Ext.isArray(a)){for(f=a.length;e<f;e++){c+=this.encodeValue(a[e]);if(e!=f-1){c+='^'}}b='a:'+c}else {if(typeof a=='object'){for(d in a){if(typeof a[d]!='function'&&a[d]!==undefined){c+=d+'='+this.encodeValue(a[d])+'^'}}b='o:'+c.substring(0,c.length-1)}else {b='s:'+a}}}}}}return escape(b)}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.state,'Provider'],0);Ext.cmd.derive('Ext.state.Manager',Ext.Base,{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(a){this.provider=a},get:function(b,a){return this.provider.get(b,a)},set:function(b,a){this.provider.set(b,a)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,'Manager'],0);Ext.cmd.derive('Ext.state.Stateful',Ext.Base,{stateful:!1,saveDelay:100,constructor:function(){var a=this;if(!a.stateEvents){a.stateEvents=[]}if(a.stateful!==!1){a.addStateEvents(a.stateEvents);a.initState()}},addStateEvents:function(f){var a=this,e,b,c,d;if(a.stateful&&a.getStateId()){d=typeof f==='string'?arguments:f;c=a.stateEventsByName||(a.stateEventsByName={});for(e=d.length;e--;){b=d[e];if(b&&!c[b]){c[b]=1;a.on(b,a.onStateChange,a)}}}},onStateChange:function(){var a=this,d=a.saveDelay,b,c;if(!a.stateful){return}if(d){if(!a.stateTask){b=Ext.state.Stateful;c=b.runner||(b.runner=new Ext.util.TaskRunner());a.stateTask=c.newTask({run:a.saveState,scope:a,interval:d,repeat:1})}a.stateTask.start()}else {a.saveState()}},saveState:function(){var a=this,i=a.stateful&&a.getStateId(),g=a.hasListeners,f,c,d,h,b,e;if(i){b=a.getState()||{};f=a.getPlugins()||[];for(d=0,h=f.length;d<h;d++){c=f[d];if(c&&c.getState){e=c.getState(b);if(e&&!b[c.ptype]){b[c.ptype]=e}}}if(!g.beforestatesave||a.fireEvent('beforestatesave',a,b)!==!1){Ext.state.Manager.set(i,b);if(g.statesave){a.fireEvent('statesave',a,b)}}}},getState:function(){return null},applyState:function(a){if(a){Ext.apply(this,a)}},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var a=this,j=a.stateful&&a.getStateId(),h=a.hasListeners,d,b,e,i,g,c,f;if(j){b=Ext.state.Manager.get(j);if(b){d=Ext.apply({},b);if(!h.beforestaterestore||a.fireEvent('beforestaterestore',a,b)!==!1){g=a.getPlugins()||[];for(e=0,i=g.length;e<i;e++){c=g[e];if(c){f=c.ptype;if(c.applyState){c.applyState(d[f],b)}delete d[f]}}a.applyState(d);if(h.staterestore){a.fireEvent('staterestore',a,b)}}}}},savePropToState:function(a,d,f){var b=this,e=b[a],c=b.initialConfig;if(b.hasOwnProperty(a)){if(!c||c[a]!==e){if(d){d[f||a]=e}return !0}}return !1},savePropsToState:function(a,c){var d=this,b,e;if(typeof a==='string'){d.savePropToState(a,c)}else {for(b=0,e=a.length;b<e;++b){d.savePropToState(a[b],c)}}return c},destroy:function(){var a=this,b=a.stateTask;if(b){b.destroy();a.stateTask=null}a.clearListeners()}},1,0,0,0,0,0,[Ext.state,'Stateful'],0);Ext.cmd.derive('Ext.util.Floating',Ext.Base,{focusOnToFront:!0,shadow:'sides',constrain:!1,constructor:function(b){var a=this;a.el=new Ext.dom.Layer(Ext.apply({preventSync:!0,hideMode:a.hideMode,shadow:typeof a.shadow!='undefined'?a.shadow:'sides',shadowOffset:a.shadowOffset,constrain:!1,fixed:a.fixed,shim:a.shim===!1?!1:undefined},a.floating),b);if(a.modal&&!Ext.enableFocusManager){a.mon(a.el,{keydown:a.onKeyDown,scope:a})}a.mon(a.el,{mousedown:a.onMouseDown,scope:a});a.floating=!0;a.registerWithOwnerCt();a.initHierarchyEvents()},initHierarchyEvents:function(){var b=this,a=this.syncHidden;if(!b.hasHierarchyEventListeners){b.mon(b.hierarchyEventSource,{hide:a,collapse:a,show:a,expand:a,added:a,scope:b});b.hasHierarchyEventListeners=!0}},registerWithOwnerCt:function(){var a=this,c=a.ownerCt,b=a.zIndexParent;if(b){b.unregisterFloatingItem(a)}b=a.zIndexParent=a.up('[floating]');a.setFloatParent(c||b);delete a.ownerCt;if(b){b.registerFloatingItem(a)}else {Ext.WindowManager.register(a)}},onKeyDown:function(b){var f=this,d,a,c,e;if(b.getKey()===b.TAB){d=b.shiftKey;a=f.query(':focusable');if(a.length){c=a[0];e=a[a.length-1];if(!d&&e.hasFocus){b.stopEvent();c.focus()}else {if(d&&c.hasFocus){b.stopEvent();e.focus()}}}}},onMouseDown:function(f){var b=this,d=b.focusTask,c=!1,a,e;if(b.floating&&(!d||!d.id)){a=f.target;e=b.el.dom;while(a!==e){if(Ext.fly(a).isFocusable()){c=!0;break}a=a.parentNode}b.toFront(c)}},setFloatParent:function(b){var a=this;a.floatParent=b;if((a.constrain||a.constrainHeader)&&!a.constrainTo){a.constrainTo=b?b.getTargetEl():a.container}},syncShadow:function(){if(this.floating){this.el.sync(!0)}},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){delete this.el.preventSync;this.syncShadow()},syncHidden:function(){var a=this,d=a.hidden||!a.rendered,c=a.hierarchicallyHidden=a.isHierarchicallyHidden(),b=a.pendingShow;if(d!==c){if(c){a.hide();a.pendingShow=!0}else {if(b){delete a.pendingShow;if(b.length){a.show.apply(a,b)}else {a.show()}}}}},setZIndex:function(a){var b=this;b.el.setZIndex(a);a+=10;if(b.floatingDescendants){a=Math.floor(b.floatingDescendants.setBase(a)/100)*100+10000}return a},doConstrain:function(c){var a=this,b=a.calculateConstrainedPosition(c,null,!0);if(b){a.setPosition(b)}},toFront:function(b){var a=this,c=a.zIndexParent,d=a.preventFocusOnActivate;if(c&&a.bringParentToFront!==!1){c.toFront(!0)}if(!Ext.isDefined(b)){b=!a.focusOnToFront}if(b){a.preventFocusOnActivate=!0}if(a.zIndexManager.bringToFront(a,b)){if(!b){a.focus(!1,!0)}if(a.hasListeners.tofront){a.fireEvent('tofront',a,a.el.getZIndex())}}a.preventFocusOnActivate=d;return a},setActive:function(c,b){var a=this;if(c){if(a.el.shadow&&!a.maximized){a.el.enableShadow(!0)}if(!a.preventFocusOnActivate){a.focus(!1,!0)}a.fireEvent('activate',a)}else {if(a.isWindow&&(b&&b.isWindow)&&a.hideShadowOnDeactivate){a.el.disableShadow()}a.fireEvent('deactivate',a)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a=this,b;if(a.isVisible()){b=a.getAlignToXY(a.container,'c-c');a.setPagePosition(b)}else {a.needsCenter=!0}return a},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter;if(this.toFrontOnShow){this.toFront()}},fitContainer:function(f){var d=this,c=d.floatParent,a=c?c.getTargetEl():d.container,b=a.getViewSize(),e=c||a.dom!==document.body?[0,0]:a.getXY();b.x=e[0];b.y=e[1];d.setBox(b,f)}},1,0,0,0,0,0,[Ext.util,'Floating'],0);Ext.cmd.derive('Ext.Component',Ext.Base,{alternateClassName:'Ext.AbstractComponent',statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:'top',DIRECTION_RIGHT:'right',DIRECTION_BOTTOM:'bottom',DIRECTION_LEFT:'left',VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,componentIdAttribute:'componentId',findComponentByElement:function(d){var c=document.body,a=d,b;while(a&&a.nodeType===1&&a!==c){b=Ext.getCmp(a.id);if(b){return b}a=a.parentNode}return null},getComponentByElement:function(a){var c=Ext.Component.componentIdAttribute,b;a=Ext.fly(a);if(!a){return null}b=a.getAttribute(c);if(b){return Ext.getCmp(b)}else {return Ext.Component.findComponentByElement(a.dom)}},getActiveComponent:function(){var a=Ext.dom.Element.getActiveElement();return Ext.Component.getComponentByElement(a)},cancelLayout:function(c,b){var a=this.runningLayoutContext||this.pendingLayouts;if(a){a.cancelComponent(c,!1,b)}},flushLayouts:function(){var b=this,a=b.pendingLayouts;if(a&&a.invalidQueue.length){b.pendingLayouts=null;b.runningLayoutContext=a;Ext.override(a,{runComplete:function(){b.runningLayoutContext=null;var a=this.callParent();if(Ext.GlobalEvents.hasListeners.afterlayout){Ext.GlobalEvents.fireEvent('afterlayout')}return a}});a.run()}},resumeLayouts:function(a){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(a){this.flushLayouts()}if(Ext.GlobalEvents.hasListeners.resumelayouts){Ext.GlobalEvents.fireEvent('resumelayouts')}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(b,e){var a=this,d=a.runningLayoutContext,c;if(d){d.queueInvalidate(b)}else {c=a.pendingLayouts||(a.pendingLayouts=new Ext.layout.Context());c.queueInvalidate(b);if(!e&&!a.layoutSuspendCount&&!b.isLayoutSuspended()){a.flushLayouts()}}}},$configPrefixed:!1,$configStrict:!1,config:{controller:null,session:{lazy:!0,$value:null},viewModel:{lazy:!0,$value:null},bind:{lazy:!0,$value:null}},defaultBindProperty:'html',cachedConfig:{publishes:null},applyController:function(a){a=Ext.Factory.controller(a);a.setView(this);return a},alignTarget:null,autoRender:!1,autoShow:!1,baseCls:'x-component',componentLayout:'autocomponent',defaultAlign:'c-c',disabled:!1,disabledCls:'x-item-disabled',draggable:!1,floating:!1,hidden:!1,hideMode:'display',maskElement:null,renderTpl:['<tpl if="renderScroller">','<div class="{scrollerCls}" style="{%this.renderPadding(out, values)%}">','</tpl>','{%this.renderContent(out,values)%}','<tpl if="renderScroller"></div></tpl>'],resizeHandles:'all',shrinkWrap:2,toFrontOnShow:!0,synthetic:!1,tplWriteMode:'overwrite',ui:'default',uiCls:[],weight:null,allowDomMove:!0,autoGenId:!1,borderBoxCls:'x-border-box',componentLayoutCounter:0,contentPaddingProperty:'padding',deferLayouts:!1,frameElementsArray:['tl','tc','tr','ml','mc','mr','bl','bc','br'],frameSize:null,horizontalPosProp:'left',isComponent:!0,_isLayoutRoot:!1,layoutSuspendCount:0,liquidLayout:!1,maskOnDisable:!0,offsetsCls:'x-hidden-offsets',rendered:!1,rootCls:'x-body',scrollerCls:'x-touch-scroller',scrollerSelector:'.x-touch-scroller',validIdRe:Ext.validIdRe,constructor:function(b){var a=this,c,e,d;b=b||{};if(b.initialConfig){if(b.isAction){a.baseAction=b}b=b.initialConfig}else {if(b.tagName||b.dom||Ext.isString(b)){b={applyTo:b,id:b.id||b}}}a.initialConfig=b;a.getId();a.protoEl=new Ext.util.ProtoElement();a.initConfig(b);d=a.xhooks;if(d){delete a.xhooks;Ext.override(a,d)}a.mixins.elementCt.constructor.call(a);a.setupProtoEl();if(a.cls){a.initialCls=a.cls;a.protoEl.addCls(a.cls)}if(a.style){a.initialStyle=a.style;a.protoEl.setStyle(a.style)}a.renderData=a.renderData||{};a.renderSelectors=a.renderSelectors||{};a.initComponent();Ext.ComponentManager.register(a);a.mixins.state.constructor.call(a);a.addStateEvents('resize');controller=a.getController();if(controller){controller.init()}if(a.plugins){for(c=0,e=a.plugins.length;c<e;c++){a.plugins[c]=a.initPlugin(a.plugins[c])}}a.loader=a.getLoader();if(a.renderTo){a.render(a.renderTo)}if(a.autoShow&&!a.initOwnerCt){a.show()}if(a.baseAction){a.baseAction.addComponent(a)}},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(c){var a=this,b=a.rendered?a.el:a.protoEl;b.addCls.apply(b,arguments);return a},addClsWithUI:function(a,i){var b=this,d=[],e=0,h=b.uiCls=Ext.Array.clone(b.uiCls),f=b.activeUI,g,c;if(typeof a==='string'){a=a.indexOf(' ')<0?[a]:Ext.String.splitWords(a)}g=a.length;for(;e<g;e++){c=a[e];if(c&&!b.hasUICls(c)){h.push(c);if(f){d=d.concat(b.addUIClsToElement(c))}}}if(i!==!0&&f){b.addCls(d)}return d},afterComponentLayout:function(b,a,e,d){var c=this;if(++c.componentLayoutCounter===1){c.afterFirstLayout(b,a)}if(b!==e||a!==d){c.onResize(b,a,e,d)}if(this.floating){this.onAfterFloatLayout()}},addFocusListener:function(){var b=this,a=b.getFocusEl(),c;if(a){if(a.isComponent){return a.addFocusListener()}c=a.needsTabIndex();if(!b.focusListenerAdded&&(!c||Ext.enableFocusManager)){if(c){a.dom.tabIndex=-1}a.on({focus:b.onFocus,blur:b.onBlur,scope:b});a.dom.setAttribute(Ext.Component.componentIdAttribute,b.id);b.focusListenerAdded=!0}}},addListener:function(b,c,f,d){var a=this,g,e;if(Ext.isString(b)&&(Ext.isObject(c)||d&&d.element)){if(d.element){g=c;c={};c[b]=g;b=d.element;if(f){c.scope=f}for(e in d){if(d.hasOwnProperty(e)){if(a.eventOptionsRe.test(e)){c[e]=d[e]}}}}if(a[b]&&a[b].on){a.mon(a[b],c)}else {a.afterRenderEvents=a.afterRenderEvents||{};if(!a.afterRenderEvents[b]){a.afterRenderEvents[b]=[]}a.afterRenderEvents[b].push(c)}return}return a.mixins.observable.addListener.apply(a,arguments)},addOverCls:function(){var a=this;if(!a.disabled){a.el.addCls(a.overCls)}},addPlugin:function(a){var b=this;a=b.constructPlugin(a);if(b.plugins){b.plugins.push(a)}else {b.plugins=[a]}if(b.pluginsInitialized){b.initPlugin(a)}return a},addPropertyToState:function(b,a,c){var d=this,e=arguments.length;if(e===3||d.hasOwnProperty(a)){if(e<3){c=d[a]}if(c!==d.initialConfig[a]){(b||(b={}))[a]=c}}return b},addUIToElement:function(){var a=this,g=a.baseCls+'-'+a.ui,c,f,b,e,d;a.addCls(g);if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;f=c.length;for(b=0;b<f;b++){d=c[b];e=a['frame'+d.toUpperCase()];if(e){e.addCls(g+'-'+d)}}}},addUIClsToElement:function(e){var a=this,h=a.baseCls+'-'+a.ui+'-'+e,i=['x-'+e,a.baseCls+'-'+e,h],c,g,b,f,d;if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;g=c.length;for(b=0;b<g;b++){d=c[b];f=a['frame'+d.toUpperCase()];if(f){f.addCls(h+'-'+d)}}}return i},adjustPosition:function(c,d){var b=this,a;if(b.isContainedFloater()){a=b.floatParent.getTargetEl().getViewRegion();c+=a.left;d+=a.top}return {x:c,y:d}},afterHide:function(c,b){var a=this;a.hiddenByLayout=null;if(this.ownerLayout){this.updateLayout({isRoot:!1})}Ext.callback(c,b||a);a.fireEvent('hide',a);a.fireHierarchyEvent('hide')},afterSetPosition:function(b,c){var a=this;a.onPosition(b,c);if(a.hasListeners.move){a.fireEvent('move',a,b,c)}},afterShow:function(b,h,g){var a=this,c=a.el,f,e,d;b=a.getAnimateTarget(b);if(!a.ghost){b=null}if(b){e={x:c.getX(),y:c.getY(),width:c.dom.offsetWidth,height:c.dom.offsetHeight};f={x:b.getX(),y:b.getY(),width:b.dom.offsetWidth,height:b.dom.offsetHeight};c.addCls(a.offsetsCls);d=a.ghost();d.el.stopAnimation();d.setX(-10000);a.ghostBox=e;d.el.animate({from:f,to:e,listeners:{afteranimate:function(){delete d.componentLayout.lastComponentSize;a.unghost();delete a.ghostBox;c.removeCls(a.offsetsCls);a.onShowComplete(h,g)}}})}else {a.onShowComplete(h,g)}a.fireHierarchyEvent('show')},animate:function(b){var a=this,e,d,j,k,c,r,q,i,p,h,o,f,n,l,m,g;b=b||{};c=b.to||{};if(Ext.fx.Manager.hasFxBlock(a.id)){return a}e=Ext.isDefined(c.width);if(e){k=Ext.Number.constrain(c.width,a.minWidth,a.maxWidth)}d=Ext.isDefined(c.height);if(d){j=Ext.Number.constrain(c.height,a.minHeight,a.maxHeight)}if(!b.dynamic&&(e||d)){i=(b.from?b.from.width:undefined)||a.getWidth();p=i;h=(b.from?b.from.height:undefined)||a.getHeight();o=h;f=!1;if(d&&j>h){o=j;f=!0}if(e&&k>i){p=k;f=!0}if(d||e){g=a.el.getStyle('overflow');if(g!=='hidden'){a.el.setStyle('overflow','hidden')}}if(f){r=!Ext.isNumber(a.width);q=!Ext.isNumber(a.height);a.setSize(p,o);a.el.setSize(i,h);if(r){delete a.width}if(q){delete a.height}}if(e){c.width=k}if(d){c.height=j}}n=a.constrain;l=a.constrainHeader;if(n||l){a.constrain=a.constrainHeader=!1;m=b.callback;b.callback=function(){a.constrain=n;a.constrainHeader=l;if(m){m.call(b.scope||a,arguments)}if(g!=='hidden'){a.el.setStyle('overflow',g)}}}return a.mixins.animate.animate.apply(a,arguments)},beforeBlur:Ext.emptyFn,beforeComponentLayout:function(){return !0},beforeDestroy:Ext.emptyFn,beforeFocus:Ext.emptyFn,beforeLayout:function(){if(this.floating){this.onBeforeFloatLayout()}},beforeSetPosition:function(a,b,f){var d=this,c=null,e,g,h,i;if(a){if(Ext.isNumber(e=a[0])){f=b;b=a[1];a=e}else {if((e=a.x)!==undefined){f=b;b=a.y;a=e}}}if(d.constrain||d.constrainHeader){c=d.calculateConstrainedPosition(null,[a,b],!0);if(c){a=c[0];b=c[1]}}g=a!==undefined;h=b!==undefined;if(g||h){d.x=a;d.y=b;i=d.adjustPosition(a,b);c={x:i.x,y:i.y,anim:f,hasX:g,hasY:h}}return c},beforeShow:Ext.emptyFn,blur:function(){var a=this,b;if(a.rendered&&(b=a.getFocusEl())){a.blurring=!0;b.blur();delete a.blurring}return a},bubble:function(d,b,c){var a=this;while(a){if(d.apply(b||a,c||[a])===!1){break}a=a.getBubbleTarget()}return this},cancelFocus:function(){var a=this.focusTask;if(a){a.cancel()}},cloneConfig:function(a){a=a||{};var d=a.id||Ext.id(),c=Ext.applyIf(a,this.initialConfig),b;c.id=d;b=Ext.getClass(this);return new b(c)},constructPlugin:function(a){var b=this;if(typeof a=='string'){a=Ext.PluginManager.create({},a,b)}else {a=Ext.PluginManager.create(a,null,b)}return a},constructPlugins:function(){var d=this,a=d.plugins,c,b,e;if(a){c=[];c.processed=!0;if(!Ext.isArray(a)){a=[a]}for(b=0,e=a.length;b<e;b++){c[b]=d.constructPlugin(a[b])}}d.pluginsInitialized=!0;return c},getPlugins:function(){var b=this,a=b.plugins;return a&&a.processed?a:b.constructPlugins()},destroy:function(){var a=this,c=a.renderSelectors,e=a.getConfig('viewModel',!0),b,d;if(!a.isDestroyed){if(!a.hasListeners.beforedestroy||a.fireEvent('beforedestroy',a)!==!1){a.destroying=!0;a.removeBindings();if(e&&e.isViewModel){e.destroy();a.viewModel=null}a.beforeDestroy();if(a.floating){delete a.floatParent;if(a.zIndexManager){a.zIndexManager.unregister(a)}}else {if(a.ownerCt&&a.ownerCt.remove){a.ownerCt.remove(a,!1)}}a.stopAnimation();a.onDestroy();Ext.destroy(a.plugins);a.componentLayout=null;if(a.hasListeners.destroy){a.fireEvent('destroy',a)}Ext.ComponentManager.unregister(a);a.mixins.state.destroy.call(a);a.clearListeners();if(a.rendered){if(!a.preserveElOnDestroy){a.el.destroy()}a.mixins.elementCt.destroy.call(a);if(c){for(b in c){if(c.hasOwnProperty(b)){d=a[b];if(d){delete a[b];d.destroy()}}}}delete a.data;delete a.el;delete a.frameBody;delete a.rendered}a.destroying=!1;a.isDestroyed=!0}}},disable:function(b){var a=this;a.enableOnRender=!1;a.addCls(a.disabledCls);if(a.rendered){a.onDisable()}else {a.disableOnRender=!0}a.disabled=!0;if(b!==!0){delete a.resetDisable;a.fireEvent('disable',a)}return a},doComponentLayout:function(){this.updateLayout();return this},doScrollBy:function(c,d,b){var a=this.getOverflowEl();if(a){a.scrollBy(c,d,b)}},doScrollTo:function(c,d,b){var a=this.getOverflowEl();a.scrollTo('left',c,b);a.scrollTo('top',d,b)},enable:function(b){var a=this;a.disableOnRender=!1;a.removeCls(a.disabledCls);if(a.rendered){a.onEnable()}else {a.enableOnRender=!0}a.disabled=!1;delete a.resetDisable;if(b!==!0){a.fireEvent('enable',a)}return a},findParentBy:function(b){var a;for(a=this.getRefOwner();a&&!b(a,this);a=a.getRefOwner()){}return a||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},findPlugin:function(c){var a,b=this.plugins,d=b&&b.length;for(a=0;a<d;a++){if(b[a].ptype===c){return b[a]}}},fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},focus:function(c,d,g,h){var a=this,b,f,e;if(a.isDestroyed){return}if(d){a.getFocusTask().delay(Ext.isNumber(d)?d:10,a.focus,a,[c,!1,g,h]);return a}if(a.focusTask){a.focusTask.cancel()}if(a.rendered&&!a.isDestroyed&&a.isVisible(!0)&&(b=a.getFocusEl())){if(b.isComponent){return b.focus(c,d)}if(f=b.dom){if(b.needsTabIndex()){f.tabIndex=-1}if(a.floating){e=a.container.dom.scrollTop}b.focus();if(c){if(Ext.isArray(c)){if(a.selectText){a.selectText.apply(a,c)}}else {f.select()}}Ext.callback(g,h)}if(a.floating){if(a!==a.zIndexManager.getActive()){a.toFront(!0)}if(e!==undefined){a.container.dom.scrollTop=e}}}return a},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=!0;return ++Ext.Component.AUTO_ID},getAnimateTarget:function(a){a=a||this.animateTarget;if(a){a=a.isComponent?a.getEl():Ext.get(a)}return a||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var a=this;if(!a.componentLayout||!a.componentLayout.isLayout){a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,'autocomponent'))}return a.componentLayout},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getEl:function(){return this.el},getFocusEl:Ext.emptyFn,getFocusTask:function(){if(!this.focusTask){Ext.Component.prototype.focusTask=new Ext.util.DelayedTask()}return this.focusTask},getHeight:function(){return this.el.getHeight()},initInheritedState:function(b){var a=this,e=a.componentLayout,d=a.reference,f=a.getController(),c=a.getConfig('viewModel',!0);if(a.hidden){b.hidden=!0}if(a.collapseImmune){b.collapseImmune=!0}if(a.modelValidation!==undefined){b.modelValidation=a.modelValidation}if(f){b.defaultListenerScope=f}else {if(a.defaultListenerScope){b.defaultListenerScope=a}}if(c){if(!c.isViewModel){c=a}b.viewModel=c}if(d){a.referenceKey=(b.referencePath||'')+d;a.viewModelKey=(b.viewModelPath||'')+d}if(e&&e.initInheritedState){e.initInheritedState(b)}},getInheritedSession:function(a){var b=a?null:this.getSession();return b||this.getInheritedConfig('session',a)||null},getInheritedViewModel:function(b){var a=b?null:this.getViewModel();if(!a){a=this.getInheritedConfig('viewModel',b);if(a&&a.isComponent){a=a.getInherited().viewModel=a.getViewModel()}}return a||null},publishState:function(d,b){var c=this,g=c.viewModelKey,a=c.publishedState,h=0,e,f,i;if(!(f=c.getPublishes())){return}if(!(i=c.getInheritedViewModel())){return}if(d&&a){if(!f[d]){return}if(!(b&&b.constructor===Object)&&!(b instanceof Array)){if(a[d]===b){return}}g+='.';g+=d}else {a=a||(c.publishedState={});for(e in f){++h;if(e===d){a[e]=b}else {a[e]=c[e]}}if(!h){return}b=a}i.set(g,b)},getId:function(){var a=this,b;if(!(a.id||(a.id=a.initialConfig.id))){b=a.getXType();if(b){b=b.replace(Ext.Component.INVALID_ID_CHARS_Re,'-')}else {b=Ext.name.toLowerCase()+'-comp'}a.id=b+'-'+a.getAutoId()}return a.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var a=this,c=a.autoLoad?Ext.isObject(a.autoLoad)?a.autoLoad:{url:a.autoLoad}:null,b=a.loader||c;if(b){if(!b.isLoader){a.loader=new Ext.ComponentLoader(Ext.apply({target:a,autoLoad:c},b))}else {b.setTarget(a)}return a.loader}return null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var c=this,f=null,d=c.autoScroll,a,b,e;if(typeof d==='boolean'){f={overflow:e=d?'auto':''};c.scrollFlags={overflowX:e,overflowY:e,x:d,y:d,both:d}}else {a=c.overflowX;b=c.overflowY;if(a!==undefined||b!==undefined){if(a&&a===!0){a='auto'}if(b&&b===!0){b='auto'}f={'overflowX':a=a||'','overflowY':b=b||''};c.scrollFlags={overflowX:a,overflowY:b,x:a=a==='auto'||a==='scroll',y:b=b==='auto'||b==='scroll',both:a&&b}}else {c.scrollFlags={overflowX:'',overflowY:'',x:!1,y:!1,both:!1}}}return f},getPlugin:function(c){var a,b=this.plugins,d=b&&b.length;for(a=0;a<d;a++){if(b[a].pluginId===c){return b[a]}}},getPosition:function(e){var a=this,b,d=a.isContainedFloater(),c;if(e===!0&&!d){return [a.getLocalX(),a.getLocalY()]}b=a.getXY();if(e===!0&&d){c=a.floatParent.getTargetEl().getViewRegion();b[0]-=c.left;b[1]-=c.top}return b},getProxy:function(){var a=this,b;if(!a.proxy){b=Ext.getBody();a.proxy=a.el.createProxy('x-proxy-el',b,!0)}return a.proxy},getScrollLeft:function(){return this.getOverflowEl().getScrollLeft()},getScrollerEl:function(){var a=this;return a.scrollerEl||(a.scrollerEl=a.componentLayout.getScrollerEl()||a.getOverflowEl().child(a.scrollerSelector))},getScrollX:function(){var b=this,c=b.scrollManager,a;if(c){a=c.scroller.position;if(Ext.supports.touchScroll===1){a.x=b.getScrollLeft()}return a.x}else {return b.getScrollLeft()}},getScrollY:function(){var b=this,c=b.scrollManager,a;if(c){a=c.scroller.position;if(Ext.supports.touchScroll===1){a.y=b.getOverflowEl().getScrollTop()}return a.y}else {return b.getOverflowEl().getScrollTop()}},getSize:function(a){return this.el.getSize(a)},getSizeModel:function(g){var c=this,a=Ext.layout.SizeModel,h=c.componentLayout.ownerContext,q=c.width,p=c.height,n,m,j,i,d,k,f,b,l,e,o=c.floating||c.floated;if(h){e=h.widthModel;d=h.heightModel}if(!e||!d){j=(n=typeof q)=='number';i=(m=typeof p)=='number';l=o||!(k=c.ownerLayout);if(l){f=Ext.layout.Layout.prototype.autoSizePolicy;b=o?3:c.shrinkWrap;if(j){e=a.configured}if(i){d=a.configured}}else {f=k.getItemSizePolicy(c,g);b=k.isItemShrinkWrap(c)}if(h){h.ownerSizePolicy=f}b=b===!0?3:b||0;if(l&&b){if(q&&n=='string'){b&=2}if(p&&m=='string'){b&=1}}if(b!==3){if(!g){g=c.ownerCt&&c.ownerCt.getSizeModel()}if(g){b|=(g.width.shrinkWrap?1:0)|(g.height.shrinkWrap?2:0)}}if(!e){if(!f.setsWidth){if(j){e=a.configured}else {e=b&1?a.shrinkWrap:a.natural}}else {if(f.readsWidth){if(j){e=a.calculatedFromConfigured}else {e=b&1?a.calculatedFromShrinkWrap:a.calculatedFromNatural}}else {e=a.calculated}}}if(!d){if(!f.setsHeight){if(i){d=a.configured}else {d=b&2?a.shrinkWrap:a.natural}}else {if(f.readsHeight){if(i){d=a.calculatedFromConfigured}else {d=b&2?a.calculatedFromShrinkWrap:a.calculatedFromNatural}}else {d=a.calculated}}}}return e.pairsByHeightOrdinal[d.ordinal]},getState:function(){var b=this,a=null,c=b.getSizeModel();if(c.width.configured){a=b.addPropertyToState(a,'width')}if(c.height.configured){a=b.addPropertyToState(a,'height')}return a},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return this.baseCls+'-'+this.ui+'-cell'},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var c=this.self,b,a,d;if(!c.xtypes){b=[];a=this;while(a){d=a.xtypes;if(d!==undefined){b.unshift.apply(b,d)}a=a.superclass}c.xtypeChain=b;c.xtypes=b.join('/')}return c.xtypes},hasCls:function(c){var a=this,b=a.rendered?a.el:a.protoEl;return b.hasCls.apply(b,arguments)},hasUICls:function(b){var c=this,a=c.uiCls||[];return Ext.Array.contains(a,b)},hide:function(c,e,d){var a=this,b;if(a.pendingShow){delete a.pendingShow}if(!(a.rendered&&!a.isVisible())){b=a.fireEvent('beforehide',a)!==!1;if(a.hierarchicallyHidden||b){a.hidden=!0;a.getInherited().hidden=!0;if(a.rendered){a.onHide.apply(a,arguments)}}}return a},initCls:function(){var a=this,b=[a.baseCls,a.getComponentLayout().targetCls];if(a.componentCls){b.push(a.componentCls)}else {a.componentCls=a.baseCls}return b},initComponent:function(){var a=this,c=a.width,b=a.height;if(a.plugins&&!a.plugins.processed){a.plugins=a.constructPlugins()}if(c!=null||b!=null){a.setSize(c,b)}if(a.listeners){a.on(a.listeners);a.listeners=null}},initDraggable:function(){var a=this,c=a.resizer&&a.resizer.el!==a.el?a.resizerComponent=new Ext.Component({ariaRole:'presentation',el:a.resizer.el,rendered:!0,container:a.container}):a,b=Ext.applyIf({el:c.getDragEl(),constrainTo:a.constrain||a.draggable.constrain?a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():a.container):undefined},a.draggable);if(a.constrain||a.constrainDelegate){b.constrain=a.constrain;b.constrainDelegate=a.constrainDelegate}a.dd=new Ext.util.ComponentDragger(c,b)},initEvents:function(){var c=this,d=c.afterRenderEvents,e,b,f,a,g;if(d){for(f in d){b=c[f];if(b&&b.on){e=d[f];for(a=0,g=e.length;a<g;++a){c.mon(b,e[a])}}}}c.addFocusListener()},initPadding:function(c){var a=this,b=a.padding;if(b!=null){if(a.touchScroll||a.layout&&a.layout.managePadding&&a.contentPaddingProperty==='padding'){c.setStyle('padding',0)}else {c.setStyle('padding',this.unitizeBox(b===!0?5:b))}}},initPlugin:function(a){a.init(this);return a},initResizable:function(b){var a=this;b=Ext.apply({target:a,dynamic:!1,constrainTo:a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():null),handles:a.resizeHandles},b);b.target=a;a.resizer=new Ext.resizer.Resizer(b)},initStyles:function(b){var a=this,g=a.margin,j=a.border,i=a.cls,h=a.style,e=a.x,f=a.y,d,c;a.initPadding(b);if(g!=null){b.setStyle('margin',this.unitizeBox(g===!0?5:g))}if(j!=null){a.setBorder(j,b)}if(i&&i!=a.initialCls){b.addCls(i);a.cls=a.initialCls=null}if(h&&h!=a.initialStyle){b.setStyle(h);a.style=a.initialStyle=null}if(e!=null){b.setStyle(a.horizontalPosProp,typeof e=='number'?e+'px':e)}if(f!=null){b.setStyle('top',typeof f=='number'?f+'px':f)}if(!a.ownerCt||a.floating){if(Ext.scopeCss){b.addCls(a.rootCls)}b.addCls(a.borderBoxCls)}if(!a.getFrameInfo()){d=a.width;c=a.height;if(d!=null){if(typeof d==='number'){b.setStyle('width',d+'px')}else {b.setStyle('width',d)}}if(c!=null){if(typeof c==='number'){b.setStyle('height',c+'px')}else {b.setStyle('height',c)}}}},is:function(a){return Ext.ComponentQuery.is(this,a)},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(b){if(b.isContainer){for(var a=this.ownerCt;a;a=a.ownerCt){if(a===b){return !0}}}return !1},isDescendantOf:function(a){return !!this.findParentBy(function(b){return b===a})},isDisabled:function(){return this.disabled},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},isFloating:function(){return this.floating},isFocusable:function(){var a=this,b;if(a.focusable!==!1&&(b=a.getFocusEl())&&a.rendered&&!a.destroying&&!a.isDestroyed&&!a.disabled&&a.isVisible(!0)){return b.isFocusable(!0)}},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){var a=this,b=!1,c,d;for(;c=a.ownerCt||a.floatParent;a=c){d=c.getInherited();if(d.hidden){b=!0;break}if(a.getInherited().collapseImmune){if(c.collapsed&&!a.collapseImmune){b=!0;break}}else {b=!!d.collapsed;break}}return b},isLayoutRoot:function(){var a=this,b=a.ownerLayout;if(!b||a._isLayoutRoot||a.floating){return !0}return b.isItemLayoutRoot(a)},isLayoutSuspended:function(){var a=this,b;while(a){if(a.layoutSuspendCount||a.suspendLayout){return !0}b=a.ownerLayout;if(!b){break}a=b.owner}return !1},initScrollManager:function(){var a=this,b=a.scrollFlags,c=a.getScrollerEl();if(c&&!a.scrollManager){return a.scrollManager=new Ext.scroll.Manager({owner:a,el:c,direction:b.both?'auto':b.y?'vertical':'horizontal'})}},isVisible:function(c){var a=this,b;if(a.hidden||!a.rendered||a.isDestroyed){b=!0}else {if(c){b=a.isHierarchicallyHidden()}}return !b},isXType:function(a,b){return b?Ext.Array.indexOf(this.xtypes,a)!==-1:!!this.xtypesMap[a]},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},mask:function(e,c,a){var b=this.lastBox,d=this.getMaskTarget()||this.el;if(b){a=b.height}d.mask(e,c,a)},nextNode:function(b,i){var c=this,f=c.ownerCt,g,d,h,e,a;if(i&&c.is(b)){return c}if(f){for(d=f.items.items,e=Ext.Array.indexOf(d,c)+1,h=d.length;e<h;e++){a=d[e];if(a.is(b)){return a}if(a.down){g=a.down(b);if(g){return g}}}return f.nextNode(b)}return null},nextSibling:function(c){var f=this.ownerCt,b,d,a,e;if(f){b=f.items;a=b.indexOf(this)+1;if(a){if(c){for(d=b.getCount();a<d;a++){if((e=b.getAt(a)).is(c)){return e}}}else {if(a<b.getCount()){return b.getAt(a)}}}}return null},onAdded:function(b,e,d){var a=this,c=a.inheritedState;a.ownerCt=b;if(c&&d){a.invalidateInheritedState()}if(a.reference){a.fixReference()}if(a.hasListeners&&a.hasListeners.added){a.fireEvent('added',a,b,e)}if(a.hierarchyEventSource.hasListeners.added){a.fireHierarchyEvent('added')}},onRemoved:function(c){var a=this,b;if(a.hasListeners.removed){a.fireEvent('removed',a,a.ownerCt)}if(a.reference){b=a.lookupReferenceHolder();if(b){b.clearReference(a)}}if(!c){a.removeBindings()}if(a.inheritedState&&!c){a.invalidateInheritedState()}a.ownerCt=a.ownerLayout=null},removeBindings:function(){var a=this.bind,c,b;if(a&&typeof a!=='string'){for(c in a){b=a[c];a[c].destroy();b._config=b.getTemplateScope=null}}this.bind=null},onBlur:function(b){var a=this,c=a.focusCls,d=a.getFocusEl();if(a.destroying){return}a.beforeBlur(b);if(c&&d){d.removeCls(a.removeClsWithUI(c,!0))}if(a.validateOnBlur){a.validate()}a.hasFocus=!1;a.fireEvent('blur',a,b);a.postBlur(b)},onBoxReady:function(c,b){var a=this;if(a.resizable){a.initResizable(a.resizable)}if(a.draggable){a.initDraggable()}if(a.touchScroll){a.initScrollManager()}if(a.hasListeners.boxready){a.fireEvent('boxready',a,c,b)}},onDestroy:function(){var a=this,b=a.bind,e=a.controller,d,c;if(b){for(c in b){d=b[c];if(d){d.destroy();b[c]=null}}}if(e){e.destroy()}a.controller=null;if(a.rendered){Ext.destroy(a.dd,a.resizer,a.proxy,a.proxyWrap,a.resizerComponent)}delete a.focusTask;Ext.destroy(a.componentLayout,a.loadMask,a.floatingDescendants)},onDisable:function(){var a=this,b=a.focusCls,c=a.getFocusEl();if(b&&c){c.removeCls(a.removeClsWithUI(b,!0))}if(a.maskOnDisable){a.el.dom.disabled=!0;a.mask()}},onEnable:function(){if(this.maskOnDisable){this.el.dom.disabled=!1;this.unmask()}},onFocus:function(d){var a=this,b=a.focusCls,c=a.getFocusEl();if(!a.disabled){a.beforeFocus(d);if(b&&c){c.addCls(a.addClsWithUI(b,!0))}if(!a.hasFocus){a.hasFocus=!0;a.fireEvent('focus',a,d)}}},onHide:function(a,h,f){var b=this,c,e,g,d=Ext.Element.getActiveElement();if(d===b.el||b.el.contains(d)){Ext.fly(d).blur()}a=b.getAnimateTarget(a);if(!b.ghost){a=null}if(a){g={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight};c=b.ghost();c.el.stopAnimation();e=b.getSize();c.el.animate({to:g,listeners:{afteranimate:function(){delete c.componentLayout.lastComponentSize;c.el.hide();c.setHiddenState(!0);c.el.setSize(e);b.afterHide(h,f)}}})}b.el.hide();if(!a){b.afterHide(h,f)}},onPosition:Ext.emptyFn,onResize:function(e,d,b,c){var a=this;if(a.floating&&a.constrain){a.doConstrain()}if(b){a.refreshScroll()}if(a.hasListeners.resize){a.fireEvent('resize',a,e,d,b,c)}},refreshScroll:function(){var a=this.scrollManager;if(a){a.refresh()}},onShow:function(){var a=this;a.el.show();a.updateLayout({isRoot:!1});if(a.floating){if(a.maximized){a.fitContainer()}else {if(a.constrain){a.doConstrain()}}}},onShowComplete:function(c,b){var a=this;if(a.floating){a.onFloatShow()}Ext.callback(c,b||a);a.fireEvent('show',a);delete a.hiddenByLayout},onShowVeto:Ext.emptyFn,owns:function(b){var a=!1;Ext.ComponentQuery.visitPreOrder('',this,function(c){if(c.el&&c.el.contains(b)){a=!0;return !1}});return a},parseBox:function(a){return Ext.Element.parseBox(a)},postBlur:Ext.emptyFn,previousNode:function(c,h){var d=this,f=d.ownerCt,a,g,e,b;if(h&&d.is(c)){return d}if(f){for(g=f.items.items,e=Ext.Array.indexOf(g,d)-1;e>-1;e--){b=g[e];if(b.query){a=b.query(c);a=a[a.length-1];if(a){return a}}if(b.is(c)){return b}}return f.previousNode(c,!0)}return null},previousSibling:function(c){var e=this.ownerCt,b,a,d;if(e){b=e.items;a=b.indexOf(this);if(a!=-1){if(c){for(--a;a>=0;a--){if((d=b.getAt(a)).is(c)){return d}}}else {if(a){return b.getAt(--a)}}}}return null},registerFloatingItem:function(b){var a=this;if(!a.floatingDescendants){a.floatingDescendants=new Ext.ZIndexManager(a)}a.floatingDescendants.register(b)},removeCls:function(c){var a=this,b=a.rendered?a.el:a.protoEl;b.removeCls.apply(b,arguments);return a},removeClsWithUI:function(a,k){var b=this,d=[],e=0,g=Ext.Array,i=g.remove,j=b.uiCls=g.clone(b.uiCls),f=b.activeUI,h,c;if(typeof a==='string'){a=a.indexOf(' ')<0?[a]:Ext.String.splitWords(a)}h=a.length;for(e=0;e<h;e++){c=a[e];if(c&&b.hasUICls(c)){i(j,c);if(f){d=d.concat(b.removeUIClsFromElement(c))}}}if(k!==!0&&f){b.removeCls(d)}return d},removeManagedListenerItem:function(d,a,h,g,f,e){var c=this,b=a.options?a.options.element:null;if(b){b=c[b];if(b&&b.un){if(d||a.item===h&&a.ename===g&&(!f||a.fn===f)&&(!e||a.scope===e)){b.un(a.ename,a.fn,a.scope);if(!d){Ext.Array.remove(c.managedListeners,a)}}}}else {return c.mixins.observable.removeManagedListenerItem.apply(c,arguments)}},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(a){Ext.Array.remove(this.plugins,a);a.destroy()},removeUIFromElement:function(){var a=this,g=a.baseCls+'-'+a.ui,c,f,b,e,d;a.removeCls(g);if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;f=c.length;for(b=0;b<f;b++){d=c[b];e=a['frame'+d.toUpperCase()];if(e){e.removeCls(g+'-'+d)}}}},removeUIClsFromElement:function(e){var a=this,h=a.baseCls+'-'+a.ui+'-'+e,i=['x-'+e,a.baseCls+'-'+e,h],c,g,b,f,d;if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius){c=a.frameElementsArray;g=c.length;for(b=0;b<g;b++){d=c[b];f=a['frame'+d.toUpperCase()];if(f){f.removeCls(h+'-'+d)}}}return i},resumeLayouts:function(b){var a=this;if(!a.rendered){return}if(a.layoutSuspendCount&&!--a.layoutSuspendCount){a.suspendLayout=!1;if(b&&!a.isLayoutSuspended()){a.updateLayout(b)}}},scrollBy:function(c,d,b){var e=this,a=e.scrollManager;if(a){a.scrollBy(c,d,b)}else {e.doScrollBy(c,d,b)}},scrollTo:function(d,e,b){var c=this,a=c.scrollManager;if(a){a.scroller.scrollTo(d,e,b)}else {c.doScrollTo(d,e,b)}},setAutoScroll:function(b){var a=this;a.autoScroll=!!b;if(a.rendered){a.getOverflowEl().setStyle(a.getOverflowStyle())}a.updateLayout();return a},setBorder:function(a,c){var b=this,d=!!c;if(b.rendered||d){if(!d){c=b.el}if(!a){a=0}else {if(a===!0){a='1px'}else {a=this.unitizeBox(a)}}c.setStyle('border-width',a);if(!d){b.updateLayout()}}b.border=a},setComponentLayout:function(b){var a=this.componentLayout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.componentLayout=b;b.setOwner(this)},setDocked:function(c,b){var a=this;a.dock=c;if(b&&a.ownerCt&&a.rendered){a.ownerCt.updateLayout()}return a},setDisabled:function(a){return this[a?'disable':'enable']()},setHeight:function(a){return this.setSize(undefined,a)},setHiddenState:function(b){var a=this.getInherited();this.hidden=b;if(b){a.hidden=!0}else {delete a.hidden}},setLoading:function(c,d){var a=this,b={target:a};if(a.rendered){if(c!==!1){if(Ext.isString(c)){b.msg=c}else {Ext.apply(b,c)}if(!a.loadMask||!a.loadMask.isLoadMask){if(d&&b.useTargetEl==null){b.useTargetEl=!0}a.loadMask=new Ext.LoadMask(b)}else {Ext.apply(a.loadMask,b)}if(a.loadMask.isVisible()){a.loadMask.afterShow()}else {a.loadMask.show()}}else {if(a.loadMask&&a.loadMask.isLoadMask){a.loadMask.hide()}}}return a.loadMask},setMargin:function(a,c){var b=this;if(b.rendered){if(!a&&a!==0){a=''}else {if(a===!0){a=5}a=this.unitizeBox(a)}b.getTargetEl().setStyle('margin',a);if(!c){b.updateLayout()}}else {b.margin=a}},setOverflowXY:function(c,d){var a=this,b=arguments.length,e=a.ownerCt;if(b){a.overflowX=c||'';if(b>1){a.overflowY=d||''}}if(a.rendered){a.getOverflowEl().setStyle(a.getOverflowStyle())}(e||a).updateLayout();return a},setPagePosition:function(a,c,f){var b=this,d,e;if(Ext.isArray(a)){c=a[1];a=a[0]}b.pageX=a;b.pageY=c;if(b.floating){if(b.isContainedFloater()){e=b.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(a)&&Ext.isNumber(e.left)){a-=e.left}if(Ext.isNumber(c)&&Ext.isNumber(e.top)){c-=e.top}}else {d=b.el.translateXY(a,c);a=d.x;c=d.y}b.setPosition(a,c,f)}else {d=b.el.translateXY(a,c);b.setPosition(d.x,d.y,f)}return b},setPosition:function(b,c,e){var a=this,d=a.beforeSetPosition.apply(a,arguments);if(d&&a.rendered){b=d.x;c=d.y;if(e){if(b!==a.getLocalX()||c!==a.getLocalY()){a.stopAnimation();a.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(a.afterSetPosition,a,[b,c])},to:{left:b,top:c}},e))}}else {a.setLocalXY(b,c);a.afterSetPosition(b,c)}}return a},setupProtoEl:function(){var a=this.initCls();this.protoEl.addCls(a)},setScrollLeft:function(a){this.getOverflowEl().setScrollLeft(a)},setScrollX:function(d){var c=this,b=c.scrollManager,a;if(b){a=b.scroller;a.scrollTo(d,a.position.y)}else {c.setScrollLeft(d)}},setScrollY:function(d){var c=this,b=c.scrollManager,a;if(b){a=b.scroller;a.scrollTo(a.position.x,d)}else {c.getOverflowEl().setScrollTop(d)}},setSize:function(b,c){var a=this;if(b&&typeof b=='object'){c=b.height;b=b.width}if(typeof b=='number'){a.width=Ext.Number.constrain(b,a.minWidth,a.maxWidth)}else {if(b===null){delete a.width}}if(typeof c=='number'){a.height=Ext.Number.constrain(c,a.minHeight,a.maxHeight)}else {if(c===null){delete a.height}}if(a.rendered&&a.isVisible()){if(a.liquidLayout){a.el.setSize(b,c)}a.updateLayout({isRoot:!1})}return a},setUI:function(c){var a=this,e=a.uiCls,d=a.activeUI,b;if(c===d){return}if(d){b=a.removeClsWithUI(e,!0);if(b.length){a.removeCls(b)}a.removeUIFromElement()}else {a.uiCls=[]}a.ui=c;a.activeUI=c;a.addUIToElement();b=a.addClsWithUI(e,!0);if(b.length){a.addCls(b)}if(a.rendered){a.updateLayout()}},setVisible:function(a){return this[a?'show':'hide']()},setHidden:function(a){return this.setVisible(!a)},setWidth:function(a){return this.setSize(a)},show:function(c,e,d){var a=this,b=a.rendered;if(a.hierarchicallyHidden||a.floating&&!b&&a.isHierarchicallyHidden()){if(!b){a.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;a.pendingShow=arguments}else {a.pendingShow=!0}}else {if(b&&a.isVisible()){if(a.floating){a.onFloatShow()}}else {if(a.fireEvent('beforeshow',a)!==!1){a.hidden=!1;delete this.getInherited().hidden;Ext.suspendLayouts();if(!b&&(a.autoRender||a.floating)){a.doAutoRender();b=a.rendered}if(b){a.beforeShow();Ext.resumeLayouts();a.onShow.apply(a,arguments);a.afterShow.apply(a,arguments)}else {Ext.resumeLayouts(!0)}}else {a.onShowVeto()}}}return a},showAt:function(b,c,d){var a=this;if(!a.rendered&&(a.autoRender||a.floating)){a.x=b;a.y=c;return a.show()}if(a.floating){a.setPosition(b,c,d)}else {a.setPagePosition(b,c,d)}a.show()},showBy:function(b,d,c){var a=this;if(a.floating&&b){if(a.rendered){a.show();if(a.rendered){a.alignTo(b,d||a.defaultAlign,c||a.alignOffset)}}else {a.alignTarget=b;if(d){a.defaultAlign=d}if(c){a.alignOffset=c}a.show()}}return a},suspendLayouts:function(){var a=this;if(!a.rendered){return}if(++a.layoutSuspendCount===1){a.suspendLayout=!0}},unitizeBox:function(a){return Ext.Element.unitizeBox(a)},unmask:function(){(this.getMaskTarget()||this.el).unmask()},unregisterFloatingItem:function(b){var a=this;if(a.floatingDescendants){a.floatingDescendants.unregister(b)}},up:function(c,b){var a=this.getRefOwner(),f=typeof b==='string',g=typeof b==='number',e=b&&b.isComponent,d=0;if(c){for(;a;a=a.getRefOwner()){d++;if(c.isComponent){if(a===c){return a}}else {if(Ext.ComponentQuery.is(a,c)){return a}}if(f&&a.is(b)){return}if(g&&d===b){return}if(e&&a===b){return}}}return a},update:function(b,h,i){var a=this,g=a.tpl&&!Ext.isString(b),e=a.scrollManager,f=a.getSizeModel(),d=f.width.shrinkWrap||f.height.shrinkWrap,c;if(g){a.data=b&&b.isEntity?b.getData(!0):b}else {a.html=Ext.isObject(b)?Ext.DomHelper.markup(b):b}if(a.rendered){if(a.isContainer){c=a.layout.getRenderTarget();d=d||a.items.items.length>0}else {c=a.touchScroll?a.getScrollerEl():a.getTargetEl()}if(g){a.tpl[a.tplWriteMode](c,a.data||{})}else {c.setHtml(a.html,h,i)}if(d){a.updateLayout()}if(e){e.refresh()}}},setHtml:function(a){this.update(a)},setData:function(a){this.update(a)},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},_asLayoutRoot:{isRoot:!0},updateLayout:function(b){var a=this,e,d=a.lastBox,c=b&&b.isRoot;if(d){d.invalid=!0}if(!a.rendered||a.layoutSuspendCount||a.suspendLayout){return}if(a.hidden){Ext.Component.cancelLayout(a)}else {if(typeof c!='boolean'){c=a.isLayoutRoot()}}if(c||!a.ownerLayout||!a.ownerLayout.onContentChange(a)){if(!a.isLayoutSuspended()){e=b&&b.hasOwnProperty('defer')?b.defer:a.deferLayouts;Ext.Component.updateLayout(a,e)}}},wrapPrimaryEl:function(a){if(this.floating){this.makeFloating(a)}else {this.el=Ext.get(a,!0)}},getAnchorToXY:function(d,a,c,b){return d.getAnchorXY(a,c,b)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setBox:function(b,a){return a?this._animSetBox(b,a):this.mixins.positionable.setBox.call(this,b)},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(b,a){this.el.setX(b,a)},setXY:function(b,a){this.el.setXY(b,a)},setY:function(b,a){this.el.setY(b,a)},privates:{applyBind:function(c,b){var e=this,h=e.getInheritedViewModel(),g=e._getBindTemplateScope,a,d,f;if(!b||typeof b==='string'){b={}}if(Ext.isString(c)){a=c;c={};c[e.defaultBindProperty]=a}for(d in c){f=c[d];a=b[d];if(a&&typeof a!=='string'){a.destroy();a=null}if(f){a=h.bind(f,e.onBindNotify,e);a._config=Ext.Config.get(d);a.getTemplateScope=g}b[d]=a}return b},applyPublishes:function(a,b){var c;if(!b){b={}}else {if(!this.hasOwnProperty('publishes')){b=Ext.Object.chain(b)}}if(a instanceof Array){for(c=a.length;c--;){b[a[c]]=!0}}else {if(a){if(a.constructor===Object){for(c in a){b[c]=a[c]}}else {b[a]=!0}}}return b},_getBindTemplateScope:function(){return this.scope.lookupReferenceHolder()},onBindNotify:function(b,c,a){a.syncing=a.syncing+1||1;this[a._config.names.set](b);--a.syncing},applySession:function(a){if(!a){return null}if(!a.isSession){var b=this.getInheritedSession(!0),c=a===!0?{}:a;if(b){a=b.spawn(c)}else {a=new Ext.data.session.Session(c)}}return a},updateSession:function(a){var b=this.getInherited();if(a){b.session=a}else {delete b.session}},applyViewModel:function(a){var c=this,d,b;if(!(a&&a.isViewModel)){b={parent:c.getInheritedViewModel(!0)};if(!b.parent){b.session=c.getInheritedSession()}if(a){if(a.constructor===Object){Ext.apply(b,a)}else {if(typeof a==='string'){b.type=a}}}a=Ext.Factory.viewModel(b)}a.setView(c);d=c.getController();if(d){d.initViewModel(a)}return a},updateViewModel:function(a){var b=this.getInherited();if(a){b.viewModel=a;a.setView(this)}else {delete b.viewModel}}},deprecated:{'4.1':{addClass:'addCls',removeClass:'removeCls',forceComponentLayout:'updateLayout'}}},1,['box','component'],['component','box'],{'component':!0,'box':!0},['widget.box','widget.component'],[['inheritable',Ext.mixin.Inheritable],['positionable',Ext.util.Positionable],['positionable_ext',Ext.util.Positionable_ext],['observable',Ext.util.Observable],['animate',Ext.util.Animate],['elementCt',Ext.util.ElementContainer],['renderable',Ext.util.Renderable],['state',Ext.state.Stateful],['floating',Ext.util.Floating]],[Ext,'Component',Ext,'AbstractComponent'],function(a){a.createAlias({on:'addListener',prev:'previousSibling',next:'nextSibling'});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(c,b){a.suspendLayouts();c.call(b);a.resumeLayouts(!0)};Ext.setGlyphFontFamily=function(b){Ext._glyphFontFamily=b};a.hierarchyEventSource=a.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})});Ext.define('Ext.layout.container.border.Region',{override:'Ext.Component',initBorderRegion:function(){var a=this;if(!a._borderRegionInited){a._borderRegionInited=!0;a.addStateEvents(['changeregion','changeweight']);Ext.override(a,{getState:function(){var b=a.callParent();b=a.addPropertyToState(b,'region');b=a.addPropertyToState(b,'weight');return b}})}},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;return a&&a.isBorderLayout?a:null},setBorderRegion:function(c){var a=this,f,g=a.region;if(c!==g){f=a.getOwningBorderLayout();if(f){var k=f.regionFlags[c],j=a.placeholder,b=a.splitter,i=f.owner,m=f.regionMeta,l=a.collapsed||a.floated,h,e,d;if(a.fireEventArgs('beforechangeregion',[a,c])===!1){return g}Ext.suspendLayouts();a.region=c;Ext.apply(a,k);if(a.updateCollapseTool){a.updateCollapseTool()}if(b){Ext.apply(b,k);b.updateOrientation();e=i.items;d=e.indexOf(a);if(d>=0){h=m[c].splitterDelta;if(e.getAt(d+h)!==b){e.remove(b);d=e.indexOf(a);if(h>0){++d}e.insert(d,b)}}}if(j){if(l){a.expand(!1)}i.remove(j);a.placeholder=null;if(l){a.collapse(null,!1)}}i.updateLayout();Ext.resumeLayouts(!0);a.fireEventArgs('changeregion',[a,g])}else {a.region=c}}return g},setRegionWeight:function(b){var a=this,e=a.getOwningBorderContainer(),d=a.placeholder,c=a.weight;if(b!==c){if(a.fireEventArgs('beforechangeweight',[a,b])!==!1){a.weight=b;if(d){d.weight=b}if(e){e.updateLayout()}a.fireEventArgs('changeweight',[a,c])}}return c}});Ext.define('ExtThemeNeptune.Component',{override:'Ext.Component',initComponent:function(){arguments.callee.$previous.call(this);if(this.dock&&this.border===undefined){this.border=!1}},initStyles:function(){var a=this,b=a.hasOwnProperty('border'),c=a.border;if(a.dock){a.border=null}arguments.callee.$previous.apply(this,arguments);if(b){a.border=c}else {delete a.border}}});Ext.cmd.derive('Ext.ElementLoader',Ext.Base,{statics:{Renderer:{Html:function(c,a,b){c.getTarget().setHtml(a.responseText,b.scripts===!0);return !0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(c){var a=this,b;c=c||{};Ext.apply(a,c);a.setTarget(a.target);a.mixins.observable.constructor.call(a);if(a.autoLoad){b=a.autoLoad;if(b===!0){b={}}a.load(b)}},setTarget:function(a){var b=this;a=Ext.get(a);if(b.target&&b.target!=a){b.abort()}b.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==undefined){Ext.Ajax.abort(a.request);if(a.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===!0?null:a)},load:function(b){b=Ext.apply({},b);var a=this,d=Ext.isDefined(b.loadMask)?b.loadMask:a.loadMask,c=Ext.apply({},b.params),e=Ext.apply({},b.ajaxOptions),g=b.callback||a.callback,h=b.scope||a.scope||a,f=b.rendererScope||a.rendererScope||a;Ext.applyIf(e,a.ajaxOptions);Ext.applyIf(b,e);Ext.applyIf(c,a.params);Ext.apply(c,a.baseParams);Ext.applyIf(b,{url:a.url});Ext.apply(b,{scope:a,params:c,callback:a.onComplete});if(a.fireEvent('beforeload',a,b)===!1){return}if(d){a.addMask(d)}a.active={options:b,mask:d,scope:h,rendererScope:f,callback:g,success:b.success||a.success,failure:b.failure||a.failure,renderer:b.renderer||a.renderer,scripts:Ext.isDefined(b.scripts)?b.scripts:a.scripts};a.active.request=Ext.Ajax.request(b);a.setOptions(a.active,b)},setOptions:Ext.emptyFn,onComplete:function(d,e,c){var a=this,b=a.active,g,f;if(b){f=b.scope;g=b.rendererScope;if(e){e=a.getRenderer(b.renderer).call(g,a,c,b)!==!1}if(e){Ext.callback(b.success,f,[a,c,d]);a.fireEvent('load',a,c,d)}else {Ext.callback(b.failure,f,[a,c,d]);a.fireEvent('exception',a,c,d)}Ext.callback(b.callback,f,[a,e,c,d]);if(b.mask){a.removeMask()}}delete a.active},getRenderer:function(a){if(Ext.isFunction(a)){return a}return this.statics().Renderer.Html},startAutoRefresh:function(b,c){var a=this;a.stopAutoRefresh();a.autoRefresh=setInterval(function(){a.load(c)},b)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh();delete a.target;a.abort();a.clearListeners()}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext,'ElementLoader'],0);Ext.cmd.derive('Ext.ComponentLoader',Ext.ElementLoader,{statics:{Renderer:{Data:function(c,b,d){var a=!0;try{c.getTarget().update(Ext.decode(b.responseText))}catch(e){a=!1}return a},Component:function(f,d,e){var b=!0,a=f.getTarget(),c=[];try{c=Ext.decode(d.responseText)}catch(g){b=!1}if(b){a.suspendLayouts();if(e.removeAll){a.removeAll()}a.add(c);a.resumeLayouts(!0)}return b}}},target:null,loadMask:!1,renderer:'html',setTarget:function(a){var b=this;if(Ext.isString(a)){a=Ext.getCmp(a)}if(b.target&&b.target!=a){b.abort()}b.target=a},removeMask:function(){this.target.setLoading(!1)},addMask:function(a){this.target.setLoading(a)},setOptions:function(b,a){b.removeAll=Ext.isDefined(a.removeAll)?a.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a)){return a}var b=this.statics().Renderer;switch(a){case 'component':return b.Component;case 'data':return b.Data;default:return Ext.ElementLoader.Renderer.Html;}}},0,0,0,0,0,0,[Ext,'ComponentLoader'],0);Ext.cmd.derive('Ext.layout.SizeModel',Ext.Base,{constructor:function(e){var a=this,b=a.self,d=b.sizeModelsArray,c;Ext.apply(a,e);a[c=a.name]=!0;a.fixed=!(a.auto=a.natural||a.shrinkWrap);d[a.ordinal=d.length]=b[c]=b.sizeModels[c]=a},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},1,0,0,0,0,0,[Ext.layout,'SizeModel'],function(){var a=this,d=a.sizeModelsArray,b,c,f,g,e;new a({name:'calculated'});new a({name:'configured',names:{width:'width',height:'height'}});new a({name:'natural'});new a({name:'shrinkWrap'});new a({name:'calculatedFromConfigured',configured:!0,names:{width:'width',height:'height'}});new a({name:'calculatedFromNatural',natural:!0});new a({name:'calculatedFromShrinkWrap',shrinkWrap:!0});new a({name:'constrainedMax',configured:!0,constrained:!0,names:{width:'maxWidth',height:'maxHeight'}});new a({name:'constrainedMin',configured:!0,constrained:!0,names:{width:'minWidth',height:'minHeight'}});new a({name:'constrainedDock',configured:!0,constrained:!0,constrainedByMin:!0,names:{width:'dockConstrainedWidth',height:'dockConstrainedHeight'}});for(b=0,f=d.length;b<f;++b){e=d[b];e.pairsByHeightOrdinal=g=[];for(c=0;c<f;++c){g.push({width:e,height:d[c]})}}});Ext.cmd.derive('Ext.layout.Layout',Ext.Base,{factoryConfig:{type:'layout'},isLayout:!0,initialized:!1,running:!1,needsItemSize:!0,setsItemSize:!0,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},constructor:function(b){var a=this;a.id=Ext.id(null,a.type+'-');Ext.apply(a,b);delete a.type;a.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(b){var a=this,d=a.context,c;if(a.lastWidthModel!=b.widthModel){if(a.lastWidthModel){c=!0}a.lastWidthModel=b.widthModel}if(a.lastHeightModel!=b.heightModel){if(a.lastWidthModel){c=!0}a.lastHeightModel=b.heightModel}if(c){(d=b.context).clearTriggers(a,!1);d.clearTriggers(a,!0);a.triggerCount=0}},finishedLayout:function(a){this.lastWidthModel=a.widthModel;this.lastHeightModel=a.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(a){return this.autoSizePolicy},getScrollerEl:Ext.emptyFn,isItemBoxParent:function(a){return !1},isItemLayoutRoot:function(d){var a=d.getSizeModel(),c=a.width,b=a.height;if(!d.componentLayout.lastComponentSize&&(c.calculated||b.calculated)){return !1}return !c.shrinkWrap&&!b.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(g,c){var f=g.length,d,a,b,e;if(f){e=[];for(d=0;d<f;++d){a=g[d];if(!a.rendered){if(c&&c[a.id]!==undefined){b=c[a.id]}else {this.configureItem(a);b=a.getRenderTree();if(c){c[a.id]=b}}if(b){e.push(b)}}}}return e},finishRender:Ext.emptyFn,finishRenderItems:function(e,c){var d=c.length,a,b;for(a=0;a<d;a++){b=c[a];if(b.rendering){b.finishRender(a);this.afterRenderItem(b)}}},renderChildren:function(){var a=this,c=a.getLayoutItems(),b=a.getRenderTarget();a.renderItems(c,b)},renderItems:function(e,d){var c=this,f=e.length,b=0,a;if(f){Ext.suspendLayouts();for(;b<f;b++){a=e[b];if(a&&!a.rendered){c.renderItem(a,d,b)}else {if(!c.isValidParent(a,d,b)){c.moveItem(a,d,b)}else {c.configureItem(a)}}}Ext.resumeLayouts(!0)}},isValidParent:function(f,e,b){var a=f.el?f.el.dom:Ext.getDom(f),d=e&&e.dom||e,g=a.parentNode,c;if(g){c=g.className;if(c&&c.indexOf('x-resizable-wrap')!==-1){a=a.parentNode}}if(a&&d){if(typeof b=='number'){b=this.getPositionOffset(b);return a===d.childNodes[b]}return a.parentNode===d}return !1},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,d,c){var b=this;if(!a.rendered){b.configureItem(a);a.render(d,c);b.afterRenderItem(a)}},moveItem:function(c,a,b){a=a.dom||a;if(typeof b=='number'){b=a.childNodes[b]}a.insertBefore(c.el.dom,b||null);c.container=Ext.get(a);this.configureItem(c)},onContentChange:function(){this.owner.updateLayout();return !0},initLayout:function(){this.initialized=!0},setOwner:function(a){this.owner=a},getLayoutItems:function(){return []},onAdd:function(a){a.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(b){var d=this,e=b.el,c=d.owner,a;if(b.rendered){a=[].concat(d.itemCls||[]);if(c.itemCls){a=Ext.Array.push(a,c.itemCls)}if(a.length){e.removeCls(a)}}delete b.ownerLayout},destroy:function(){var a=this,b;if(a.targetCls){b=a.getTarget();if(b){b.removeCls(a.targetCls)}}a.onDestroy()},sortWeightedItems:function(b,d){for(var a=0,c=b.length;a<c;++a){b[a].$i=a}Ext.Array.sort(b,function(c,e){var a=e.weight-c.weight;if(!a){a=c.$i-e.$i;if(c[d]){a=-a}}return a});for(a=0;a<c;++a){delete b[a].$i}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout,'Layout'],function(){var a=this;a.prototype.sizeModels=a.sizeModels=Ext.layout.SizeModel.sizeModels});Ext.cmd.derive('Ext.layout.container.Container',Ext.layout.Layout,{alternateClassName:'Ext.layout.ContainerLayout',type:'container',beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,childEls:['overflowPadderEl'],renderTpl:['{%this.renderBody(out,values)%}'],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){Ext.layout.Layout.prototype.constructor.apply(this,arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){Ext.layout.Layout.prototype.destroy.call(this);this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){Ext.layout.Layout.prototype.beginLayout.apply(this,arguments);a.targetContext=a.paddingContext=a.getEl('getTarget',this);this.cacheChildItems(a)},beginLayoutCycle:function(a,c){var b=this;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);if(c){if(b.usesContainerHeight){++a.consumersContainerHeight}if(b.usesContainerWidth){++a.consumersContainerWidth}}},cacheChildItems:function(b){var d=this,f,e,c,g,a;if(d.needsItemSize||d.setsItemSize){f=b.context,e=b.childItems=[];c=b.visibleItems=d.getVisibleItems();g=c.length;for(a=0;a<g;++a){e.push(f.getCmp(c[a]))}}},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},calculate:function(a){var b=a.props,c=a.el;if(a.widthModel.shrinkWrap&&isNaN(b.width)){a.setContentWidth(c.getWidth())}if(a.heightModel.shrinkWrap&&isNaN(b.height)){a.setContentHeight(c.getHeight())}},configureItem:function(f){var c=this,b=c.itemCls,d=c.owner.itemCls,e,a;f.ownerLayout=c;if(b){if(typeof b==='string'){a=[b]}else {a=b;e=!!a}}if(d){if(e){a=Ext.Array.clone(a)}a=Ext.Array.push(a||[],d)}if(a){f.addCls(a)}},doRenderBody:function(b,a){this.renderItems(b,a);this.renderContent(b,a)},doRenderContainer:function(d,b){var a=b.$comp.layout,e=a.getRenderTpl(),c=a.getRenderData();e.applyOut(c,d)},doRenderItems:function(c,b){var d=b.$layout,a=d.getRenderTree();if(a){Ext.DomHelper.generateMarkup(a,c)}},finishRender:function(){var a=this,b,c;Ext.layout.Layout.prototype.finishRender.call(this);a.cacheElements();b=a.getRenderTarget();c=a.getLayoutItems();a.finishRenderItems(b,c)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(d,k){var c=d.targetContext,i=c.getFrameInfo(),j=d.paddingContext.getPaddingInfo(),f=0,e=0,h,g,b,a;if(!d.widthModel.shrinkWrap){++e;b=k?c.getDomProp('width'):c.getProp('width');h=typeof b=='number';if(h){++f;b-=i.width+j.width;if(b<0){b=0}}}if(!d.heightModel.shrinkWrap){++e;a=k?c.getDomProp('height'):c.getProp('height');g=typeof a=='number';if(g){++f;a-=i.height+j.height;if(a<0){a=0}}}return {width:b,height:a,needed:e,got:f,gotAll:f==e,gotWidth:h,gotHeight:g}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;if(b){a+=b}}return a},getLayoutItems:function(){var b=this.owner,a=b&&b.items;return a&&a.items||[]},getRenderData:function(){var a=this.owner;return {$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var c=this,f=c.getRenderTarget(),e=c.getLayoutItems(),g=e.length,d=[],a,b;for(a=0;a<g;a++){b=e[a];if(b.rendered&&c.isValidParent(b,f,a)){d.push(b)}}return d},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var b=this,a=Ext.XTemplate.getTpl(this,'renderTpl');if(!a.renderContent){b.owner.setupRenderTpl(a)}return a},getRenderTree:function(){var b,c=this.owner.items,a,d={};do{a=c.generation;b=this.getItemsRenderTree(this.getLayoutItems(),d)}while(c.generation!==a);return b},renderChildren:function(){var a=this,b=a.owner.items,e=a.getRenderTarget(),c,d;do{c=b.generation;d=a.getLayoutItems();a.renderItems(d,e)}while(b.generation!==c)},getScrollbarsNeeded:function(d,b,h,e){var c=Ext.getScrollbarSize(),i=typeof d=='number',f=typeof b=='number',g=0,a=0;if(!c.width){return 0}if(f&&b<e){a=2;d-=c.width}if(i&&d<h){g=1;if(!a&&f){b-=c.height;if(b<e){a=2}}}return a+g},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e=this.getRenderTarget(),d=this.getLayoutItems(),f=d.length,c=[],b,a;for(b=0;b<f;b++){a=d[b];if(a.rendered&&this.isValidParent(a,e,b)&&a.hidden!==!0&&!a.floated){c.push(a)}}return c},getMoveAfterIndex:function(a){var c=this.owner,b=c.items;return b.indexOf(a)+1},moveItemBefore:function(a,c){var f=this.owner,d=a.ownerCt,e=f.items,b;if(a===c){return}if(d){d.remove(a,!1)}if(c){b=e.indexOf(c)}else {b=e.length}f.insert(b,a)},setupRenderTpl:function(a){var b=this;a.renderBody=b.doRenderBody;a.renderContainer=b.doRenderContainer;a.renderItems=b.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(a){if(!a.liquidLayout){++this.activeItemCount}Ext.layout.Layout.prototype.onAdd.call(this,a)},onRemove:function(a){if(!a.liquidLayout){--this.activeItemCount}Ext.layout.Layout.prototype.onRemove.call(this,a)}},1,0,0,0,['layout.container'],[['elementCt',Ext.util.ElementContainer]],[Ext.layout.container,'Container',Ext.layout,'ContainerLayout'],0);Ext.cmd.derive('Ext.layout.container.Auto',Ext.layout.container.Container,{type:'autocontainer',childEls:['outerCt','innerCt','clearEl'],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,needsItemSize:!1,setsItemSize:!1,lastOverflowAdjust:{width:0,height:0},outerCtCls:'x-autocontainer-outerCt',innerCtCls:'x-autocontainer-innerCt',renderTpl:['<div id="{ownerId}-outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" style="{%this.renderPadding(out, values)%}" ','class="{innerCtCls}" role="presentation">','{%this.renderBody(out,values)%}','</div>','</div>'],beginLayout:function(a){Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);this.initContextItems(a)},beforeLayoutCycle:function(d){var a=this.owner,c=a.inheritedState,b=a.inheritedStateInner;if(!c||c.invalid){c=a.getInherited();b=a.inheritedStateInner}if(d.widthModel.shrinkWrap){b.inShrinkWrapTable=!0}else {delete b.inShrinkWrapTable}},beginLayoutCycle:function(e){var a=this,g=a.outerCt,l=a.lastOuterCtWidth||'',k=a.lastOuterCtHeight||'',j=a.lastOuterCtTableLayout||'',i=e.state,f,d,c,b,h;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);d=c=b='';if(!e.widthModel.shrinkWrap){d='100%';h=a.owner.inheritedStateInner;f=a.getOverflowXStyle(e);b=h.inShrinkWrapTable||f==='auto'||f==='scroll'?'':'fixed'}if(!e.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){c='100%'}if(d!==l||a.hasOuterCtPxWidth){g.setStyle('width',d);a.lastOuterCtWidth=d;a.hasOuterCtPxWidth=!1}if(b!==j){g.setStyle('table-layout',b);a.lastOuterCtTableLayout=b}if(c!==k||a.hasOuterCtPxHeight){g.setStyle('height',c);a.lastOuterCtHeight=c;a.hasOuterCtPxHeight=!1}if(a.hasInnerCtPxHeight){a.innerCt.setStyle('height','');a.hasInnerCtPxHeight=!1}i.overflowAdjust=i.overflowAdjust||a.lastOverflowAdjust},calculate:function(b){var a=this,d=b.state,c=a.getContainerSize(b,!0),e=d.calculatedItems||(d.calculatedItems=a.calculateItems?a.calculateItems(b,c):!0);a.setCtSizeIfNeeded(b,c);if(e&&b.hasDomProp('containerChildrenSizeDone')){a.calculateContentSize(b);if(c.gotAll){if(a.manageOverflow&&!b.state.secondPass&&!a.reserveScrollbar){a.calculateOverflow(b,c)}return}}a.done=!1},calculateContentSize:function(a){var b=this,f=(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),d=f&1||undefined,c=f&2||undefined,e=0,g=a.props;if(d){if(isNaN(g.contentWidth)){++e}else {d=undefined}}if(c){if(isNaN(g.contentHeight)){++e}else {c=undefined}}if(e){if(d&&!a.setContentWidth(b.measureContentWidth(a))){b.done=!1}if(c&&!a.setContentHeight(b.measureContentHeight(a))){b.done=!1}}},calculateOverflow:function(d){var c=this,g,f,e,a,h,i,b;h=c.getOverflowXStyle(d)==='auto';i=c.getOverflowYStyle(d)==='auto';if(h||i){e=Ext.getScrollbarSize();b=d.overflowContext.el.dom;a=0;if(b.scrollWidth>b.clientWidth){a|=1}if(b.scrollHeight>b.clientHeight){a|=2}g=i&&a&2?e.width:0;f=h&&a&1?e.height:0;if(g!==c.lastOverflowAdjust.width||f!==c.lastOverflowAdjust.height){c.done=!1;d.invalidate({state:{overflowAdjust:{width:g,height:f},overflowState:a,secondPass:!0}})}}},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderBody:function(b,a){var c=a.$layout,d=Ext.XTemplate,e=c.beforeBodyTpl,f=c.afterBodyTpl;if(e){d.getTpl(c,'beforeBodyTpl').applyOut(a,b)}this.renderItems(b,a);this.renderContent(b,a);if(f){d.getTpl(c,'afterBodyTpl').applyOut(a,b)}},doRenderPadding:function(d,b){var e=b.$layout,a=b.$layout.owner,c=a[a.contentPaddingProperty];if(e.managePadding&&c){d.push('padding:',a.unitizeBox(c))}},finishedLayout:function(b){var a=this.innerCt;Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments);if(Ext.isIE8){a.repaint()}if(Ext.isOpera){a.setStyle('position','relative');a.dom.scrollWidth;a.setStyle('position','')}},getContainerSize:function(c,d){var b=Ext.layout.container.Container.prototype.getContainerSize.apply(this,arguments),a=c.state.overflowAdjust;if(a){b.width-=a.width;b.height-=a.height}return b},getRenderData:function(){var b=this,a=Ext.layout.container.Container.prototype.getRenderData.call(this);a.innerCtCls=b.innerCtCls;a.outerCtCls=b.outerCtCls;return a},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle('overflow-x'))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||a.overflowContext.getStyle('overflow-y'))},initContextItems:function(a){var b=this,d=a.target,c=b.owner.customOverflowEl;a.outerCtContext=a.getEl('outerCt',b);a.innerCtContext=a.getEl('innerCt',b);if(c){a.overflowContext=a.getEl(c)}else {a.overflowContext=a.targetContext}if(d[d.contentPaddingProperty]!==undefined){a.paddingContext=a.innerCtContext}},initLayout:function(){var a=this,b=Ext.getScrollbarSize().width,c=a.owner;Ext.layout.container.Container.prototype.initLayout.call(this);if(b&&a.manageOverflow&&!a.hasOwnProperty('lastOverflowAdjust')){if(c.autoScroll||a.reserveScrollbar){a.lastOverflowAdjust={width:b,height:0}}}},measureContentHeight:function(b){var a=this.outerCt.getHeight(),c=b.target;if(this.managePadding&&c[c.contentPaddingProperty]===undefined){a+=b.targetContext.getPaddingInfo().height}return a},measureContentWidth:function(f){var d,a,e,b,c;if(this.chromeCellMeasureBug){d=this.innerCt.dom;a=d.style;e=a.display;if(e=='table-cell'){a.display='';d.offsetWidth;a.display=e}}b=this.outerCt.getWidth();c=f.target;if(this.managePadding&&c[c.contentPaddingProperty]===undefined){b+=f.targetContext.getPaddingInfo().width}return b},setCtSizeIfNeeded:function(a,h){var c=this,b=h.height,k=a.paddingContext.getPaddingInfo(),g=c.getTarget(),f=c.getOverflowXStyle(a),j=f==='auto'||f==='scroll',i=Ext.getScrollbarSize(),e,d;if(b&&!a.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){e=!0}if(Ext.isIE8){d=!0}if((e||d)&&j&&g.dom.scrollWidth>g.dom.clientWidth){b=Math.max(b-i.height,0)}if(e){a.outerCtContext.setProp('height',b+k.height);c.hasOuterCtPxHeight=!0}if(d){a.innerCtContext.setProp('height',b);c.hasInnerCtPxHeight=!0}}},setupRenderTpl:function(a){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt},getScrollerEl:function(){return this.outerCt}},0,0,0,0,['layout.auto','layout.autocontainer'],0,[Ext.layout.container,'Auto'],function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26});Ext.cmd.derive('Ext.ZIndexManager',Ext.Base,{alternateClassName:'Ext.WindowGroup',statics:{zBase:9000},constructor:function(b){var a=this;a.map={};a.zIndexStack=[];a.front=null;if(b){if(b.isContainer){b.on('resize',a._onContainerResize,a);a.zseed=Ext.Number.from(a.rendered?b.getEl().getStyle('zIndex'):undefined,a.getNextZSeed());a.targetEl=b.getTargetEl();a.container=b}else {Ext.on('resize',a._onContainerResize,a);a.zseed=a.getNextZSeed();a.targetEl=Ext.get(b)}}else {a.zseed=a.getNextZSeed();Ext.onReady(function(){Ext.on('resize',a._onContainerResize,a);a.targetEl=Ext.getBody()})}},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=10000},setBase:function(a){this.zseed=a;var b=this.assignZIndices();this._activateLast();return b},assignZIndices:function(){var e=this.zIndexStack,f=e.length,d=0,c=this.zseed,a,b;for(;d<f;d++){a=e[d];if(a&&!a.hidden){c=a.setZIndex(c);if(a.modal){b=a}}}if(b){this._showModalMask(b)}return c},_setActiveChild:function(a,b){var c=this.front,d=a.preventFocusOnActivate;if(a!==c){if(c&&!c.destroying){c.setActive(!1,a)}this.front=a;if(a&&a!=b){a.preventFocusOnActivate=a.preventFocusOnActivate||b&&(b.preventFocusOnActivate||!b.focusOnToFront);a.setActive(!0);if(a.modal){this._showModalMask(a)}a.preventFocusOnActivate=d}}},onComponentHide:function(a){this._activateLast()},_activateLast:function(){var a=this,d=a.zIndexStack,c=d.length-1,b;for(;c>=0&&d[c].hidden;--c){}if(b=d[c]){a._setActiveChild(b,a.front);if(b.modal){return}}else {if(a.front&&!a.front.destroying){a.front.setActive(!1)}a.front=null}for(;c>=0;--c){b=d[c];if(b.isVisible()&&b.modal){a._showModalMask(b);return}}a._hideModalMask()},_showModalMask:function(c){var b=this,f=c.el.getStyle('zIndex')-4,g=c.floatParent?c.floatParent.getTargetEl():c.container,a=b.mask,d=b.maskShim,e;if(!a){a=b.mask=Ext.getBody().createChild({role:'presentation',cls:'x-mask',style:'height:0;width:0'});a.setVisibilityMode(Ext.Element.DISPLAY);a.on('click',b._onMaskClick,b)}a.maskTarget=g;e=b.getMaskBox();if(d){d.setStyle('zIndex',f);d.show();d.setBox(e)}a.setStyle('zIndex',f);a.show();a.setBox(e)},_hideModalMask:function(){var a=this.mask,b=this.maskShim;if(a&&a.isVisible()){a.maskTarget=undefined;a.hide();if(b){b.hide()}}},_onMaskClick:function(){if(this.front){this.front.focus()}},getMaskBox:function(){var a=this.mask.maskTarget;if(a.dom===document.body){return {height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else {return a.getBox()}},_onContainerResize:function(){var d=this,b=d.mask,a=d.maskShim,c;if(b&&b.isVisible()){b.hide();if(a){a.hide()}c=d.getMaskBox();if(a){a.setSize(c);a.show()}b.setSize(c);b.show()}},register:function(a){var b=this,c=a.afterHide;if(a.zIndexManager){a.zIndexManager.unregister(a)}a.zIndexManager=b;b.map[a.id]=a;b.zIndexStack.push(a);a.afterHide=function(){c.apply(a,arguments);b.onComponentHide(a)}},unregister:function(a){var c=this,b=c.map;delete a.zIndexManager;if(b&&b[a.id]){delete b[a.id];delete a.afterHide;Ext.Array.remove(c.zIndexStack,a);c._activateLast()}},get:function(a){return a.isComponent?a:this.map[a]},bringToFront:function(a,e){var b=this,d=!1,c=b.zIndexStack;a=b.get(a);if(a!==b.front){Ext.Array.remove(c,a);if(a.preventBringToFront){c.unshift(a)}else {c.push(a)}b.assignZIndices();if(!e){b._activateLast()}d=!0;b.front=a;if(a.modal){b._showModalMask(a)}}return d},sendToBack:function(a){var b=this;a=b.get(a);Ext.Array.remove(b.zIndexStack,a);b.zIndexStack.unshift(a);b.assignZIndices();this._activateLast();return a},hideAll:function(){var b=this.map,a,c;for(c in b){if(b.hasOwnProperty(c)){a=b[c];if(a.isComponent&&a.isVisible()){a.hide()}}}},hide:function(){var b=0,c=this.zIndexStack,d=c.length,a;this.tempHidden=[];for(;b<d;b++){a=c[b];if(a.isVisible()){this.tempHidden.push(a);a.el.hide();a.hidden=!0}}},show:function(){var c=0,b=this.tempHidden,d=b?b.length:0,a;for(;c<d;c++){a=b[c];a.el.show();a.hidden=!1;a.setPosition(a.x,a.y)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(g,e){var d=[],b=0,c=this.zIndexStack,f=c.length,a;for(;b<f;b++){a=c[b];if(g.call(e||a,a)!==!1){d.push(a)}}return d},each:function(e,d){var b=this.map,c,a;for(c in b){if(b.hasOwnProperty(c)){a=b[c];if(a.isComponent&&e.call(d||a,a)===!1){return}}}},eachBottomUp:function(f,d){var c=this.zIndexStack,b=0,e=c.length,a;for(;b<e;b++){a=c[b];if(a.isComponent&&f.call(d||a,a)===!1){return}}},eachTopDown:function(e,d){var b=this.zIndexStack,c=b.length,a;for(;c-->0;){a=b[c];if(a.isComponent&&e.call(d||a,a)===!1){return}}},destroy:function(){var a=this,c=a.map,b,d;for(d in c){if(c.hasOwnProperty(d)){b=c[d];if(b.isComponent){b.destroy()}}}Ext.destroy(a.mask);Ext.destroy(a.maskShim);delete a.zIndexStack;delete a.map;delete a.container;delete a.targetEl}},1,0,0,0,0,0,[Ext,'ZIndexManager',Ext,'WindowGroup'],function(){Ext.WindowManager=Ext.WindowMgr=new this()});Ext.cmd.derive('Ext.container.Container',Ext.Component,{alternateClassName:['Ext.Container','Ext.AbstractContainer'],renderTpl:'{%this.renderContainer(out,values)%}',isContainer:!0,autoDestroy:!0,defaultType:'panel',detachOnRemove:!0,layout:'auto',suspendLayout:!1,ariaRole:'presentation',baseCls:'x-container',layoutCounter:0,add:function(){var a=this,e=Ext.Array.slice(arguments),l=typeof e[0]=='number'?e.shift():-1,m=a.getLayout(),k=!1,j,d,f,h,b,c,i,g;if(e.length==1&&Ext.isArray(e[0])){d=e[0];j=!0}else {d=e}if(a.rendered){Ext.suspendLayouts()}i=d=a.prepareItems(d,!0);h=d.length;if(!j&&h==1){i=d[0]}for(f=0;f<h;f++){b=d[f];c=l<0?a.items.length:l+f;g=!!b.instancedCmp;delete b.instancedCmp;if(b.floating){a.floatingItems.add(b);b.onAdded(a,c,g);delete b.initOwnerCt;if(a.hasListeners.add){a.fireEvent('add',a,b,c)}}else {if((!a.hasListeners.beforeadd||a.fireEvent('beforeadd',a,b,c)!==!1)&&a.onBeforeAdd(b)!==!1){a.items.insert(c,b);b.onAdded(a,c,g);delete b.initOwnerCt;a.onAdd(b,c);m.onAdd(b,c);k=!0;if(a.hasListeners.add){a.fireEvent('add',a,b,c)}}}}if(k){a.updateLayout()}if(a.rendered){Ext.resumeLayouts(!0)}return i},onAdded:function(b,c,a){Ext.Component.prototype.onAdded.apply(this,arguments);if(a){Ext.ComponentManager.markReferencesDirty()}},onRemoved:function(b){var a;if(!b){a=this.lookupReferenceHolder();if(a){Ext.ComponentManager.markReferencesDirty();a.clearReferences()}}Ext.Component.prototype.onRemoved.apply(this,arguments)},afterComponentLayout:function(){var c=this.floatingItems.items,d=c.length,b,a;Ext.Component.prototype.afterComponentLayout.apply(this,arguments);for(b=0;b<d;b++){a=c[b];if(!a.rendered&&a.autoShow){a.show()}}},afterLayout:function(c){var a=this,b=a.scrollManager;++a.layoutCounter;if(b&&a.layoutCounter>1){b.refresh()}if(a.hasListeners.afterlayout){a.fireEvent('afterlayout',a,c)}},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentManager.get(a)}Ext.applyIf(a,b)}return a},applyTargetCls:function(a){this.addCls(a)},beforeDestroy:function(){var a=this,d=a.items,c=a.floatingItems,b;if(d){while(b=d.first()){a.doRemove(b,!0)}}if(c){while(b=c.first()){a.doRemove(b,!0)}}Ext.destroy(a.layout);Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){Ext.Component.prototype.onDestroy.call(this);this.refs=null},beforeRender:function(){var c=this,b=c.getLayout(),a;Ext.Component.prototype.beforeRender.call(this);if(!b.initialized){b.initLayout()}a=b.targetCls;if(a){c.applyTargetCls(a)}},cascade:function(g,e,d){var a=this,f=a.items?a.items.items:[],j=f.length,h=0,c,b=d?d.concat(a):[a],i=b.length-1;if(g.apply(e||a,b)!==!1){for(;h<j;h++){c=f[h];if(c.cascade){c.cascade(g,e,d)}else {b[i]=c;g.apply(e||f,b)}}}return this},contains:function(a,c){var b=!1;if(c){this.cascade(function(d){if(d.contains&&d.contains(a)){b=!0;return !1}});return b}else {return this.items.contains(a)||this.floatingItems.contains(a)}},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},disable:function(){Ext.Component.prototype.disable.apply(this,arguments);var c=this.getChildItemsToDisable(),d=c.length,a,b;for(b=0;b<d;b++){a=c[b];if(a.resetDisable!==!1&&!a.disabled){a.disable();a.resetDisable=!0}}return this},doLayout:function(){this.updateLayout();return this},doRemove:function(a,c){c=c===!0||c!==!1&&this.autoDestroy;var b=this,e=b.layout,g=e&&b.rendered,d=a.destroying||c,f=a.floating;if(f){b.floatingItems.remove(a)}else {b.items.remove(a)}if(g&&!f){if(e.running){Ext.Component.cancelLayout(a,d)}e.onRemove(a,d)}a.onRemoved(d);b.onRemove(a,d);if(c){a.destroy()}else {if(g&&!f){e.afterRemove(a)}if(b.detachOnRemove&&a.rendered){b.detachComponent(a)}}},enable:function(){Ext.Component.prototype.enable.apply(this,arguments);var c=this.getChildItemsToDisable(),d=c.length,b,a;for(a=0;a<d;a++){b=c[a];if(b.resetDisable){b.enable()}}return this},finishRenderChildren:function(){Ext.Component.prototype.finishRenderChildren.call(this);var a=this.getLayout();if(a){a.finishRender()}},getChildByElement:function(b,e){var a,c,d=0,f=this.getRefItems(),g=f.length;b=Ext.getDom(b);for(;d<g;d++){a=f[d];c=a.getEl();if(c&&(c.dom===b||c.contains(b))){return e&&a.getChildByElement?a.getChildByElement(b,e):a}}return null},getChildItemsToDisable:function(){return this.query('[isFormField],button')},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}var b=this.items.get(a);if(!b&&typeof a!='number'){b=this.floatingItems.get(a)}return b},getComponentId:function(a){return a.getItemId&&a.getItemId()},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},getFocusEl:function(){return this.getTargetEl()},getLayout:function(){var a=this;if(!a.layout||!a.layout.isLayout){a.setLayout(Ext.layout.Layout.create(a.layout,a.self.prototype.layout))}return a.layout},getRefItems:function(f){var g=this,d=g.items.items,e=d.length,c=0,b,a=[];for(;c<e;c++){b=d[c];a[a.length]=b;if(f&&b.getRefItems){a.push.apply(a,b.getRefItems(!0))}}d=g.floatingItems.items;e=d.length;for(c=0;c<e;c++){b=d[c];a[a.length]=b;if(f&&b.getRefItems){a.push.apply(a,b.getRefItems(!0))}}return a},initComponent:function(){var a=this,b=a.reference,d,c;Ext.Component.prototype.initComponent.call(this);a.getLayout();a.constructing=!0;if(b&&b.charAt(c=b.length-1)==='>'){a.isParentReference=!0;a.reference=b.substring(0,c)}a.initItems();delete a.constructing},getReference:function(d){var a=Ext.ComponentManager,b,c;if(a.referencesDirty){a.fixReferences()}c=(b=this.refs)&&b[d];return c||null},getScrollerEl:function(){return this.layout.getScrollerEl()||Ext.Component.prototype.getScrollerEl.call(this)},setReference:function(d){var a=this,c,b;if(a.destroying||a.isDestroyed){return}b=a.refs||(a.refs={});c=d.referenceKey;b[c]=d},clearReference:function(a){var b=this.refs,c=a.referenceKey;if(b&&c){a.viewModelKey=a.referenceKey=b[c]=null}},clearReferences:function(){this.refs=null},initItems:function(){var b=this,a=b.items;if(!a||!a.isMixedCollection){b.items=new Ext.util.AbstractMixedCollection(!1,b.getComponentId);b.floatingItems=new Ext.util.MixedCollection(!1,b.getComponentId);if(a){if(!Ext.isArray(a)){a=[a]}b.add(a)}}},initInheritedState:function(b,e){var a=this,f=a.controller,d=a.layout,h=a.session,i=a.viewModel,g=a.reference,c=a.referenceHolder;Ext.Component.prototype.initInheritedState.call(this,b,e);if(a.collapsed){b.collapsed=!0}if(f){b.referenceHolder=f;c=!0}else {if(c){b.referenceHolder=a}}if(c){b.referencePath=''}else {if(g&&a.isParentReference){b.referencePath=a.referenceKey+'.'}}if(h){b.session=h}if(i){b.viewModelPath=''}else {if(g&&a.isParentReference){b.viewModelPath=a.viewModelKey+'.'}}if(d&&d.initInheritedState){d.initInheritedState(b,e)}},insert:function(c,a){var b;if(a&&a.isComponent){b=this.items.indexOf(a);if(b!==-1){return this.move(b,c)}}return this.add(c,a)},isAncestor:function(a){while(a){if(a.ownerCt===this){return !0}a=a.ownerCt}},lookupComponent:function(a){if(!a.isComponent){if(typeof a==='string'){a=Ext.ComponentManager.get(a)}else {a=Ext.ComponentManager.create(a,this.defaultType)}}return a},move:function(a,e){var c=this,d=c.items,b;if(a.isComponent){a=d.indexOf(a)}b=d.removeAt(a);if(b===!1){return !1}d.insert(e,b);c.onMove(b,a,e);if(c.hasListeners.move){c.fireEvent('move',c,b,a,e)}c.updateLayout();return b},moveBefore:function(b,a){this.layout.moveItemBefore(b,a)},moveAfter:function(g,b){var c=this,f=c.items,a=c.layout,e=b?a.getMoveAfterIndex(b):0,d=f.getAt(e);a.moveItemBefore(g,d)},nextChild:function(g,e){var c=this,b=c.items,d=b.indexOf(g),f=0,h=b.length,a;if(d!==-1){if(e){for(;f<h;f++){a=b.getAt(d+f);if(!a||Ext.ComponentQuery.is(a,e)){break}}}else {a=b.getAt(d+1)}if(!a&&c.ownerCt){a=c.ownerCt.nextChild(c,e)}}return a},onAdd:Ext.emptyFn,onBeforeAdd:function(b){var a=b.ownerCt;if(a&&a!==this){a.remove(b,!1)}},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){Ext.Component.prototype.onPosition.apply(this,arguments);this.repositionFloatingItems()},onResize:function(){Ext.Component.prototype.onResize.apply(this,arguments);this.repositionFloatingItems()},prepareItems:function(a,f){if(Ext.isArray(a)){a=a.slice()}else {a=[a]}var e=this,c=0,d=a.length,b;for(;c<d;c++){b=a[c];if(b==null){Ext.Array.erase(a,c,1);--c;--d}else {if(f){b=this.applyDefaults(b)}b.initOwnerCt=e;if(b.isComponent){b.instancedCmp=!0}a[c]=e.lookupComponent(b);delete b.initOwnerCt}}return a},prevChild:function(g,e){var c=this,b=c.items,d=b.indexOf(g),f=0,h=b.length,a;if(d!==-1){if(e){for(;f<h;f++){a=b.getAt(d-f);if(!a||Ext.ComponentQuery.is(a,e)){break}}}else {a=b.getAt(d-1)}if(!a&&c.ownerCt){a=c.ownerCt.nextChild(c,e)}}return a},remove:function(d,c){var a=this,b=a.getComponent(d);if(b&&(!a.hasListeners.beforeremove||a.fireEvent('beforeremove',a,b)!==!1)){a.doRemove(b,c);if(a.hasListeners.remove){a.fireEvent('remove',a,b)}if(!a.destroying&&!b.floating){a.updateLayout()}}return b},removeAll:function(g){var a=this,d=a.items.items.slice().concat(a.floatingItems.items),e=[],c=0,f=d.length,b;Ext.suspendLayouts();a.removingAll=!0;for(;c<f;c++){b=d[c];a.remove(b,g);if(b.ownerCt!==a){e.push(b)}}a.removingAll=!1;Ext.resumeLayouts(!!f);return e},repositionFloatingItems:function(){var c=this.floatingItems.items,d=c.length,b,a;for(b=0;b<d;b++){a=c[b];if(a.el&&!a.hidden){a.setPosition(a.x,a.y)}}},setLayout:function(b){var a=this.layout;if(a&&a.isLayout&&a!==b){a.setOwner(null)}this.layout=b;b.setOwner(this)},setupRenderTpl:function(a){Ext.Component.prototype.setupRenderTpl.apply(this,arguments);this.getLayout().setupRenderTpl(a)},setActiveItem:function(a){return this.getLayout().setActiveItem(a)}},0,['container'],['component','box','container'],{'component':!0,'box':!0,'container':!0},['widget.container'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.container,'Container',Ext,'Container',Ext,'AbstractContainer'],0);Ext.cmd.derive('Ext.layout.container.Editor',Ext.layout.container.Container,{autoSizeDefault:{width:'field',height:'field'},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var d=this,b=d.owner.autoSize,c=b&&b.width,a=d.sizePolicies;a=a[c]||a.$;c=b&&b.height;a=a[c]||a.$;return a},calculate:function(c){var f=this,a=f.owner,b=a.autoSize,e,d;if(b===!0){b=f.autoSizeDefault}if(b){e=f.getDimension(a,b.width,'getWidth',a.width);d=f.getDimension(a,b.height,'getHeight',a.height)}c.childItems[0].setSize(e,d);c.setWidth(e);c.setHeight(d);c.setContentSize(e||a.field.getWidth(),d||a.field.getHeight())},getDimension:function(c,d,a,b){switch(d){case 'boundEl':return c.boundEl[a]();case 'field':return undefined;default:return b;}}},0,0,0,0,['layout.editor'],0,[Ext.layout.container,'Editor'],0);Ext.cmd.derive('Ext.Editor',Ext.container.Container,{layout:'editor',allowBlur:!0,revertInvalid:!0,value:'',alignment:'c-c?',offsets:[0,0],shadow:'frame',constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,hidden:!0,baseCls:'x-editor',initComponent:function(){var a=this,b=a.field=Ext.ComponentManager.create(a.field,'textfield');b.inEditor=!0;b.msgTarget=b.msgTarget||'qtip';a.mon(b,{scope:a,blur:a.onFieldBlur,specialkey:a.onSpecialKey});if(b.grow){a.mon(b,'autosize',a.onFieldAutosize,a,{delay:1})}a.floating={constrain:a.constrain};a.items=b;Ext.container.Container.prototype.initComponent.apply(this,arguments)},onFieldAutosize:function(){this.updateLayout()},afterRender:function(e,d){var b=this,c=b.field,a=c.inputEl;Ext.container.Container.prototype.afterRender.apply(this,arguments);if(a){a.dom.name='';if(b.swallowKeys){a.swallowEvent(['keypress','keydown'])}}},onSpecialKey:function(f,b){var a=this,d=b.getKey(),c=a.completeOnEnter&&d==b.ENTER,e=a.cancelOnEsc&&d==b.ESC;if(c||e){b.stopEvent();Ext.defer(function(){if(c){a.completeEdit()}else {a.cancelEdit()}},1)}a.fireEvent('specialkey',a,f,b)},startEdit:function(e,c){var a=this,b=a.field,d;a.completeEdit();a.boundEl=Ext.get(e);d=a.boundEl.dom;c=Ext.isDefined(c)?c:Ext.String.trim(d.textContent||d.innerText||d.innerHTML);if(!a.rendered&&!a.renderTo&&a.ownerCt){(a.renderTo=a.ownerCt.el).position()}if(a.fireEvent('beforestartedit',a,a.boundEl,c)!==!1){a.startValue=c;a.show();b.suspendEvents();b.reset();b.setValue(c);b.resumeEvents();a.realign(!0);b.focus([b.getRawValue().length]);if(b.autoSize){b.autoSize()}a.editing=!0}},realign:function(b){var a=this;if(b===!0){a.updateLayout()}a.alignTo(a.boundEl,a.alignment,a.offsets)},completeEdit:function(c){var a=this,d=a.field,b;if(!a.editing){return}if(d.assertValue){d.assertValue()}b=a.getValue();if(!d.isValid()){if(a.revertInvalid!==!1){a.cancelEdit(c)}return}if(String(b)===String(a.startValue)&&a.ignoreNoChange){a.onEditComplete(c);return}if(a.fireEvent('beforecomplete',a,b,a.startValue)!==!1){b=a.getValue();if(a.updateEl&&a.boundEl){a.boundEl.setHtml(b)}a.onEditComplete(c);a.fireEvent('complete',a,b,a.startValue)}},onShow:function(){var a=this;Ext.container.Container.prototype.onShow.apply(this,arguments);if(a.hideEl!==!1){a.boundEl.hide()}a.fireEvent('startedit',a,a.boundEl,a.startValue)},cancelEdit:function(e){var a=this,c=a.startValue,b=a.field,d;if(a.editing){if(b){d=a.editedValue=a.getValue();b.suspendEvents();a.setValue(c);b.resumeEvents()}a.onEditComplete(e);a.fireEvent('canceledit',a,d,c);delete a.editedValue}},onEditComplete:function(a){if(a!==!0){this.editing=!1;this.hide()}},onFieldBlur:function(c,d){var a=this,b=Ext.Element.getActiveElement();if(a.allowBlur===!0&&a.editing&&a.selectSameEditor!==!0){a.completeEdit()}if(Ext.fly(b).isFocusable()||b.getAttribute('tabIndex')){b.focus()}},onHide:function(){var b=this,a=b.field;if(b.editing){b.completeEdit();return}if(a.hasFocus&&a.triggerBlur){a.triggerBlur()}if(a.collapse){a.collapse()}if(b.hideEl!==!1){b.boundEl.show()}Ext.container.Container.prototype.onHide.apply(this,arguments)},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var a=this;Ext.destroy(a.field);delete a.field;delete a.boundEl;Ext.container.Container.prototype.beforeDestroy.apply(this,arguments)}},0,['editor'],['component','box','container','editor'],{'component':!0,'box':!0,'container':!0,'editor':!0},['widget.editor'],0,[Ext,'Editor'],0);Ext.cmd.derive('Ext.util.KeyMap',Ext.Base,{alternateClassName:'Ext.KeyMap',eventName:'keydown',constructor:function(b){var a=this;if(arguments.length!==1||typeof b==='string'||b.dom||b.tagName||b===document||b.isComponent){a.legacyConstructor.apply(a,arguments);return}Ext.apply(a,b);a.bindings=[];if(!a.target.isComponent){a.target=Ext.get(a.target)}if(a.binding){a.addBinding(a.binding)}else {if(b.key){a.addBinding(b)}}a.enable()},legacyConstructor:function(d,b,c){var a=this;Ext.apply(a,{target:Ext.get(d),eventName:c||a.eventName,bindings:[]});if(b){a.addBinding(b)}a.enable()},addBinding:function(a){var b=this,e=a.key,c,d;if(b.processing){b.bindings=bindings.slice(0)}if(Ext.isArray(a)){for(c=0,d=a.length;c<d;c++){b.addBinding(a[c])}return}b.bindings.push(Ext.apply({keyCode:b.processKeys(e)},a))},removeBinding:function(b){var c=this,e=c.bindings,g=e.length,d,a,f;if(c.processing){c.bindings=e.slice(0)}f=c.processKeys(b.key);for(d=0;d<g;++d){a=e[d];if((a.fn||a.handler)===(b.fn||b.handler)&&a.scope===b.scope){if(b.alt===a.alt&&b.crtl===a.crtl&&b.shift===a.shift){if(Ext.Array.equals(a.keyCode,f)){Ext.Array.erase(c.bindings,d,1);return}}}}},processKeys:function(a){var g=!1,f,e,d,c,b;if(Ext.isString(a)){e=[];d=a.toUpperCase();for(b=0,c=d.length;b<c;++b){e.push(d.charCodeAt(b))}a=e;g=!0}if(!Ext.isArray(a)){a=[a]}if(!g){for(b=0,c=a.length;b<c;++b){f=a[b];if(Ext.isString(f)){a[b]=f.toUpperCase().charCodeAt(0)}}}return a},handleTargetEvent:function(){var a=/input|textarea/i;return function(c){var b=this,f,d,h,g,e;if(b.enabled){f=b.bindings;d=0;h=f.length;c=b.processEvent.apply(b||b.processEventScope,arguments);if(b.ignoreInputFields){g=c.target;e=g.contentEditable;if(a.test(g.tagName)||(e===''||e==='true')){return}}if(!c.getKey){return c}b.processing=!0;for(;d<h;++d){b.processBinding(f[d],c)}b.processing=!1}}}(),processEvent:Ext.identityFn,processBinding:function(a,b){if(this.checkModifiers(a,b)){var f=b.getKey(),h=a.fn||a.handler,i=a.scope||this,e=a.keyCode,d=a.defaultEventAction,c,g;for(c=0,g=e.length;c<g;++c){if(f===e[c]){if(h.call(i,f,b)!==!0&&d){b[d]()}break}}}},checkModifiers:function(e,f){var d=['shift','ctrl','alt'],c=0,g=d.length,b,a;for(;c<g;++c){a=d[c];b=e[a];if(!(b===undefined||b===f[a+'Key'])){return !1}}return !0},on:function(a,g,f){var b,c,d,e;if(Ext.isObject(a)&&!Ext.isArray(a)){b=a.key;c=a.shift;d=a.ctrl;e=a.alt}else {b=a}this.addBinding({key:b,shift:c,ctrl:d,alt:e,fn:g,scope:f})},un:function(a,g,f){var b,c,d,e;if(Ext.isObject(a)&&!Ext.isArray(a)){b=a.key;c=a.shift;d=a.ctrl;e=a.alt}else {b=a}this.removeBinding({key:b,shift:c,ctrl:d,alt:e,fn:g,scope:f})},isEnabled:function(){return this.enabled},enable:function(){var a=this;if(!a.enabled){a.target.on(a.eventName,a.handleTargetEvent,a);a.enabled=!0}},disable:function(){var a=this;if(a.enabled){a.target.removeListener(a.eventName,a.handleTargetEvent,a);a.enabled=!1}},setDisabled:function(a){if(a){this.disable()}else {this.enable()}},destroy:function(b){var a=this,c=a.target;a.bindings=[];a.disable();if(b){c.destroy()}delete a.target}},1,0,0,0,0,0,[Ext.util,'KeyMap',Ext,'KeyMap'],0);Ext.cmd.derive('Ext.util.KeyNav',Ext.Base,{alternateClassName:'Ext.KeyNav',statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(b){var a=this;if(arguments.length===2){a.legacyConstructor.apply(a,arguments);return}a.setConfig(b)},legacyConstructor:function(b,a){this.setConfig(Ext.apply({target:b},a))},setConfig:function(a){var c=this,f={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:c.getKeyEvent('forceKeyDown' in a?a.forceKeyDown:c.forceKeyDown,a.eventName)},e,h,g,d,b;if(c.map){c.map.destroy()}if(a.processEvent){f.processEvent=a.processEvent;f.processEventScope=a.processEventScope||c}if(a.keyMap){e=c.map=a.keyMap}else {e=c.map=new Ext.util.KeyMap(f);c.destroyKeyMap=!0}h=Ext.util.KeyNav.keyOptions;g=a.scope||c;for(d in a){b=a[d];if(b&&(d.length===1||(d=h[d])||!isNaN(d=parseInt(d,10)))){if(typeof b==='function'){b={handler:b,defaultEventAction:a.defaultEventAction!==undefined?a.defaultEventAction:c.defaultEventAction}}e.addBinding({key:d,ctrl:b.ctrl,shift:b.shift,alt:b.alt,handler:Ext.Function.bind(c.handleEvent,b.scope||g,b.handler||b.fn,!0),defaultEventAction:b.defaultEventAction!==undefined?b.defaultEventAction:c.defaultEventAction})}}e.disable();if(!a.disabled){e.enable()}},handleEvent:function(c,b,a){return a.call(this,b)},disabled:!1,defaultEventAction:'stopEvent',forceKeyDown:!1,eventName:'keypress',destroy:function(a){if(this.destroyKeyMap){this.map.destroy(a)}delete this.map},enable:function(){if(this.map){this.map.enable();this.disabled=!1}},disable:function(){if(this.map){this.map.disable()}this.disabled=!0},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(b,a){if(b||Ext.supports.SpecialKeyDownRepeat&&!a){return 'keydown'}else {return a||this.eventName}}},1,0,0,0,0,0,[Ext.util,'KeyNav',Ext,'KeyNav'],0);Ext.cmd.derive('Ext.Img',Ext.Component,{autoEl:'img',baseCls:'x-img',src:'',alt:'',title:'',imgCls:'',ariaRole:'img',maskOnDisable:!1,initComponent:function(){if(this.glyph){this.autoEl='div'}Ext.Component.prototype.initComponent.call(this)},getElConfig:function(){var a=this,g=a.autoEl,c=Ext.Component.prototype.getElConfig.call(this),e=Ext._glyphFontFamily,d=a.glyph,b,f;if(g==='img'||Ext.isObject(g)&&g.tag==='img'){b=c}else {if(a.glyph){if(typeof d==='string'){f=d.split('@');d=f[0];e=f[1]}c.html='&#'+d+';';if(e){c.style='font-family:'+e}}else {c.cn=[b={tag:'img',role:a.ariaRole,id:a.id+'-img'}]}}if(b){if(a.imgCls){b.cls=(b.cls?b.cls+' ':'')+a.imgCls}b.src=a.src||Ext.BLANK_IMAGE_URL}if(a.alt){(b||c).alt=a.alt}if(a.title){(b||c).title=a.title}return c},onRender:function(){var a=this,b=a.autoEl,c;Ext.Component.prototype.onRender.apply(this,arguments);c=a.el;if(b==='img'||Ext.isObject(b)&&b.tag==='img'){a.imgEl=c}else {a.imgEl=c.getById(a.id+'-img')}},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;Ext.Component.prototype.onDestroy.call(this)},setSrc:function(b){var c=this,a=c.imgEl;c.src=b;if(a){a.dom.src=b||Ext.BLANK_IMAGE_URL}},setGlyph:function(a){var e=this,b=Ext._glyphFontFamily,c,d;if(a!=e.glyph){if(typeof a==='string'){c=a.split('@');a=c[0];b=c[1]}d=e.el.dom;d.innerHTML='&#'+a+';';if(b){d.style='font-family:'+b}}}},0,['image','imagecomponent'],['component','box','image','imagecomponent'],{'component':!0,'box':!0,'image':!0,'imagecomponent':!0},['widget.image','widget.imagecomponent'],0,[Ext,'Img'],0);Ext.cmd.derive('Ext.util.Bindable',Ext.Base,{setStore:function(){this.bindStore.apply(this,arguments)},bindStore:function(d,e,b){b=b||'store';var a=this,c=a[b];if(!e&&c){a.onUnbindStore(c,e,b);if(d!==c&&c.autoDestroy){c.destroyStore()}else {a.unbindStoreListeners(c)}}if(d){a[b]=d=Ext.data.StoreManager.lookup(d);a.bindStoreListeners(d);a.onBindStore(d,e,b)}else {a[b]=null}return a},getStore:function(){return this.store},unbindStoreListeners:function(b){var a=this.storeListeners;if(a){b.un(a)}},bindStoreListeners:function(c){var b=this,a=Ext.apply({},b.getStoreListeners(c));if(!a.scope){a.scope=b}b.storeListeners=a;c.on(a)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,'Bindable'],0);Ext.cmd.derive('Ext.LoadMask',Ext.Component,{isLoadMask:!0,msg:'Loading...',msgCls:'x-mask-loading',maskCls:'x-mask',cls:'x-mask-msg',useMsg:!0,useTargetEl:!1,ariaRole:'presentation',childEls:['msgEl','msgTextEl'],renderTpl:['<div id="{id}-msgEl" role="{role}"','<tpl if="ariaAttr"> {ariaAttr}</tpl>',' class="{[values.$comp.msgCls]} ','x-','mask-msg-inner {childElCls}">','<div id="{id}-msgTextEl" class="','x-','mask-msg-text','{childElCls}">{msg}</div>','</div>'],constructor:function(c){var a=this,b;if(arguments.length===2){b=a.target=c;c=arguments[1]}else {b=c.target}Ext.Component.prototype.constructor.call(this,c);if(b.isComponent){a.ownerCt=b;a.hidden=!0;a.renderTo=a.getMaskTarget();a.external=a.renderTo===Ext.getBody();a.bindComponent(b)}else {b=Ext.get(b);a.isElement=!0;a.renderTo=a.target}a.render(a.renderTo);if(a.store){a.bindStore(a.store,!0)}},getRenderTree:function(){return [{cls:this.maskCls,style:'display:none'},Ext.Component.prototype.getRenderTree.call(this)]},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.maskEl=this.el.prev()},initRenderData:function(){var a=Ext.Component.prototype.initRenderData.apply(this,arguments);a.msg=this.msg||'';return a},bindComponent:function(b){var a=this,c={scope:this,resize:a.sizeMask};if(a.external){c.added=a.onComponentAdded;c.removed=a.onComponentRemoved;if(b.floating){c.move=a.sizeMask;a.activeOwner=b}else {if(b.ownerCt){a.onComponentAdded(b.ownerCt)}}}a.mon(b,c);if(a.external){a.mon(a.hierarchyEventSource,{show:a.onContainerShow,hide:a.onContainerHide,expand:a.onContainerExpand,collapse:a.onContainerCollapse,scope:a})}},onComponentAdded:function(b){var a=this;delete a.activeOwner;a.floatParent=b;if(!b.floating){b=b.up('[floating]')}if(b){a.activeOwner=b;a.mon(b,'move',a.sizeMask,a);a.mon(b,'tofront',a.onOwnerToFront,a)}else {a.preventBringToFront=!0}b=a.floatParent.ownerCt;if(a.rendered&&a.isVisible()&&b){a.floatOwner=b;a.mon(b,'afterlayout',a.sizeMask,a,{single:!0})}},onComponentRemoved:function(d){var a=this,b=a.activeOwner,c=a.floatOwner;if(b){a.mun(b,'move',a.sizeMask,a);a.mun(b,'tofront',a.onOwnerToFront,a)}if(c){a.mun(c,'afterlayout',a.sizeMask,a)}delete a.activeOwner;delete a.floatOwner},afterRender:function(){Ext.Component.prototype.afterRender.apply(this,arguments);this.el.skipGarbageCollection=!0;this.maskEl.skipGarbageCollection=!0},onOwnerToFront:function(b,a){this.maskEl.setStyle('zIndex',a+1);this.el.setStyle('zIndex',a+2)},onContainerShow:function(a){this.onComponentShow()},onContainerHide:function(a){this.onComponentHide()},onContainerExpand:function(a){this.onComponentShow()},onContainerCollapse:function(a){this.onComponentHide()},onComponentHide:function(){var a=this;if(a.rendered&&a.isVisible()){a.hide();a.showNext=!0}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var a=this,b=a.target,c=a.external?a.getOwner().el:a.getMaskTarget();if(a.rendered&&a.isVisible()){if(a.external){if(!a.isElement&&b.floating){a.onOwnerToFront(b,b.el.getZIndex())}a.maskEl.setSize(c.getSize()).alignTo(c,'tl-tl')}a.el.center(a.maskEl)}},bindStore:function(b,c){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);b=a.store;if(b&&b.isLoading()){a.onBeforeLoad()}},getStoreListeners:function(d){var c=this.onLoad,b=this.onBeforeLoad,a={cachemiss:b,cachefilled:c};if(!d.proxy.isSynchronous){a.beforeLoad=b;a.load=c}return a},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();if(this.isElement){return this.target}return this.useTargetEl?a.getTargetEl():a.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var b=this,a=b.getOwner(),c;if(!b.disabled){b.loading=!0;if(a.componentLayoutCounter){b.maybeShow()}else {c=a.afterComponentLayout;a.afterComponentLayout=function(){a.afterComponentLayout=c;c.apply(a,arguments);b.maybeShow()}}}},maybeShow:function(){var a=this,b=a.getOwner();if(!b.isVisible(!0)){a.showNext=!0}else {if(a.loading&&b.rendered){a.show()}}},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent('hide',this);return}delete this.showNext;this.maskEl.setDisplayed(!1);return Ext.Component.prototype.hide.apply(this,arguments)},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:'',this.msgCls);this.fireEvent('show',this);return}this.maskEl.setDisplayed(!0);return Ext.Component.prototype.show.apply(this,arguments)},afterShow:function(){var a=this;a.loading=!0;Ext.Component.prototype.afterShow.apply(this,arguments);if(a.hasOwnProperty('maskCls')){a.maskEl.dom.className=a.maskCls}if(a.useMsg){a.msgTextEl.setHtml(a.msg)}else {a.el.hide()}a.sizeMask()},onLoad:function(){this.loading=!1;this.hide()},onDestroy:function(){var a=this;if(a.isElement){a.ownerCt.unmask()}Ext.destroy(a.maskEl);Ext.Component.prototype.onDestroy.call(this)}},1,['loadmask'],['component','box','loadmask'],{'component':!0,'box':!0,'loadmask':!0},['widget.loadmask'],[['bindable',Ext.util.Bindable]],[Ext,'LoadMask'],0);Ext.cmd.derive('Ext.layout.component.Component',Ext.layout.Layout,{type:'component',isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,widthCache:{},heightCache:{},beginLayoutCycle:function(a,k){var d=this,c=d.owner,o=a.ownerCtContext,f=a.heightModel,h=a.widthModel,n=c.el.dom===document.body,i=c.lastBox||d.nullBox,e=c.el.lastBox||d.nullBox,j=!n,g,b,m,l;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);if(k){if(d.usesContentWidth){++a.consumersContentWidth}if(d.usesContentHeight){++a.consumersContentHeight}if(d.usesWidth){++a.consumersWidth}if(d.usesHeight){++a.consumersHeight}if(o&&!o.hasRawContent){g=c.ownerLayout;if(g){if(g.usesWidth){++a.consumersWidth}if(g.usesHeight){++a.consumersHeight}}}}if(h.configured){m=h.names.width;if(!n){j=d.setWidthInDom||(k?c[m]!==e.width:h.constrained)}a.setWidth(c[m],j)}else {if(a.isTopLevel){if(h.calculated){b=i.width;a.setWidth(b,b!=e.width)}b=i.x;a.setProp('x',b,b!=e.x)}}if(f.configured){l=f.names.height;if(!n){j=k?c[l]!==e.height:f.constrained}a.setHeight(c[l],j)}else {if(a.isTopLevel){if(f.calculated){b=i.height;a.setHeight(b,b!=e.height)}b=i.y;a.setProp('y',b,b!=e.y)}}},finishedLayout:function(e){var h=this,d=e.children,g=h.owner,i,c,f,a,b;if(d){i=d.length;for(c=0;c<i;c++){f=d[c];f.el.lastBox=f.props}}e.previousSize=h.lastComponentSize;h.lastComponentSize=g.el.lastBox=b=e.props;a=g.lastBox||(g.lastBox={});a.x=b.x;a.y=b.y;a.width=b.width;a.height=b.height;a.invalid=!1;Ext.layout.Layout.prototype.finishedLayout.apply(this,arguments)},notifyOwner:function(e){var b=this,c=b.lastComponentSize,a=e.previousSize,d=[c.width,c.height];if(a){d.push(a.width,a.height)}b.owner.afterComponentLayout.apply(b.owner,d)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(d){var c=this,a=c.targetInfo,b;if(!a){b=d.getEl('getTarget',c);c.targetInfo=a={padding:b.getPaddingInfo(),border:b.getBorderInfo()}}return a},measureAutoDimensions:function(a,w){var h=this,u=h.owner,i=u.layout,t=a.heightModel,s=a.widthModel,g=a.boxParent,n=a.isBoxParent,j=a.target,q=a.props,r,b={gotWidth:!1,gotHeight:!1,isContainer:r=!a.hasRawContent},v=w||3,p,o,m=0,d=0,c,e,f,l,k;if(s.shrinkWrap&&a.consumersContentWidth){++m;p=!(v&1);if(r){if(p){b.contentWidth=0;b.gotWidth=!0;++d}else {if((b.contentWidth=a.getProp('contentWidth'))!==undefined){b.gotWidth=!0;++d}}}else {e=q.contentWidth;if(typeof e=='number'){b.contentWidth=e;b.gotWidth=!0;++d}else {if(p){c=!0}else {if(!a.hasDomProp('containerChildrenSizeDone')){c=!1}else {if(n||!g||g.widthModel.shrinkWrap){c=!0}else {c=g.hasDomProp('width')}}}if(c){if(p){f=0}else {if(i&&i.measureContentWidth){f=i.measureContentWidth(a)}else {if(j.cacheWidth){l=j.xtype+'-'+j.ui;k=h.widthCache;f=k[l]||(k[l]=h.measureContentWidth(a))}else {f=h.measureContentWidth(a)}}}if(!isNaN(b.contentWidth=f)){a.setContentWidth(f,!0);b.gotWidth=!0;++d}}}}}else {if(s.natural&&a.consumersWidth){++m;e=q.width;if(typeof e=='number'){b.width=e;b.gotWidth=!0;++d}else {if(n||!g){c=!0}else {c=g.hasDomProp('width')}if(c){if(!isNaN(b.width=h.measureOwnerWidth(a))){a.setWidth(b.width,!1);b.gotWidth=!0;++d}}}}}if(t.shrinkWrap&&a.consumersContentHeight){++m;o=!(v&2);if(r){if(o){b.contentHeight=0;b.gotHeight=!0;++d}else {if((b.contentHeight=a.getProp('contentHeight'))!==undefined){b.gotHeight=!0;++d}}}else {e=q.contentHeight;if(typeof e=='number'){b.contentHeight=e;b.gotHeight=!0;++d}else {if(o){c=!0}else {if(!a.hasDomProp('containerChildrenSizeDone')){c=!1}else {if(u.noWrap){c=!0}else {if(!s.shrinkWrap){c=(a.bodyContext||a).hasDomProp('width')}else {if(n||!g||g.widthModel.shrinkWrap){c=!0}else {c=g.hasDomProp('width')}}}}}if(c){if(o){f=0}else {if(i&&i.measureContentHeight){f=i.measureContentHeight(a)}else {if(j.cacheHeight){l=j.xtype+'-'+j.ui;k=h.heightCache;f=k[l]||(k[l]=h.measureContentHeight(a))}else {f=h.measureContentHeight(a)}}}if(!isNaN(b.contentHeight=f)){a.setContentHeight(f,!0);b.gotHeight=!0;++d}}}}}else {if(t.natural&&a.consumersHeight){++m;e=q.height;if(typeof e=='number'){b.height=e;b.gotHeight=!0;++d}else {if(n||!g){c=!0}else {c=g.hasDomProp('width')}if(c){if(!isNaN(b.height=h.measureOwnerHeight(a))){a.setHeight(b.height,!1);b.gotHeight=!0;++d}}}}}if(g){a.onBoxMeasured()}b.gotAll=d==m;return b},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,'Component'],0);Ext.cmd.derive('Ext.layout.component.Auto',Ext.layout.component.Component,{type:'autocomponent',setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(d,f){var a=this,c=a.lastWidthModel,b=a.lastHeightModel,e=a.owner.el;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(c&&c.fixed&&d.widthModel.shrinkWrap){e.setWidth(null)}if(b&&b.fixed&&d.heightModel.shrinkWrap){e.setHeight(null)}},calculate:function(b){var a=this,c=a.measureAutoDimensions(b),f=b.heightModel,g=b.widthModel,e,d;if(c.gotWidth){if(g.shrinkWrap){a.publishOwnerWidth(b,c.contentWidth)}else {if(a.publishInnerWidth){a.publishInnerWidth(b,c.width)}}}else {if(!g.auto&&a.publishInnerWidth){e=a.waitForOuterWidthInDom?b.getDomProp('width'):b.getProp('width');if(e===undefined){a.done=!1}else {a.publishInnerWidth(b,e)}}}if(c.gotHeight){if(f.shrinkWrap){a.publishOwnerHeight(b,c.contentHeight)}else {if(a.publishInnerHeight){a.publishInnerHeight(b,c.height)}}}else {if(!f.auto&&a.publishInnerHeight){d=a.waitForOuterHeightInDom?b.getDomProp('height'):b.getProp('height');if(d===undefined){a.done=!1}else {a.publishInnerHeight(b,d)}}}if(!c.gotAll){a.done=!1}},calculateOwnerHeightFromContentHeight:function(b,a){return a+b.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(b,a){return a+b.getFrameInfo().width},publishOwnerHeight:function(b,h){var c=this,g=c.owner,a=c.calculateOwnerHeightFromContentHeight(b,h),d,f,e;if(isNaN(a)){c.done=!1}else {d=Ext.Number.constrain(a,g.minHeight,g.maxHeight);if(d==a){f=c.setHeightInDom}else {e=c.sizeModels[d<a?'constrainedMax':'constrainedMin'];a=d;if(b.heightModel.calculatedFromShrinkWrap){b.heightModel=e}else {b.invalidate({heightModel:e})}}b.setHeight(a,f)}},publishOwnerWidth:function(b,h){var c=this,g=c.owner,a=c.calculateOwnerWidthFromContentWidth(b,h),d,f,e;if(isNaN(a)){c.done=!1}else {d=Ext.Number.constrain(a,g.minWidth,g.maxWidth);if(d==a){f=c.setWidthInDom}else {e=c.sizeModels[d<a?'constrainedMax':'constrainedMin'];a=d;if(b.widthModel.calculatedFromShrinkWrap){b.widthModel=e}else {b.invalidate({widthModel:e})}}b.setWidth(a,f)}}},0,0,0,0,['layout.autocomponent'],0,[Ext.layout.component,'Auto'],0);Ext.cmd.derive('Ext.layout.component.ProgressBar',Ext.layout.component.Auto,{type:'progressbar',beginLayout:function(a){var d=this,c,b;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(!a.textEls){b=d.owner.textEl;if(b.isComposite){a.textEls=[];b=b.elements;for(c=b.length;c--;){a.textEls[c]=a.getEl(Ext.get(b[c]))}}else {a.textEls=[a.getEl('textEl')]}}},calculate:function(a){var e=this,d,b,c;Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);if(Ext.isNumber(c=a.getProp('width'))){c-=a.getBorderInfo().width;b=a.textEls;for(d=b.length;d--;){b[d].setWidth(c)}}else {e.done=!1}}},0,0,0,0,['layout.progressbar'],0,[Ext.layout.component,'ProgressBar'],0);Ext.cmd.derive('Ext.ProgressBar',Ext.Component,{config:{value:0},baseCls:'x-progress',animate:!1,text:'',waitTimer:null,childEls:['bar'],defaultBindProperty:'value',renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>','</tpl>','<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">','<div>{text}</div>','</div>','</tpl>','</div>'],componentLayout:'progressbar',ariaRole:'progressbar',initRenderData:function(){var a=this;return Ext.apply(Ext.Component.prototype.initRenderData.call(this),{internalText:!a.hasOwnProperty('textEl'),text:a.text||'&#160;',percentage:a.value?a.value*100:0})},onRender:function(){var a=this;Ext.Component.prototype.onRender.apply(this,arguments);if(a.textEl){a.textEl=Ext.get(a.textEl);a.updateText(a.text)}else {a.textEl=a.el.select('.'+a.baseCls+'-text')}},updateValue:function(a){this.updateProgress(a,Math.round(a*100)+'%')},updateProgress:function(e,b,c){var a=this,d=a.value;a.value=e||0;if(b){a.updateText(b)}if(a.rendered&&!a.isDestroyed){if(c===!0||c!==!1&&a.animate){a.bar.stopAnimation();a.bar.animate(Ext.apply({from:{width:d*100+'%'},to:{width:a.value*100+'%'}},a.animate))}else {a.bar.setStyle('width',a.value*100+'%')}}a.fireEvent('update',a,a.value,b);return a},updateText:function(b){var a=this;a.text=b;if(a.rendered){a.textEl.setHtml(a.text)}return a},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(a){var b=this,c;if(!b.waitTimer){c=b;a=a||{};b.updateText(a.text);b.waitTimer=Ext.TaskManager.start({run:function(d){var c=a.increment||10;d-=1;b.updateProgress(((d+c)%c+1)*(100/c)*0.01,null,a.animate)},interval:a.interval||1000,duration:a.duration,onStop:function(){if(a.fn){a.fn.apply(a.scope||b)}b.reset()},scope:c})}return b},isWaiting:function(){return this.waitTimer!==null},reset:function(b){var a=this;a.updateProgress(0);a.clearTimer();if(b===!0){a.hide()}return a},clearTimer:function(){var a=this;if(a.waitTimer){a.waitTimer.onStop=null;Ext.TaskManager.stop(a.waitTimer);a.waitTimer=null}},onDestroy:function(){var a=this,b=a.bar;a.clearTimer();if(a.rendered){if(a.textEl.isComposite){a.textEl.clear()}Ext.destroyMembers(a,'textEl','progressBar');if(b&&a.animate){b.stopAnimation()}}Ext.Component.prototype.onDestroy.call(this)}},0,['progressbar'],['component','box','progressbar'],{'component':!0,'box':!0,'progressbar':!0},['widget.progressbar'],0,[Ext,'ProgressBar'],0);Ext.cmd.derive('Ext.ShadowPool',Ext.Base,{singleton:!0,markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>','x-',Ext.isIE&&!Ext.supports.CSS3BoxShadow?'ie':'css')}(),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml('afterBegin',document.body,this.markup));a.autoBoxAdjust=!1}return a},push:function(a){this.shadows.push(a)},reset:function(){var b=[].concat(this.shadows),a,c=b.length;for(a=0;a<c;a++){b[a].destroy()}this.shadows=[]}},0,0,0,0,0,0,[Ext,'ShadowPool'],0);Ext.cmd.derive('Ext.Shadow',Ext.Base,{localXYNames:{get:'getLocalXY',set:'setLocalXY'},constructor:function(e){var d=this,c,a,b;Ext.apply(d,e);if(!Ext.isString(d.mode)){d.mode=d.defaultMode}a=d.offset;b=Math.floor(a/2);d.opacity=50;switch(d.mode.toLowerCase()){case 'drop':if(Ext.supports.CSS3BoxShadow){c={t:a,l:a,h:-a,w:-a}}else {c={t:-b,l:-b,h:-b,w:-b}};break;case 'sides':if(Ext.supports.CSS3BoxShadow){c={t:a,l:0,h:-a,w:0}}else {c={t:-(1+b),l:1+b-2*a,h:-1,w:b-1}};break;case 'frame':if(Ext.supports.CSS3BoxShadow){c={t:0,l:0,h:0,w:0}}else {c={t:1+b-2*a,l:1+b-2*a,h:a-b-1,w:a-b-1}};break;case 'bottom':if(Ext.supports.CSS3BoxShadow){c={t:a,l:0,h:-a,w:0}}else {c={t:a,l:0,h:0,w:0}};break;}d.adjusts=c},getShadowSize:function(){var b=this,a=b.el?b.offset:0,c=[a,a,a,a],d=b.mode.toLowerCase();if(b.el&&d!=='frame'){c[0]=0;if(d=='drop'){c[3]=0}}return c},offset:4,defaultMode:'drop',boxShadowProperty:function(){var a='boxShadow',b=document.documentElement.style;if(!('boxShadow' in b)){if('WebkitBoxShadow' in b){a='WebkitBoxShadow'}else {if('MozBoxShadow' in b){a='MozBoxShadow'}}}return a}(),show:function(b){var a=this,d,c;b=Ext.get(b);d=parseInt(b.getStyle('z-index'),10)-1||0;c=b[a.localXYNames.get]();if(!a.el){a.el=Ext.ShadowPool.pull();if(a.fixed){a.el.dom.style.position='fixed'}else {a.el.dom.style.position=''}if(a.el.dom.nextSibling!=b.dom){a.el.insertBefore(b)}}a.el.setStyle('z-index',a.zIndex||d);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a.el.dom.style.filter='progid:DXImageTransform.Microsoft.alpha(opacity='+a.opacity+') progid:DXImageTransform.Microsoft.Blur(pixelradius='+a.offset+')'}a.realign(c[0],c[1],b.dom.offsetWidth,b.dom.offsetHeight);a.el.dom.style.display='block'},isVisible:function(){return this.el?!0:!1},realign:function(j,k,i,h){if(!this.el){return}var b=this.adjusts,g=this.el,a=g.dom.style,f,e,d,c;g[this.localXYNames.set](j+b.l,k+b.t);f=Math.max(i+b.w,0);e=Math.max(h+b.h,0);d=f+'px';c=e+'px';if(a.width!=d||a.height!=c){a.width=d;a.height=c;if(Ext.supports.CSS3BoxShadow){a[this.boxShadowProperty]='0 0 '+(this.offset+2)+'px #888'}}},hide:function(){var a=this;if(a.el){a.el.dom.style.display='none';Ext.ShadowPool.push(a.el);delete a.el}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle('z-index',a)}},setOpacity:function(a){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a=Math.floor(a*100/2)/100}this.opacity=a;this.el.setOpacity(a)}}},1,0,0,0,0,0,[Ext,'Shadow'],0);Ext.cmd.derive('Ext.app.EventDomain',Ext.Base,{statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){var a=this;if(!a.isInstance){Ext.app.EventDomain.instances[a.type]=a}a.bus={};a.monitoredClasses=[]},dispatch:function(k,n,l){var i=this,m=i.bus,b=m[n],c,a,h,g,e,j,d,f;if(!b){return !0}for(c in b){if(b.hasOwnProperty(c)&&i.match(k,c,i.controller)){a=b[c];for(h in a){if(a.hasOwnProperty(h)){g=a[h];if(g.controller.isActive()){e=g.list;j=e.length;for(d=0;d<j;d++){f=e[d];if(f.fire.apply(f,l)===!1){return !1}}}}}}}return !0},listen:function(o,f){var l=this,q=l.bus,s=l.idProperty,m=l.monitoredClasses,r=m.length,n=f.getId(),i,d,p,b,c,a,h,k,g,e,j;for(b in o){g=o[b];if(g){if(s){b=b==='*'?b:b.substring(1)}for(e in g){c=null;a=g[e];h=f;k=new Ext.util.Event(f,e);if(Ext.isObject(a)){c=a;a=c.fn;h=c.scope||f;delete c.fn;delete c.scope}if(typeof a==='string'){a=h[a]}k.addListener(a,h,c);for(i=0;i<r;++i){j=m[i].hasListeners;if(j){j._incr_(e)}}d=q[e]||(q[e]={});d=d[b]||(d[b]={});p=d[n]||(d[n]={controller:f,list:[]});p.list.push(k)}}}},match:function(c,b){var a=this.idProperty;if(a){return b==='*'||c[a]===b}return !1},monitor:function(a){var c=this,b=a.isInstance?a:a.prototype,d=b.doFireEvent;c.monitoredClasses.push(a);b.doFireEvent=function(e,f){var b=d.apply(this,arguments);if(b!==!1&&!this.isSuspended(e)){b=c.dispatch(this,e,f)}return b}},unlisten:function(f){var j=this.bus,l=f,m=this.monitoredClasses,p=m.length,e,k,a,o,i,n,g,b,c,h,d;if(f.isController){l=f.getId()}for(k in j){if(j.hasOwnProperty(k)&&(g=j[k])){for(n in g){e=g[n];h=e[l];if(h){a=h.list;if(a){for(b=0,o=a.length;b<o;++b){i=a[b];i.clearListeners();for(c=0;c<p;++c){d=m[c].hasListeners;if(d){d._decr_(i.name)}}}delete e[l]}}}}}},destroy:function(){this.monitoredClasses=this.bus=null}},1,0,0,0,0,0,[Ext.app,'EventDomain'],0);Ext.cmd.derive('Ext.app.domain.Component',Ext.app.EventDomain,{singleton:!0,type:'component',constructor:function(){var a=this,b=Ext.Component;a.callParent();a.monitor(Ext.Widget);if(!b.prototype.isWidget){a.monitor(b)}},dispatch:function(c,e,d){var a=c.lookupReferenceHolder(!1),b;while(a){if(a.isViewController){b=a.compDomain;if(b){if(b.dispatch(c,e,d)===!1){return !1}}}a=a.lookupReferenceHolder()}return this.callParent(arguments)},match:function(b,a){return b.is(a)}},1,0,0,0,0,0,[Ext.app.domain,'Component'],0);Ext.cmd.derive('Ext.app.EventBus',Ext.Base,{singleton:!0,constructor:function(){var a=this,b=Ext.app.EventDomain.instances;a.callParent();a.domains=b;a.bus=b.component.bus},control:function(b,a){return this.domains.component.listen(b,a)},listen:function(b,c){var d=this.domains,a;for(a in b){if(b.hasOwnProperty(a)){d[a].listen(b[a],c)}}},unlisten:function(c){var a=Ext.app.EventDomain.instances,b;for(b in a){a[b].unlisten(c)}}},1,0,0,0,0,0,[Ext.app,'EventBus'],0);Ext.cmd.derive('Ext.app.domain.Global',Ext.app.EventDomain,{singleton:!0,type:'global',listen:function(a,b){a.scope=a.scope||b;Ext.on(a)},match:Ext.returnTrue},0,0,0,0,0,0,[Ext.app.domain,'Global'],0);Ext.cmd.derive('Ext.app.BaseController',Ext.Base,{isController:!0,config:{id:null,control:null,listen:null},constructor:function(b){var a=this;a.mixins.observable.constructor.call(a,b);delete a.control;delete a.listen;a.eventbus=Ext.app.EventBus;a.initConfig(b)},applyListen:function(a){if(Ext.isObject(a)){a=Ext.clone(a)}return a},applyControl:function(a){if(Ext.isObject(a)){a=Ext.clone(a)}return a},updateControl:function(a){if(a){this.ensureId&&this.ensureId();this.control(a)}},updateListen:function(a){if(a){this.ensureId&&this.ensureId();this.listen(a)}},isActive:function(){return !0},control:function(b,c,f){var e=this,d=f,a;if(Ext.isString(b)){a={};a[b]=c}else {a=b;d=c}e.eventbus.control(a,d||e)},listen:function(b,a){this.eventbus.listen(b,a||this)},destroy:function(){var a=this.eventbus;if(a){a.unlisten(this);this.eventbus=null}},redirectTo:function(a,c){if(!c){var b=Ext.util.History.getToken();if(b===a){return !1}}else {Ext.app.route.Router.onStateChange(a)}Ext.util.History.add(a);return !0}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.app,'BaseController'],0);Ext.cmd.derive('Ext.app.Util',Ext.Base,{},0,0,0,0,0,0,[Ext.app,'Util'],function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},collectNamespaces:function(b){var c=Ext.app.namespaces,a;for(a in b){if(b.hasOwnProperty(a)){c[a]=!0}}},addNamespaces:function(a){var d=Ext.app.namespaces,b,c;if(!Ext.isArray(a)){a=[a]}for(b=0,c=a.length;b<c;b++){d[a[b]]=!0}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(d){var c=Ext.app.namespaces,b='',a;for(a in c){if(c.hasOwnProperty(a)&&a.length>b.length&&a+'.'===d.substring(0,a.length+1)){b=a}}return b===''?undefined:b}})});Ext.cmd.derive('Ext.app.domain.Store',Ext.app.EventDomain,{singleton:!0,type:'store',idProperty:'storeId',constructor:function(){var a=this;a.callParent();a.monitor(Ext.data.AbstractStore)}},1,0,0,0,0,0,[Ext.app.domain,'Store'],0);Ext.cmd.derive('Ext.app.route.Queue',Ext.Base,{queue:null,token:null,constructor:function(a){Ext.apply(this,a);this.queue=new Ext.util.MixedCollection()},queueAction:function(a,b){this.queue.add({route:a,args:b})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var c=this.queue,a=c.removeAt(0),b;if(a){b=a&&a.route;b.execute(this.token,a.args,this.onActionExecute,this)}},onActionExecute:function(a){if(a){this.clearQueue()}else {this.runQueue()}}},1,0,0,0,0,0,[Ext.app.route,'Queue'],0);Ext.cmd.derive('Ext.app.route.Route',Ext.Base,{action:null,conditions:null,controller:null,allowInactive:!1,url:null,before:null,caseInsensitive:!1,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(c){var a=this,b;Ext.apply(a,c,{conditions:{}});b=a.url;a.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);a.paramsInMatchString=b.match(a.paramMatchingRegex)||[];a.matcherRegex=a.createMatcherRegex(b)},recognize:function(b){var a=this,d=a.controller,e,c;if((a.allowInactive||d.isActive())&&a.recognizes(b)){e=a.matchesFor(b);c=b.match(a.matcherRegex);c.shift();return Ext.applyIf(e,{controller:d,action:a.action,historyUrl:b,args:c})}return !1},recognizes:function(a){return this.matcherRegex.test(a)},execute:function(h,d,f,g){var e=d.args||[],a=this.before,c=this.controller,b=this.createCallback(d,f,g);if(a){e.push(b);if(Ext.isString(a)){a=this.before=c[a]}if(a){a.apply(c,e)}}else {b.resume()}},matchesFor:function(f){var b={},d=this.paramsInMatchString,c=f.match(this.matcherRegex),a=0,e=d.length;c.shift();for(;a<e;a++){b[d[a].replace(':','')]=c[a]}return b},createMatcherRegex:function(b){var d=this.paramsInMatchString,g=this.conditions,c=0,j=d.length,i=Ext.util.Format.format,h=this.caseInsensitive?'i':'',a,f,e;for(;c<j;c++){a=d[c];f=g[a];e=i('{0}',f||'([%a-zA-Z0-9\\-\\_\\s,]+)');b=b.replace(new RegExp(a),e)}return new RegExp('^'+b+'$',h)},createCallback:function(a,d,c){var b=this;return {resume:function(h){if(h==undefined){var g=b.controller,e=b.action,f;if(Ext.isString(e)){e=b.action=g[e]}a=a&&a.args?a.args:[];f=a.pop();if(f&&!Ext.isObject(f)){a.push(f)}if(e){e.apply(g,a)}}if(d){c=c||b;d.call(c,h)}}}}},1,0,0,0,0,0,[Ext.app.route,'Route'],0);Ext.cmd.derive('Ext.util.History',Ext.Base,{singleton:!0,alternateClassName:'Ext.History',useTopWindow:!0,constructor:function(){var a=this,c,b;a.hiddenField=null;a.ready=!1;a.currentToken=null;a.mixins.observable.constructor.call(a);a.onHashChange=function(){b=a.getHash();if(b!==c){c=b;a.handleStateChange(c)}}},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(a){try{this.win.location.hash=a;this.currentToken=a}catch(b){}},handleStateChange:function(a){this.currentToken=a;this.fireEvent('change',a)},startUp:function(){var a=this;a.currentToken=a.getHash();if(Ext.supports.Hashchange){Ext.Element.on(a.win,'hashchange',a.onHashChange)}else {Ext.TaskManager.start({fireIdleEvent:!1,run:a.onHashChange,interval:50})}a.ready=!0;a.fireEvent('ready',a)},init:function(b,c){var a=this;if(a.ready){Ext.callback(b,c,[a]);return}if(!Ext.isReady){Ext.onReady(function(){a.init(b,c)});return}a.win=a.useTopWindow?window.top:window;if(b){a.on('ready',b,c,{single:!0})}a.startUp()},add:function(a,d){var c=this,b=!1;if(d===!1||c.getToken()!==a){c.setHash(a);b=!0}return b},back:function(){var a=this.useTopWindow?window.top:window;a.history.go(-1)},forward:function(){var a=this.useTopWindow?window.top:window;a.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.util,'History',Ext,'History'],0);Ext.cmd.derive('Ext.app.route.Router',Ext.Base,{singleton:!0,multipleToken:'|',queueRoutes:!0,constructor:function(){var a=Ext.util.History;if(!a.ready){a.init()}a.on('change',this.onStateChange,this);this.clear()},onStateChange:function(a){var d=this,l=d.application,j=d.routes,n=j.length,f=d.queueRoutes,k=a.split(d.multipleToken),i=0,m=k.length,e,h,b,c,g;for(;i<m;i++){a=k[i];g=!1;if(f){h=new Ext.app.route.Queue({token:a})}for(e=0;e<n;e++){b=j[e];c=b.recognize(a);if(c){g=!0;if(f){h.queueAction(b,c)}else {b.execute(a,c)}}}if(f){h.runQueue()}if(!g&&l){l.fireEvent('unmatchedroute',a)}}},connect:function(d,a,c){var b={url:d,action:a,controller:c};if(Ext.isObject(a)){Ext.merge(b,a)}this.routes.push(new Ext.app.route.Route(b))},disconnectAll:function(e){var d=this.routes,f=d.length,c=[],a,b;for(a=0;a<f;++a){b=d[a];if(b.controller!==e){c.push(b)}}this.routes=c},recognize:function(f){var d=this.routes||[],c=0,e=d.length,a,b;for(;c<e;c++){a=d[c];b=a.recognize(f);if(b){return {route:a,args:b}}}return !1},draw:function(a){a.call(this,this)},clear:function(){this.routes=[]}},1,0,0,0,0,0,[Ext.app.route,'Router'],0);Ext.cmd.derive('Ext.app.Controller',Ext.app.BaseController,{statics:{strings:{model:{getter:'getModel',upper:'Model'},view:{getter:'getView',upper:'View'},controller:{getter:'getController',upper:'Controller'},store:{getter:'getStore',upper:'Store'}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(f,d){var b='get',c=f.split('.'),e=c.length,a;for(a=0;a<e;a++){b+=Ext.String.capitalize(c[a])}b+=d;return b},processDependencies:function(o,n,m,d,a){if(!a||!a.length){return}var b=this,j=b.strings[d],f,g,i,e,c,l,h,k;if(!Ext.isArray(a)){a=[a]}for(c=0,l=a.length;c<l;c++){e=a[c];f=b.getFullName(e,d,m);g=f.absoluteName;i=f.shortName;n.push(g);h=b.getGetterName(i,j.upper);o[h]=k=b.createGetter(j.getter,e);if(d!=='controller'){k['Ext.app.getter']=!0}}},getFullName:function(a,f,e){var c=a,d,b;if((d=a.indexOf('@'))>0){c=a.substring(0,d);b=a.substring(d+1)+'.'+c}else {if(a.indexOf('.')>0&&(Ext.ClassManager.isCreated(a)||this.hasRegisteredPrefix(a))){b=a}else {if(e){b=e+'.'+f+'.'+a;c=a}else {b=a}}}return {absoluteName:b,shortName:c}},hasRegisteredPrefix:function(a){var c=Ext.ClassManager,b=c.getPrefix(a);return b&&b!==a}},config:{application:null,refs:null,active:!0,routes:null,before:null,moduleClassName:null},onClassExtended:function(d,c,a){var b=a.onBeforeCreated;a.onBeforeCreated=function(l,h){var i=Ext.app.Controller,m=i.controllerRegex,f=[],j,e,f,g,k;g=l.prototype;j=Ext.getClassName(l);e=h.$namespace||h.namespace||Ext.app.getNamespace(j)||(k=m.exec(j))&&k[1];if(e){g.$namespace=e}i.processDependencies(g,f,e,'model',h.models);i.processDependencies(g,f,e,'view',h.views);i.processDependencies(g,f,e,'store',h.stores);i.processDependencies(g,f,e,'controller',h.controllers);Ext.require(f,Ext.Function.pass(b,arguments,this))}},constructor:function(a){Ext.app.BaseController.prototype.constructor.apply(this,arguments);this.initAutoGetters()},normalizeRefs:function(a){var c=this,b=[];if(a){if(Ext.isObject(a)){Ext.Object.each(a,function(d,c){if(Ext.isString(c)){c={selector:c}}c.ref=d;b.push(c)})}else {if(Ext.isArray(a)){b=Ext.Array.merge(b,a)}}}a=c.refs;if(a){c.refs=null;a=c.normalizeRefs(a);if(a){b=Ext.Array.merge(b,a)}}return b},applyRefs:function(a){return this.normalizeRefs(Ext.clone(a))},updateRefs:function(a){if(a){this.ref(a)}},updateRoutes:function(b){if(b){var e=this,f=e.getBefore()||{},g=Ext.app.route.Router,c,a,d;for(c in b){a=b[c];if(Ext.isString(a)){a={action:a}}d=a.action;if(!a.before){a.before=f[d]}g.connect(c,a,e)}}},initAutoGetters:function(){var b=this.self.prototype,c,a;for(c in b){a=b[c];if(a&&a['Ext.app.getter']){a.call(this)}}},doInit:function(b){var a=this;if(!a._initialized){a.init(b);a._initialized=!0}},finishInit:function(f){var c=this,a=c.controllers,d,b,e;if(c._initialized&&a&&a.length){for(b=0,e=a.length;b<e;b++){d=c.getController(a[b]);d.finishInit(f)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)},isActive:function(){return this.getActive()},ref:function(b){var a=this,f=0,g=b.length,d,c,e;b=Ext.Array.from(b);a.references=a.references||[];for(;f<g;f++){d=b[f];c=d.ref;e='get'+Ext.String.capitalize(c);if(!a[e]){a[e]=Ext.Function.pass(a.getRef,[c,d],a)}a.references.push(c.toLowerCase())}},addRef:function(a){this.ref(a)},getRef:function(d,a,e){var f=this,c=f.refCache||(f.refCache={}),b=c[d];a=a||{};e=e||{};Ext.apply(a,e);if(a.forceCreate){return Ext.ComponentManager.create(a,'component')}if(!b){if(a.selector){c[d]=b=Ext.ComponentQuery.query(a.selector)[0]}if(!b&&a.autoCreate){c[d]=b=Ext.ComponentManager.create(a,'component')}if(b){b.on('beforedestroy',function(){c[d]=null})}}return b},hasRef:function(b){var a=this.references;return a&&Ext.Array.indexOf(a,b.toLowerCase())!==-1},getController:function(b){var a=this.application;if(b===this.getId()){return this}return a&&a.getController(b)},getStore:function(a){var c,b;c=a.indexOf('@')===-1?a:a.split('@')[0];b=Ext.StoreManager.get(c);if(!b){a=Ext.app.Controller.getFullName(a,'store',this.$namespace);if(a){b=Ext.create(a.absoluteName,{storeId:c})}}return b},getModel:function(b){var c=Ext.app.Controller.getFullName(b,'model',this.$namespace),a=Ext.ClassManager.get(c.absoluteName);if(!a){a=Ext.data.schema.Schema.lookupEntity(b)}return a},getView:function(b){var a=Ext.app.Controller.getFullName(b,'view',this.$namespace);return a&&Ext.ClassManager.get(a.absoluteName)},ensureId:function(){var a=this.getId();if(!a){this.setId(this.getModuleClassName(this.$className,'controller'))}},destroy:function(e,f){var a=this,d=a.application,b,c;Ext.app.route.Router.disconnectAll(a);if(!f&&d){d.unregister(a)}a.application=null;if(e){b=a.refCache;for(c in b){if(b.hasOwnProperty(c)){Ext.destroy(b[c])}}}Ext.app.BaseController.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app,'Controller'],0);Ext.cmd.derive('Ext.panel.Tool',Ext.Component,{isTool:!0,baseCls:'x-tool',disabledCls:'x-tool-disabled',toolPressedCls:'x-tool-pressed',toolOverCls:'x-tool-over',ariaRole:'button',childEls:['toolEl'],renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:'qtip',stopEvent:!0,cacheHeight:!0,cacheWidth:!0,initComponent:function(){var a=this;a.type=a.type||a.id;Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type});a.tooltip=a.tooltip||a.qtip;Ext.Component.prototype.initComponent.call(this)},afterRender:function(){var a=this,b;Ext.Component.prototype.afterRender.apply(this,arguments);a.el.on({click:a.onClick,mousedown:a.onMouseDown,mouseover:a.onMouseOver,mouseout:a.onMouseOut,scope:a});b=a.tooltip;if(b){a.setTooltip(b)}},getFocusEl:function(){return this.el},tipAttrs:{qtip:'data-qtip'},setTooltip:function(b,c){var a=this,g=a.tooltip,d=a.tooltipType,h=a.id,f=a.el,e;if(g&&Ext.quickTipsActive&&Ext.isObject(g)){Ext.tip.QuickTipManager.unregister(h)}a.tooltip=b;if(c){a.tooltipType=c}if(b){if(Ext.quickTipsActive&&Ext.isObject(b)){Ext.tip.QuickTipManager.register(Ext.apply({target:h},b))}else {if(f){if(c&&d&&c!==d){e=a.tipAttrs[d]||'title';f.dom.removeAttribute(e)}e=a.tipAttrs[c||d]||'title';f.dom.setAttribute(e,b)}}}},setType:function(b){var a=this,c=a.type;a.type=b;if(a.rendered){if(c){a.toolEl.removeCls(a.baseCls+'-'+c)}a.toolEl.addCls(a.baseCls+'-'+b)}else {a.renderData.type=b}return a},onClick:function(b,c){var a=this;if(a.disabled){return !1}a.el.removeCls(a.toolPressedCls+' '+a.toolOverCls);if(a.stopEvent!==!1){b.stopEvent()}if(a.handler){Ext.callback(a.handler,a.scope,[b,c,a.ownerCt,a],0,a)}else {if(a.callback){Ext.callback(a.callback,a.scope,[a.toolOwner||a.ownerCt,a,b],0,a)}}a.fireEvent('click',a,b,a.toolOwner||a.ownerCt);return !0},onDestroy:function(){var a=this,b=a.keyMap;a.setTooltip(null);if(b){b.destroy();a.keyMap=null}delete a.toolOwner;Ext.Component.prototype.onDestroy.call(this)},onMouseDown:function(){if(this.disabled){return !1}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return !1}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}},0,['tool'],['component','box','tool'],{'component':!0,'box':!0,'tool':!0},['widget.tool'],0,[Ext.panel,'Tool'],0);Ext.cmd.derive('Ext.panel.Header',Ext.container.Container,{isHeader:!0,defaultType:'tool',indicateDrag:!1,weight:-1,componentLayout:'body',childEls:['body'],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl> role="presentation">','{%this.renderContainer(out,values)%}','</div>'],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on"','<tpl if="headerRole">',' role="{headerRole}"','</tpl>','>{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:'x-header',initComponent:function(){var a=this,f=a.hasOwnProperty('titlePosition'),b=a.items,c=f?a.titlePosition:0,g=[a.orientation,a.getDockName()],e=a.ownerCt,d=a.itemPosition,h;a.indicateDragCls=a.headerCls+'-draggable';a.title=a.title||'&#160;';a.tools=a.tools||[];a.items=b=b?b.slice():[];a.orientation=a.orientation||'horizontal';a.dock=a.dock?a.dock:a.orientation=='horizontal'?'top':'left';if(d!==undefined){h=b.slice();a.items=b=[]}if(e?e.border===!1&&!e.frame:a.border===!1){g.push(a.orientation+'-noborder')}a.addClsWithUI(g);a.addCls([a.headerCls,a.headerCls+'-'+a.orientation]);if(a.indicateDrag){a.addCls(a.indicateDragCls)}if(a.iconCls||a.icon||a.glyph){a.initIconCmp();if(!f&&!b.length){++c}b.push(a.iconCmp)}a.titleCmp=new Ext.Component({ariaRole:'presentation',focusable:!1,noWrap:!0,flex:1,rtl:a.rtl,id:a.id+'_hd',style:a.titleAlign?'text-align:'+a.titleAlign:'',cls:a.headerCls+'-text-container '+a.baseCls+'-text-container '+a.baseCls+'-text-container-'+a.ui,renderTpl:a.getTpl('headingTpl'),renderData:{title:a.title,cls:a.baseCls,headerCls:a.headerCls,headerRole:a.headerRole,ui:a.ui},childEls:['textEl'],autoEl:{unselectable:'on'},listeners:{render:a.onTitleRender,scope:a}});a.layout=a.orientation=='vertical'?{type:'vbox',align:'center',alignRoundingMethod:'ceil'}:{type:'hbox',align:'middle',alignRoundingMethod:'floor'};Ext.Array.push(b,a.tools);a.tools.length=0;Ext.container.Container.prototype.initComponent.call(this);if(b.length<c){c=b.length}a.titlePosition=c;a.insert(c,a.titleCmp);if(d!==undefined){a.insert(d,h)}a.on({dblclick:a.onDblClick,click:a.onClick,element:'el',scope:a})},setTitlePosition:function(b){var a=this;a.titlePosition=b=Math.min(b,a.items.length-1);a.insert(b,a.titleCmp)},initIconCmp:function(){var a=this,c=[a.headerCls+'-icon',a.baseCls+'-icon',a.iconCls],b;if(a.glyph){c.push(a.baseCls+'-glyph')}b={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:c,baseCls:a.baseCls+'-icon',id:a.id+'-iconEl',iconCls:a.iconCls,glyph:a.glyph};if(!Ext.isEmpty(a.icon)){delete b.iconCls;b.src=a.icon}a.iconCmp=new Ext.Img(b)},beforeRender:function(){this.protoEl.unselectable();Ext.container.Container.prototype.beforeRender.call(this)},afterLayout:function(){var a=this,e,b,c,d;if(a.orientation==='vertical'){a.adjustTitlePosition();b=a.frameTR;if(b){e=a.frameBR;c=a.frameTL;d=a.getWidth()-b.getPadding('r')-(c?c.getPadding('l'):a.el.getBorderWidth('l'))+'px';e.setStyle('background-position-x',d);b.setStyle('background-position-x',d)}}},beforeLayout:function(){Ext.container.Container.prototype.beforeLayout.call(this);this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var b=this.titleCmp,a;if(!Ext.isIE9m&&b){a=b.el;a.setStyle('left',a.getWidth()+'px')}},onTitleRender:function(){if(this.orientation==='vertical'){this.titleCmp.el.setVertical(90)}},addUIClsToElement:function(e){var a=this,f=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments),c=[a.baseCls+'-body-'+e,a.baseCls+'-body-'+a.ui+'-'+e],d,b;if(a.bodyCls){d=a.bodyCls.split(' ');for(b=0;b<c.length;b++){if(!Ext.Array.contains(d,c[b])){d.push(c[b])}}a.bodyCls=d.join(' ')}else {a.bodyCls=c.join(' ')}return f},removeUIClsFromElement:function(e){var a=this,f=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments),d=[a.baseCls+'-body-'+e,a.baseCls+'-body-'+a.ui+'-'+e],c,b;if(a.bodyCls){c=a.bodyCls.split(' ');for(b=0;b<d.length;b++){Ext.Array.remove(c,d[b])}a.bodyCls=c.join(' ')}return f},addUIToElement:function(){var a=this,c,b;Ext.container.Container.prototype.addUIToElement.apply(this,arguments);b=a.baseCls+'-body-'+a.ui;if(a.rendered){if(a.bodyCls){a.body.addCls(a.bodyCls)}else {a.body.addCls(b)}}else {if(a.bodyCls){c=a.bodyCls.split(' ');if(!Ext.Array.contains(c,b)){c.push(b)}a.bodyCls=c.join(' ')}else {a.bodyCls=b}}if(a.titleCmp&&a.titleCmp.rendered){a.titleCmp.addCls(a.baseCls+'-text-container-'+a.ui)}},removeUIFromElement:function(){var a=this,c,b;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);b=a.baseCls+'-body-'+a.ui;if(a.rendered){if(a.bodyCls){a.body.removeCls(a.bodyCls)}else {a.body.removeCls(b)}}else {if(a.bodyCls){c=a.bodyCls.split(' ');Ext.Array.remove(c,b);a.bodyCls=c.join(' ')}else {a.bodyCls=b}}if(a.titleCmp&&a.titleCmp.rendered){a.titleCmp.removeCls(a.baseCls+'-text-container-'+a.ui)}},onClick:function(a){this.fireClickEvent('click',a)},onDblClick:function(a){this.fireClickEvent('dblclick',a)},fireClickEvent:function(c,a){var b='.'+Ext.panel.Tool.prototype.baseCls;if(!a.getTarget(b)){this.fireEvent(c,this,a)}},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(a){this.bodyTargetCls=a},setTitle:function(c){var a=this,b=a.titleCmp;a.title=c;if(b.rendered){b.textEl.setHtml(a.title||'&#160;');b.updateLayout()}else {a.titleCmp.on({render:function(){a.setTitle(c)},single:!0})}},getMinWidth:function(){var d=this,e=d.titleCmp.textEl.dom,b,c=d.tools,f,a;e.style.display='inline';b=e.offsetWidth;e.style.display='';if(c&&(f=c.length)){for(a=0;a<f;a++){if(c[a].el){b+=c[a].el.dom.offsetWidth}}}if(d.iconCmp){b+=d.iconCmp.el.dom.offsetWidth}return b+10},setIconCls:function(c){var a=this,d=!c||!c.length,b=a.iconCmp;a.iconCls=c;if(!a.iconCmp&&!d){a.initIconCmp();a.insert(0,a.iconCmp)}else {if(b){if(d){a.iconCmp.destroy();delete a.iconCmp}else {b.removeCls(b.iconCls);b.addCls(c);b.iconCls=c}}}},setIcon:function(b){var a=this,d=!b||!b.length,c=a.iconCmp;a.icon=b;if(!a.iconCmp&&!d){a.initIconCmp();a.insert(0,a.iconCmp)}else {if(c){if(d){a.iconCmp.destroy();delete a.iconCmp}else {c.setSrc(a.icon)}}}},setGlyph:function(b){var a=this,c=a.iconCmp;if(!a.iconCmp){a.initIconCmp();a.insert(0,a.iconCmp)}else {if(c){if(b){a.iconCmp.setGlyph(b)}else {a.iconCmp.destroy();delete a.iconCmp}}}},getTools:function(){return this.tools.slice()},addTool:function(a){this.add(Ext.ComponentManager.create(a,'tool'))},syncBeforeAfterTitleClasses:function(l){var c=this,j=c.items,i=j.items,h=c.titlePosition,k=i.length,g=j.generation,f=c.syncBeforeAfterGen,e,d,b,a;if(!l&&f===g){return}c.syncBeforeAfterGen=g;for(b=0;b<k;++b){a=i[b];e=a.afterTitleCls||(a.afterTitleCls=a.baseCls+'-after-title');d=a.beforeTitleCls||(a.beforeTitleCls=a.baseCls+'-before-title');if(!c.title||b<h){if(f){a.removeCls(e)}a.addCls(d)}else {if(b>h){if(f){a.removeCls(d)}a.addCls(e)}}}},onAdd:function(a,c){var b=this.tools;Ext.container.Container.prototype.onAdd.apply(this,arguments);if(a.isTool){b.push(a);b[a.type]=a}},initRenderData:function(){return Ext.applyIf(Ext.container.Container.prototype.initRenderData.call(this),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var a=this,c=Ext.container.Container.prototype.getFramingInfoCls.call(this),b=a.ownerCt;if(!a.expanding&&b&&(b.collapsed||a.isCollapsedExpander)){c+='-'+b.collapsedCls}return c+'-'+a.dock}},0,['header'],['component','box','container','header'],{'component':!0,'box':!0,'container':!0,'header':!0},['widget.header'],0,[Ext.panel,'Header'],0);Ext.define('Ext.toolbar.Fill',{extend:Ext.Component,alias:'widget.tbfill',alternateClassName:'Ext.Toolbar.Fill',ariaRole:'presentation',isFill:!0,flex:1});Ext.cmd.derive('Ext.layout.container.boxOverflow.None',Ext.Base,{alternateClassName:'Ext.layout.boxOverflow.None',constructor:function(b,a){this.layout=b;Ext.apply(this,a)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(b){var c=this,d=b.state.boxPlan,a;if(d&&d.tooNarrow){a=c.handleOverflow(b);if(a){if(a.reservedSpace){c.layout.publishInnerCtSize(b,a.reservedSpace)}}}else {c.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(e){var b=this,d=b.layout.owner,c,a;if(d.hasListeners.overflowchange){c=d.query('>[hidden]');a=c.length;if(a!==b.lastHiddenCount){d.fireEvent('overflowchange',b.lastHiddenCount,a,c);b.lastHiddenCount=a}}},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(b){var a;if(b.isToolbar){a='toolbar'}else {if(b.isTabBar){a='tabbar'}else {if(b.isMenu){a='menu'}else {a=b.getXType()}}}return a},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return ''}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,'None',Ext.layout.boxOverflow,'None'],0);Ext.define('Ext.toolbar.Item',{extend:Ext.Component,alias:'widget.tbitem',alternateClassName:'Ext.Toolbar.Item',enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define('Ext.toolbar.Separator',{extend:Ext.toolbar.Item,alias:'widget.tbseparator',alternateClassName:'Ext.Toolbar.Separator',baseCls:'x-toolbar-separator',focusable:!1,ariaRole:'separator'});Ext.cmd.derive('Ext.button.Manager',Ext.Base,{singleton:!0,alternateClassName:'Ext.ButtonToggleManager',groups:{},pressedButton:null,buttonSelector:'.x-btn',init:function(){var a=this;if(!a.initialized){Ext.getDoc().on({keydown:a.onDocumentKeyDown,mouseup:a.onDocumentMouseUp,scope:a});a.initialized=!0}},onDocumentKeyDown:function(a){var c=a.getKey(),b;if(c===a.SPACE||c===a.ENTER){b=a.getTarget(this.buttonSelector);if(b){Ext.getCmp(b.id).onClick(a)}}},onButtonMousedown:function(b,c){var a=this.pressedButton;if(a){a.onMouseUp(c)}this.pressedButton=b},onDocumentMouseUp:function(b){var a=this.pressedButton;if(a){a.onMouseUp(b);this.pressedButton=null}},toggleGroup:function(c,e){if(e){var b=this.groups[c.toggleGroup],d=b.length,a;for(a=0;a<d;a++){if(b[a]!==c){b[a].toggle(!1)}}}},register:function(a){var c=this,d=this.groups,b=d[a.toggleGroup];c.init();if(!a.toggleGroup){return}if(!b){b=d[a.toggleGroup]=[]}b.push(a);a.on('toggle',c.toggleGroup,c)},unregister:function(a){if(!a.toggleGroup){return}var b=this,c=b.groups[a.toggleGroup];if(c){Ext.Array.remove(c,a);a.un('toggle',b.toggleGroup,b)}},getPressed:function(d){var a=this.groups[d],b=0,c;if(a){for(c=a.length;b<c;b++){if(a[b].pressed===!0){return a[b]}}}return null}},0,0,0,0,0,0,[Ext.button,'Manager',Ext,'ButtonToggleManager'],0);Ext.cmd.derive('Ext.menu.Manager',Ext.Base,{singleton:!0,alternateClassName:'Ext.menu.MenuMgr',menuSelector:'.x-menu',menus:{},groups:{},attached:!1,lastShow:new Date(),init:function(){var a=this;a.active=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(a.active.length>0){a.hideAll()}},a)},hideAll:function(){var b=this.active,c,a,d;if(b&&b.length>0){c=Ext.Array.slice(b.items);d=c.length;for(a=0;a<d;a++){c[a].hide()}return !0}return !1},onHide:function(c){var a=this,b=a.active;b.remove(c);if(b.length<1){Ext.un('mousedown',a.onMouseDown,a);a.attached=!1}},onShow:function(b){var a=this,d=a.active,c=a.attached;a.lastShow=new Date();d.add(b);if(!c){Ext.on('mousedown',a.onMouseDown,a,{buffer:Ext.isIE9m?10:undefined});a.attached=!0}b.toFront()},onBeforeHide:function(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(b){var c=this.active,a=b.parentMenu;c.remove(b);if(!a&&!b.allowOtherMenus){this.hideAll()}else {if(a&&a.activeChild&&b!=a.activeChild){a.activeChild.hide()}}},onMouseDown:function(e){var b=this,d=b.active,c=d.length,f=b.lastShow,a;if(Ext.Date.getElapsed(f)>50&&c){if(Ext.isIE9m&&!Ext.getDoc().contains(e.target)){return}else {for(a=0;a<c;a++){if(d.items[a].owns(e.target)){return}}}b.hideAll()}},register:function(b){var a=this;if(!a.active){a.init()}if(b.floating){a.menus[b.id]=b;b.on({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})}},get:function(a){var b=this.menus;if(typeof a=='string'){if(!b){return null}return b[a]}else {if(a.isMenu){return a}else {if(Ext.isArray(a)){return new Ext.menu.Menu({items:a})}else {return Ext.ComponentManager.create(a,'menu')}}}},unregister:function(b){var a=this,d=a.menus,c=a.active;delete d[b.id];c.remove(b);b.un({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})},registerCheckable:function(c){var b=this.groups,a=c.group;if(a){if(!b[a]){b[a]=[]}b[a].push(c)}},unregisterCheckable:function(a){var c=this.groups,b=a.group;if(b){Ext.Array.remove(c[b],a)}},onCheckChange:function(d,h){var g=this.groups,e=d.group,c=0,a,f,b;if(e&&h){a=g[e];f=a.length;for(;c<f;c++){b=a[c];if(b!=d){b.setChecked(!1)}}}}},0,0,0,0,0,0,[Ext.menu,'Manager',Ext.menu,'MenuMgr'],0);Ext.cmd.derive('Ext.util.ClickRepeater',Ext.util.Observable,{constructor:function(c,b){var a=this;a.el=Ext.get(c);a.el.unselectable();Ext.apply(a,b);Ext.util.Observable.prototype.constructor.call(this);if(!a.disabled){a.disabled=!0;a.enable()}if(a.handler){a.on('click',a.handler,a.scope||a)}},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){if(this.disabled){this.el.on('mousedown',this.handleMouseDown,this);if(Ext.isIE8){this.el.on('dblclick',this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on('click',this.eventOptions,this)}}this.disabled=!1},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un('mouseup',this.handleMouseUp,this);this.el.clearListeners()}this.disabled=!0},setDisabled:function(a){this[a?'disable':'enable']()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(!0);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent('mousedown',this,a);this.fireEvent('click',this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on('mouseup',this.handleMouseUp,this);this.el.on('mouseout',this.handleMouseOut,this);this.fireEvent('mousedown',this,a);this.fireEvent('click',this,a);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent('click',this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(d,a,b,c){return d==c?a+b:b*(-Math.pow(2,-10*d/c)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on('mouseover',this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un('mouseover',this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un('mouseover',this.handleMouseReturn,this);this.el.un('mouseout',this.handleMouseOut,this);Ext.getDoc().un('mouseup',this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent('mouseup',this,a)}},1,0,0,0,0,0,[Ext.util,'ClickRepeater'],0);Ext.cmd.derive('Ext.layout.component.Button',Ext.layout.component.Auto,{type:'button',htmlRE:/<.*>/,beginLayout:function(a){var d=this,b=d.owner,c=b.text;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);a.btnWrapContext=a.getEl('btnWrap');a.btnElContext=a.getEl('btnEl');a.btnInnerElContext=a.getEl('btnInnerEl');a.btnIconElContext=a.getEl('btnIconEl');if(c&&d.htmlRE.test(c)){a.isHtmlText=!0;b.btnInnerEl.setStyle('line-height','normal');b.btnInnerEl.setStyle('padding-top','')}},beginLayoutCycle:function(e){var a=this.owner,d=this.lastWidthModel,c=this.lastHeightModel,b=a.btnInnerEl,f=a.getFrameInfo().table;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(d&&!d.shrinkWrap&&e.widthModel.shrinkWrap){a.btnWrap.setStyle('height','');a.btnEl.setStyle('height','');b.setStyle('line-height','');if(f){b.setStyle('width','')}}if(f&&c&&!c.shrinkWrap&&e.heightModel.shrinkWrap){b.setStyle('height','')}},calculate:function(a){var e=this,b=e.owner,k=a.btnElContext,i=a.btnInnerElContext,j=a.btnWrapContext,h=Math.max,d,f,c,g;Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);if(a.heightModel.shrinkWrap){c=b.btnEl.getHeight();if(a.isHtmlText){e.centerInnerEl(a,c)}}else {d=a.getProp('height');if(d){f=d-a.getFrameInfo().height-a.getPaddingInfo().height;c=f;if((b.menu||b.split)&&b.arrowAlign==='bottom'){c-=j.getPaddingInfo().bottom}g=c;if((b.icon||b.iconCls||b.glyph)&&(b.iconAlign==='top'||b.iconAlign==='bottom')){g-=i.getPaddingInfo().height}j.setProp('height',h(0,f));k.setProp('height',h(0,c));if(a.isHtmlText){e.centerInnerEl(a,c)}else {i.setProp('line-height',h(0,g)+'px')}}else {if(d!==0){e.done=!1}}}},centerInnerEl:function(b,c){var e=this,d=b.btnInnerElContext,a=e.owner.btnInnerEl.getHeight();if(b.heightModel.shrinkWrap&&c<a){b.btnElContext.setHeight(a)}else {if(c>a){d.setProp('padding-top',Math.round((c-a)/2)+d.getPaddingInfo().top)}}},publishInnerWidth:function(a,b){if(this.owner.getFrameInfo().table){a.btnInnerElContext.setWidth(b-a.getFrameInfo().width-a.getPaddingInfo().width-a.btnWrapContext.getPaddingInfo().width)}}},0,0,0,0,['layout.button'],0,[Ext.layout.component,'Button'],0);Ext.cmd.derive('Ext.util.TextMetrics',Ext.Base,{statics:{shared:null,measure:function(d,e,c){var b=this,a=b.shared;if(!a){a=b.shared=new b(d,c)}a.bind(d);a.setFixedWidth(c||'auto');return a.getSize(e)},destroy:function(){var a=this;Ext.destroy(a.shared);a.shared=null}},constructor:function(c,b){var d=this,a=Ext.getBody().createChild({role:'presentation',cls:'x-textmetrics'});d.measure=a;if(c){d.bind(c)}a.position('absolute');a.setLocalXY(-1000,-1000);a.hide();if(b){a.setWidth(b)}},getSize:function(c){var a=this.measure,b;a.setHtml(c);b=a.getSize();a.setHtml('');return b},bind:function(b){var a=this;a.el=Ext.get(b);a.measure.setStyle(a.el.getStyle(['font-size','font-style','font-weight','font-family','line-height','text-transform','letter-spacing','word-break']))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width='auto';return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.destroy();delete a.el;delete a.measure}},1,0,0,0,0,0,[Ext.util,'TextMetrics'],function(){Ext.Element.override({getTextWidth:function(a,c,b){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(a,this.dom.innerHTML,!0)).width,c||0,b||1000000)}})});Ext.cmd.derive('Ext.button.Button',Ext.Component,{alternateClassName:'Ext.Button',config:{text:null},isButton:!0,componentLayout:'button',hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:'tl-bl?',showEmptyMenu:!1,textAlign:'center',clickEvent:'click',preventDefault:!0,handleMouseEvents:!0,tooltipType:'qtip',baseCls:'x-btn',pressedCls:'pressed',overCls:'over',focusCls:'focus',menuActiveCls:'menu-active',hrefTarget:'_blank',destroyMenu:!0,ariaRole:'button',defaultBindProperty:'text',childEls:['btnEl','btnWrap','btnInnerEl','btnIconEl'],publishes:{pressed:1},renderTpl:['<span id="{id}-btnWrap" role="presentation" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button" role="presentation">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">','{text}','</span>','<span role="presentation" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>','</span>','</span>','</span>','<tpl if="closable">','<span id="{id}-closeEl" role="presentation"',' class="{baseCls}-close-btn"','<tpl if="closeText">',' title="{closeText}" aria-label="{closeText}"','</tpl>','>','</span>','</tpl>'],scale:'small',allowedScales:['small','medium','large'],iconAlign:'left',arrowAlign:'right',arrowCls:'arrow',maskOnDisable:!1,shrinkWrap:3,frame:!0,autoEl:{tag:'a',hidefocus:'on',unselectable:'on'},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){if(!this.disabled){this.doNavigate()}},doNavigate:function(){if(this.hrefTarget==='_blank'){window.open(this.getHref(),this.hrefTarget)}else {location.href=this.getHref()}},_triggerRegion:{},initComponent:function(){var a=this;a.addCls('x-unselectable');Ext.Component.prototype.initComponent.apply(this,arguments);if(a.menu){a.split=!0;a.setMenu(a.menu,!1)}if(a.url){a.href=a.url}if(a.href&&!a.hasOwnProperty('preventDefault')){a.preventDefault=!1}if(Ext.isString(a.toggleGroup)&&a.toggleGroup!==''){a.enableToggle=!0}if(a.html&&!a.text){a.text=a.html;delete a.html}a.glyphCls=a.baseCls+'-glyph'},getFocusEl:function(){return this.el},setComponentCls:function(){var a=this,b=a.getComponentCls();if(!Ext.isEmpty(a.oldCls)){a.removeClsWithUI(a.oldCls);a.removeClsWithUI(a.pressedCls)}a.oldCls=b;a.addClsWithUI(b)},getComponentCls:function(){var a=this,b;if(a.iconCls||a.icon||a.glyph){b=[a.text!=null?'icon-text-'+a.iconAlign:'icon']}else {if(a.text){b=['noicon']}else {b=[]}}if(a.pressed){b[b.length]=a.pressedCls}return b},getElConfig:function(){var b=this,a=Ext.Component.prototype.getElConfig.call(this),d=b.getHref(),c=b.hrefTarget;if(a.tag==='a'){if(!b.disabled){a.tabIndex=b.tabIndex}if(d){a.href=d;if(c){a.target=c}}}return a},beforeRender:function(){var a=this;Ext.Component.prototype.beforeRender.call(this);a.oldCls=a.getComponentCls();a.addClsWithUI(a.oldCls);Ext.applyIf(a.renderData,a.getTemplateArgs())},setMenu:function(b,d){var a=this,c=a.menu;if(c&&d!==!1&&a.destroyMenu){c.destroy()}if(c){delete c.ownerButton}if(b){b=Ext.menu.Manager.get(b);b.ownerButton=a;a.mon(b,{scope:a,show:a.onMenuShow,hide:a.onMenuHide});if(!c){a.split=!0;if(a.rendered){a.btnWrap.addCls(a.getSplitCls());a.updateLayout()}}a.menu=b}else {if(a.rendered){a.btnWrap.removeCls(a.getSplitCls());a.updateLayout()}a.split=!1;a.menu=null}},onRender:function(){var a=this,d,c,b;a.doc=Ext.getDoc();Ext.Component.prototype.onRender.apply(this,arguments);c=a.el;if(a.tooltip){a.setTooltip(a.tooltip,!0)}if(a.handleMouseEvents){b={scope:a,mouseover:a.onMouseOver,mouseout:a.onMouseOut,mousedown:a.onMouseDown};if(a.split){b.mousemove=a.onMouseMove}}else {b={scope:a}}if(Ext.supports.Touch){b.touchstart=a.onTouchStart}if(a.menu){a.keyMap=new Ext.util.KeyMap({target:a.el,key:Ext.event.Event.prototype.DOWN,handler:a.onDownKey,scope:a})}if(a.repeat){a.mon(new Ext.util.ClickRepeater(c,Ext.isObject(a.repeat)?a.repeat:{}),'click',a.onRepeatClick,a)}else {if(b[a.clickEvent]){d=!0}else {b[a.clickEvent]=a.onClick}}a.mon(c,b);if(a.hasFrameTable()){a.mon(a.frameTable,'click',a.frameTableListener,a)}if(d){a.mon(c,a.clickEvent,a.onClick,a)}Ext.button.Manager.register(a)},getTdCls:function(){return this.baseCls+'-'+this.ui+'-'+this.scale+'-cell'},getTemplateArgs:function(){var a=this,b=a.glyph,d=Ext._glyphFontFamily,c;if(typeof b==='string'){c=b.split('@');b=c[0];d=c[1]}return {innerCls:a.getInnerCls(),splitCls:a.getSplitCls(),iconUrl:a.icon,iconCls:a.iconCls,glyph:b,glyphCls:b?a.glyphCls:'',glyphFontFamily:d,text:a.text||'&#160;',closeText:a.closeText}},setHref:function(a){this.href=a;this.el.dom.href=this.getHref()},getHref:function(){var a=this,b=a.href;return b?Ext.urlAppend(b,Ext.Object.toQueryString(Ext.apply({},a.params,a.baseParams))):!1},setParams:function(a){this.params=a;this.el.dom.href=this.getHref()},getSplitCls:function(){var a=this;return a.split?a.baseCls+'-'+a.arrowCls+' '+(a.baseCls+'-'+a.arrowCls+'-'+a.arrowAlign):''},getInnerCls:function(){return this.textAlign?this.baseCls+'-inner-'+this.textAlign:''},setIcon:function(b){b=b||'';var a=this,d=a.btnIconEl,c=a.icon||'';a.icon=b;if(b!=c){if(d){d.setStyle('background-image',b?'url('+b+')':'');a.setComponentCls();if(a.didIconStateChange(c,b)){a.updateLayout()}}a.fireEvent('iconchange',a,c,b)}return a},setIconCls:function(b){b=b||'';var a=this,d=a.btnIconEl,c=a.iconCls||'';a.iconCls=b;if(c!=b){if(d){d.removeCls(c);d.addCls(b);a.setComponentCls();if(a.didIconStateChange(c,b)){a.updateLayout()}}a.fireEvent('iconchange',a,c,b)}return a},setGlyph:function(a){a=a||0;var b=this,c=b.btnIconEl,f=b.glyph,d,e;b.glyph=a;if(c){if(typeof a==='string'){e=a.split('@');a=e[0];d=e[1]||Ext._glyphFontFamily}if(!a){c.dom.innerHTML=''}else {if(f!=a){c.dom.innerHTML='&#'+a+';'}}if(d){c.setStyle('font-family',d)}}b.fireEvent('glyphchange',b,b.glyph,f);return b},setTooltip:function(b,c){var a=this;if(a.rendered){if(!c||!b){a.clearTip()}if(b){if(Ext.quickTipsActive&&Ext.isObject(b)){Ext.tip.QuickTipManager.register(Ext.apply({target:a.el.id},b));a.tooltip=b}else {a.el.dom.setAttribute(a.getTipAttr(),b)}}}else {a.tooltip=b}return a},setTextAlign:function(c){var a=this,b=a.btnEl;if(b){b.removeCls(a.baseCls+'-inner-'+a.textAlign);b.addCls(a.baseCls+'-inner-'+c)}a.textAlign=c;return a},getTipAttr:function(){return this.tooltipType=='qtip'?'data-qtip':'title'},getRefItems:function(c){var b=this.menu,a;if(b){a=b.getRefItems(c);a.unshift(b)}return a||[]},clearTip:function(){var a=this,b=a.el;if(Ext.quickTipsActive&&Ext.isObject(a.tooltip)){Ext.tip.QuickTipManager.unregister(b)}else {b.dom.removeAttribute(a.getTipAttr())}},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}if(a.menu&&a.destroyMenu){a.menu.destroy()}Ext.destroy(a.repeater);Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var a=this;if(a.rendered){a.doc.un('mouseover',a.monitorMouseOver,a);delete a.doc;Ext.destroy(a.keyMap);delete a.keyMap}Ext.button.Manager.unregister(a);Ext.Component.prototype.onDestroy.call(this)},setHandler:function(a,b){this.handler=a;if(arguments.length>1){this.scope=b}return this},applyText:function(b){b=b==null?'':String(b);var a=this,c=a.text||'';if(b!=c){a.text=b;if(a.rendered){a.btnInnerEl.setHtml(b||'&#160;');a.setComponentCls();if(Ext.isIE8){a.el.repaint()}a.updateLayout()}a.fireEvent('textchange',a,c,b)}},didIconStateChange:function(c,b){var a=Ext.isEmpty(b);return Ext.isEmpty(c)?!a:a},getText:function(){return this.text},setPressed:function(a){return this.toggle(a!==!1)},toggle:function(b,c){var a=this;b=b===undefined?!a.pressed:!!b;if(b!==a.pressed){if(a.rendered){a[b?'addClsWithUI':'removeClsWithUI'](a.pressedCls)}a.pressed=b;if(!c){a.fireEvent('toggle',a,b);Ext.callback(a.toggleHandler,a.scope||a,[a,b]);if(a.reference&&a.publishState){a.publishState('pressed',b)}}}return a},maybeShowMenu:function(){var a=this;if(a.menu&&!a.hasVisibleMenu()&&!a.ignoreNextClick){a.showMenu(!0)}},showMenu:function(c){var a=this,b=a.menu;if(a.rendered){if(a.tooltip&&Ext.quickTipsActive&&a.getTipAttr()!='title'){Ext.tip.QuickTipManager.getQuickTip().cancelShow(a.el)}if(b.isVisible()){b.hide()}if(!c||a.showEmptyMenu||b.items.getCount()>0){b.showBy(a.el,a.menuAlign)}}return a},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(b,a){this.onClick(a)},onTouchStart:function(a){this.doPreventDefault(a)},onClick:function(b){var a=this;a.doPreventDefault(b);if(b.type!=='keydown'&&b.button){return}if(!a.disabled){a.doToggle();a.maybeShowMenu();a.fireHandler(b)}},doPreventDefault:function(a){if(a&&(this.preventDefault||this.disabled&&this.getHref())){a.preventDefault()}},fireHandler:function(b){var a=this;if(a.fireEvent('click',a,b)!==!1){Ext.callback(a.handler,a.scope,[a,b],undefined,a)}},doToggle:function(){var a=this;if(a.enableToggle&&(a.allowDepress!==!1||!a.pressed)){a.toggle()}},onMouseOver:function(b){var a=this;if(!a.disabled&&!b.within(a.el,!0,!0)){a.onMouseEnter(b)}},onMouseOut:function(b){var a=this;if(!b.within(a.el,!0,!0)){if(a.overMenuTrigger){a.onMenuTriggerOut(b)}a.onMouseLeave(b)}},onMouseMove:function(b){var a=this,c=a.overMenuTrigger;if(a.split){if(a.isWithinTrigger(b)){if(!c){a.onMenuTriggerOver(b)}}else {if(c){a.onMenuTriggerOut(b)}}}},isWithinTrigger:function(d){var a=this,e=a.el,c,b;c=a.arrowAlign==='right'?d.getX()-a.getX():d.getY()-e.getY();b=a.getTriggerRegion();return c>b.begin&&c<b.end},getTriggerRegion:function(){var a=this,b=a._triggerRegion,d=a.getTriggerSize(),c=a.arrowAlign==='right'?a.getWidth():a.getHeight();b.begin=c-d;b.end=c;return b},getTriggerSize:function(){var a=this,e=a.el,c=a.triggerSize,d,b;if(c==null){d=a.arrowAlign;b=d.charAt(0);c=a.triggerSize=e.getPadding(b)+e.getBorderWidth(b)+a.getBtnWrapFrameWidth(b);if(a.frameSize){c=a.triggerSize+=a.frameSize[d]}}return c},getBtnWrapFrameWidth:function(b){var a=this.btnWrap;return a.getPadding(b)+a.getBorderWidth(b)},addOverCls:function(){if(!this.disabled){this.addClsWithUI(this.overCls)}},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(a){this.fireEvent('mouseover',this,a)},onMouseLeave:function(a){this.fireEvent('mouseout',this,a)},onMenuTriggerOver:function(c){var a=this,b=a.arrowTooltip;a.overMenuTrigger=!0;if(a.split&&b){a.btnWrap.dom.setAttribute(a.getTipAttr(),b)}a.fireEvent('menutriggerover',a,a.menu,c)},onMenuTriggerOut:function(b){var a=this;delete a.overMenuTrigger;if(a.split&&a.arrowTooltip){a.btnWrap.dom.setAttribute(a.getTipAttr(),'')}a.fireEvent('menutriggerout',a,a.menu,b)},enable:function(b){var a=this;Ext.Component.prototype.enable.apply(this,arguments);a.removeClsWithUI('disabled');if(a.rendered){a.el.dom.setAttribute('tabIndex',a.tabIndex);a.el.dom.removeAttribute('disabled')}return a},disable:function(b){var a=this;Ext.Component.prototype.disable.apply(this,arguments);a.addClsWithUI('disabled');a.removeClsWithUI(a.overCls);if(a.rendered){a.el.dom.removeAttribute('tabIndex');a.el.dom.setAttribute('disabled','disabled')}return a},setScale:function(b){var a=this,c=a.ui.replace('-'+a.scale,'');if(!Ext.Array.contains(a.allowedScales,b)){throw '#setScale: scale must be an allowed scale ('+a.allowedScales.join(', ')+')'}a.scale=b;a.setUI(c)},setUI:function(a){var b=this;if(b.scale&&!a.match(b.scale)){a=a+'-'+b.scale}Ext.Component.prototype.setUI.call(this,a)},onMouseDown:function(b){var a=this;if(Ext.isIE){a.getFocusEl().focus()}if(!a.disabled&&b.button===0){Ext.button.Manager.onButtonMousedown(a,b);a.addClsWithUI(a.pressedCls)}},onMouseUp:function(b){var a=this;if(!a.isDestroyed&&b.button===0){if(!a.pressed){a.removeClsWithUI(a.pressedCls)}}},onMenuShow:function(b){var a=this;a.ignoreNextClick=0;a.addClsWithUI(a.menuActiveCls);a.fireEvent('menushow',a,a.menu)},onMenuHide:function(b){var a=this;a.removeClsWithUI(a.menuActiveCls);a.ignoreNextClick=Ext.defer(a.restoreClick,250,a);a.fireEvent('menuhide',a,a.menu);a.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(c,b){var a=this;if(a.menu&&!a.disabled){a.showMenu();b.stopEvent();return !1}}},0,['button'],['component','box','button'],{'component':!0,'box':!0,'button':!0},['widget.button'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.button,'Button',Ext,'Button'],0);Ext.cmd.derive('Ext.layout.container.boxOverflow.Menu',Ext.layout.container.boxOverflow.None,{alternateClassName:'Ext.layout.boxOverflow.Menu',noItemsMenuText:'<div class="x-toolbar-no-items" role="menuitem">(None)</div>',constructor:function(b){var a=this;Ext.layout.container.boxOverflow.None.prototype.constructor.apply(this,arguments);a.triggerButtonCls=a.triggerButtonCls||'x-box-menu-after';a.menuItems=[]},beginLayout:function(a){Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments);this.clearOverflow(a)},beginLayoutCycle:function(a,b){Ext.layout.container.boxOverflow.None.prototype.beginLayoutCycle.apply(this,arguments);if(!b){this.clearOverflow(a);this.layout.cacheChildItems(a)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this,c=a.layout,b=c.owner,d=b.id;a.menu=new Ext.menu.Menu({listeners:{scope:a,beforeshow:a.beforeMenuShow}});a.menuTrigger=new Ext.button.Button({id:d+'-menu-trigger',cls:Ext.layout.container.Box.prototype.innerCls+' '+a.triggerButtonCls+' x-toolbar-item',plain:b.usePlainButtons,ownerCt:b,ownerLayout:c,iconCls:'x-'+a.getOwnerType(b)+'-more-icon',ui:b instanceof Ext.toolbar.Toolbar?'default-toolbar':'default',menu:a.menu,showEmptyMenu:!0,getSplitCls:function(){return ''}});return a.menuTrigger.getRenderTree()},getOverflowCls:function(){return 'x-'+this.layout.direction+'-box-overflow-body'},handleOverflow:function(b){var a=this,e=a.layout,d=e.names,f=b.state.boxPlan,c=[null,null];a.showTrigger(b);if(a.layout.direction!=='vertical'){c[d.heightIndex]=(f.maxSize-a.menuTrigger[d.getHeight]())/2;a.menuTrigger.setPosition.apply(a.menuTrigger,c)}return {reservedSpace:a.triggerTotalWidth}},captureChildElements:function(){var b=this,a=b.menuTrigger,c=b.layout.names;if(a.rendering){a.finishRender();b.triggerTotalWidth=a[c.getWidth]()+a.el.getMargin(c.parallelMargins)}},clearOverflow:function(h){var b=this,c=b.menuItems,a,e=0,g=c.length,d=b.layout.owner,f=d._asLayoutRoot;d.suspendLayouts();b.captureChildElements();b.hideTrigger();d.resumeLayouts();for(;e<g;e++){a=c[e];a.suspendLayouts();a.show();a.resumeLayouts(f)}c.length=0},showTrigger:function(g){var a=this,k=a.layout,m=k.owner,l=k.names,n=l.x,j=l.width,o=g.state.boxPlan,i=o.targetSize[j],h=g.childItems,p=h.length,d=a.menuTrigger,c,f,b,e;d.suspendLayouts();d.show();d.resumeLayouts(a._asLayoutRoot);i-=a.triggerTotalWidth;m.suspendLayouts();a.menuItems.length=0;for(b=0;b<p;b++){c=h[b];e=c.props;if(e[n]+e[j]>i){f=c.target;a.menuItems.push(f);f.hide()}}m.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;if(a){a.hide()}},beforeMenuShow:function(a){var d=this,g=d.menuItems,e=0,h=g.length,b,c,f=function(b,c){return b.isXType('buttongroup')&&!(c instanceof Ext.toolbar.Separator)};a.suspendLayouts();d.clearMenu();a.removeAll();for(;e<h;e++){b=g[e];if(!e&&b instanceof Ext.toolbar.Separator){continue}if(c&&(f(b,c)||f(c,b))){a.add('-')}d.addComponentToMenu(a,b);c=b}if(a.items.length<1){a.add(d.noItemsMenuText)}a.resumeLayouts()},createMenuConfig:function(a,d){var b=Ext.apply({},a.initialConfig),c=a.toggleGroup;Ext.copyTo(b,a,['iconCls','icon','itemId','disabled','handler','scope','menu','tabIndex']);Ext.applyIf(b,{text:a.overflowText||a.text,hideOnClick:d,destroyMenu:!1,listeners:{}});if(a.isFormField){b.value=a.getValue();b.listeners.change=function(e,b,c){a.setValue(b)}}else {if(c||a.enableToggle){Ext.apply(b,{hideOnClick:!1,group:c,checked:a.pressed,handler:function(c,b){a.onClick(b)}})}}if(a.isButton&&!a.changeListenersAdded){a.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle});a.changeListenersAdded=!0}delete b.margin;delete b.ownerCt;delete b.xtype;delete b.id;delete b.itemId;return b},onButtonAttrChange:function(b){var a=b.overflowClone;a.suspendLayouts();a.setText(b.text);a.setIcon(b.icon);a.setIconCls(b.iconCls);a.resumeLayouts(!0)},onButtonToggle:function(b,a){if(b.overflowClone.checked!==a){b.overflowClone.setChecked(a)}},addComponentToMenu:function(b,a){var c=this,d,e,f;if(a instanceof Ext.toolbar.Fill){return}else {if(a instanceof Ext.toolbar.Separator){b.add('-')}else {if(a.isComponent){if(a.isXType('splitbutton')){a.overflowClone=b.add(c.createMenuConfig(a,!0))}else {if(a.isXType('button')){a.overflowClone=b.add(c.createMenuConfig(a,!a.menu))}else {if(a.isXType('buttongroup')){e=a.items.items;f=e.length;for(d=0;d<f;d++){c.addComponentToMenu(b,e[d])}}else {a.overflowClone=b.add(Ext.create(Ext.getClassName(a),c.createMenuConfig(a)))}}}}}}},clearMenu:function(){var d=this.menu,b,a,e,c;if(d&&d.items){b=d.items.items;e=b.length;for(a=0;a<e;a++){c=b[a];if(c.setMenu){c.setMenu(null)}}}},destroy:function(){var a=this.menuTrigger;if(a&&!this.layout.owner.items.contains(a)){delete a.ownerCt}Ext.destroy(this.menu,a)}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,'Menu',Ext.layout.boxOverflow,'Menu'],0);Ext.cmd.derive('Ext.layout.container.boxOverflow.Scroller',Ext.layout.container.boxOverflow.None,{alternateClassName:'Ext.layout.boxOverflow.Scroller',animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:'x-box-scroller',constructor:function(c,b){var a=this;a.layout=c;Ext.apply(a,b||{});a.mixins.observable.constructor.call(a);a.scrollPosition=0;a.scrollSize=0},getPrefixConfig:function(){var a=this,c=a.layout,d=c.owner,b;a.initCSSClasses();b=Ext.layout.container.Box.prototype.innerCls+' '+a.beforeCtCls;if(d.plain){b+=' '+a.scrollerCls+'-plain'}return {role:'presentation',cls:b,cn:{role:'presentation',id:d.id+c.names.beforeScrollerSuffix,cls:a.scrollerCls+' '+a.beforeScrollerCls,style:'display:none'}}},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner,d=Ext.layout.container.Box.prototype.innerCls+' '+a.afterCtCls;if(c.plain){d+=' '+a.scrollerCls+'-plain'}return {role:'presentation',cls:d,cn:{role:'presentation',id:c.id+b.names.afterScrollerSuffix,cls:a.scrollerCls+' '+a.afterScrollerCls,style:'display:none'}}},getOverflowCls:function(){return 'x-'+this.layout.direction+'-box-overflow-body'},initCSSClasses:function(){var a=this,b='x-',e=a.layout,f=e.names,c=f.beforeX,d=f.afterX,g=a.getOwnerType(e.owner);a.beforeCtCls=a.beforeCtCls||b+'box-scroller-'+c;a.afterCtCls=a.afterCtCls||b+'box-scroller-'+d;a.beforeScrollerCls=a.beforeScrollerCls||b+g+'-scroll-'+c;a.afterScrollerCls=a.afterScrollerCls||b+g+'-scroll-'+d},beginLayout:function(a){var b=this.layout;a.innerCtScrollPos=this.getScrollPosition();Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments)},completeLayout:function(a){var c=this,e=a.state.boxPlan,d=c.layout.names,b;if(e&&e.tooNarrow){b=a.childItems[a.childItems.length-1];c.scrollSize=b.props[d.x]+b.props[d.width];c.updateScrollButtons()}Ext.layout.container.boxOverflow.None.prototype.completeLayout.apply(this,arguments)},finishedLayout:function(c){var b=this,a=b.layout,d=Math.min(b.getMaxScrollPosition(),c.innerCtScrollPos);a.innerCt[a.names.setScrollLeft](d)},handleOverflow:function(c){var a=this,b=a.layout.names.getWidth;a.showScrollers();return {reservedSpace:a.beforeCt[b]()+a.afterCt[b]()}},captureChildElements:function(){var a=this,h=a.layout.owner.el,b,c,g,d,f,e;if(!a.beforeCt){e='-hover';d='-pressed';g=a.scrollerCls+e;f=a.scrollerCls+d;b=a.beforeScroller=h.getById(a.layout.owner.id+'-before-scroller');c=a.afterScroller=h.getById(a.layout.owner.id+'-after-scroller');a.beforeCt=b.up('');a.afterCt=c.up('');a.createWheelListener();b.addClsOnOver(g);b.addClsOnOver(a.beforeScrollerCls+e);b.addClsOnClick(f);b.addClsOnClick(a.beforeScrollerCls+d);c.addClsOnOver(g);c.addClsOnOver(a.afterScrollerCls+e);c.addClsOnClick(f);c.addClsOnClick(a.afterScrollerCls+d);b.setVisibilityMode(Ext.Element.DISPLAY);c.setVisibilityMode(Ext.Element.DISPLAY);a.beforeRepeater=new Ext.util.ClickRepeater(b,{interval:a.scrollRepeatInterval,handler:a.scrollLeft,scope:a});a.afterRepeater=new Ext.util.ClickRepeater(c,{interval:a.scrollRepeatInterval,handler:a.scrollRight,scope:a})}},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(a.getWheelDelta(b)*a.wheelIncrement*-1,!1)},stopEvent:!0})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var a=this;a.captureChildElements();a.beforeScroller.show();a.afterScroller.show();a.layout.owner.addClsWithUI(a.layout.direction==='vertical'?'vertical-scroller':'scroller')},hideScrollers:function(){var a=this;if(a.beforeScroller!==undefined){a.beforeScroller.hide();a.afterScroller.hide();a.layout.owner.removeClsWithUI(a.layout.direction==='vertical'?'vertical-scroller':'scroller')}},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a.beforeScroller,a.afterScroller,a.beforeCt,a.afterCt)},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getScrollAnim:function(){return {duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a=this,d,e,f,g,b,c='-disabled';if(a.beforeScroller==null||a.afterScroller==null){return}d=a.atExtremeBefore()?'addCls':'removeCls';e=a.atExtremeAfter()?'addCls':'removeCls';b=a.scrollerCls+c;f=[b,a.beforeScrollerCls+c];g=[b,a.afterScrollerCls+c];a.beforeScroller[d](f);a.afterScroller[e](g);a.scrolling=!1},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var b=this,c=b.layout,a;if(isNaN(b.scrollPosition)){a=c.innerCt[c.names.getScrollLeft]()}else {a=b.scrollPosition}return a},getMaxScrollPosition:function(){var c=this,b=c.layout,a=c.scrollSize-b.innerCt[b.names.getWidth]();return a<0?0:a},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(g,b){var a=this,d=a.layout,e=d.names,f=a.getScrollPosition(),c=Ext.Number.constrain(g,0,a.getMaxScrollPosition());if(c!=f&&!a.scrolling){a.scrollPosition=NaN;if(b===undefined){b=a.animateScroll}d.innerCt[e.scrollTo](e.beforeScrollX,c,b?a.getScrollAnim():!1);if(b){a.scrolling=!0}else {a.updateScrollButtons()}a.fireEvent('scroll',a,c,b?a.getScrollAnim():!1)}},scrollToItem:function(a,i){var c=this,g=c.layout,h=g.owner,e=g.names,d,f,b;a=c.getItem(a);if(a!==undefined){if(a==h.items.first()){b=0}else {if(a===h.items.last()){b=c.getMaxScrollPosition()}else {d=c.getItemVisibility(a);if(!d.fullyVisible){f=a.getBox(!1,!0);b=f[e.x];if(d.hiddenEnd){b-=c.layout.innerCt[e.getWidth]()-f[e.width]}}}}if(b!==undefined){c.scrollTo(b,i)}}},getItemVisibility:function(i){var d=this,h=d.getItem(i).getBox(!0,!0),g=d.layout,c=g.names,b=h[c.x],f=b+h[c.width],a=d.getScrollPosition(),e=a+g.innerCt[c.getWidth]();return {hiddenStart:b<a,hiddenEnd:f>e,fullyVisible:b>a&&f<e}}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.layout.container.boxOverflow,'Scroller',Ext.layout.boxOverflow,'Scroller'],0);Ext.cmd.derive('Ext.dd.DragDropManager',Ext.Base,{singleton:!0,alternateClassName:['Ext.dd.DragDropMgr','Ext.dd.DDM'],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:'x-dd-drag-current',_execOnAll:function(f,g){var c=this.ids,d,e,b,a;for(d in c){if(c.hasOwnProperty(d)){a=c[d];for(e in a){if(a.hasOwnProperty(e)){b=a[e];if(!this.isTypeOfDD(b)){continue}b[f].apply(b,g)}}}}},addListeners:function(){var a=this;a.init();Ext.getDoc().on({mouseup:a.handleMouseUp,mousemove:a.handleMouseMove,dragstart:a.preventDrag,drag:a.preventDrag,dragend:a.preventDrag,capture:!0,scope:a});Ext.getWin().on({unload:a._onUnload,resize:a._onResize,scope:a})},preventDrag:function(a){if(this.isMouseDown){a.stopPropagation()}},_onResize:function(a){this._execOnAll('resetConstraints',[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:8,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(b,a){if(!this.initialized){this.init()}if(!this.ids[a]){this.ids[a]={}}this.ids[a][b.id]=b},removeDDFromGroup:function(c,a){if(!this.ids[a]){this.ids[a]={}}var b=this.ids[a];if(b&&b[c.id]){delete b[c.id]}},_remove:function(c,f){var a=this,d=a.ids,e=c.groups,b;if(a.clearingAll){return}if(a.dragCurrent===c){a.dragCurrent=null}for(b in e){if(e.hasOwnProperty(b)){if(f){delete d[b]}else {if(d[b]){delete d[b][c.id]}}}}delete a.handleIds[c.id]},regHandle:function(a,b){if(!this.handleIds[a]){this.handleIds[a]={}}this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?!0:!1},getRelated:function(f,e){var b=[],c,d,a;for(c in f.groups){for(d in this.ids[c]){a=this.ids[c][d];if(!this.isTypeOfDD(a)){continue}if(!e||a.isTarget){b[b.length]=a}}}return b},isLegalTarget:function(e,d){var b=this.getRelated(e,!0),a,c;for(a=0,c=b.length;a<c;++a){if(b[a].id==d.id){return !0}}return !1},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(d,c){var b,a;for(b in this.ids){a=this.ids[b][d];if(a instanceof Ext.dd.DDTarget||c){return a}}return null},handleMouseDown:function(b,e){var a=this,d,c;a.isMouseDown=!0;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}a.currentPoint=b.getPoint();if(a.dragCurrent){a.handleMouseUp(b)}a.mousedownEvent=b;a.currentTarget=b.getTarget();a.dragCurrent=e;c=e.getEl();Ext.fly(c).setCapture();d=b.getXY();a.startX=d[0];a.startY=d[1];a.offsetX=a.offsetY=0;a.deltaX=a.startX-c.offsetLeft;a.deltaY=a.startY-c.offsetTop;a.dragThreshMet=!1},startDrag:function(d,e){var b=this,a=b.dragCurrent,c;clearTimeout(b.clickTimeout);if(a){a.b4StartDrag(d,e);a.startDrag(d,e);c=a.getDragEl();if(c){Ext.fly(c).addCls(b.dragCls)}}b.dragThreshMet=!0},handleMouseUp:function(b){var a=this;a.isMouseDown=!1;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!a.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(a.clickTimeout);if(a.dragThreshMet){a.fireEvents(b,!0)}a.stopDrag(b);a.stopEvent(b)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(d){var a=this,b=a.dragCurrent,c;if(b){if(a.dragThreshMet){c=b.getDragEl();if(c){Ext.fly(c).removeCls(a.dragCls)}b.b4EndDrag(d);b.endDrag(d)}a.dragCurrent.onMouseUp(d)}a.dragCurrent=null;a.dragOvers={}},handleMouseMove:function(b){var a=this,c=a.dragCurrent,f=a.currentPoint=b.getPoint(),g=f.x,h=f.y,d,e;a.offsetX=g-a.startX;a.offsetY=h-a.startY;if(!c){return !0}if(!a.dragThreshMet){d=Math.abs(a.offsetX);e=Math.abs(a.offsetY);if(d>a.clickPixelThresh||e>a.clickPixelThresh){a.startDrag(a.startX,a.startY)}}if(a.dragThreshMet){c.b4Drag(b);c.onDrag(b);if(!c.moveOnly){a.fireEvents(b,!1)}}a.stopEvent(b);return !0},fireEvents:function(e,u){var d=this,t=Ext.supports.Touch,c=d.dragCurrent,l=d.currentPoint,w=l.x,x=l.y,n,q,b,p,j=[],s=[],h=[],i=[],g=[],k=[],r,a,f,o,v=t?document.documentElement.clientWidth/window.innerWidth:1,m;if(!c||c.isLocked()){return}m=!(c.deltaX<0||c.deltaY<0);if(t||!d.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&m){n=c.getDragEl();q=n.style.top;if(m){n.style.top='-10000px'}e.target=document.elementFromPoint(w/v,x/v);if(m){n.style.top=q}}for(a in d.dragOvers){b=d.dragOvers[a];delete d.dragOvers[a];if(!d.isTypeOfDD(b)||b.isDestroyed){continue}if(d.notifyOccluded){if(!this.isOverTarget(l,b,d.mode)){h.push(b)}}else {if(!e.within(b.getEl())){h.push(b)}}s[a]=!0}for(o in c.groups){if('string'!=typeof o){continue}for(a in d.ids[o]){b=d.ids[o][a];if(d.isTypeOfDD(b)&&(p=b.getEl())&&b.isTarget&&!b.isLocked()&&Ext.fly(p).isVisible(!0)&&(b!=c||c.ignoreSelf===!1)){if(d.notifyOccluded){if((b.zIndex=d.getZIndex(p))!==-1){r=!0}j.push(b)}else {if(e.within(b.getEl())){j.push(b);break}}}}}if(r){Ext.Array.sort(j,d.byZIndex)}for(a=0,f=j.length;a<f;a++){b=j[a];if(d.isOverTarget(l,b,d.mode)){if(u){g.push(b)}else {if(!s[b.id]){k.push(b)}else {i.push(b)}d.dragOvers[b.id]=b}if(!d.notifyOccluded){break}}}if(d.mode){if(h.length){c.b4DragOut(e,h);c.onDragOut(e,h)}if(k.length){c.onDragEnter(e,k)}if(i.length){c.b4DragOver(e,i);c.onDragOver(e,i)}if(g.length){c.b4DragDrop(e,g);c.onDragDrop(e,g)}}else {for(a=0,f=h.length;a<f;++a){c.b4DragOut(e,h[a].id);c.onDragOut(e,h[a].id)}for(a=0,f=k.length;a<f;++a){c.onDragEnter(e,k[a].id)}for(a=0,f=i.length;a<f;++a){c.b4DragOver(e,i[a].id);c.onDragOver(e,i[a].id)}for(a=0,f=g.length;a<f;++a){c.b4DragDrop(e,g[a].id);c.onDragDrop(e,g[a].id)}}if(u&&!g.length){c.onInvalidDrop(e)}},getZIndex:function(a){var d=document.body,c,b=-1;a=Ext.getDom(a);while(a!==d){if(!isNaN(c=Number(Ext.fly(a).getStyle('zIndex')))){b=c}a=a.parentNode}return b},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(d){var a=null,e=d.length,c,b;if(e==1){a=d[0]}else {for(c=0;c<e;++c){b=d[c];if(b.cursorIsOver){a=b;break}else {if(!a||a.overlap.getArea()<b.overlap.getArea()){a=b}}}}return a},refreshCache:function(e){var b,d,a,c;for(b in e){if('string'!=typeof b){continue}for(d in this.ids[b]){a=this.ids[b][d];if(this.isTypeOfDD(a)){c=this.getLocation(a);if(c){this.locationCache[a.id]=c}else {delete this.locationCache[a.id]}}}}},verifyEl:function(b){if(b){var a;if(Ext.isIE){try{a=b.offsetParent}catch(c){}}else {a=b.offsetParent}if(a){return !0}}return !1},getLocation:function(a){if(!this.isTypeOfDD(a)){return null}if(a.getRegion){return a.getRegion()}var c=a.getEl(),b,d,f,e,g,k,j,h,i;try{b=Ext.fly(c).getXY()}catch(l){}if(!b){return null}d=b[0];f=d+c.offsetWidth;e=b[1];g=e+c.offsetHeight;k=e-a.padding[0];j=f+a.padding[1];h=g+a.padding[2];i=d-a.padding[3];return new Ext.util.Region(k,j,h,i)},isOverTarget:function(g,a,i){var c=this.locationCache[a.id],b,d,f,h,e;if(!c||!this.useCache){c=this.getLocation(a);this.locationCache[a.id]=c}if(!c){return !1}a.cursorIsOver=c.contains(g);b=this.dragCurrent;if(!b||!b.getTargetCoord||!i&&!b.constrainX&&!b.constrainY){return a.cursorIsOver}a.overlap=null;d=b.getTargetCoord(g.x,g.y);f=b.getDragEl();h=new Ext.util.Region(d.y,d.x+f.offsetWidth,d.y+f.offsetHeight,d.x);e=h.intersect(c);if(e){a.overlap=e;return i?!0:a.cursorIsOver}else {return !1}},_onUnload:function(b,a){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var a=this,b=a.elementCache,c;if(a.dragCurrent){a.stopDrag();a.dragCurrent=null}a.clearingAll=!0;a._execOnAll('unreg',[]);delete a.clearingAll;for(c in b){delete b[c]}a.elementCache={};a.ids={};a.handleIds={}},elementCache:{},getElWrapper:function(b){var a=this.elementCache[b];if(!a||!a.el){a=this.elementCache[b]=new this.ElementWrapper(Ext.getDom(b))}return a},getElement:function(a){return Ext.getDom(a)},getCss:function(b){var a=Ext.getDom(b);return a?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.fly(a).getX()},getPosY:function(a){return Ext.fly(a).getY()},swapNode:function(a,b){if(a.swapNode){a.swapNode(b)}else {var c=b.parentNode,d=b.nextSibling;if(d==a){c.insertBefore(a,b)}else {if(b==a.nextSibling){c.insertBefore(b,a)}else {a.parentNode.replaceChild(b,a);c.insertBefore(a,d)}}}},getScroll:function(){var e=window.document,a=e.documentElement,b=e.body,d=0,c=0;if(a&&(a.scrollTop||a.scrollLeft)){d=a.scrollTop;c=a.scrollLeft}else {if(b){d=b.scrollTop;c=b.scrollLeft}}return {top:d,left:c}},getStyle:function(b,a){return Ext.fly(b).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(c,a){var b=Ext.fly(a).getXY();Ext.fly(c).setXY(b)},numericSort:function(a,b){return a-b},handleWasClicked:function(b,c){if(this.isHandle(c,b.id)){return !0}else {var a=b.parentNode;while(a){if(this.isHandle(c,a.id)){return !0}else {a=a.parentNode}}}return !1}},0,0,0,0,0,0,[Ext.dd,'DragDropManager',Ext.dd,'DragDropMgr',Ext.dd,'DDM'],function(a){Ext.onReady(function(){a.addListeners()})});Ext.cmd.derive('Ext.layout.container.Box',Ext.layout.container.Container,{alternateClassName:'Ext.layout.BoxLayout',type:'box',align:'begin',constrainAlign:!1,defaultMargins:{top:0,right:0,bottom:0,left:0},enableSplitters:!0,padding:0,pack:'start',flex:undefined,stretchMaxPartner:undefined,vertical:!1,alignRoundingMethod:'round',scrollOffset:0,itemCls:'x-box-item',targetCls:'x-box-layout-ct',targetElCls:'x-box-target',innerCls:'x-box-inner',availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:['innerCt','targetEl'],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;','if (oh.getPrefixConfig!==Ext.emptyFn) {','if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)','}%}','<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]} "','role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}" role="presentation">','{%this.renderBody(out, values)%}','</div>','</div>','{%if (oh.getSuffixConfig!==Ext.emptyFn) {','if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)','}%}',{disableFormats:!0,definitions:'var dh=Ext.DomHelper;'}],constructor:function(c){var a=this,b;Ext.layout.container.Container.prototype.constructor.apply(this,arguments);a.setVertical(a.vertical);a.flexSortFn=a.flexSort.bind(a);a.initOverflowHandler();b=typeof a.padding;if(b==='string'||b==='number'){a.padding=Ext.util.Format.parseBox(a.padding);a.padding.height=a.padding.top+a.padding.bottom;a.padding.width=a.padding.left+a.padding.right}},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(h,b){var a=this,f=a.sizePolicy,g=a.align,n=h.flex,d=g,c=a.names,o=h[c.width],m=h[c.height],e=a._percentageRe,i=e.test(o),l=g==='stretch',j=g==='stretchmax',k=a.constrainAlign;if(!b&&(l||n||i||k&&!j)){b=a.owner.getSizeModel()}if(l){if(!e.test(m)&&b[c.height].shrinkWrap){d='stretchmax'}}else {if(!j){if(e.test(m)){d='stretch'}else {if(k&&!b[c.height].shrinkWrap){d='stretchmax'}else {d=''}}}}if(n||i){if(!b[c.width].shrinkWrap){f=f.flex}}return f[d]},flexSort:function(m,n){var i=this.names.maxWidth,j=this.names.minWidth,h=Infinity,k=m.target,l=n.target,a=0,e,g,d,f,c,b;d=k[i]||h;f=l[i]||h;e=k[j]||0;g=l[j]||0;c=isFinite(e)||isFinite(g);b=isFinite(d)||isFinite(f);if(c||b){if(b){a=d-f}if(a===0&&c){a=g-e}}return a},isItemBoxParent:function(a){return !0},isItemShrinkWrap:function(a){return !0},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){var b=this;if(b.direction==='vertical'&&a.collapsedVertical()){a.collapseMemento.capture(['flex']);delete a.flex}else {if(b.direction==='horizontal'&&a.collapsedHorizontal()){a.collapseMemento.capture(['flex']);delete a.flex}}},beginExpand:function(a){a.collapseMemento.restore(['flex'])},beginLayout:function(b){var a=this,d=a.owner,c=d.stretchMaxPartner,f=a.innerCt.dom.style,e=a.names;b.boxNames=e;a.overflowHandler.beginLayout(b);if(typeof c==='string'){c=Ext.getCmp(c)||d.query(c)[0]}b.stretchMaxPartner=c&&b.context.getCmp(c);Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);b.innerCtContext=b.getEl('innerCt',a);b.targetElContext=b.getEl('targetEl',a);a.scrollParallel=d.scrollFlags[e.x];a.scrollPerpendicular=d.scrollFlags[e.y];if(a.scrollParallel){a.scrollPos=d.getTargetEl().dom[e.scrollLeft]}f.width='';f.height=''},beginLayoutCycle:function(b,h){var c=this,a=c.align,f=b.boxNames,d=c.pack,e=c._centerRe,g=f.heightModel;c.overflowHandler.beginLayoutCycle(b,h);Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);b.parallelSizeModel=b[f.widthModel];b.perpendicularSizeModel=b[g];b.boxOptions={align:a={stretch:a==='stretch',stretchmax:a==='stretchmax',center:e.test(a),bottom:c._endRe.test(a)},pack:d={center:e.test(d),end:d==='end'}};if(a.stretch&&b.perpendicularSizeModel.shrinkWrap){a.stretchmax=!0;a.stretch=!1}a.nostretch=!(a.stretch||a.stretchmax);if(b.parallelSizeModel.shrinkWrap){d.center=d.end=!1}c.cacheFlexes(b);c.targetEl.setWidth(20000)},cacheFlexes:function(b){var n=this,d=b.boxNames,q=d.widthModel,p=d.heightModel,s=b.boxOptions.align.nostretch,l=0,k=b.childItems,o=k.length,f=[],m=0,r=d.minWidth,j=n._percentageRe,i=0,h=0,c,a,g,e;while(o--){a=k[o];c=a.target;if(a[q].calculated){a.flex=g=c.flex;if(g){l+=g;f.push(a);m+=c[r]||0}else {e=j.exec(c[d.width]);a.percentageParallel=parseFloat(e[1])/100;++i}}if(s&&a[p].calculated){e=j.exec(c[d.height]);a.percentagePerpendicular=parseFloat(e[1])/100;++h}}b.flexedItems=f;b.flexedMinSize=m;b.totalFlex=l;b.percentageWidths=i;b.percentageHeights=h;Ext.Array.sort(f,n.flexSortFn)},calculate:function(a){var c=this,f=c.getContainerSize(a),e=a.boxNames,b=a.state,d=b.boxPlan||(b.boxPlan={}),g=a.targetContext;d.targetSize=f;if(!b.parallelDone){b.parallelDone=c.calculateParallel(a,e,d)}if(!b.perpendicularDone){b.perpendicularDone=c.calculatePerpendicular(a,e,d)}if(b.parallelDone&&b.perpendicularDone){c.publishInnerCtSize(a,c.reserveOffset?c.availableSpaceOffset:0);if(c.done&&a.boxOptions.align.stretchmax&&!b.stretchMaxDone){c.calculateStretchMax(a,e,d);b.stretchMaxDone=!0}c.overflowHandler.calculate(a)}else {c.done=!1}},calculateParallel:function(a,d,e){var g=this,o=d.width,n=a.childItems,x=d.beforeX,z=d.afterX,E=d.setWidth,p=n.length,y=a.flexedItems,D=y.length,C=a.boxOptions.pack,B=g.padding,A=e.targetSize,v=A[o],s=0,f=B[x],j=f+B[z]+g.scrollOffset+(g.reserveOffset?g.availableSpaceOffset:0),w=Ext.getScrollbarSize()[d.width],b,l,h,r,c,t,m,i,u,k,q;if(!a.parallelSizeModel.shrinkWrap&&!A[d.gotWidth]){return !1}if(w&&g.scrollPerpendicular&&a.parallelSizeModel.shrinkWrap&&!a.boxOptions.align.stretch&&!a.perpendicularSizeModel.shrinkWrap){if(!a.state.perpendicularDone){return !1}u=!0}for(b=0;b<p;++b){c=n[b];l=c.marginInfo||c.getMarginInfo();s+=l[o];if(!c[d.widthModel].calculated){k=c.getProp(o);j+=k;if(isNaN(j)){return !1}}}j+=s;if(a.percentageWidths){q=v-s;if(isNaN(q)){return !1}for(b=0;b<p;++b){c=n[b];if(c.percentageParallel){k=Math.ceil(q*c.percentageParallel);k=c.setWidth(k);j+=k}}}if(a.parallelSizeModel.shrinkWrap){e.availableSpace=0;e.tooNarrow=!1}else {e.availableSpace=v-j;e.tooNarrow=e.availableSpace<a.flexedMinSize;if(e.tooNarrow&&Ext.getScrollbarSize()[d.height]&&g.scrollParallel&&a.state.perpendicularDone){a.state.perpendicularDone=!1;for(b=0;b<p;++b){n[b].invalidate()}}}i=j;h=e.availableSpace;r=a.totalFlex;for(b=0;b<D;b++){c=y[b];t=c.flex;m=g.roundFlex(t/r*h);m=c[E](m);i+=m;h=Math.max(0,h-m);r-=t}if(C.center){f+=h/2;if(f<0){f=0}}else {if(C.end){f+=h}}for(b=0;b<p;++b){c=n[b];l=c.marginInfo;f+=l[x];c.setProp(d.x,f);f+=l[z]+c.props[o]}i+=a.targetContext.getPaddingInfo()[o];a.state.contentWidth=i;if(u&&a.peek(d.contentHeight)>e.targetSize[d.height]){i+=w;a[d.hasOverflowY]=!0;a.target.componentLayout[d.setWidthInDom]=!0;a[d.invalidateScrollY]=Ext.isIE8}a[d.setContentWidth](i);return !0},calculatePerpendicular:function(b,d,t){var h=this,l=b.perpendicularSizeModel.shrinkWrap,L=t.targetSize,w=b.childItems,C=w.length,s=Math.max,e=d.height,J=d.setHeight,D=d.beforeY,I=d.y,F=h.padding,A=F[D],j=L[e]-A-F[d.afterY],r=b.boxOptions.align,q=r.stretch,K=r.stretchmax,y=r.center,x=r.bottom,E=h.constrainAlign,c=0,B=0,G=h.onBeforeConstrainInvalidateChild,H=h.onAfterConstrainInvalidateChild,p=Ext.getScrollbarSize().height,n,k,f,i,z,g,a,o,v,u,m;if(q||(y||x)&&!l){if(isNaN(j)){return !1}}if(!q&&!b.parallelSizeModel.shrinkWrap&&!b.state.parallelDone&&h.scrollParallel){return !1}if(h.scrollParallel&&t.tooNarrow){if(l){u=!0}else {j-=p;t.targetSize[e]-=p}}if(q){g=j}else {for(k=0;k<C;k++){a=w[k];i=(a.marginInfo||a.getMarginInfo())[e];if(!(m=a.percentagePerpendicular)){f=a.getProp(e)}else {++B;if(l){continue}else {f=m*j-i;f=a[d.setHeight](f)}}if(!l&&E&&a[d.heightModel].shrinkWrap&&f>j){a.invalidate({before:G,after:H,layout:h,childHeight:j,names:d});b.state.parallelDone=!1}if(isNaN(c=s(c,f+i,a.target[d.minHeight]||0))){return !1}}if(u){c+=p;b[d.hasOverflowX]=!0;b.target.componentLayout[d.setHeightInDom]=!0;b[d.invalidateScrollX]=Ext.isIE8}o=b.stretchMaxPartner;if(o){b.setProp('maxChildHeight',c);v=o.childItems;if(v&&v.length){c=s(c,o.getProp('maxChildHeight'));if(isNaN(c)){return !1}}}b[d.setContentHeight](c+h.padding[e]+b.targetContext.getPaddingInfo()[e]);if(u){c-=p}t.maxSize=c;if(K){g=c}else {if(y||x||B){if(E){g=l?c:j}else {g=l?c:s(j,c)}g-=b.innerCtContext.getBorderInfo()[e]}}}for(k=0;k<C;k++){a=w[k];i=a.marginInfo||a.getMarginInfo();n=A+i[D];if(q){a[J](g-i[e])}else {m=a.percentagePerpendicular;if(l&&m){i=a.marginInfo||a.getMarginInfo();f=m*g-i[e];f=a.setHeight(f)}if(y){z=g-a.props[e];if(z>0){n=A+Math[h.alignRoundingMethod](z/2)}}else {if(x){n=s(0,g-n-a.props[e])}}}a.setProp(I,n)}return !0},onBeforeConstrainInvalidateChild:function(b,c){var a=c.names.heightModel;if(!b[a].constrainedMin){b[a]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(a,c){var b=c.names;a.setProp(b.beforeY,0);if(a[b.heightModel].calculated){a[b.setHeight](c.childHeight)}},calculateStretchMax:function(k,c,o){var f=this,h=c.height,l=c.width,g=k.childItems,n=g.length,m=o.maxSize,i=f.onBeforeStretchMaxInvalidateChild,j=f.onAfterStretchMaxInvalidateChild,a,b,d,e;for(d=0;d<n;++d){a=g[d];b=a.props;e=m-a.getMarginInfo()[h];if(e!==b[h]||a[c.heightModel].constrained){a.invalidate({before:i,after:j,layout:f,childWidth:b[l],childHeight:e,childX:b.x,childY:b.y,names:c})}}},onBeforeStretchMaxInvalidateChild:function(b,c){var a=c.names.heightModel;if(!b[a].constrainedMax){b[a]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(a,b){var c=b.names,d=b.childHeight,e=b.childWidth;a.setProp('x',b.childX);a.setProp('y',b.childY);if(a[c.heightModel].calculated){a[c.setHeight](d)}if(a[c.widthModel].calculated){a[c.setWidth](e)}},completeLayout:function(e){var d=this,j=e.boxNames,b=e.invalidateScrollX,c=e.invalidateScrollY,i,h,f,g,a;d.overflowHandler.completeLayout(e);if(b||c){h=d.getTarget();i=h.dom;a=i.style;if(b){f=h.getStyle('overflowX');if(f==='auto'){f=a.overflowX;a.overflowX='scroll'}else {b=!1}}if(c){g=h.getStyle('overflowY');if(g==='auto'){g=a.overflowY;a.overflowY='scroll'}else {c=!1}}if(b||c){i.scrollWidth;if(b){a.overflowX=f}if(c){a.overflowY=g}}}if(d.scrollParallel){d.owner.getTargetEl().dom[j.scrollLeft]=d.scrollPos}},finishedLayout:function(a){this.overflowHandler.finishedLayout(a);Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments)},getLayoutItems:function(){var h=Ext.layout.container.Container.prototype.getLayoutItems.call(this),i=h.length,e,c,g,f,b,d,a;for(g=0;g<i;++g){if((f=h[g]).isSplitter){continue}a=f.splitter;if(f.hidden){if(a){if(!a.hidden){a.hidden=!0;if(a.el){a.el.hide()}}}continue}if(a){d=a.collapseTarget==='next'}else {d=!1}c=null;if(e&&b){if(b.hidden){b.hidden=!1;if(b.el){b.el.show()}}if(d){c=!0}}else {if(d){c=!e}}if(c!==null&&a.hidden!==c){a.hidden=c;if(a.el){a.el.setVisible(!c)}}b=!d&&a;e=f}if(e&&b&&!b.hidden){b.hidden=!0;if(b.el){b.el.hide()}}return h},getScrollerEl:function(){return this.innerCt},insertSplitter:function(c,e,d,a){var b={xtype:'splitter',id:c.id+'-splitter',hidden:d,splitterFor:c,synthetic:!0},f=e+(a.collapseTarget==='prev'?1:0);b[this.names.height]='100%';if(a){Ext.apply(b,a)}c.splitter=this.owner.add(f,b)},publishInnerCtSize:function(a,h){var e=this,c=a.boxNames,j=c.height,l=c.width,g=a.boxOptions.align,o=e.owner.dock,m=e.padding,d=a.state.boxPlan,k=d.targetSize,n=k[j],f=a.innerCtContext,i=(a.parallelSizeModel.shrinkWrap||d.tooNarrow&&e.scrollParallel?a.state.contentWidth-a.targetContext.getPaddingInfo()[l]:k[l])-(h||0),b;e.owner.tooNarrow=d.tooNarrow;if(g.stretch){b=n}else {b=d.maxSize+m[c.beforeY]+m[c.afterY]+f.getBorderInfo()[j];if(!a.perpendicularSizeModel.shrinkWrap&&(g.center||g.bottom)){b=Math.max(n,b)}}f[c.setWidth](i);f[c.setHeight](b);a.targetElContext.setWidth(a.innerCtContext.props.width-h);if(isNaN(i+b)){e.done=!1}if(d.calculatedWidth&&(o==='left'||o==='right')){a.setWidth(d.calculatedWidth,!0,!0)}},onAdd:function(b,d){var c=this,a=c.enableSplitters&&b.split&&!b.isButton;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);if(a){if(a===!0){a={collapseTarget:'next'}}else {if(Ext.isString(a)){a={collapseTarget:a==='before'?'next':'prev'}}else {a=Ext.apply({collapseTarget:a.side==='before'?'next':'prev'},a)}}c.insertSplitter(b,d,!!b.hidden,a)}},onRemove:function(a,g){var c=this,f=c.names,e=c.owner,d=a.splitter,b;Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);if(d&&e.contains(d)){e.doRemove(d,!0);a.splitter=null}if(c.overflowHandler){c.overflowHandler.onRemove(a)}if(a.layoutMarginCap===c.id){delete a.layoutMarginCap}if(!e.destroying&&!g&&a.rendered){b=a.getEl();if(b){b.setStyle(f.beforeY,'');b.setStyle(f.beforeX,'');b.setStyle('margin','')}}},initOverflowHandler:function(){var b=this,a=b.overflowHandler,d,c;if(typeof a==='string'){a={type:a}}d='None';if(a&&a.type!==undefined){d=a.type}c=Ext.layout.container.boxOverflow[d];if(c[b.type]){c=c[b.type]}b.overflowHandler=Ext.create('Ext.layout.container.boxOverflow.'+d,b,a)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){var a=this;Ext.destroy(a.innerCt,a.overflowHandler);a.flexSortFn=a.innerCt=null;Ext.layout.container.Container.prototype.destroy.apply(this,arguments)},getRenderData:function(){var a=Ext.layout.container.Container.prototype.getRenderData.call(this);a.targetElCls=this.targetElCls;return a},setVertical:function(a){var b=a&&'vbox'||'hbox';Ext.apply(this,this._props[b])},_props:{'hbox':{direction:'horizontal',horizontal:!0,vertical:!1,names:{beforeX:'left',beforeScrollX:'left',beforeScrollerSuffix:'-before-scroller',afterScrollerSuffix:'-after-scroller',leftCap:'Left',afterX:'right',width:'width',contentWidth:'contentWidth',minWidth:'minWidth',maxWidth:'maxWidth',widthCap:'Width',widthModel:'widthModel',widthIndex:0,x:'x',scrollLeft:'scrollLeft',overflowX:'overflowX',hasOverflowX:'hasOverflowX',invalidateScrollX:'invalidateScrollX',parallelMargins:'lr',center:'middle',beforeY:'top',afterY:'bottom',height:'height',contentHeight:'contentHeight',minHeight:'minHeight',maxHeight:'maxHeight',heightCap:'Height',heightModel:'heightModel',heightIndex:1,y:'y',overflowY:'overflowY',hasOverflowY:'hasOverflowY',invalidateScrollY:'invalidateScrollY',perpendicularMargins:'tb',getWidth:'getWidth',getHeight:'getHeight',setWidth:'setWidth',setHeight:'setHeight',gotWidth:'gotWidth',gotHeight:'gotHeight',setContentWidth:'setContentWidth',setContentHeight:'setContentHeight',setWidthInDom:'setWidthInDom',setHeightInDom:'setHeightInDom',getScrollLeft:'getScrollLeft',setScrollLeft:'setScrollLeft',scrollTo:'scrollTo'},sizePolicy:{flex:{'':{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},'':{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},'vbox':{direction:'vertical',horizontal:!1,vertical:!0,names:{beforeX:'top',beforeScrollX:'top',beforeScrollerSuffix:'-before-scroller',afterScrollerSuffix:'-after-scroller',leftCap:'Top',afterX:'bottom',width:'height',contentWidth:'contentHeight',minWidth:'minHeight',maxWidth:'maxHeight',widthCap:'Height',widthModel:'heightModel',widthIndex:1,x:'y',scrollLeft:'scrollTop',overflowX:'overflowY',hasOverflowX:'hasOverflowY',invalidateScrollX:'invalidateScrollY',parallelMargins:'tb',center:'center',beforeY:'left',afterY:'right',height:'width',contentHeight:'contentWidth',minHeight:'minWidth',maxHeight:'maxWidth',heightCap:'Width',heightModel:'widthModel',heightIndex:0,y:'x',overflowY:'overflowX',hasOverflowY:'hasOverflowX',invalidateScrollY:'invalidateScrollX',perpendicularMargins:'lr',getWidth:'getHeight',getHeight:'getWidth',setWidth:'setHeight',setHeight:'setWidth',gotWidth:'gotHeight',gotHeight:'gotWidth',setContentWidth:'setContentHeight',setContentHeight:'setContentWidth',setWidthInDom:'setHeightInDom',setHeightInDom:'setWidthInDom',getScrollLeft:'getScrollTop',setScrollLeft:'setScrollTop',scrollTo:'scrollTo'},sizePolicy:{flex:{'':{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},'':{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}},1,0,0,0,['layout.box'],0,[Ext.layout.container,'Box',Ext.layout,'BoxLayout'],0);Ext.cmd.derive('Ext.layout.container.HBox',Ext.layout.container.Box,{alternateClassName:'Ext.layout.HBoxLayout',type:'hbox',vertical:!1},0,0,0,0,['layout.hbox'],0,[Ext.layout.container,'HBox',Ext.layout,'HBoxLayout'],0);Ext.cmd.derive('Ext.layout.container.VBox',Ext.layout.container.Box,{alternateClassName:'Ext.layout.VBoxLayout',type:'vbox',vertical:!0},0,0,0,0,['layout.vbox'],0,[Ext.layout.container,'VBox',Ext.layout,'VBoxLayout'],0);Ext.define('Ext.toolbar.Toolbar',{extend:Ext.container.Container,alias:'widget.toolbar',alternateClassName:'Ext.Toolbar',isToolbar:!0,baseCls:'x-toolbar',ariaRole:'toolbar',defaultType:'button',layout:undefined,vertical:!1,enableOverflow:!1,menuTriggerCls:'x-toolbar-more-icon',defaultButtonUI:'default-toolbar',defaultFieldUI:'default',defaultFooterButtonUI:'default',defaultFooterFieldUI:'default',trackMenus:!0,itemCls:'x-toolbar-item',statics:{shortcuts:{'-':'tbseparator',' ':'tbspacer'},shortcutsHV:{0:{'->':{xtype:'tbfill',height:0}},1:{'->':{xtype:'tbfill',width:0}}}},initComponent:function(){var a=this;if(!a.layout&&a.enableOverflow){a.layout={overflowHandler:'Menu'}}if(a.dock==='right'||a.dock==='left'){a.vertical=!0}a.layout=Ext.applyIf(Ext.isString(a.layout)?{type:a.layout}:a.layout||{},{type:a.vertical?'vbox':'hbox',align:a.vertical?'stretchmax':'middle'});if(a.vertical){a.addClsWithUI('vertical')}if(a.ui==='footer'){a.ignoreBorderManagement=!0}Ext.container.Container.prototype.initComponent.call(this)},getRefItems:function(c){var d=this,b=Ext.container.Container.prototype.getRefItems.apply(this,arguments),e=d.layout,a;if(c&&d.enableOverflow){a=e.overflowHandler;if(a&&a.menu){b=b.concat(a.menu.getRefItems(c))}}return b},lookupComponent:function(a){var c=arguments;if(typeof a==='string'){var d=Ext.toolbar.Toolbar,b=d.shortcutsHV[this.vertical?1:0][a]||d.shortcuts[a];if(typeof b==='string'){a={xtype:b}}else {if(b){a=Ext.apply({},b)}else {a={xtype:'tbtext',text:a}}}this.applyDefaults(a);c=[a]}return Ext.container.Container.prototype.lookupComponent.apply(this,c)},applyDefaults:function(a){if(!Ext.isString(a)){a=Ext.container.Container.prototype.applyDefaults.apply(this,arguments)}return a},trackMenu:function(b,d){if(this.trackMenus&&b.menu){var c=d?'mun':'mon',a=this;a[c](b,'mouseover',a.onButtonOver,a);a[c](b,'menushow',a.onButtonMenuShow,a);a[c](b,'menuhide',a.onButtonMenuHide,a)}},onBeforeAdd:function(a){var b=this,c=b.ui==='footer';if(a.ui==='default'&&!a.hasOwnProperty('ui')){if(a.isButton){a.ui=c?b.defaultFooterButtonUI:b.defaultButtonUI}else {if(a.isFormField){a.ui=c?b.defaultFooterFieldUI:b.defaultFieldUI}}}if(a instanceof Ext.toolbar.Separator){a.setUI(b.vertical?'vertical':'horizontal')}Ext.container.Container.prototype.onBeforeAdd.apply(this,arguments)},onAdd:function(a){Ext.container.Container.prototype.onAdd.apply(this,arguments);this.trackMenu(a)},onRemove:function(a){Ext.container.Container.prototype.onRemove.apply(this,arguments);this.trackMenu(a,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!==a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}});Ext.define('ExtThemeNeptune.toolbar.Toolbar',{override:'Ext.toolbar.Toolbar',usePlainButtons:!1,border:!1});Ext.cmd.derive('Ext.dd.DragDrop',Ext.Base,{constructor:function(a,c,b){if(a){this.init(a,c,b)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,triggerEvent:'mousedown',b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(b,a){},b4DragOver:function(a){},onDragOver:function(b,a){},b4DragOut:function(a){},onDragOut:function(b,a){},b4DragDrop:function(a){},onDragDrop:function(b,a){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(j,a,k){if(Ext.isNumber(a)){a={left:a,right:a,top:a,bottom:a}}a=a||this.defaultPadding;var c=Ext.get(this.getEl()).getBox(),e=Ext.get(j),i=e.getScroll(),b,d=e.dom,h,g,f;if(d==document.body){b={x:i.left,y:i.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}}else {h=e.getXY();b={x:h[0],y:h[1],width:d.clientWidth,height:d.clientHeight}}g=c.y-b.y;f=c.x-b.x;this.resetConstraints();this.setXConstraint(f-(a.left||0),b.width-f-c.width-(a.right||0),this.xTickSize);this.setYConstraint(g-(a.top||0),b.height-g-c.height-(a.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(b,d,c){var a=this;a.el=a.el||Ext.get(b);a.initTarget(b,d,c);Ext.get(a.id).on(a.triggerEvent,a.handleMouseDown,a)},initTarget:function(a,b,c){this.config=c||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof a!=='string'){a=Ext.id(a)}this.id=a;this.addToGroup(b?b:'default');this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:'A'};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=this.config.isTarget!==!1;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,c,d){if(!b&&0!==b){this.padding=[a,a,a,a]}else {if(!c&&0!==c){this.padding=[a,b,a,b]}else {this.padding=[a,b,c,d]}}},setInitPosition:function(e,f){var d=this.getEl(),b,c,a;if(!this.DDMInstance.verifyEl(d)){return}b=e||0;c=f||0;a=Ext.fly(d).getXY();this.initPageX=a[0]-b;this.initPageY=a[1]-c;this.lastPageX=a[0];this.lastPageY=a[1];this.setStartPosition(a)},setStartPosition:function(b){var a=b||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=!0;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=='string'){a=Ext.id(a)}this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=='string'){a=Ext.id(a)}Ext.get(a).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=!0},unreg:function(){var a=this,b;if(a._domRef){b=Ext.fly(a.id);if(b){b.un(a.triggerEvent,a.handleMouseDown,a)}}a._domRef=null;a.DDMInstance._remove(a,a.autoGroup)},destroy:function(){this.unreg();this.isDestroyed=!0},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(b,c){var a=this;if(a.primaryButtonOnly&&b.button!=0||a.isLocked()){return}a.DDMInstance.refreshCache(a.groups);if(a.hasOuterHandles||a.DDMInstance.isOverTarget(b.getPoint(),a)){if(a.clickValidator(b)){a.setStartPosition();a.b4MouseDown(b);a.onMouseDown(b);a.DDMInstance.handleMouseDown(b,a);a.DDMInstance.stopEvent(b)}}},clickValidator:function(b){var a=b.getTarget();return this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(a,this.id))},addInvalidHandleType:function(b){var a=b.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){if(typeof a!=='string'){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){if(typeof a!=='string'){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(b){for(var a=0,c=this.invalidHandleClasses.length;a<c;++a){if(this.invalidHandleClasses[a]==b){delete this.invalidHandleClasses[a]}}},isValidHandleChild:function(b){var a=!0,d,c,e;try{d=b.nodeName.toUpperCase()}catch(f){d=b.nodeName}a=a&&!this.invalidHandleTypes[d];a=a&&!this.invalidHandleIds[b.id];for(c=0,e=this.invalidHandleClasses.length;a&&c<e;++c){a=!Ext.fly(b).hasCls(this.invalidHandleClasses[c])}return a},setXTicks:function(d,c){this.xTicks=[];this.xTickSize=c;var b={},a;for(a=this.initPageX;a>=this.minX;a=a-c){if(!b[a]){this.xTicks[this.xTicks.length]=a;b[a]=!0}}for(a=this.initPageX;a<=this.maxX;a=a+c){if(!b[a]){this.xTicks[this.xTicks.length]=a;b[a]=!0}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(d,c){this.yTicks=[];this.yTickSize=c;var b={},a;for(a=this.initPageY;a>=this.minY;a=a-c){if(!b[a]){this.yTicks[this.yTicks.length]=a;b[a]=!0}}for(a=this.initPageY;a<=this.maxY;a=a+c){if(!b[a]){this.yTicks[this.yTicks.length]=a;b[a]=!0}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(c,b,a){this.leftConstraint=c;this.rightConstraint=b;this.minX=this.initPageX-c;this.maxX=this.initPageX+b;if(a){this.setXTicks(this.initPageX,a)}this.constrainX=!0},clearConstraints:function(){this.constrainX=!1;this.constrainY=!1;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(c,b,a){this.topConstraint=c;this.bottomConstraint=b;this.minY=this.initPageY-c;this.maxY=this.initPageY+b;if(a){this.setYTicks(this.initPageY,a)}this.constrainY=!0},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=this.maintainOffset?this.lastPageX-this.initPageX:0,b=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else {this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(d,a){if(!a){return d}else {if(a[0]>=d){return a[0]}else {var b,g,c,e,f;for(b=0,g=a.length;b<g;++b){c=b+1;if(a[c]&&a[c]>=d){e=d-a[b];f=a[c]-d;return f>e?a[b]:a[c]}}return a[a.length-1]}}},toString:function(){return 'DragDrop '+this.id}},3,0,0,0,0,0,[Ext.dd,'DragDrop'],0);Ext.cmd.derive('Ext.dd.DD',Ext.dd.DragDrop,{constructor:function(a,c,b){if(a){this.init(a,c,b)}},scroll:!0,autoOffset:function(a,b){var c=a-this.startPageX,d=b-this.startPageY;this.setDelta(c,d)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(d,j,k){var a=this.getTargetCoord(j,k),c=d.dom?d:Ext.fly(d,'_dd'),e=c.getSize(),i=Ext.Element,b,g,f,h;if(!this.deltaSetXY){b=this.cachedViewportSize={width:i.getDocumentWidth(),height:i.getDocumentHeight()};g=[this.constrainX?Math.max(0,Math.min(a.x,b.width-e.width)):a.x,this.constrainY?Math.max(0,Math.min(a.y,b.height-e.height)):a.y];c.setXY(g);f=this.getLocalX(c);h=c.getLocalY();this.deltaSetXY=[f-a.x,h-a.y]}else {b=this.cachedViewportSize;this.setLocalXY(c,this.constrainX?Math.max(0,Math.min(a.x+this.deltaSetXY[0],b.width-e.width)):a.x+this.deltaSetXY[0],this.constrainY?Math.max(0,Math.min(a.y+this.deltaSetXY[1],b.height-e.height)):a.y+this.deltaSetXY[1])}this.cachePosition(a.x,a.y);this.autoScroll(a.x,a.y,d.offsetHeight,d.offsetWidth);return a},cachePosition:function(b,c){if(b){this.lastPageX=b;this.lastPageY=c}else {var a=Ext.fly(this.getEl()).getXY();this.lastPageX=a[0];this.lastPageY=a[1]}},autoScroll:function(e,f,m,n){if(this.scroll){var g=Ext.Element.getViewportHeight(),h=Ext.Element.getViewportWidth(),b=this.DDMInstance.getScrollTop(),a=this.DDMInstance.getScrollLeft(),l=m+f,j=n+e,k=g+b-f-this.deltaY,i=h+a-e-this.deltaX,d=40,c=document.all?80:30;if(l>g&&k<d){window.scrollTo(a,b+c)}if(f<b&&b>0&&f-b<d){window.scrollTo(a,b-c)}if(j>h&&i<d){window.scrollTo(a+c,b)}if(e<a&&a>0&&e-a<d){window.scrollTo(a-c,b)}}},getTargetCoord:function(c,d){var a=c-this.deltaX,b=d-this.deltaY;if(this.constrainX){if(a<this.minX){a=this.minX}if(a>this.maxX){a=this.maxX}}if(this.constrainY){if(b<this.minY){b=this.minY}if(b>this.maxY){b=this.maxY}}a=this.getTick(a,this.xTicks);b=this.getTick(b,this.yTicks);return {x:a,y:b}},applyConfig:function(){Ext.dd.DragDrop.prototype.applyConfig.call(this);this.scroll=this.config.scroll!==!1},b4MouseDown:function(b){var a=b.getXY();this.autoOffset(a[0],a[1])},b4Drag:function(b){var a=b.getXY();this.setDragElPos(a[0],a[1])},toString:function(){return 'DD '+this.id},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(a,b,c){a.setLocalXY(b,c)}},3,0,0,0,0,0,[Ext.dd,'DD'],0);Ext.cmd.derive('Ext.dd.DDProxy',Ext.dd.DD,{statics:{dragElId:'ygddfdiv'},constructor:function(a,c,b){if(a){this.init(a,c,b);this.initFrame()}},resizeFrame:!0,centerFrame:!1,createFrame:function(){var d=this,c=document.body,a,b;if(!c||!c.firstChild){setTimeout(function(){d.createFrame()},50);return}a=this.getDragEl();if(!a){a=document.createElement('div');a.id=this.dragElId;a.setAttribute('role','presentation');b=a.style;b.position='absolute';b.visibility='hidden';b.cursor='move';b.border='2px solid #aaa';b.zIndex=999;c.insertBefore(a,c.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DD.prototype.applyConfig.call(this);this.resizeFrame=this.config.resizeFrame!==!1;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(c,d){var e=this.getEl(),a=this.getDragEl(),b=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2))}this.setDragElPos(c,d);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(d){var a=d.getXY(),b=a[0],c=a[1];this.autoOffset(b,c);this.setDragElPos(b,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(c){var b=this.getEl(),a=this.getDragEl();a.style.visibility='';this.beforeMove();b.style.visibility='hidden';Ext.dd.DDM.moveToEl(b,a);a.style.visibility='hidden';b.style.visibility='';this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return 'DDProxy '+this.id}},3,0,0,0,0,0,[Ext.dd,'DDProxy'],0);Ext.cmd.derive('Ext.dd.StatusProxy',Ext.Component,{animRepair:!1,childEls:['ghost'],renderTpl:['<div class="x-dd-drop-icon" role="presentation"></div><div id="{id}-ghost" class="x-dd-drag-ghost" role="presentation"></div>'],repairCls:'x-dd-drag-repair',ariaRole:'presentation',constructor:function(a){var b=this;a=a||{};Ext.apply(b,{hideMode:'visibility',hidden:!0,floating:!0,id:b.id||Ext.id(),cls:'x-dd-drag-proxy '+this.dropNotAllowed,shadow:a.shadow||!1,renderTo:Ext.getDetachedBody()});Ext.Component.prototype.constructor.apply(this,arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:'x-dd-drop-ok',dropNotAllowed:'x-dd-drop-nodrop',setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(c){var a=this,b='x-dd-drag-proxy ';a.el.replaceCls(b+a.dropAllowed,b+a.dropNotAllowed);a.dropStatus=a.dropNotAllowed;if(c){a.ghost.setHtml('')}},update:function(a){if(typeof a=='string'){this.ghost.setHtml(a)}else {this.ghost.setHtml('');a.style.margin='0';this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle('float','none')}},getGhost:function(){return this.ghost},hide:function(a){Ext.Component.prototype.hide.call(this);if(a){this.reset(!0)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.sync()},repair:function(b,c,d){var a=this;a.callback=c;a.scope=d;if(b&&a.animRepair!==!1){a.el.addCls(a.repairCls);a.el.hideUnders(!0);a.anim=a.el.animate({duration:a.repairDuration||500,easing:'ease-out',to:{x:b[0],y:b[1]},stopAnimation:!0,callback:a.afterRepair,scope:a})}else {a.afterRepair()}},afterRepair:function(){var a=this;a.hide(!0);a.el.removeCls(a.repairCls);if(typeof a.callback=='function'){a.callback.call(a.scope||a)}delete a.callback;delete a.scope}},1,0,['component','box'],{'component':!0,'box':!0},0,0,[Ext.dd,'StatusProxy'],0);Ext.cmd.derive('Ext.dd.DragSource',Ext.dd.DDProxy,{dropAllowed:'x-dd-drop-ok',dropNotAllowed:'x-dd-drop-nodrop',animRepair:!0,repairHighlightColor:'c3daf9',constructor:function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={}}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+'-drag-status-proxy',animRepair:this.animRepair})}Ext.dd.DDProxy.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0});this.dragging=!1},getDragData:function(a){return this.dragData},onDragEnter:function(c,b){var a=Ext.dd.DragDropManager.getDDById(b),d;this.cachedTarget=a;if(this.beforeDragEnter(a,c,b)!==!1){if(a.isNotifyTarget){d=a.notifyEnter(this,c,this.dragData);this.proxy.setStatus(d)}else {this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(a,c,b)}}},beforeDragEnter:function(a,c,b){return !0},onDragOver:function(c,b){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b),d;if(this.beforeDragOver(a,c,b)!==!1){if(a.isNotifyTarget){d=a.notifyOver(this,c,this.dragData);this.proxy.setStatus(d)}if(this.afterDragOver){this.afterDragOver(a,c,b)}}},beforeDragOver:function(a,c,b){return !0},onDragOut:function(c,b){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragOut(a,c,b)!==!1){if(a.isNotifyTarget){a.notifyOut(this,c,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(a,c,b)}}this.cachedTarget=null},beforeDragOut:function(a,c,b){return !0},onDragDrop:function(c,b){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragDrop(a,c,b)!==!1){if(a.isNotifyTarget){if(a.notifyDrop(this,c,this.dragData)!==!1){this.onValidDrop(a,c,b)}else {this.onInvalidDrop(a,c,b)}}else {this.onValidDrop(a,c,b)}if(this.afterDragDrop){this.afterDragDrop(a,c,b)}}delete this.cachedTarget},beforeDragDrop:function(a,c,b){return !0},onValidDrop:function(a,c,b){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(a,c,b)}},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(c,b,d){var a=this;if(!b){b=c;c=null;d=b.getTarget().id}if(a.beforeInvalidDrop(c,b,d)!==!1){if(a.cachedTarget){if(a.cachedTarget.isNotifyTarget){a.cachedTarget.notifyOut(a,b,a.dragData)}a.cacheTarget=null}a.proxy.repair(a.getRepairXY(b,a.dragData),a.afterRepair,a);if(a.afterInvalidDrop){a.afterInvalidDrop(b,d)}}},afterRepair:function(){var a=this;if(Ext.enableFx){a.el.highlight(a.repairHighlightColor)}a.dragging=!1},beforeInvalidDrop:function(a,c,b){return !0},handleMouseDown:function(b){if(this.dragging){return}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==!1){this.dragData=a;this.proxy.stop();Ext.dd.DDProxy.prototype.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(a,b){return !0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(!0);return Ext.dd.DDProxy.prototype.alignElWithMouse.apply(this,arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=!1;this.dragging=!0;this.proxy.update('');this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(b,c){var a=this.el.dom.cloneNode(!0);a.id=Ext.id();this.proxy.update(a);this.onStartDrag(b,c);return !0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(!0);this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DDProxy.prototype.destroy.call(this);Ext.destroy(this.proxy)}},1,0,0,0,0,0,[Ext.dd,'DragSource'],0);Ext.cmd.derive('Ext.panel.Proxy',Ext.Base,{alternateClassName:'Ext.dd.PanelProxy',moveOnDrag:!0,constructor:function(c,b){var a=this;a.panel=c;a.id=a.panel.id+'-ddproxy';Ext.apply(a,b)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;if(a.ghost){if(a.proxy){a.proxy.destroy();delete a.proxy}a.panel.unghost(null,a.moveOnDrag);delete a.ghost}},show:function(){var a=this,b;if(!a.ghost){b=a.panel.getSize();a.panel.el.setVisibilityMode(Ext.Element.DISPLAY);a.ghost=a.panel.ghost();if(a.insertProxy){a.proxy=a.panel.el.insertSibling({role:'presentation',cls:'x-panel-dd-spacer'});a.proxy.setSize(b)}}},repair:function(c,a,b){this.hide();Ext.callback(a,b||this)},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b)}}},1,0,0,0,0,0,[Ext.panel,'Proxy',Ext.dd,'PanelProxy'],0);Ext.cmd.derive('Ext.panel.DD',Ext.dd.DragSource,{constructor:function(b,c){var a=this;a.panel=b;a.dragData={panel:b};a.panelProxy=new Ext.panel.Proxy(b,c);a.proxy=a.panelProxy.proxy;Ext.dd.DragSource.prototype.constructor.call(this,b.el,c);a.setupEl(b)},setupEl:function(c){var a=this,b=c.header,d=c.body;if(b){a.setHandleElId(b.id);d=b.el}if(d){d.setStyle('cursor','move');a.scroll=!1}else {c.on('boxready',a.setupEl,a,{single:!0})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.panelProxy.show()},b4MouseDown:function(b){var a=b.getXY(),c=a[0],d=a[1];this.autoOffset(c,d)},onInitDrag:function(a,b){this.onStartDrag(a,b);return !0},createFrame:Ext.emptyFn,getDragEl:function(b){var a=this.panelProxy.ghost;if(a){return a.el.dom}},endDrag:function(a){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(d,b,c){var a=this;if(a.beforeInvalidDrop(d,b,c)!==!1){if(a.cachedTarget){if(a.cachedTarget.isNotifyTarget){a.cachedTarget.notifyOut(a,b,a.dragData)}a.cacheTarget=null}if(a.afterInvalidDrop){a.afterInvalidDrop(b,c)}}}},1,0,0,0,0,0,[Ext.panel,'DD'],0);Ext.cmd.derive('Ext.layout.component.Dock',Ext.layout.component.Component,{alternateClassName:'Ext.layout.component.AbstractDock',type:'dock',horzAxisProps:{name:'horz',oppositeName:'vert',dockBegin:'left',dockEnd:'right',horizontal:!0,marginBegin:'margin-left',maxSize:'maxWidth',minSize:'minWidth',pos:'x',setSize:'setWidth',shrinkWrapDock:'shrinkWrapDockWidth',size:'width',sizeModel:'widthModel'},vertAxisProps:{name:'vert',oppositeName:'horz',dockBegin:'top',dockEnd:'bottom',horizontal:!1,marginBegin:'margin-top',maxSize:'maxHeight',minSize:'minHeight',pos:'y',setSize:'setHeight',shrinkWrapDock:'shrinkWrapDockHeight',size:'height',sizeModel:'heightModel'},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var a=this,b,c;Ext.layout.component.Component.prototype.finishRender.call(this);b=a.getRenderTarget();c=a.getDockedItems();a.finishRenderItems(b,c)},isItemBoxParent:function(a){return !0},isItemShrinkWrap:function(a){return !0},noBorderClasses:['x-docked-noborder-top','x-docked-noborder-right','x-docked-noborder-bottom','x-docked-noborder-left'],noBorderClassesSides:{top:'x-docked-noborder-top',right:'x-docked-noborder-right',bottom:'x-docked-noborder-bottom',left:'x-docked-noborder-left'},borderWidthProps:{top:'border-top-width',right:'border-right-width',bottom:'border-bottom-width',left:'border-left-width'},handleItemBorders:function(){var b=this,e=b.owner,a,k,j=b.lastDockedItems,i=b.borders,m=e.dockedItems.generation,l=b.noBorderClassesSides,n=b.borderWidthProps,d,h,c,g,f,o=b.collapsed;if(b.initializedBorders==m||e.border&&!e.manageBodyBorders){return}b.initializedBorders=m;b.collapsed=!1;b.lastDockedItems=k=b.getLayoutItems();b.collapsed=o;a={top:[],right:[],bottom:[],left:[]};for(d=0,h=k.length;d<h;d++){c=k[d];g=c.dock;if(c.ignoreBorderManagement){continue}if(!a[g].satisfied){a[g].push(c);a[g].satisfied=!0}if(!a.top.satisfied&&g!=='bottom'){a.top.push(c)}if(!a.right.satisfied&&g!=='left'){a.right.push(c)}if(!a.bottom.satisfied&&g!=='top'){a.bottom.push(c)}if(!a.left.satisfied&&g!=='right'){a.left.push(c)}}if(j){for(d=0,h=j.length;d<h;d++){c=j[d];if(!c.isDestroyed&&!c.ignoreBorderManagement&&!e.manageBodyBorders){c.removeCls(b.noBorderClasses)}}}if(i){for(f in i){if(e.manageBodyBorders&&i[f].satisfied){e.setBodyStyle(n[f],'')}}}for(f in a){h=a[f].length;if(!e.manageBodyBorders){for(d=0;d<h;d++){a[f][d].addCls(l[f])}if(!a[f].satisfied&&!e.bodyBorder||e.bodyBorder===!1){e.addBodyCls(l[f])}}else {if(a[f].satisfied){e.setBodyStyle(n[f],'1px')}}}b.borders=a},beforeLayoutCycle:function(a){var g=this,e=g.owner,f=g.sizeModels.shrinkWrap,b=e.shrinkWrapDock,c,d;if(e.collapsed){if(e.collapsedVertical()){d=!0;a.measureDimensions=1}else {c=!0;a.measureDimensions=2}}a.collapsedVert=d;a.collapsedHorz=c;if(d){a.heightModel=f}else {if(c){a.widthModel=f}}b=b===!0?3:b||0;a.shrinkWrapDockHeight=b&1&&a.heightModel.shrinkWrap;a.shrinkWrapDockWidth=b&2&&a.widthModel.shrinkWrap},beginLayout:function(a){var c=this,e=c.owner,k=c.getLayoutItems(),m=a.context,l=k.length,j,g,f,d,b,h,i;Ext.layout.component.Component.prototype.beginLayout.apply(this,arguments);h=e.getCollapsed();if(h!==c.lastCollapsedState&&Ext.isDefined(c.lastCollapsedState)){if(c.owner.collapsed){a.isCollapsingOrExpanding=1;e.addClsWithUI(e.collapsedCls)}else {a.isCollapsingOrExpanding=2;e.removeClsWithUI(e.collapsedCls);a.lastCollapsedState=c.lastCollapsedState}}c.lastCollapsedState=h;a.dockedItems=j=[];for(g=0;g<l;g++){f=k[g];if(f.rendered){i=f.dock;d=m.getCmp(f);d.dockedAt={x:0,y:0};d.offsets=b=Ext.Element.parseBox(f.offsets||0);d.horizontal=i=='top'||i=='bottom';b.width=b.left+b.right;b.height=b.top+b.bottom;j.push(d)}}a.bodyContext=a.getEl('body')},beginLayoutCycle:function(a){var c=this,i=a.dockedItems,j=i.length,b=c.owner,d=b.frameBody,h=c.lastHeightModel,e,g,f;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(c.owner.manageHeight){if(c.lastBodyDisplay){b.body.dom.style.display=c.lastBodyDisplay=''}}else {if(c.lastBodyDisplay!=='inline-block'){b.body.dom.style.display=c.lastBodyDisplay='inline-block'}if(h&&h.shrinkWrap&&!a.heightModel.shrinkWrap){b.body.dom.style.marginBottom=''}}if(a.widthModel.auto){if(a.widthModel.shrinkWrap){b.el.setWidth(null)}b.body.setWidth(null);if(d){d.setWidth(null)}}if(a.heightModel.auto){b.body.setHeight(null);if(d){d.setHeight(null)}}if(a.collapsedVert){a.setContentHeight(0)}else {if(a.collapsedHorz){a.setContentWidth(0)}}for(e=0;e<j;e++){g=i[e].target;f=g.dock;if(f=='right'){g.setLocalX(0)}else {if(f!='left'){continue}}}},calculate:function(a){var b=this,l=b.measureAutoDimensions(a,a.measureDimensions),j=a.state,e=j.horzDone,f=j.vertDone,g=a.bodyContext,k,c,d,i,h;a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo();a.frameInfo||a.getFrameInfo();g.borderInfo||g.getBorderInfo();g.paddingInfo||g.getPaddingInfo();if(!a.frameBorder){if(!(k=a.framing)){a.frameBorder=a.borderInfo;a.framePadding=a.paddingInfo}else {a.frameBorder=k.border;a.framePadding=k.padding}}c=!e&&b.createAxis(a,l.contentWidth,a.widthModel,b.horzAxisProps,a.collapsedHorz);d=!f&&b.createAxis(a,l.contentHeight,a.heightModel,b.vertAxisProps,a.collapsedVert);for(i=0,h=a.dockedItems.length;h--;++i){if(c){b.dockChild(a,c,h,i)}if(d){b.dockChild(a,d,h,i)}}if(c&&b.finishAxis(a,c)){j.horzDone=e=c}if(d&&b.finishAxis(a,d)){j.vertDone=f=d}if(e&&f&&b.finishConstraints(a,e,f)){b.finishPositions(a,e,f)}else {b.done=!1}},createAxis:function(b,s,d,a,k){var r=this,e=0,q=r.owner,n=q[a.maxSize],o=q[a.minSize]||0,f=a.dockBegin,h=a.dockEnd,p=a.pos,g=a.size,m=n!=null,t=d.shrinkWrap,l,i,j,c;if(t){if(k){c=0}else {l=b.bodyContext;c=s+l.borderInfo[g]}}else {i=b.frameBorder;j=b.framePadding;e=i[f]+j[f];c=b.getProp(g)-(i[h]+j[h])}return {shrinkWrap:d.shrinkWrap,sizeModel:d,initialBegin:e,begin:e,end:c,collapsed:k,horizontal:a.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:c-e,maxChildSize:0,hasMinMaxConstraints:(o||m)&&d.shrinkWrap,minSize:o,maxSize:m?n:1000000000,bodyPosProp:r.owner.manageHeight?p:a.marginBegin,dockBegin:f,dockEnd:h,posProp:p,sizeProp:g,setSize:a.setSize,shrinkWrapDock:b[a.shrinkWrapDock],sizeModelName:a.sizeModel,dockedPixelsEnd:0}},dockChild:function(c,a,j,k){var f=this,b=c.dockedItems[a.shrinkWrap?j:k],d=b.target,h=d.dock,g=a.sizeProp,e,i;if(d.ignoreParentFrame&&c.isCollapsingOrExpanding){b.clearMarginCache()}b.marginInfo||b.getMarginInfo();if(h==a.dockBegin){if(a.shrinkWrap){e=f.dockOutwardBegin(c,b,d,a)}else {e=f.dockInwardBegin(c,b,d,a)}}else {if(h==a.dockEnd){if(a.shrinkWrap){e=f.dockOutwardEnd(c,b,d,a)}else {e=f.dockInwardEnd(c,b,d,a)}}else {if(a.shrinkWrapDock){i=b.getProp(g)+b.marginInfo[g];a.maxChildSize=Math.max(a.maxChildSize,i);e=0}else {e=f.dockStretch(c,b,d,a)}}}b.dockedAt[a.posProp]=e},dockInwardBegin:function(g,b,e,a){var j=a.begin,h=a.sizeProp,f=e.ignoreParentFrame,c,i,d;if(f){a.ignoreFrameBegin=b;d=e.dock;c=g.frameBorder[d];j-=c+g.framePadding[d]}if(!e.overlay){i=b.getProp(h)+b.marginInfo[h];a.begin+=i;if(f){a.begin-=c}}return j},dockInwardEnd:function(f,c,b,a){var g=a.sizeProp,h=c.getProp(g)+c.marginInfo[g],e=a.end-h,d;if(!b.overlay){a.end=e}if(b.ignoreParentFrame){a.ignoreFrameEnd=c;d=f.frameBorder[b.dock];e+=d+f.framePadding[b.dock];a.end+=d}return e},dockOutwardBegin:function(g,b,e,a){var c=a.begin,d=a.sizeProp,f;if(a.collapsed){a.ignoreFrameBegin=a.ignoreFrameEnd=b}else {if(e.ignoreParentFrame){a.ignoreFrameBegin=b}}if(!e.overlay){f=b.getProp(d)+b.marginInfo[d];c-=f;a.begin=c}return c},dockOutwardEnd:function(g,b,e,a){var f=a.end,d=a.sizeProp,c;c=b.getProp(d)+b.marginInfo[d];if(a.collapsed){a.ignoreFrameBegin=a.ignoreFrameEnd=b}else {if(e.ignoreParentFrame){a.ignoreFrameEnd=b}}if(!e.overlay){a.end=f+c;a.dockedPixelsEnd+=c}return f},dockStretch:function(h,c,f,a){var n=f.dock,e=a.sizeProp,i=n=='top'||n=='bottom',l=h.frameBorder,j=c.offsets,k=h.framePadding,o=i?'right':'bottom',d=i?'left':'top',g=a.begin+j[d],m,b;if(f.stretch!==!1){b=a.end-g-j[o];if(f.ignoreParentFrame){g-=k[d]+l[d];b+=k[e]+l[e]}m=c.marginInfo;b-=m[e];c[a.setSize](b)}return g},finishAxis:function(h,a){if(isNaN(a.maxChildSize)){return !1}var g=a.begin,e=a.end-g,l=a.collapsed,v=a.setSize,k=a.dockBegin,s=a.dockEnd,n=h.framePadding,t=h.frameBorder,b=t[k],i=h.framing,j=i&&i[k],f=l?0:n[k],w=a.sizeProp,p=a.ignoreFrameBegin,q=a.ignoreFrameEnd,r=h.bodyContext,o=Math.max(b+f-j,0),c,m,d,u;if(a.shrinkWrap){m=a.initialSize;if(i){d=-g+b+f;c=d-j-o}else {c=-g;d=c+f}if(!l){e+=n[w]}if(p){d-=b;c-=b;p.dockedAt[a.posProp]-=f}else {e+=b}if(l){}else {if(q){q.dockedAt[a.posProp]+=n[s]}else {e+=t[s]}}a.size=e;if(!a.horizontal&&!this.owner.manageHeight){u=!1}}else {if(i){d=0;c=g-j-o}else {d=-b;c=g-f-b}m=e}a.delta=d;r[v](m,u);r.setProp(a.bodyPosProp,c);return !isNaN(e)},beforeInvalidateShrinkWrapDock:function(b,c){var a=c.axis.sizeModelName;if(!b[a].constrainedMin){b[a]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(a,c){var b=c.axis,e=c.layout,d;if(a[b.sizeModelName].calculated){d=e.dockStretch(c.ownerContext,a,a.target,b);a.setProp(b.posProp,b.delta+d)}},finishConstraints:function(a,g,e){var o=this,i=o.sizeModels,q=g.shrinkWrap,p=e.shrinkWrap,n=o.owner,r,l,m,c,b,d,k,j,f,h;if(q){d=g.size;k=g.collapsed?0:g.minSize;j=g.maxSize;f=g.maxChildSize;h=Math.max(d,f);if(h>j){b=i.constrainedMax;m=j}else {if(h<k){b=i.constrainedMin;m=k}else {if(d<f){b=i.constrainedDock;n.dockConstrainedWidth=m=f}else {m=d}}}}if(p){d=e.size;k=e.collapsed?0:e.minSize;j=e.maxSize;f=e.maxChildSize;h=Math.max(d,f+d-e.initialSize);if(h>j){c=i.constrainedMax;l=j}else {if(h<k){c=i.constrainedMin;l=k}else {if(d<f){c=i.constrainedDock;n.dockConstrainedHeight=l=f}else {if(!a.collapsedVert&&!n.manageHeight){r=!1;a.bodyContext.setProp('margin-bottom',e.dockedPixelsEnd)}l=d}}}}if(b||c){if(b&&c&&b.constrainedMax&&c.constrainedByMin){a.invalidate({widthModel:b});return !1}if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap){a.invalidate({widthModel:b,heightModel:c});return !1}}else {o.invalidateAxes(a,g,e)}if(q){a.setWidth(m);if(b){a.widthModel=b}}if(p){a.setHeight(l,r);if(c){a.heightModel=c}}return !0},invalidateAxes:function(l,b,a){var p=this.beforeInvalidateShrinkWrapDock,q=this.afterInvalidateShrinkWrapDock,m=b.end-b.begin,n=a.initialSize,k=b.shrinkWrapDock&&b.maxChildSize<=m,h=a.shrinkWrapDock&&a.maxChildSize<=n,i,o,g,c,e,j,d,f;if(k||h){if(h){a.begin=a.initialBegin;a.end=a.begin+a.initialSize}i=l.dockedItems;for(g=0,o=i.length;g<o;++g){c=i[g];j=c.horizontal;d=null;if(k&&j){f=b.sizeProp;e=m;d=b}else {if(h&&!j){f=a.sizeProp;e=n;d=a}}if(d){e-=c.getMarginInfo()[f];if(e!==c.props[f]){c.invalidate({before:p,after:q,axis:d,ownerContext:l,layout:this})}}}}},finishPositions:function(d,h,i){var c=d.dockedItems,g=c.length,e=h.delta,f=i.delta,b,a;for(b=0;b<g;++b){a=c[b];a.setProp('x',e+a.dockedAt.x);a.setProp('y',f+a.dockedAt.y)}},finishedLayout:function(a){var c=this,b=a.target;Ext.layout.component.Component.prototype.finishedLayout.apply(this,arguments);if(!a.animatePolicy){if(a.isCollapsingOrExpanding===1){b.afterCollapse(!1)}else {if(a.isCollapsingOrExpanding===2){b.afterExpand(!1)}}}},getAnimatePolicy:function(b){var d=this,a,c;if(b.isCollapsingOrExpanding==1){a=d.lastCollapsedState}else {if(b.isCollapsingOrExpanding==2){a=b.lastCollapsedState}}if(a=='left'||a=='right'){c=d.horizontalCollapsePolicy}else {if(a=='top'||a=='bottom'){c=d.verticalCollapsePolicy}}return c},getDockedItems:function(c,k){var d=this,i=c==='visual',a=i?Ext.ComponentQuery.query('[rendered]',d.owner.dockedItems.items):d.owner.dockedItems.items,f=a&&a.length&&c!==!1,j,h,b,e,g,l;if(k==null){b=f&&!i?a.slice():a}else {b=[];for(e=0,l=a.length;e<l;++e){h=a[e].dock;g=h=='top'||h=='left';if(k?g:!g){b.push(a[e])}}f=f&&b.length}if(f){j=(c=c||'render')=='render';Ext.Array.sort(b,function(e,f){var a,b;if(j&&(a=d.owner.dockOrder[e.dock])!==(b=d.owner.dockOrder[f.dock])){if(!(a+b)){return a-b}}a=d.getItemWeight(e,c);b=d.getItemWeight(f,c);if(a!==undefined&&b!==undefined){return a-b}return 0})}return b||[]},getItemWeight:function(b,c){var a=b.weight||this.owner.defaultDockWeights[b.dock];return a[c]||a},getLayoutItems:function(){var e=this,c,f,d,b,a;if(e.owner.collapsed){a=e.owner.getCollapsedDockedItems()}else {c=e.getDockedItems('visual');f=c.length;a=[];for(b=0;b<f;b++){d=c[b];if(!d.hidden){a.push(d)}}}return a},measureContentWidth:function(b){var a=b.bodyContext;return a.el.getWidth()-a.getBorderInfo().width},measureContentHeight:function(b){var a=b.bodyContext;return a.el.getHeight()-a.getBorderInfo().height},redoLayout:function(b){var c=this,a=c.owner;if(b.isCollapsingOrExpanding==1){if(a.reExpander){a.reExpander.el.show()}a.addClsWithUI(a.collapsedCls);b.redo(!0)}else {if(b.isCollapsingOrExpanding==2){a.removeClsWithUI(a.collapsedCls);b.bodyContext.redo()}}},renderChildren:function(){var a=this,c=a.getDockedItems(),b=a.getRenderTarget();a.handleItemBorders();a.renderItems(c,b)},renderItems:function(j,i){var f=this,h=j.length,e=0,b=0,k=0,l=f.getRenderTarget().dom.childNodes,m=l.length,g,c,d,a;for(g=0,c=0;g<m;g++){d=l[g];if(d.nodeType===1&&Ext.fly(d).hasCls('x-resizable-handle')){break}for(c=0;c<h;c++){a=j[c];if(a.rendered&&a.el.dom===d){break}}if(c===h){k++}}for(;e<h;e++,b++){a=j[e];if(e===b&&(a.dock==='right'||a.dock==='bottom')){b+=k}if(a&&!a.rendered){f.renderItem(a,i,b)}else {if(!f.isValidParent(a,i,b)){f.moveItem(a,i,b)}}}},undoLayout:function(b){var c=this,a=c.owner;if(b.isCollapsingOrExpanding==1){if(a.reExpander){a.reExpander.el.hide()}a.removeClsWithUI(a.collapsedCls);b.undo(!0)}else {if(b.isCollapsingOrExpanding==2){a.addClsWithUI(a.collapsedCls);b.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(g,c){var f=this,b=f.sizePolicy,a=f.owner.shrinkWrapDock,e,d;if(g.stretch===!1){return b.nostretch}e=g.dock;d=e=='left'||e=='right';a=a===!0?3:a||0;if(d){b=b.vert;a=a&1}else {b=b.horz;a=a&2}if(a){if(!c){c=f.owner.getSizeModel()}if(c[d?'height':'width'].shrinkWrap){return b.shrinkWrap}}return b.stretch},configureItem:function(a,b){Ext.layout.component.Component.prototype.configureItem.apply(this,arguments);a.addCls('x-docked');if(!a.ignoreBorderManagement){a.addClsWithUI(this.getDockCls(a.dock))}},getDockCls:function(a){return 'docked-'+a},afterRemove:function(a){Ext.layout.component.Component.prototype.afterRemove.apply(this,arguments);if(this.itemCls){a.el.removeCls(this.itemCls+'-'+a.dock)}var b=a.el.dom;if(!a.destroying&&b){b.parentNode.removeChild(b)}this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var f=this,b=f.borderCollapseMap,e=f.owner,a=e.baseCls,d=e.ui,c;b=b[a]||(b[a]={});c=b[d];if(!c){a+='-'+d+'-outer-border-';b[d]=c=[0,a+'l',a+'b',a+'bl',a+'r',a+'rl',a+'rb',a+'rbl',a+'t',a+'tl',a+'tb',a+'tbl',a+'tr',a+'trl',a+'trb',a+'trbl']}return c}},0,0,0,0,['layout.dock'],0,[Ext.layout.component,'Dock',Ext.layout.component,'AbstractDock'],0);Ext.define('ExtThemeNeptune.layout.component.Dock',{override:'Ext.layout.component.Dock',noBorderClassTable:[0,'x-noborder-l','x-noborder-b','x-noborder-bl','x-noborder-r','x-noborder-rl','x-noborder-rb','x-noborder-rbl','x-noborder-t','x-noborder-tl','x-noborder-tb','x-noborder-tbl','x-noborder-tr','x-noborder-trl','x-noborder-trb','x-noborder-trbl'],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var d=this,i=0,o=8,n=4,l=2,m=1,r=d.owner,s=r.bodyBorder,j=r.border,x=d.collapsed,y=d.edgeMasks,k=d.noBorderClassTable,v=r.dockedItems.generation,a,q,u,b,t,w,g,p,h,c,f,e;if(d.initializedBorders===v){return}f=[];e=[];q=d.getBorderCollapseTable();k=d.getBorderClassTable?d.getBorderClassTable():k;d.initializedBorders=v;d.collapsed=!1;u=d.getDockedItems();d.collapsed=x;for(t=0,w=u.length;t<w;t++){g=u[t];if(g.ignoreBorderManagement){continue}p=g.dock;c=b=0;f.length=0;e.length=0;if(p!=='bottom'){if(i&o){a=g.border}else {a=j;if(a!==!1){b+=o}}if(a===!1){c+=o}}if(p!=='left'){if(i&n){a=g.border}else {a=j;if(a!==!1){b+=n}}if(a===!1){c+=n}}if(p!=='top'){if(i&l){a=g.border}else {a=j;if(a!==!1){b+=l}}if(a===!1){c+=l}}if(p!=='right'){if(i&m){a=g.border}else {a=j;if(a!==!1){b+=m}}if(a===!1){c+=m}}if((h=g.lastBorderMask)!==c){g.lastBorderMask=c;if(h){e[0]=k[h]}if(c){f[0]=k[c]}}if((h=g.lastBorderCollapse)!==b){g.lastBorderCollapse=b;if(h){e[e.length]=q[h]}if(b){f[f.length]=q[b]}}if(e.length){g.removeCls(e)}if(f.length){g.addCls(f)}i|=y[p]}c=b=0;f.length=0;e.length=0;if(i&o){a=s}else {a=j;if(a!==!1){b+=o}}if(a===!1){c+=o}if(i&n){a=s}else {a=j;if(a!==!1){b+=n}}if(a===!1){c+=n}if(i&l){a=s}else {a=j;if(a!==!1){b+=l}}if(a===!1){c+=l}if(i&m){a=s}else {a=j;if(a!==!1){b+=m}}if(a===!1){c+=m}if((h=d.lastBodyBorderMask)!==c){d.lastBodyBorderMask=c;if(h){e[0]=k[h]}if(c){f[0]=k[c]}}if((h=d.lastBodyBorderCollapse)!==b){d.lastBodyBorderCollapse=b;if(h){e[e.length]=q[h]}if(b){f[f.length]=q[b]}}if(e.length){r.removeBodyCls(e)}if(f.length){r.addBodyCls(f)}},onRemove:function(a){var b=a.lastBorderMask;if(!a.isDestroyed&&!a.ignoreBorderManagement&&b){a.lastBorderMask=0;a.removeCls(this.noBorderClassTable[b])}(arguments.callee.$previous||Ext.layout.component.Component.prototype.onRemove).call(this,a)}});Ext.cmd.derive('Ext.util.Memento',Ext.Base,function(){function captureOne(d,c,a,b){d[b?b+a:a]=c[a]}function removeOne(b,c,a){delete b[a]}function restoreOne(e,f,a,b){var d=b?b+a:a,c=e[d];if(c||e.hasOwnProperty(d)){restoreValue(f,a,c)}}function restoreValue(a,c,b){if(Ext.isDefined(b)){a[c]=b}else {delete a[c]}}function doMany(f,c,e,a,d){if(c){if(Ext.isArray(a)){var b,g=a.length;for(b=0;b<g;b++){f(c,e,a[b],d)}}else {f(c,e,a,d)}}}return {data:null,target:null,constructor:function(a,b){this.data={};if(a){this.target=a;if(b){this.capture(b)}}},capture:function(d,c,b){var a=this;doMany(captureOne,a.data||(a.data={}),c||a.target,d,b)},remove:function(a){doMany(removeOne,this.data,null,a)},restore:function(a,d,c,b){doMany(restoreOne,this.data,c||this.target,a,b);if(d!==!1){this.remove(a)}},restoreAll:function(c,d){var e=this,f=d||this.target,b=e.data,a;c=c!==!1;for(a in b){if(b.hasOwnProperty(a)){restoreValue(f,a,b[a]);if(c){delete b[a]}}}}}}(),1,0,0,0,0,0,[Ext.util,'Memento'],0);Ext.cmd.derive('Ext.container.DockingContainer',Ext.Base,{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(d,g){var b=this,c=0,e,a,f;d=b.prepareItems(d);f=d.length;for(;c<f;c++){a=d[c];a.dock=a.dock||'top';if(a.dock==='left'||a.dock==='right'){b.horizontalDocks++}if(g!==undefined){c+=g;b.dockedItems.insert(c,a)}else {b.dockedItems.add(a)}e=!!a.instancedCmp;delete a.instancedCmp;a.onAdded(b,c,e);delete a.initOwnerCt;if(b.hasListeners.dockedadd){b.fireEvent('dockedadd',b,a,c)}if(b.onDockedAdd!==Ext.emptyFn){b.onDockedAdd(a)}}if(b.rendered&&!b.suspendLayout){b.updateLayout()}return d},destroyDockedItems:function(){var a=this.dockedItems,b;if(a){while(b=a.first()){this.removeDocked(b,!0)}}},doRenderDockedItems:function(f,d,e){var g=d.$comp,a=g.componentLayout,b,c;if(a.getDockedItems&&!d.$skipDockedItems){b=a.getDockedItems('render',!e);c=b&&a.getItemsRenderTree(b);if(c){Ext.DomHelper.generateMarkup(c,f)}}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getDockedItems:function(b,c){var a=this.getComponentLayout().getDockedItems('render',c);if(b&&a.length){a=Ext.ComponentQuery.query(b,a)}return a},getDockingRefItems:function(e,d){var b=e&&'*,* *',a=this.getDockedItems(b,!0),c;a.push.apply(a,d);c=this.getDockedItems(b,!1);a.push.apply(a,c);return a},initDockingItems:function(){var b=this,a=b.dockedItems;if(!a||!a.isMixedCollection){b.dockedItems=new Ext.util.AbstractMixedCollection(!1,b.getComponentId);if(a){b.addDocked(a)}}},insertDocked:function(b,a){this.addDocked(a,b)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,c){var b=this,d,e;c=c===!0||c!==!1&&b.autoDestroy;if(!b.dockedItems.contains(a)){return a}if(a.dock==='left'||a.dock==='right'){b.horizontalDocks--}d=b.componentLayout;e=d&&b.rendered;if(e){d.onRemove(a)}b.dockedItems.remove(a);a.onRemoved(a.destroying||c);b.onDockedRemove(a);if(c){a.destroy()}else {if(e){d.afterRemove(a)}}if(b.hasListeners.dockedremove){b.fireEvent('dockedremove',b,a)}if(!b.destroying&&!b.suspendLayout){b.updateLayout()}return a},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,'DockingContainer'],0);Ext.cmd.derive('Ext.panel.Panel',Ext.container.Container,{alternateClassName:'Ext.Panel',childEls:['body'],renderTpl:['{% this.renderDockedItems(out,values,0); %}','<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyRole"> role="{bodyRole}"<tpl else> role="presentation"</tpl>','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','{%this.renderContainer(out,values);%}','</div>','{% this.renderDockedItems(out,values,1); %}'],animCollapse:Ext.enableFx,border:!0,closable:!1,closeAction:'destroy',collapsed:!1,collapsedCls:'collapsed',collapseFirst:!0,collapsible:undefined,constrain:!1,constrainHeader:!1,floatable:!0,frame:!1,frameHeader:!0,headerPosition:'top',hideCollapseTool:!1,manageHeight:!0,maskElement:'el',minButtonWidth:75,preventHeader:!1,shrinkWrapDock:!1,titleCollapse:undefined,baseCls:'x-panel',bodyPosProps:{x:'x',y:'y'},componentLayout:'dock',contentPaddingProperty:'bodyPadding',emptyArray:[],isPanel:!0,defaultBindProperty:'title',addBodyCls:function(c){var a=this,b=a.rendered?a.body:a.getProtoBody();b.addCls(c);return a},addTool:function(b){if(!Ext.isArray(b)){b=[b]}var c=this,a=c.header,g=b.length,f=c.tools,e,d;if(!a||!a.isHeader){a=null;if(!f){c.tools=f=[]}}for(e=0;e<g;e++){d=b[e];d.toolOwner=c;if(a){a.addTool(d)}else {f.push(d)}}c.updateHeader()},addTools:Ext.emptyFn,setCollapsible:function(c){var b=this,d=b.collapsible,a=b.collapseTool;b.collapsible=c;if(c&&!d){b.updateCollapseTool();a=b.collapseTool;if(a){a.show()}}else {if(!c&&d){if(a){a.hide()}}}},addUIClsToElement:function(b){var a=this,c=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments);a.addBodyCls(['x-'+b,a.baseCls+'-body-'+b,a.baseCls+'-body-'+a.ui+'-'+b]);return c},addUIToElement:function(){var a=this;Ext.container.Container.prototype.addUIToElement.apply(this,arguments);a.addBodyCls(a.baseCls+'-body-'+a.ui)},afterCollapse:function(b){var a=this,c=a.ownerLayout;a.isCollapsingOrExpanding=0;a.updateCollapseTool();if(b){a.removeCls('x-animating-size')}a.setHiddenDocked();a.fireEvent('collapse',a)},afterExpand:function(b){var a=this,c=a.ownerLayout;a.isCollapsingOrExpanding=0;a.updateCollapseTool();if(b){a.removeCls('x-animating-size')}a.fireEvent('expand',a);a.fireHierarchyEvent('expand')},applyTargetCls:function(a){this.getProtoBody().addCls(a)},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd);this.destroyDockedItems();Ext.container.Container.prototype.beforeDestroy.call(this)},beforeRender:function(){var a=this,b;Ext.container.Container.prototype.beforeRender.call(this);a.initTools();if(!(a.preventHeader||a.header===!1)){a.updateHeader()}if(a.collapsed){if(a.isPlaceHolderCollapse()){if(!a.hidden){a.setHiddenState(!0);a.preventCollapseFire=!0;a.placeholderCollapse();delete a.preventCollapseFire;b=a.collapsed;a.collapsed=!1}}else {a.beginCollapse();a.addClsWithUI(a.collapsedCls)}}if(b){a.collapsed=b}},getMemento:function(a){var b=this;if(a&&typeof a=='string'){a+='Memento';return b[a]||(b[a]=new Ext.util.Memento(b))}},beginCollapse:function(){var a=this,g=a.lastBox,f=a.rendered,d=a.getMemento('collapse'),e=a.getSizeModel(),b=a.header,c;d.capture(['height','minHeight','width','minWidth']);if(g){d.capture(a.restoreDimension(),g,'last.')}if(a.collapsedVertical()){if(e.width.shrinkWrap){a.width=f?a.getWidth():a.width||a.minWidth||100}delete a.height;a.minHeight=0}else {if(a.collapsedHorizontal()){if(e.height.shrinkWrap){a.height=f?a.getHeight():a.height||a.minHeight||100}delete a.width;a.minWidth=0}}if(a.ownerCt){a.ownerCt.getLayout().beginCollapse(a)}if(!a.isPlaceHolderCollapse()&&b!==!1){if(b===(c=a.getReExpander())){b.collapseImmune=!0;b.getInherited().collapseImmune=!0;b.addClsWithUI(a.getHeaderCollapsedClasses(b));if(b.rendered){b.updateFrame()}}else {if(c.el){c.el.show();c.hidden=!1}}}if(a.resizer){a.resizer.disable()}},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},beginExpand:function(){var a=this,f=a.lastBox,c=a.getMemento('collapse'),e=a.restoreDimension(),b=a.header,d;if(c){c.restore(['minHeight','minWidth',e]);if(f){c.restore(e,!0,f,'last.')}}if(a.ownerCt){a.ownerCt.getLayout().beginExpand(a)}if(!a.isPlaceHolderCollapse()&&b!==!1){if(b===(d=a.getReExpander())){delete b.collapseImmune;delete b.getInherited().collapseImmune;b.removeClsWithUI(a.getHeaderCollapsedClasses(b));if(b.rendered){b.expanding=!0;b.updateFrame();delete b.expanding}}else {d.hidden=!0;d.el.hide()}}if(a.resizer){a.resizer.enable()}},bridgeToolbars:function(){var a=this,b=[],d=a.minButtonWidth,c,e;function initToolbar(b,c,d){if(Ext.isArray(b)){b={xtype:'toolbar',items:b}}else {if(!b.xtype){b.xtype='toolbar'}}b.dock=c;if(c=='left'||c=='right'){b.vertical=!0}if(d){b.layout=Ext.applyIf(b.layout||{},{pack:{left:'start',center:'center'}[a.buttonAlign]||'end'})}return b}if(a.tbar){b.push(initToolbar(a.tbar,'top'));a.tbar=null}if(a.bbar){b.push(initToolbar(a.bbar,'bottom'));a.bbar=null}if(a.buttons){a.fbar=a.buttons;a.buttons=null}if(a.fbar){c=initToolbar(a.fbar,'bottom',!0);c.ui='footer';if(d){e=c.defaults;c.defaults=function(c){var a=e||{},b=!c.xtype||c.isButton,f;if(!b){f=Ext.ClassManager.getByAlias('widget.'+c.xtype);if(f){b=f.prototype.isButton}}if(b&&!('minWidth' in a)){a=Ext.apply({minWidth:d},a)}return a}}b.push(c);a.fbar=null}if(a.lbar){b.push(initToolbar(a.lbar,'left'));a.lbar=null}if(a.rbar){b.push(initToolbar(a.rbar,'right'));a.rbar=null}if(a.dockedItems){if(a.dockedItems.isMixedCollection){a.addDocked(b)}else {if(!Ext.isArray(a.dockedItems)){a.dockedItems=[a.dockedItems]}a.dockedItems=a.dockedItems.concat(b)}}else {a.dockedItems=b}},close:function(){if(this.fireEvent('beforeclose',this)!==!1){this.doClose()}},collapse:function(c,b){var a=this,e=c||a.collapseDirection,f=a.ownerCt,d=a.ownerLayout;if(a.isCollapsingOrExpanding){return a}if(arguments.length<2){b=a.animCollapse}if(a.collapsed||a.fireEvent('beforecollapse',a,c,b)===!1){return a}if(d&&d.onBeforeComponentCollapse){if(d.onBeforeComponentCollapse(a)===!1){return a}}if(f&&a.isPlaceHolderCollapse()){return a.placeholderCollapse(c,b)}a.collapsed=e;a.beginCollapse();a.getInherited().collapsed=!0;a.fireHierarchyEvent('collapse');return a.doCollapseExpand(1,b)},collapsedHorizontal:function(){var a=this.getCollapsed();return a==='left'||a==='right'},collapsedVertical:function(){var a=this.getCollapsed();return a==='top'||a==='bottom'},convertCollapseDir:function(a){return a.substr(0,1)},createGhost:function(d){var a=this,b=a.header,c=a.frame&&!a.alwaysFramed;return {xtype:'panel',hidden:!1,header:b?{titleAlign:b.titleAlign}:null,ui:c?a.ui.replace(/-framed$/,''):a.ui,id:a.id+'-ghost',renderTo:Ext.getBody(),resizable:!1,draggable:!1,closable:!1,floating:{shadow:!1},frame:c,alwaysFramed:a.alwaysFramed,overlapHeader:a.overlapHeader,headerPosition:a.headerPosition,baseCls:a.baseCls,cls:a.baseCls+'-ghost '+(d||'')}},createReExpander:function(c,h){var a=this,g=c==='left',e=c==='right',d=g||e,f=a.ownerCt,b=Ext.apply({hideMode:'offsets',title:a.title||'&#160;',titleAlign:a.titleAlign,orientation:d?'vertical':'horizontal',textCls:a.headerTextCls,icon:a.icon,iconCls:a.iconCls,glyph:a.glyph,baseCls:a.self.prototype.baseCls+'-header',ui:a.ui,frame:a.frame&&a.frameHeader,ignoreParentFrame:a.frame||a.overlapHeader,ignoreBorderManagement:a.frame||a.ignoreHeaderBorderManagement,indicateDrag:a.draggable,collapseImmune:!0,headerRole:a.headerRole,ownerCt:f&&a.collapseMode==='placeholder'?f:a,ownerLayout:a.componentLayout,margin:a.margin},h);if(a.collapseMode==='mini'){if(d){b.width=1}else {b.height=1}}if(!a.hideCollapseTool){if(g||e&&a.isPlaceHolderCollapse()){b.titlePosition=1}b.tools=[{xtype:'tool',type:'expand-'+a.getOppositeDirection(c),uiCls:['top'],handler:a.toggleCollapse,scope:a}]}b=new Ext.panel.Header(b);b.addClsWithUI(a.getHeaderCollapsedClasses(b));return b},doClose:function(){this.fireEvent('close',this);this[this.closeAction]()},doCollapseExpand:function(e,b){var a=this,d=a.animCollapse,c=a.ownerLayout;a.animCollapse=b;a.isCollapsingOrExpanding=e;if(b){a.addCls('x-animating-size')}if(c&&!b){c.onContentChange(a)}else {a.updateLayout({isRoot:!0})}a.animCollapse=d;return a},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},expand:function(b){var a=this,c=a.ownerLayout;if(a.isCollapsingOrExpanding){return a}if(!arguments.length){b=a.animCollapse}if(!a.collapsed&&!a.floatedFromCollapse){return a}if(a.fireEvent('beforeexpand',a,b)===!1){return a}if(c&&c.onBeforeComponentExpand){if(c.onBeforeComponentExpand(a)===!1){return a}}delete a.getInherited().collapsed;if(a.isPlaceHolderCollapse()){return a.placeholderExpand(b)}a.restoreHiddenDocked();a.beginExpand();a.collapsed=!1;return a.doCollapseExpand(2,b)},findReExpander:function(g){var f=this,c=Ext.Component,d=f.dockedItems.items,e=d.length,a,b;if(f.collapseMode==='mini'){return}switch(g){case c.DIRECTION_TOP:case c.DIRECTION_BOTTOM:for(b=0;b<e;b++){a=d[b];if(!a.hidden){if(a.isHeader&&(!a.dock||a.dock==='top'||a.dock==='bottom')){return a}}};break;case c.DIRECTION_LEFT:case c.DIRECTION_RIGHT:for(b=0;b<e;b++){a=d[b];if(!a.hidden){if(a.isHeader&&(a.dock==='left'||a.dock==='right')){return a}}};break;default:throw 'Panel#findReExpander must be passed a valid collapseDirection';}},floatCollapsedPanel:function(){var a=this,c=a.placeholder,d=c.getSize(),b,i='x-border-region-slide-in',h=a.collapsed,g=a.ownerCt||a,f,e;if(a.isSliding){return}if(a.el.hasCls(i)){a.slideOutFloatedPanel();return}a.isSliding=!0;c.el.hide();c.hidden=!0;a.el.show();a.setHiddenState(!1);a.collapsed=!1;g.updateLayout();b=a.getBox(!1,!0);c.el.show();c.hidden=!1;a.el.hide();a.setHiddenState(!0);a.collapsed=h;g.updateLayout();a.slideOutTask=a.slideOutTask||new Ext.util.DelayedTask(a.slideOutFloatedPanel,a);if(Ext.supports.Touch){Ext.on('mousedown',e=function(b){if(!b.within(a.el)){Ext.un('mousedown',e);a.slideOutFloatedPanel()}});if(!a.placeholderListener){a.placeholderListener=c.on({resize:a.onPlaceholderResize,scope:a,destroyable:!0})}}c.el.on('mouseleave',a.onMouseLeaveFloated,a);a.el.on('mouseleave',a.onMouseLeaveFloated,a);c.el.on('mouseenter',a.onMouseEnterFloated,a);a.el.on('mouseenter',a.onMouseEnterFloated,a);a.el.addCls(i);a.floated=h;if(a.collapseTool){a.collapseTool.el.hide()}switch(a.collapsed){case 'top':a.setLocalXY(b.x,b.y+d.height-1);break;case 'right':a.setLocalXY(b.x-d.width+1,b.y);break;case 'bottom':a.setLocalXY(b.x,b.y-d.height+1);break;case 'left':a.setLocalXY(b.x+d.width-1,b.y);break;}f=a.convertCollapseDir(a.collapsed);a.floatedFromCollapse=a.collapsed;a.collapsed=!1;a.setHiddenState(!1);a.el.slideIn(f,{preserveScroll:!0,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.isSliding=!1;a.fireEvent('float',a)}}})},onPlaceholderResize:function(f,d,c){var a=this,e=a.getBox(!1,!0),b=a.placeholder.getBox(!1,!0);switch(a.floated){case 'top':this.width=d;a.setLocalY(b.y+b.height);break;case 'right':this.height=c;a.setLocalX(b.x-e.width);break;case 'bottom':this.width=d;a.setLocalY(b.y-e.height);break;case 'left':this.height=c;a.setLocalX(b.x+b.width);break;}this.updateLayout({isRoot:!0})},getAnimationProps:function(){var c=this,b=c.animCollapse,a;a=Ext.container.Container.prototype.getAnimationProps.call(this);if(typeof b==='number'){a.duration=b}return a},getCollapsed:function(){var a=this;if(a.collapsed===!0){return a.collapseDirection}return a.collapsed},getCollapsedDockedItems:function(){var a=this;return a.header===!1||a.collapseMode=='placeholder'?a.emptyArray:[a.getReExpander()]},getComponent:function(b){var a=Ext.container.Container.prototype.getComponent.apply(this,arguments);if(a===undefined&&!Ext.isNumber(b)){a=this.getDockedComponent(b)}return a},getDefaultContentTarget:function(){return this.body},getFocusEl:function(){return this.el},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(d){var a=this,c=a.collapsedCls,b;b=[c,c+'-'+d.getDockName()];if(a.border&&(!a.frame||a.frame&&Ext.supports.CSS3BorderRadius)){b.push(c+'-border-'+d.getDockName())}return b},getHeightAuthority:function(){if(this.collapsed&&this.collapsedVertical()){return 1}return this.callParent()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},getOppositeDirection:function(b){var a=Ext.Component;switch(b){case a.DIRECTION_TOP:return a.DIRECTION_BOTTOM;case a.DIRECTION_RIGHT:return a.DIRECTION_LEFT;case a.DIRECTION_BOTTOM:return a.DIRECTION_TOP;case a.DIRECTION_LEFT:return a.DIRECTION_RIGHT;}},getPlaceholder:function(g){var a=this,d=g||a.collapseDirection,f=null,b=a.placeholder,e=a.floatable,c=a.titleCollapse;if(!b){if(e||a.collapsible&&c){f={click:{fn:!c&&e?a.floatCollapsedPanel:a.toggleCollapse,element:'el',scope:a}}}a.placeholder=b=Ext.widget(a.createReExpander(d,{id:a.id+'-placeholder',listeners:f}))}if(!b.placeholderFor){if(!b.isComponent){a.placeholder=b=a.lookupComponent(b)}Ext.applyIf(b,{margins:a.margins,placeholderFor:a,synthetic:!0});b.addCls(['x-region-collapsed-placeholder','x-region-collapsed-'+d+'-placeholder',a.collapsedCls])}return b},getProtoBody:function(){var a=this,b=a.protoBody;if(!b){a.protoBody=b=new Ext.util.ProtoElement({cls:a.bodyCls,style:a.bodyStyle,clsProp:'bodyCls',styleProp:'bodyStyle',styleIsText:!0})}return b},getReExpander:function(d){var a=this,b=d||a.collapseDirection,c=a.reExpander||a.findReExpander(b);a.expandDirection=a.getOppositeDirection(b);if(!c){a.reExpander=c=a.createReExpander(b,{dock:b,cls:'x-docked '+a.baseCls+'-'+a.ui+'-collapsed',isCollapsedExpander:!0});a.dockedItems.insert(0,c)}return c},getRefItems:function(b){var a=Ext.container.Container.prototype.getRefItems.apply(this,arguments);return this.getDockingRefItems(b,a)},getState:function(){var b=this,a=Ext.container.Container.prototype.getState.call(this)||{},e=b.collapsed,d=b.floated,c;if(d){b.collapsed=d}a=b.addPropertyToState(a,'collapsed');if(d){b.collapsed=e}if(b.getCollapsed()){c=b.getMemento('collapse').data;a=b.addPropertyToState(a,'collapsed',c);if(b.collapsedVertical()){delete a.height;if(c){a=b.addPropertyToState(a,'height',c.height)}}else {delete a.width;if(c){a=b.addPropertyToState(a,'width',c.width)}}}return a},applyState:function(b){var d=this,c={},a;if(b){a=b.collapsed;if(a){c=d.getMemento('collapse');Ext.Object.merge(c.data,a);b.collapsed=!0}Ext.container.Container.prototype.applyState.apply(this,arguments)}},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},getWidthAuthority:function(){if(this.collapsed&&this.collapsedHorizontal()){return 1}return this.callParent()},ghost:function(h){var a=this,b=a.ghostPanel,d=a.getBox(),g=a.header,c,e,f;if(!b){a.ghostPanel=b=Ext.widget(a.createGhost(h))}else {b.el.show()}b.setHiddenState(!1);b.floatParent=a.floatParent;b.toFront();if(g&&!a.preventHeader){c=b.header;c.suspendLayouts();e=c.query('tool');for(f=e.length;f--;){c.remove(e[f])}b.addTool(a.ghostTools());b.setTitle(a.title);c.setTitlePosition(g.titlePosition);if(a.iconCls){b.setIconCls(a.iconCls)}else {if(a.icon){b.setIcon(a.icon)}else {if(a.glyph){b.setGlyph(a.glyph)}}}c.addCls('x-header-ghost');c.resumeLayouts()}b.setPagePosition(d.x,d.y);b.setSize(d.width,d.height);a.el.hide();return b},ghostTools:function(){var c=[],d=this.header,b=d?d.query('tool[hidden=false]'):[],a,e,f;if(b.length){a=0;e=b.length;for(;a<e;a++){f=b[a];c.push({type:f.type})}}else {c=[{type:'placeholder'}]}return c},initBodyBorder:function(){var a=this;if(a.frame&&a.bodyBorder){if(!Ext.isNumber(a.bodyBorder)){a.bodyBorder=1}a.getProtoBody().setStyle('border-width',this.unitizeBox(a.bodyBorder))}},initBodyStyles:function(){var a=this,b=a.getProtoBody();if(a.bodyPadding!==undefined){if(a.layout.managePadding){b.setStyle('padding',0)}else {b.setStyle('padding',this.unitizeBox(a.bodyPadding===!0?5:a.bodyPadding))}}a.initBodyBorder()},initBorderProps:function(){var a=this;if(a.frame&&a.border&&a.bodyBorder===undefined){a.bodyBorder=!1}if(a.frame&&a.border&&(a.bodyBorder===!1||a.bodyBorder===0)){a.manageBodyBorders=!0}},initComponent:function(){var a=this;if(a.collapsible){a.addStateEvents(['expand','collapse'])}if(a.unstyled){a.setUI('plain')}if(a.frame){a.setUI(a.ui+'-framed')}a.bridgeToolbars();this.initBorderProps();Ext.container.Container.prototype.initComponent.call(this);a.collapseDirection=a.collapseDirection||a.headerPosition||Ext.Component.DIRECTION_TOP;a.hiddenOnCollapse=new Ext.dom.CompositeElement()},initDraggable:function(){var a=this;if(a.simpleDrag){a.initSimpleDraggable()}else {a.dd=new Ext.panel.DD(a,Ext.isBoolean(a.draggable)?null:a.draggable)}},initItems:function(){Ext.container.Container.prototype.initItems.call(this);this.initDockingItems()},initRenderData:function(){var a=this,b=Ext.container.Container.prototype.initRenderData.call(this);a.initBodyStyles();a.protoBody.writeTo(b);delete a.protoBody;return b},initResizable:function(){Ext.container.Container.prototype.initResizable.apply(this,arguments);if(this.collapsed){this.resizer.disable()}},initSimpleDraggable:function(){var a=this,b,c;if(!a.header){a.updateHeader(!0)}if(a.header){b=Ext.applyIf({el:a.el,delegate:'#'+a.header.id},a.draggable);if(a.constrain||a.constrainHeader){b.constrain=a.constrain;b.constrainDelegate=a.constrainHeader;b.constrainTo=a.constrainTo||a.container}c=a.dd=new Ext.util.ComponentDragger(a,b);a.relayEvents(c,['dragstart','drag','dragend']);if(a.maximized){c.disable()}}},calculateConstrainedPosition:function(c,e,f,b){var a=this,d;if(a.constrainHeader){if(b){if(a.header.orientation==='horizontal'){b=[b[0],a.header.lastBox.height]}else {b=[a.header.lastBox.width,b[1]]}}else {b=[a.header.lastBox.width,a.header.lastBox.height]}d=a.floatParent;c=c||a.constrainTo||(d?d.getTargetEl():null)||a.container||a.el.parent()}return Ext.container.Container.prototype.calculateConstrainedPosition.call(this,c,e,f,b)},initTools:function(){var a=this,c=a.tools,b,d;a.tools=[];for(b=c&&c.length;b;){--b;a.tools[b]=d=c[b];d.toolOwner=a}if(a.collapsible&&!(a.hideCollapseTool||a.header===!1||a.preventHeader)){a.updateCollapseTool();if(a.collapseFirst){a.tools.unshift(a.collapseTool)}}a.addTools();if(a.pinnable){a.initPinnable()}if(a.closable){a.addClsWithUI('closable');a.addTool({xtype:'tool',type:'close',scope:a,handler:a.close})}if(a.collapseTool&&!a.collapseFirst){a.addTool(a.collapseTool)}},isLayoutRoot:function(){if(this.floatedFromCollapse){return !0}return Ext.container.Container.prototype.isLayoutRoot.call(this)},isPlaceHolderCollapse:function(){return this.collapseMode=='placeholder'},isVisible:function(b){var a=this;if(a.collapsed&&a.placeholder){return a.placeholder.isVisible(b)}return Ext.container.Container.prototype.isVisible.apply(this,arguments)},onBoxReady:function(){Ext.container.Container.prototype.onBoxReady.call(this);if(this.collapsed){this.setHiddenDocked()}},onHide:function(){var a=this,b=a.dd;if(a.floatedFromCollapse){a.slideOutFloatedPanel(!0)}if(a.draggable&&b){b.endDrag()}if(a.collapsed&&a.placeholder){a.placeholder.hide()}else {Ext.container.Container.prototype.onHide.apply(this,arguments)}},onMouseEnterFloated:function(a){this.slideOutTask.cancel()},onMouseLeaveFloated:function(a){this.slideOutTask.delay(500)},onRemoved:function(b){var a=this;if(a.placeholder&&!b){a.ownerCt.remove(a.placeholder,!1)}Ext.container.Container.prototype.onRemoved.apply(this,arguments)},onShow:function(){var a=this;if(a.collapsed&&a.isPlaceHolderCollapse()){a.setHiddenState(!0);a.placeholderCollapse()}else {Ext.container.Container.prototype.onShow.apply(this,arguments)}},placeholderCollapse:function(h,g){var a=this,e=a.ownerCt,d=h||a.collapseDirection,f='x-border-region-slide-in',b=a.getPlaceholder(d),c;a.isCollapsingOrExpanding=1;a.setHiddenState(!0);a.collapsed=d;if(b.rendered){if(b.el.dom.parentNode!==a.el.dom.parentNode){a.el.dom.parentNode.insertBefore(b.el.dom,a.el.dom)}b.hidden=!1;b.setHiddenState(!1);b.el.show();e.updateLayout()}else {e.insert(e.items.indexOf(a),b)}if(a.rendered){a.el.setVisibilityMode(a.placeholderCollapseHideMode);if(g){a.el.addCls(f);b.el.hide();c=a.convertCollapseDir(d);a.el.slideOut(c,{preserveScroll:!0,duration:Ext.Number.from(g,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.el.removeCls(f);b.el.show().setStyle('display','none').slideIn(c,{easing:'linear',duration:100,listeners:{afteranimate:function(){b.focus();b.setHiddenState(!1);a.isCollapsingOrExpanding=0;a.fireEvent('collapse',a)}}})}}})}else {a.el.hide();b.setHiddenState(!1);a.isCollapsingOrExpanding=0;a.fireEvent('collapse',a)}}else {a.isCollapsingOrExpanding=0;if(!a.preventCollapseFire){a.fireEvent('collapse',a)}}return a},placeholderExpand:function(d){var a=this,g=a.collapsed,c='x-border-region-slide-in',e,b,f=a.ownerLayout?a.ownerLayout.centerRegion:null;if(Ext.Component.layoutSuspendCount){d=!1}if(a.floatedFromCollapse){b=a.getPosition(!0);a.slideOutFloatedPanelBegin();a.slideOutFloatedPanelEnd();a.floated=!1}if(d){Ext.suspendLayouts();a.placeholder.hide();a.el.show();a.collapsed=!1;a.setHiddenState(!1);if(f&&!b){f.hidden=!0}Ext.resumeLayouts(!0);f.hidden=!1;a.el.addCls(c);a.isCollapsingOrExpanding=2;if(b){e=a.getXY();a.setLocalXY(b[0],b[1]);a.setXY([e[0],e[1]],{duration:Ext.Number.from(d,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.el.removeCls(c);a.isCollapsingOrExpanding=0;a.fireEvent('expand',a)}}})}else {a.el.hide();a.placeholder.el.show();a.placeholder.hidden=!1;a.setHiddenState(!1);a.el.slideIn(a.convertCollapseDir(g),{preserveScroll:!0,duration:Ext.Number.from(d,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.el.removeCls(c);a.placeholder.hide();a.updateLayout();a.isCollapsingOrExpanding=0;a.fireEvent('expand',a)}}})}}else {a.floated=a.collapsed=!1;a.el.removeCls(c);Ext.suspendLayouts();a.placeholder.hide();a.show();Ext.resumeLayouts(!0);a.fireEvent('expand',a)}return a},removeBodyCls:function(c){var a=this,b=a.rendered?a.body:a.getProtoBody();b.removeCls(c);return a},removeUIClsFromElement:function(b){var a=this,c=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments);a.removeBodyCls(['x-'+b,a.baseCls+'-body-'+b,a.baseCls+'-body-'+a.ui+'-'+b]);return c},removeUIFromElement:function(){var a=this;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);a.removeBodyCls(a.baseCls+'-body-'+a.ui)},restoreDimension:function(){var a=this.collapseDirection;return a==='top'||a==='bottom'?'height':'width'},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle('visibility','');a.clear()},setBodyStyle:function(a,d){var b=this,c=b.rendered?b.body:b.getProtoBody();if(Ext.isFunction(a)){a=a()}if(arguments.length==1){if(Ext.isString(a)){a=Ext.Element.parseStyles(a)}c.setStyle(a)}else {c.setStyle(a,d)}return b},setBorder:function(a,d){if(d){return}var b=this,c=b.header;if(!a){a=0}else {if(a===!0){a='1px'}else {a=b.unitizeBox(a)}}if(c){if(c.isHeader){c.setBorder(a)}else {c.border=a}}if(b.rendered&&b.bodyBorder!==!1){b.body.setStyle('border-width',a)}b.updateLayout();b.border=a},setGlyph:function(b){var a=this,e=a.glyph,c=a.header,d=a.placeholder;a.glyph=b;if(c){if(c.isHeader){c.setGlyph(b)}else {c.glyph=b}}else {a.updateHeader()}if(d&&d.setGlyph){d.setIcon(b)}a.fireEvent('glyphchange',a,b,e)},setHiddenDocked:function(){var b=this,c=b.hiddenOnCollapse,f=b.getDockedItems(),g=f.length,d=0,a,e;if(b.header!==!1){e=b.getReExpander()}c.add(b.body);for(;d<g;d++){a=f[d];if(a&&a!==e&&a.el){c.add(a.el)}}c.setStyle('visibility','hidden')},setIcon:function(b){var a=this,e=a.icon,c=a.header,d=a.placeholder;a.icon=b;if(c){if(c.isHeader){c.setIcon(b)}else {c.icon=b}}else {a.updateHeader()}if(d&&d.setIcon){d.setIcon(b)}a.fireEvent('iconchange',a,b,e)},setIconCls:function(b){var a=this,e=a.iconCls,c=a.header,d=a.placeholder;a.iconCls=b;if(c){if(c.isHeader){c.setIconCls(b)}else {c.iconCls=b}}else {a.updateHeader()}if(d&&d.setIconCls){d.setIconCls(b)}a.fireEvent('iconclschange',a,b,e)},setTitle:function(b){var a=this,f=a.title,c=a.header,e=a.reExpander,d=a.placeholder;a.title=b;if(c){if(c.isHeader){c.setTitle(b)}else {c.title=b}}else {if(a.rendered){a.updateHeader()}}if(e){e.setTitle(b)}if(d&&d.setTitle){d.setTitle(b)}a.fireEvent('titlechange',a,b,f)},setUI:function(b){var a=this;Ext.container.Container.prototype.setUI.apply(this,arguments);if(a.header&&a.header.rendered){a.header.setUI(b)}},setupRenderTpl:function(a){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);this.setupDockingRenderTpl(a)},slideOutFloatedPanel:function(c){var a=this,d=a.el,b;if(a.isSliding||a.isDestroyed){return}a.isSliding=!0;a.floated=!1;a.slideOutFloatedPanelBegin();if(typeof a.collapsed=='string'){b=a.convertCollapseDir(a.collapsed)}d.slideOut(b,{preserveScroll:!0,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),autoEnd:c===!0,listeners:{afteranimate:function(){a.slideOutFloatedPanelEnd();a.el.removeCls('x-border-region-slide-in')}}})},slideOutFloatedPanelBegin:function(){var a=this,b=a.placeholder.el,c=a.el;a.collapsed=a.floatedFromCollapse;a.setHiddenState(!0);a.floatedFromCollapse=null;b.un('mouseleave',a.onMouseLeaveFloated,a);c.un('mouseleave',a.onMouseLeaveFloated,a);b.un('mouseenter',a.onMouseEnterFloated,a);c.un('mouseenter',a.onMouseEnterFloated,a)},slideOutFloatedPanelEnd:function(b){var a=this;if(a.collapseTool){a.collapseTool.el.show()}a.slideOutTask.cancel();a.isSliding=!1;if(!b){a.fireEvent('unfloat',a)}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var a=this,b=a.collapseTool;if(!b&&a.collapsible){a.collapseDirection=a.collapseDirection||a.headerPosition||'top';a.collapseTool=a.expandTool=b=Ext.widget({xtype:'tool',handler:a.toggleCollapse,scope:a})}if(b){if(a.collapsed&&!a.isPlaceHolderCollapse()){b.setType('expand-'+a.getOppositeDirection(a.collapseDirection))}else {b.setType('collapse-'+a.collapseDirection)}}},unghost:function(e,c,d){var a=this,b=a.ghostPanel;if(!b){return}if(e!==!1){a.el.show();if(c!==!1){a.setPagePosition(b.getXY());if(a.hideMode==='offsets'){delete a.el.hideModeStyles}}if(d){a.focus(!1,10)}}b.el.hide();b.setHiddenState(!0)},updateHeader:function(f){var a=this,b=a.header,d=a.title,c=a.tools,g=a.icon||a.iconCls,e=a.headerPosition==='left'||a.headerPosition==='right';if(Ext.isObject(b)||b!==!1&&(f||(d||g)||c&&c.length||a.collapsible&&!a.titleCollapse)){if(b&&b.isHeader){b.show()}else {b=a.header=Ext.widget(Ext.merge({xtype:'header',title:d,titleAlign:a.titleAlign,orientation:e?'vertical':'horizontal',dock:a.headerPosition||'top',textCls:a.headerTextCls,iconCls:a.iconCls,icon:a.icon,glyph:a.glyph,baseCls:a.baseCls+'-header',tools:c,ui:a.ui,id:a.id+'_header',overCls:a.headerOverCls,indicateDrag:a.draggable,frame:(a.frame||a.alwaysFramed)&&a.frameHeader,ignoreParentFrame:a.frame||a.overlapHeader,ignoreBorderManagement:a.frame||a.ignoreHeaderBorderManagement,headerRole:a.headerRole,ownerCt:a,synthetic:!0,listeners:a.collapsible&&a.titleCollapse?{click:a.toggleCollapse,scope:a}:null},a.header));a.addDocked(b,0)}}else {if(b){b.hide()}}}},0,['panel'],['component','box','container','panel'],{'component':!0,'box':!0,'container':!0,'panel':!0},['widget.panel'],[['docking',Ext.container.DockingContainer]],[Ext.panel,'Panel',Ext,'Panel'],function(){var a=this.prototype;a.animCollapse=Ext.enableFx;a.placeholderCollapseHideMode=Ext.Element.VISIBILITY});Ext.define('ExtThemeNeptune.panel.Panel',{override:'Ext.panel.Panel',border:!1,bodyBorder:!1,initBorderProps:Ext.emptyFn,initBodyBorder:function(){if(this.bodyBorder!==!0){arguments.callee.$previous.call(this)}}});Ext.cmd.derive('Ext.tip.Tip',Ext.panel.Panel,{alternateClassName:'Ext.Tip',minWidth:40,maxWidth:500,shadow:'sides',defaultAlign:'tl-bl?',constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:'x-tip',floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:'hide',alwaysFramed:!0,frameHeader:!1,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow,constrain:a.constrainPosition},a.self.prototype.floating);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);a.constrain=a.constrain||a.constrainPosition},showAt:function(b){var a=this;Ext.panel.Panel.prototype.showAt.apply(this,arguments);if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(!0)}},initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(a)},ghost:undefined,unghost:undefined},0,0,['component','box','container','panel'],{'component':!0,'box':!0,'container':!0,'panel':!0},0,0,[Ext.tip,'Tip',Ext,'Tip'],0);Ext.cmd.derive('Ext.tip.ToolTip',Ext.tip.Tip,{alternateClassName:'Ext.ToolTip',autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,hideAction:'hide',fadeOutDuration:1000,ariaRole:'tooltip',initComponent:function(){var a=this;Ext.tip.Tip.prototype.initComponent.apply(this,arguments);a.lastActive=new Date();a.setTarget(a.target);a.origAnchor=a.anchor},onRender:function(c,b){var a=this;Ext.tip.Tip.prototype.onRender.apply(this,arguments);a.anchorCls='x-tip-anchor-'+a.getAnchorPosition();a.anchorEl=a.el.createChild({role:'presentation',cls:'x-tip-anchor '+a.anchorCls})},setTarget:function(d){var a=this,b=Ext.get(d),c;if(a.target){c=Ext.get(a.target);if(Ext.supports.Touch){a.mun(c,'tap',a.onTargetOver,a)}else {a.mun(c,{mouseover:a.onTargetOver,mouseout:a.onTargetOut,mousemove:a.onMouseMove,scope:a})}}a.target=b;if(b){if(Ext.supports.Touch){a.mon(b,{tap:a.onTargetOver,scope:a})}else {a.mon(b,{freezeEvent:!0,mouseover:a.onTargetOver,mouseout:a.onTargetOut,mousemove:a.onMouseMove,scope:a})}}if(a.anchor){a.anchorTarget=a.target}},onMouseMove:function(c){var a=this,d,b;if(!a.target||a.target.contains(c.target)){d=a.delegate?c.getTarget(a.delegate):a.triggerElement=!0;if(d){a.targetXY=c.getXY();if(d===a.triggerElement){if(!a.hidden&&a.trackMouse){b=a.getTargetXY();if(a.constrainPosition){b=a.el.adjustForConstraints(b,a.el.parent())}a.setPagePosition(b)}}else {a.hide();a.lastActive=new Date(0);a.onTargetOver(c)}}else {if(!a.closable&&a.isVisible()&&a.autoHide!==!1){a.delayHide()}}}},getTargetXY:function(){var a=this,c,d,h,m,l,f,e,j,k,b,g,i;if(a.delegate){a.anchorTarget=a.triggerElement}if(a.anchor){a.targetCounter++;d=a.getOffsets();h=a.anchorToTarget&&!a.trackMouse?a.getAlignToXY(a.anchorTarget,a.getAnchorAlign()):a.targetXY;m=Ext.Element.getViewportWidth()-5;l=Ext.Element.getViewportHeight()-5;f=document.documentElement;e=document.body;j=(f.scrollLeft||e.scrollLeft||0)+5;k=(f.scrollTop||e.scrollTop||0)+5;b=[h[0]+d[0],h[1]+d[1]];g=a.getSize();i=a.constrainPosition;a.anchorEl.removeCls(a.anchorCls);if(a.targetCounter<2&&i){if(b[0]<j){if(a.anchorToTarget){a.defaultAlign='l-r';if(a.mouseOffset){a.mouseOffset[0]*=-1}}a.anchor='left';return a.getTargetXY()}if(b[0]+g.width>m){if(a.anchorToTarget){a.defaultAlign='r-l';if(a.mouseOffset){a.mouseOffset[0]*=-1}}a.anchor='right';return a.getTargetXY()}if(b[1]<k){if(a.anchorToTarget){a.defaultAlign='t-b';if(a.mouseOffset){a.mouseOffset[1]*=-1}}a.anchor='top';return a.getTargetXY()}if(b[1]+g.height>l){if(a.anchorToTarget){a.defaultAlign='b-t';if(a.mouseOffset){a.mouseOffset[1]*=-1}}a.anchor='bottom';return a.getTargetXY()}}a.anchorCls='x-tip-anchor-'+a.getAnchorPosition();a.anchorEl.addCls(a.anchorCls);a.targetCounter=0;return b}else {c=a.getMouseOffset();return a.targetXY?[a.targetXY[0]+c[0],a.targetXY[1]+c[1]]:c}},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];if(a.mouseOffset){b[0]+=a.mouseOffset[0];b[1]+=a.mouseOffset[1]}return b},fadeOut:function(){var a=this;a.el.fadeOut({duration:a.fadeOutDuration,callback:function(){a.hide();a.el.setOpacity('')}})},getAnchorPosition:function(){var a=this,b;if(a.anchor){a.tipAnchor=a.anchor.charAt(0)}else {b=a.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);a.tipAnchor=b[1].charAt(0)}switch(a.tipAnchor){case 't':return 'top';case 'b':return 'bottom';case 'r':return 'right';}return 'left'},getAnchorAlign:function(){switch(this.anchor){case 'top':return 'tl-bl';case 'left':return 'tl-tr';case 'right':return 'tr-tl';default:return 'bl-tl';}},getOffsets:function(){var b=this,c,a,d=b.getAnchorPosition().charAt(0);if(b.anchorToTarget&&!b.trackMouse){switch(d){case 't':a=[0,9];break;case 'b':a=[0,-13];break;case 'r':a=[-13,0];break;default:a=[9,0];break;}}else {switch(d){case 't':a=[-15-b.anchorOffset,30];break;case 'b':a=[-19-b.anchorOffset,-13-b.el.dom.offsetHeight];break;case 'r':a=[-15-b.el.dom.offsetWidth,-13-b.anchorOffset];break;default:a=[25,-13-b.anchorOffset];break;}}c=b.getMouseOffset();a[0]+=c[0];a[1]+=c[1];return a},onTargetOver:function(b){var a=this,d=a.delegate,c;if(a.disabled||b.within(a.target.dom,!0)){return}c=d?b.getTarget(d):!0;if(c){a.triggerElement=c;a.triggerEvent=b;a.clearTimer('hide');a.targetXY=b.getXY();a.delayShow()}},delayShow:function(c){var a=this,b=a.el&&(c===!1||!a.trackMouse)&&a.getTargetXY();if(a.hidden&&!a.showTimer){if(Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval){a.show()}else {a.showTimer=Ext.defer(a.showFromDelay,a.showDelay,a,[b])}}else {if(!a.hidden&&a.autoHide!==!1){a.show(b)}}},showFromDelay:function(a){this.fromDelayShow=!0;this.show(a);delete this.fromDelayShow},onShowVeto:function(){Ext.tip.Tip.prototype.onShowVeto.call(this);delete this.triggerElement;this.clearTimer('show')},onTargetOut:function(d){var a=this,b=a.triggerElement,c=b===!0?a.target:b;if(a.disabled||!b||d.within(c,!0)){return}if(a.showTimer){a.clearTimer('show');a.triggerElement=null}if(a.autoHide!==!1){a.delayHide()}},delayHide:function(){var a=this;if(!a.hidden&&!a.hideTimer){a.hideTimer=Ext.defer(a[a.hideAction],a.hideDelay,a)}},hide:function(){var a=this;a.clearTimer('dismiss');a.lastActive=new Date();if(a.anchorEl){a.anchorEl.hide()}Ext.tip.Tip.prototype.hide.apply(this,arguments);delete a.triggerElement},show:function(b){var a=this;Ext.tip.Tip.prototype.show.call(this);if(this.hidden===!1){if(a.anchor){a.anchor=a.origAnchor}if(!a.calledFromShowAt){a.showAt(b||a.getTargetXY())}if(a.anchor){a.syncAnchor();a.anchorEl.show()}else {a.anchorEl.hide()}}},showAt:function(b){var a=this;a.lastActive=new Date();a.clearTimers();a.calledFromShowAt=!0;if(!a.isVisible()){Ext.tip.Tip.prototype.showAt.apply(this,arguments)}if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(!0);a.el.sync(!0);if(a.dismissDelay&&a.autoHide!==!1){a.dismissTimer=Ext.defer(a.hide,a.dismissDelay,a)}if(a.anchor){a.syncAnchor();if(!a.anchorEl.isVisible()){a.anchorEl.show()}}else {a.anchorEl.hide()}}delete a.calledFromShowAt},syncAnchor:function(){var a=this,b,c,d;switch(a.tipAnchor.charAt(0)){case 't':b='b';c='tl';d=[20+a.anchorOffset,1];break;case 'r':b='l';c='tr';d=[-1,12+a.anchorOffset];break;case 'b':b='t';c='bl';d=[20+a.anchorOffset,-1];break;default:b='r';c='tl';d=[1,12+a.anchorOffset];break;}a.anchorEl.alignTo(a.el,b+'-'+c,d);a.anchorEl.setStyle('z-index',parseInt(a.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(b,c){var a=this;Ext.tip.Tip.prototype.setPagePosition.apply(this,arguments);if(a.anchor){a.syncAnchor()}},_timerNames:{},clearTimer:function(a){var b=this,d=b._timerNames,c=d[a]||(d[a]=a+'Timer'),e=b[c];if(e){clearTimeout(e);b[c]=null}},clearTimers:function(){var a=this;a.clearTimer('show');a.clearTimer('dismiss');a.clearTimer('hide')},onShow:function(){var a=this;Ext.tip.Tip.prototype.onShow.call(this);a.mon(Ext.getDoc(),'mousedown',a.onDocMouseDown,a)},onHide:function(){var a=this;Ext.tip.Tip.prototype.onHide.call(this);a.mun(Ext.getDoc(),'mousedown',a.onDocMouseDown,a)},onDocMouseDown:function(b){var a=this;if(!a.closable&&!b.within(a.el.dom)){a.disable();Ext.defer(a.doEnable,100,a)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){Ext.tip.Tip.prototype.onDisable.call(this);this.clearTimers();this.hide()},beforeDestroy:function(){var a=this;a.clearTimers();Ext.destroy(a.anchorEl);delete a.anchorEl;delete a.target;delete a.anchorTarget;delete a.triggerElement;Ext.tip.Tip.prototype.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un('mousedown',this.onDocMouseDown,this);Ext.tip.Tip.prototype.onDestroy.call(this)}},0,['tooltip'],['component','box','container','panel','tooltip'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tooltip':!0},['widget.tooltip'],0,[Ext.tip,'ToolTip',Ext,'ToolTip'],0);Ext.cmd.derive('Ext.tip.QuickTip',Ext.tip.ToolTip,{alternateClassName:'Ext.QuickTip',interceptTitles:!1,title:'&#160;',tagConfig:{namespace:'data-',attribute:'qtip',width:'qwidth',target:'target',title:'qtitle',hide:'hide',cls:'qclass',align:'qalign',anchor:'anchor',showDelay:'qshowDelay',hideAction:'hideAction',anchorTarget:'anchorTarget'},shrinkWrapDock:!0,initComponent:function(){var a=this;a.target=a.target||Ext.getDoc();a.targets=a.targets||{};Ext.tip.ToolTip.prototype.initComponent.call(this)},register:function(a){var f=Ext.isArray(a)?a:arguments,d=0,g=f.length,b,c,e;for(;d<g;d++){a=f[d];b=a.target;if(b){if(Ext.isArray(b)){for(c=0,e=b.length;c<e;c++){this.targets[Ext.id(b[c])]=a}}else {this.targets[Ext.id(b)]=a}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(b){var c=this,a=c.activeTarget;b=Ext.get(b).dom;if(c.isVisible()){if(a&&a.el==b){c.hide()}}else {if(a&&a.el==b){c.clearTimer('show')}}},getTipCfg:function(a,d){var c=a.title,b,e,f;if(this.interceptTitles&&c&&Ext.isString(c)){a.qtip=c;a.removeAttribute('title');if(d){d.preventDefault()}return {text:c}}else {b=this.tagConfig;e=b.attr||(b.attr=b.namespace+b.attribute);a=Ext.fly(a).findParent(function(b){return f=b.getAttribute(e)});if(a){return {target:a,text:f}}}},onTargetOver:function(a){this.doTargetOver(a.getTarget(this.delegate),null,a)},doTargetOver:function(b,p,l){var a=this,f,n,j,c,d,e,g,k,i,h,o,m;if(a.disabled){return}if(typeof b==='string'){b=Ext.getDom(b)}a.targetXY=p||(l?l.getXY():Ext.fly(b).getXY());if(!b||b.nodeType!==1||b==document.documentElement||b==document.body){return}if(a.activeTarget&&(b==a.activeTarget.el||Ext.fly(a.activeTarget.el).contains(b))){if(a.targetTextEmpty()){a.onShowVeto();delete a.activeTarget}else {a.clearTimer('hide');a.show()}return}if(b){i=a.targets;for(m in i){if(i.hasOwnProperty(m)){o=i[m];h=Ext.fly(o.target);if(h&&(h.dom===b||h.contains(b))){c=h.dom;break}}}if(c){a.activeTarget=a.targets[c.id];a.activeTarget.el=b;a.anchor=a.activeTarget.anchor;if(a.anchor){a.anchorTarget=b}f=parseInt(a.activeTarget.showDelay,10);if(f){j=a.showDelay;a.showDelay=f}a.delayShow();if(f){a.showDelay=j}if(!(n=a.activeTarget.hideAction)){delete a.hideAction}else {a.hideAction=n}return}}c=Ext.fly(b,'_quicktip-target');d=a.tagConfig;e=d.namespace;g=a.getTipCfg(b,l);if(g){if(g.target){b=g.target;c=Ext.fly(b,'_quicktip-target')}k=c.getAttribute(e+d.hide);a.activeTarget={el:b,text:g.text,width:+c.getAttribute(e+d.width)||null,autoHide:k!='user'&&k!=='false',title:c.getAttribute(e+d.title),cls:c.getAttribute(e+d.cls),align:c.getAttribute(e+d.align),showDelay:parseInt(c.getAttribute(e+d.showDelay)||0,10),hideAction:c.getAttribute(e+d.hideAction),anchorTarget:c.getAttribute(e+d.anchorTarget)};if(!a.initialConfig.hasOwnProperty('anchor')){a.anchor=c.getAttribute(e+d.anchor)}if(a.anchor&&!a.initialConfig.hasOwnProperty('anchorTarget')){a.anchorTarget=a.activeTarget.anchorTarget||b}f=parseInt(a.activeTarget.showDelay,10);if(f){j=a.showDelay;a.showDelay=f}a.delayShow();if(f){a.showDelay=j}}},onTargetOut:function(d){var a=this,c=a.activeTarget,b,e;if(c&&d.within(a.activeTarget.el)&&!a.getTipCfg(d.getTarget(),d)){return}a.clearTimer('show');delete a.activeTarget;if(a.autoHide!==!1){b=c&&parseInt(c.hideDelay,10);if(b){e=a.hideDelay;a.hideDelay=b}a.delayHide();if(b){a.hideDelay=e}}},targetTextEmpty:function(){var c=this,a=c.activeTarget,e=c.tagConfig,b,d;if(a){b=a.el;if(b){d=b.getAttribute(e.namespace+e.attribute);if(!d&&!c.targets[Ext.id(a.target)]){return !0}}}return !1},show:function(){var a=this,b=a.fromDelayShow;if(b&&a.targetTextEmpty()){a.onShowVeto();delete a.activeTarget;return}Ext.tip.ToolTip.prototype.show.apply(this,arguments)},showAt:function(d){var a=this,b=a.activeTarget,f=a.header,e,c;if(b){if(!a.rendered){a.render(Ext.getBody());a.activeTarget=b}a.suspendLayouts();if(b.title){a.setTitle(b.title);f.show()}else {if(f){f.hide()}}a.update(b.text);a.autoHide=b.autoHide;e=b.dismissDelay;a.dismissDelay=Ext.isNumber(e)?e:a.dismissDelay;if(b.mouseOffset){d[0]+=b.mouseOffset[0];d[1]+=b.mouseOffset[1]}c=a.lastCls;if(c){a.removeCls(c);delete a.lastCls}c=b.cls;if(c){a.addCls(c);a.lastCls=c}a.setWidth(b.width);if(a.anchor){a.constrainPosition=!1}else {if(b.align){d=a.getAlignToXY(b.el,b.align);a.constrainPosition=!1}else {a.constrainPosition=!0}}a.resumeLayouts(!0)}Ext.tip.ToolTip.prototype.showAt.call(this,d)},hide:function(){delete this.activeTarget;Ext.tip.ToolTip.prototype.hide.call(this)}},0,['quicktip'],['component','box','container','panel','tooltip','quicktip'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tooltip':!0,'quicktip':!0},['widget.quicktip'],0,[Ext.tip,'QuickTip',Ext,'QuickTip'],0);Ext.cmd.derive('Ext.tip.QuickTipManager',Ext.Base,{singleton:!0,alternateClassName:'Ext.QuickTips',disabled:!1,init:function(d,e){var c=this;if(!c.tip){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(d,e)});return !1}var a=Ext.apply({disabled:c.disabled,id:'ext-quicktips-tip'},e),b=a.className,f=a.xtype;if(b){delete a.className}else {if(f){b='widget.'+f;delete a.xtype}}if(d!==!1){a.renderTo=document.body}c.tip=Ext.create(b||'Ext.tip.QuickTip',a);Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var b=this,a=b.tip;if(a&&!b.disabled){a.disable()}},ddEnable:function(){var b=this,a=b.tip;if(a&&!b.disabled){a.enable()}},enable:function(){var b=this,a=b.tip;if(a){a.enable()}b.disabled=!1},disable:function(){var b=this,a=b.tip;if(a){a.disable()}b.disabled=!0},isEnabled:function(){var a=this.tip;return a!==undefined&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}},0,0,0,0,0,0,[Ext.tip,'QuickTipManager',Ext,'QuickTips'],0);Ext.cmd.derive('Ext.app.Application',Ext.app.Controller,{isApplication:!0,scope:undefined,namespaces:[],paths:null,appFolder:'app',config:{name:'',enableQuickTips:!0,appProperty:'app',autoCreateViewport:!1,defaultToken:null},onClassExtended:function(h,a,j){var k=Ext.app.Controller,l=h.prototype,e=[],d=a.autoCreateViewport,i,c,b,f,g;b=a.name||h.superclass.name;g=a.appFolder||h.superclass.appFolder;if(b){a.$namespace=b;Ext.app.addNamespaces(b)}if(a.namespaces){Ext.app.addNamespaces(a.namespaces)}if(!a['paths processed']){if(b&&g){Ext.Loader.setPath(b,g)}c=a.paths;if(c){for(f in c){if(c.hasOwnProperty(f)){Ext.Loader.setPath(f,c[f])}}}}else {delete a['paths processed']}if(d){if(d===!0){d='Viewport'}else {e.push('Ext.container.plugin.Viewport')}k.processDependencies(l,e,b,'view',d)}if(e.length){i=j.onBeforeCreated;j.onBeforeCreated=function(d,c){var b=Ext.Array.clone(arguments);Ext.require(e,function(){return i.apply(this,b)})}}},constructor:function(b){var a=this;Ext.app.route.Router.application=a;Ext.app.Controller.prototype.constructor.apply(this,arguments);a.doInit(a);a.initNamespace();a.initControllers();a.onBeforeLaunch();a.finishInitControllers()},initNamespace:function(){var b=this,c=b.getAppProperty(),a;a=Ext.namespace(b.getName());if(a){a.getApplication=function(){return b};if(c){if(!a[c]){a[c]=b}}}},initControllers:function(){var a=this,c=Ext.Array.from(a.controllers);a.controllers=new Ext.util.MixedCollection();for(var b=0,d=c.length;b<d;b++){a.getController(c[b])}},finishInitControllers:function(){var c=this,b,a,d;b=c.controllers.getRange();for(a=0,d=b.length;a<d;a++){b[a].finishInit(c)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var a=this,b=Ext.util.History,g=b.getToken(),e=a.getDefaultToken(),d,c,h,f;if(a.getEnableQuickTips()){a.initQuickTips()}if(a.getAutoCreateViewport()){a.initViewport()}a.launch.call(a.scope||a);a.launched=!0;a.fireEvent('launch',a);d=a.controllers.items;h=d.length;for(c=0;c<h;c++){f=d[c];f.onLaunch(a)}if(g){a.redirectTo(g,!0)}else {if(e){b.add(e)}}if(!b.ready){b.init()}},getModuleClassName:function(b,a){return Ext.app.Controller.getFullName(b,a,this.getName()).absoluteName},getViewportName:function(){var b=null,a=this.getAutoCreateViewport();if(a){b=a===!0?'Viewport':a}return b},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var a=this.getView(this.getViewportName()),b;if(a){if(!a.prototype.isViewport){b={plugins:'viewport'}}this.viewport=a.create(b)}},createController:function(a){return this.getController(a)},destroyController:function(a){if(typeof a==='string'){a=this.getController(a,!0)}Ext.destroy(a)},getController:function(d,j){var c=this,f=c.controllers,b,a,i,e,h,g;a=f.get(d);if(!a){g=f.items;for(e=0,i=g.length;e<i;++e){h=g[e];b=h.getModuleClassName();if(b&&b===d){a=h;break}}}if(!a&&!j){b=c.getModuleClassName(d,'controller');a=Ext.create(b,{application:c,moduleClassName:d});f.add(a);if(c._initialized){a.doInit(c)}}return a},unregister:function(a){this.controllers.remove(a)},getApplication:function(){return this},destroy:function(d){var a=this,c=a.controllers,b=Ext.namespace(a.getName()),e=a.getAppProperty();Ext.destroy(a.viewport);if(c){c.each(function(a){a.destroy(d,!0)})}a.controllers=null;Ext.app.Controller.prototype.destroy.call(this,d,!0);if(b&&b[e]===a){delete b[e]}}},1,0,0,0,0,0,[Ext.app,'Application'],0);Ext.define('Ext.overrides.app.Application',{override:'Ext.app.Application'});Ext.application=function(a){var d=function(b){Ext.onReady(function(){Ext.app.Application.instance=new b()})},b=a.paths,c;if(typeof a==='string'){Ext.require(a,function(){d(Ext.ClassManager.get(a))})}else {a=Ext.apply({extend:'Ext.app.Application'},a);Ext.Loader.setPath(a.name,a.appFolder||'app');if(b){for(c in b){if(b.hasOwnProperty(c)){Ext.Loader.setPath(c,b[c])}}}a['paths processed']=!0;Ext.define(a.name+'.$application',a,function(){d(this)})}};Ext.cmd.derive('Ext.app.domain.View',Ext.app.EventDomain,{isInstance:!0,constructor:function(a){Ext.app.EventDomain.prototype.constructor.apply(this,arguments);this.controller=a;this.monitoredClasses=[Ext.Component]},match:function(c,b,d){var a=!1;if(b==='#'){a=d===c.getController()}else {a=c.is(b)}return a},destroy:function(){this.controller=null;Ext.app.EventDomain.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app.domain,'View'],0);Ext.cmd.derive('Ext.app.ViewController',Ext.app.BaseController,{isViewController:!0,factoryConfig:{type:'controller'},config:{closeViewAction:'destroy'},constructor:function(){this.compDomain=new Ext.app.domain.View(this);Ext.app.BaseController.prototype.constructor.apply(this,arguments)},init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var a=this,b=a.compDomain;if(b){b.unlisten(a);b.destroy()}a.compDomain=a.view=null;Ext.app.BaseController.prototype.destroy.call(this)},closeView:function(){var b=this.getView(),a;if(b){a=this.getCloseViewAction();b[a]()}},control:function(a,c){var b=a;if(Ext.isString(a)){b={};b[a]=c}this.compDomain.listen(b,this)},listen:function(a,c){var b=a.component;if(b){a=Ext.apply({},a);delete a.component;this.control(b)}this.callParent([a,c])},getView:function(){return this.view},lookupReferenceHolder:function(){var a=this.view;return a&&a.lookupReferenceHolder()},getReference:function(b){var a=this.view;return a&&a.getReference(b)},getSession:function(){var a=this.view;return a&&a.getInheritedSession()},getViewModel:function(){var a=this.view;return a&&a.getInheritedViewModel()},getStore:function(b){var a=this.getViewModel();return a?a.getStore(b):null},privates:{view:null,ensureId:function(){var a=this.getId();if(!a){this.setId(Ext.id(null,'controller-'))}},setReference:function(b){var a=this.view;if(a){a.setReference(b)}},clearReference:function(b){var a=this.view;if(a){a.clearReference(b)}},clearReferences:function(){var a=this.view;if(a){a.clearReferences()}},setView:function(a){this.view=a}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.app,'ViewController'],0);Ext.cmd.derive('Ext.form.Labelable',Ext.Mixin,{isLabelable:!0,mixinConfig:{id:'labelable',on:{beforeRender:'beforeLabelRender',onRender:'onLabelRender'}},childEls:['labelEl','bodyEl','errorEl','errorWrapEl'],labelableRenderTpl:['{beforeLabelTpl}','<label id="{id}-labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{unselectableCls}" style="{labelStyle}"<tpl if="inputId">',' for="{inputId}"</tpl> {labelAttrTpl}>','<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">','{beforeLabelTextTpl}','<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">','<span role="separator">{labelSeparator}</span>','</tpl>','</tpl>','{afterLabelTextTpl}','</span>','</label>','{afterLabelTpl}','<div id="{id}-bodyEl" class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','{beforeBodyEl}','{beforeSubTpl}','{[values.$comp.getSubTplMarkup(values)]}','{afterSubTpl}','{afterBodyEl}','</div>','<tpl if="renderError">','<div id="{id}-errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="alert" aria-live="polite" id="{id}-errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{id}-inputEl">','</div>','</div>','</tpl>',{disableFormats:!0}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel"><div>{fieldLabel}</div></tpl>','</tpl>','<tpl for="errors"><li>{.}</li></tpl>','</ul>','</tpl>'],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel">{fieldLabel}\n</tpl>','</tpl>','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>','</tpl>'],isFieldLabelable:!0,formItemCls:'x-form-item',labelCls:'x-form-item-label',topLabelCls:'x-form-item-label-top',rightLabelCls:'x-form-item-label-right',labelInnerCls:'x-form-item-label-inner',topLabelSideErrorCls:'x-form-item-label-top-side-error',errorMsgCls:'x-form-error-msg',errorWrapCls:'x-form-error-wrap',errorWrapSideCls:'x-form-error-wrap-side',errorWrapUnderCls:'x-form-error-wrap-under',errorWrapUnderSideLabelCls:'x-form-error-wrap-under-side-label',baseBodyCls:'x-form-item-body',invalidIconCls:'x-form-invalid-icon',invalidUnderCls:'x-form-invalid-under',fieldBodyCls:'',invalidCls:'x-form-invalid',fieldLabel:undefined,labelAlign:'left',labelWidth:100,labelPad:5,labelSeparator:':',hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:'qtip',msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:!0,labelableInsertions:['beforeBodyEl','afterBodyEl','beforeLabelTpl','afterLabelTpl','beforeSubTpl','afterSubTpl','beforeLabelTextTpl','afterLabelTextTpl','labelAttrTpl'],statics:{initTip:function(){var b=this.tip,a;if(!b){a={id:'ext-form-error-tip',ui:'form-invalid'};if(Ext.supports.Touch){a.dismissDelay=0;a.anchor='top';a.showDelay=0;a.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.anchorTarget).getWidth()}}}b=this.tip=Ext.create('Ext.tip.QuickTip',a);b.tagConfig=Ext.apply({},{attribute:'errorqtip'},b.tagConfig)}}},initLabelable:function(){var a=this,b=a.padding;if(b){a.padding=undefined;a.extraMargins=Ext.Element.parseBox(b)}if(!a.activeErrorsTpl){if(a.msgTarget=='title'){a.activeErrorsTpl=a.plaintextActiveErrorsTpl}else {a.activeErrorsTpl=a.htmlActiveErrorsTpl}}a.addCls([a.formItemCls,a.formItemCls+'-'+a.ui]);a.lastActiveError='';a.enableBubble('errorchange')},trimLabelSeparator:function(){var b=this,c=b.labelSeparator,a=b.fieldLabel||'',d=a.substr(a.length-1);return d===c?a.slice(0,-1):a},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(b){b=b||'';var a=this,f=a.labelSeparator,d=a.labelEl,c=a.errorWrapEl,e=a.errorWrapUnderSideLabelCls;a.fieldLabel=b;if(a.rendered){if(Ext.isEmpty(b)&&a.hideEmptyLabel){d.setDisplayed('none');if(c){c.removeCls(e)}}else {if(f){b=a.trimLabelSeparator()+'<span role="separator">'+f+'</span>'}d.first().setHtml(b);d.setDisplayed('');if(c){c.addCls(e)}}a.updateLayout()}},getInsertionRenderData:function(c,d){var e=d.length,b,a;while(e--){b=d[e];a=this[b];if(a){if(typeof a!='string'){if(!a.isTemplate){a=Ext.XTemplate.getTpl(this,b)}a=a.apply(c)}}c[b]=a||''}return c},getLabelableRenderData:function(){var a=this,l=a.labelAlign,o=l==='top',r=l==='right',c=a.msgTarget==='side',h=a.msgTarget==='under',q=a.errorMsgCls,s=a.msgTarget,b=a.labelPad,m=a.labelWidth,d=a.labelClsExtra||'',j=c?a.errorWrapSideCls:a.errorWrapUnderCls,e='',g='',p=a.hasVisibleLabel(),k=a.autoFitErrors,f=a.defaultBodyWidth,n,i;if(o){d+=' '+a.topLabelCls;if(b){g='padding-bottom:'+b+'px;'}if(c&&!k){d+=' '+a.topLabelSideErrorCls}}else {if(r){d+=' '+a.rightLabelCls}if(b){e+=a.getHorizontalPaddingStyle()+b+'px;'}e+='width:'+(m+(b?b:0))+'px;';g='width:'+m+'px'}if(p){if(!o&&h){j+=' '+a.errorWrapUnderSideLabelCls}}else {e+='display:none'}if(f){n='min-width:'+f+'px;max-width:'+f+'px;'}i={id:a.id,labelCls:a.labelCls,labelClsExtra:d,labelStyle:e,labelInnerStyle:g,labelInnerCls:a.labelInnerCls,unselectableCls:Ext.Element.unselectableCls,bodyStyle:n,baseBodyCls:a.baseBodyCls,fieldBodyCls:a.fieldBodyCls,extraFieldBodyCls:a.extraFieldBodyCls,errorWrapCls:a.errorWrapCls,errorWrapExtraCls:j,renderError:c||h,invalidMsgCls:c?a.invalidIconCls:h?a.invalidUnderCls:'',errorMsgCls:q,errorWrapStyle:c&&!k?'visibility:hidden':'display:none',fieldLabel:a.getFieldLabel(),labelSeparator:a.labelSeparator};a.getInsertionRenderData(i,a.labelableInsertions);return i},getHorizontalPaddingStyle:function(){return 'padding-right:'},beforeLabelRender:function(){var a=this;a.setFieldDefaults(a.getInherited().fieldDefaults);if(a.ownerLayout){a.addCls('x-'+a.ownerLayout.type+'-form-item')}},onLabelRender:function(){var a=this,f={},e=Ext.Element,d=a.errorWrapEl,g,c,b;if(d){d.setVisibilityMode(a.msgTarget==='side'&&!a.autoFitErrors?e.VISIBILITY:e.DISPLAY)}if(a.extraMargins){c=a.el.getMargin();for(b in c){if(c.hasOwnProperty(b)){f['margin-'+b]=c[b]+a.extraMargins[b]+'px'}}a.el.setStyle(f)}},hasVisibleLabel:function(){if(this.hideLabel){return !1}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return ''},getInputId:function(){return ''},getActiveError:function(){return this.activeError||''},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(d){var a=this,g=a.errorWrapEl,c=a.msgTarget,f=c==='side',h=c==='qtip',b,i,e;d=Ext.Array.from(d);i=a.getTpl('activeErrorsTpl');a.activeErrors=d;b=a.activeError=i.apply({fieldLabel:a.fieldLabel,errors:d,listCls:Ext.plainListCls});a.renderActiveError();if(a.rendered){if(f){a.errorEl.dom.setAttribute('data-errorqtip',b)}else {if(h){a.getActionEl().dom.setAttribute('data-errorqtip',b)}else {if(c==='title'){a.getActionEl().dom.setAttribute('title',b)}}}if(f||h){Ext.form.Labelable.initTip()}if(!a.msgTargets[c]){e=Ext.get(c);if(e){e.dom.innerHTML=b}}}if(g){g.setVisible(d.length>0);if(f&&a.autoFitErrors){a.labelEl.addCls(a.topLabelSideErrorCls)}a.updateLayout()}},unsetActiveError:function(){var a=this,d=a.errorWrapEl,b=a.msgTarget,c;delete a.activeError;delete a.activeErrors;a.renderActiveError();if(a.rendered){if(b==='qtip'){a.getActionEl().dom.removeAttribute('data-errorqtip')}else {if(b==='title'){a.getActionEl().dom.removeAttribute('title')}}if(!a.msgTargets[b]){c=Ext.get(b);if(c){c.dom.innerHTML=''}}if(d){d.hide();if(b==='side'&&a.autoFitErrors){a.labelEl.removeCls(a.topLabelSideErrorCls)}a.updateLayout()}}},renderActiveError:function(){var a=this,b=a.getActiveError(),c=!!b;if(b!==a.lastActiveError){a.fireEvent('errorchange',a,b);a.lastActiveError=b}if(a.rendered&&!a.isDestroyed&&!a.preventMark){a.toggleInvalidCls(c);if(a.errorEl){a.errorEl.dom.innerHTML=b}}},toggleInvalidCls:function(a){this.el[a?'addCls':'removeCls'](this.invalidCls)},setFieldDefaults:function(b){var a;for(a in b){if(!this.hasOwnProperty(a)){this[a]=b[a]}}}},0,0,0,0,0,0,[Ext.form,'Labelable'],function(){if(Ext.supports.Touch){this.prototype.msgTarget='side'}});Ext.cmd.derive('Ext.form.field.Field',Ext.Base,{isFormField:!0,config:{validation:null},disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,dirty:!1,initField:function(){this.initValue()},initValue:function(){var a=this;a.suspendCheckChange++;a.setValue(a.value);a.suspendCheckChange--;a.originalValue=a.lastValue=a.getValue()},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(b){var a=this;a.value=b;a.checkChange();return a},isEqual:function(a,b){return String(a)===String(b)},isEqualAsString:function(a,b){return String(Ext.valueFrom(a,''))===String(Ext.valueFrom(b,''))},getSubmitData:function(){var a=this,b=null;if(!a.disabled&&a.submitValue){b={};b[a.getName()]=''+a.getValue()}return b},getModelData:function(d,c){var a=this,b=null;if(!a.disabled&&(a.submitValue||!c)){b={};b[a.getFieldIdentifier()]=a.getValue()}return b},reset:function(){var a=this;a.beforeReset();a.setValue(a.originalValue);a.clearInvalid();delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var a=this,b,c;if(!a.suspendCheckChange){b=a.getValue();c=a.lastValue;if(!a.isDestroyed&&a.didValueChange(b,c)){a.lastValue=b;a.fireEvent('change',a,b,c);a.onChange(b,c)}}},didValueChange:function(a,b){return !this.isEqual(a,b)},onChange:function(b,c){var a=this;if(a.validateOnChange){a.validate()}a.checkDirty();a.publishValue(b)},publishValue:function(e){var b=this,d=b.bind,a=d&&d.value,c=a&&a.options;if(a&&!a.syncing&&(!c||c.twoWay!==!1)){if(!a.isReadOnly()){a.setValue(e)}}if(b.rendered&&b.reference){b.publishState('value',e)}},isDirty:function(){var a=this;return !a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();if(b!==a.wasDirty){a.dirty=b;a.fireEvent('dirtychange',a,b);a.onDirtyChange(b);a.wasDirty=b}},onDirtyChange:Ext.emptyFn,getErrors:function(c){var b=[],a=this.getValidation();if(a&&a!==!0){b.push(a)}return b},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var a=this,b=a.isValid();if(b!==a.wasValid){a.wasValid=b;a.fireEvent('validitychange',a,b)}return b},batchChanges:function(a){try{this.suspendCheckChange++;a()}catch(b){throw b}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return !1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(){this.validate()}},0,0,0,0,0,0,[Ext.form.field,'Field'],0);Ext.cmd.derive('Ext.form.field.Base',Ext.Component,{alternateClassName:['Ext.form.Field','Ext.form.BaseField'],shrinkWrap:!0,fieldSubTpl:['<input id="{id}" type="{type}" role="{role}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],defaultBindProperty:'value',subTplInsertions:['inputAttrTpl'],inputType:'text',invalidText:'The value in this field is invalid',fieldCls:'x-form-field',focusCls:'form-focus',dirtyCls:'x-form-dirty',checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?['change','propertychange','keyup']:['change','input','textInput','keyup','dragdrop'],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:!0,readOnly:!1,readOnlyCls:'x-form-readonly',validateOnBlur:!0,hasFocus:!1,baseCls:'x-field',fieldBodyCls:'x-field-body',maskOnDisable:!1,stretchInputElFixed:!0,statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=Ext.create('Ext.tip.QuickTip',{ui:'form-invalid'});a.tagConfig=Ext.apply({},{attribute:'errorqtip'},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}},initComponent:function(){var a=this;Ext.Component.prototype.initComponent.call(this);a.subTplData=a.subTplData||{};a.initLabelable();a.initField();if(!a.name){a.name=a.getInputId()}if(a.readOnly){a.addCls(a.readOnlyCls)}a.addCls('x-form-type-'+a.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+'-inputEl')},getSubTplData:function(){var a=this,c=a.inputType,d=a.getInputId(),b;b=Ext.apply({ui:a.ui,id:d,cmpId:a.id,name:a.name||d,disabled:a.disabled,readOnly:a.readOnly,value:a.getRawValue(),type:c,fieldCls:a.fieldCls,fieldStyle:a.getFieldStyle(),tabIdx:a.tabIndex,inputCls:a.inputCls,typeCls:'x-form-'+(c==='password'?'text':c),role:a.ariaRole},a.subTplData);a.getInsertionRenderData(b,a.subTplInsertions);return b},applyRenderSelectors:function(){var a=this;Ext.Component.prototype.applyRenderSelectors.call(this);a.addChildEls('inputEl');a.inputEl=a.el.getById(a.getInputId())},getSubTplMarkup:function(){var b=this,c=b.getSubTplData(),e=b.getTpl('preSubTpl'),d=b.getTpl('postSubTpl'),a='';if(e){a+=e.apply(c)}a+=b.getTpl('fieldSubTpl').apply(c);if(d){a+=d.apply(c)}return a},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty('renderTpl')){a.renderTpl=a.getTpl('labelableRenderTpl')}return Ext.Component.prototype.initRenderTpl.call(this)},initRenderData:function(){return Ext.applyIf(Ext.Component.prototype.initRenderData.call(this),this.getLabelableRenderData())},setFieldStyle:function(b){var c=this,a=c.inputEl;if(a){a.applyStyles(b)}c.fieldStyle=b},getFieldStyle:function(){var a=this.fieldStyle;return Ext.isObject(a)?Ext.DomHelper.generateStyles(a,null,!0):a||''},onRender:function(){(arguments.callee.$previous||Ext.Component.prototype.onRender).apply(this,arguments);Ext.form.field.Base.initTip();this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==='file'},getSubmitData:function(){var a=this,b=null,c;if(!a.disabled&&a.submitValue){c=a.getSubmitValue();if(c!==null){b={};b[a.getName()]=c}}return b},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this,b=a.inputEl?a.inputEl.getValue():Ext.valueFrom(a.rawValue,'');a.rawValue=b;return b},setRawValue:function(b){var a=this,c=a.rawValue,d;if(!a.transformRawValue.$nullFn){b=a.transformRawValue(b)}b=Ext.valueFrom(b,'');if(c===undefined||c!==b){a.rawValue=b;if(a.inputEl){a.bindPropertyChange(!1);a.inputEl.dom.value=b;a.bindPropertyChange(!0)}if(a.rendered&&a.reference){a.publishState('rawValue',b)}}return b},transformRawValue:Ext.identityFn,valueToRaw:function(a){return ''+Ext.valueFrom(a,'')},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));a.value=b;return b},setValue:function(b){var a=this;a.setRawValue(a.valueToRaw(b));return a.mixins.field.setValue.call(a,b)},onBoxReady:function(){var a=this;Ext.Component.prototype.onBoxReady.call(this);if(a.setReadOnlyOnBoxReady){a.setReadOnly(a.readOnly)}},onDisable:function(){var a=this,b=a.inputEl;Ext.Component.prototype.onDisable.call(this);if(b){b.dom.disabled=!0;if(a.hasActiveError()){a.clearInvalid();a.needsValidateOnEnable=!0}}},onEnable:function(){var a=this,b=a.inputEl;Ext.Component.prototype.onEnable.call(this);if(b){b.dom.disabled=!1;if(a.needsValidateOnEnable){delete a.needsValidateOnEnable;a.forceValidation=!0;a.isValid();delete a.forceValidation}}},setReadOnly:function(b){var a=this,c=a.inputEl;b=!!b;a[b?'addCls':'removeCls'](a.readOnlyCls);a.readOnly=b;if(c){c.dom.readOnly=b}else {if(a.rendering){a.setReadOnlyOnBoxReady=!0}}a.fireEvent('writeablechange',a,b)},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent('specialkey',this,a)}},initEvents:function(){var a=this,c=a.inputEl,f,e,g=a.checkChangeEvents,h=a.ignoreChangeRe,i=g.length,b,d;if(c){a.mon(c,Ext.supports.SpecialKeyDownRepeat?'keydown':'keypress',a.fireKey,a);f=new Ext.util.DelayedTask(a.checkChange,a);a.onChangeEvent=e=function(b){if(!(b.type=='propertychange'&&h.test(b.browserEvent.propertyName))){f.delay(a.checkChangeBuffer)}};for(b=0;b<i;b++){d=g[b];if(d==='propertychange'){a.usesPropertychange=!0}a.mon(c,d,e)}}Ext.Component.prototype.initEvents.call(this)},doComponentLayout:function(){this.bindPropertyChange(!1);Ext.Component.prototype.doComponentLayout.apply(this,arguments);this.bindPropertyChange(!0)},bindPropertyChange:function(c){var a=this,b=a.usesPropertychange;if(b){a[c?'mon':'mun'](a.inputEl,'propertychange',a.onChangeEvent)}},onDirtyChange:function(b){var a=this;a[b?'addCls':'removeCls'](a.dirtyCls);if(a.rendered&&a.reference){a.publishState('dirty',b)}},isValid:function(){var a=this,b=a.disabled,c=a.forceValidation||!b;return c?a.validateValue(a.processRawValue(a.getRawValue())):b},validateValue:function(d){var a=this,c=a.getErrors(d),b=Ext.isEmpty(c);if(!a.preventMark){if(b){a.clearInvalid()}else {a.markInvalid(c)}}return b},markInvalid:function(c){var a=this,d=a.getActiveError(),b;a.setActiveErrors(Ext.Array.from(c));b=a.getActiveError();if(d!==b){a.setError(b)}},clearInvalid:function(){var a=this,b=a.hasActiveError();delete a.needsValidateOnEnable;a.unsetActiveError();if(b){a.setError('')}},setError:function(d){var a=this,b=a.msgTarget,c;if(a.rendered){if(b=='title'||b=='qtip'){c=b=='qtip'?'data-errorqtip':'title';a.getActionEl().dom.setAttribute(c,d||'')}else {a.updateLayout()}}},renderActiveError:function(){var a=this,c=a.hasActiveError(),b=a.invalidCls+'-field';if(a.inputEl){a.inputEl[c?'addCls':'removeCls']([b,b+'-'+a.ui])}a.mixins.labelable.renderActiveError.call(a)},getActionEl:function(){return this.inputEl||this.el},privates:{applyBind:function(e,b){var c=this,d=b&&b.value,a;a=Ext.Component.prototype.applyBind.call(this,e,b);if(a.value!==d&&c.getInherited().modelValidation){c.updateValueBinding(a)}return a},updateValueBinding:function(b){var d=this,c=b.value,a=b.validation;if(a&&a.autoVal){a.destroy();b.validation=null}if(c&&c.bindValidation&&!b.validation){a=c.bindValidation('setValidation',d);if(a){b.validation=a;a.autoVal=!0}}}}},0,['field'],['component','box','field'],{'component':!0,'box':!0,'field':!0},['widget.field'],[['labelable',Ext.form.Labelable],['field',Ext.form.field.Field]],[Ext.form.field,'Base',Ext.form,'Field',Ext.form,'BaseField'],0);Ext.cmd.derive('Ext.form.field.Display',Ext.form.field.Base,{alternateClassName:['Ext.form.DisplayField','Ext.form.Display'],ariaRole:'textbox',fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl}','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:!0,disableFormats:!0}],readOnly:!0,fieldCls:'x-form-display-field',fieldBodyCls:'x-form-display-field-body',htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,valueToRaw:function(a){if(!a&&a!==0){return ''}else {return a}},isDirty:function(){return !1},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(b){var a=this;b=Ext.valueFrom(b,'');a.rawValue=b;if(a.rendered){a.inputEl.dom.innerHTML=a.getDisplayValue();a.updateLayout()}return b},getDisplayValue:function(){var a=this,c=this.getRawValue(),b;if(a.renderer){b=a.renderer.call(a.scope||a,c,a)}else {b=a.htmlEncode?Ext.util.Format.htmlEncode(c):c}return b},getSubTplData:function(){var a=Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments);a.value=this.getDisplayValue();return a}},0,['displayfield'],['component','box','field','displayfield'],{'component':!0,'box':!0,'field':!0,'displayfield':!0},['widget.displayfield'],0,[Ext.form.field,'Display',Ext.form,'DisplayField',Ext.form,'Display'],0);Ext.cmd.derive('Ext.layout.container.Fit',Ext.layout.container.Container,{alternateClassName:'Ext.layout.FitLayout',itemCls:'x-fit-item',targetCls:'x-layout-fit',type:'fit',defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(d,b){var a=b||this.owner.getSizeModel(),c=(a.width.shrinkWrap?0:1)|(a.height.shrinkWrap?0:2);return this.sizePolicies[c]},beginLayoutCycle:function(a,p){var f=this,j=f.lastHeightModel&&f.lastHeightModel.calculated,m=f.lastWidthModel&&f.lastWidthModel.calculated,l=m||j,h=0,i=0,b,k,g,e,q,n,c,d,o,r;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);if(l&&a.targetContext.el.dom.tagName.toUpperCase()!='TD'){l=m=j=!1}k=a.childItems;q=k.length;for(g=0;g<q;++g){e=k[g];if(p){b=e.target;c=b.minHeight;d=b.minWidth;if(d||c){n=e.marginInfo||e.getMarginInfo();c+=n.height;d+=n.height;if(h<c){h=c}if(i<d){i=d}}}if(l){o=e.el.dom.style;if(j){o.height=''}if(m){o.width=''}}}if(p){a.maxChildMinHeight=h;a.maxChildMinWidth=i}b=a.target;a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&b.scrollFlags.x||r;a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&b.scrollFlags.y||r},calculate:function(a){var c=this,p=a.childItems,m=p.length,b=c.getContainerSize(a),e={length:m,ownerContext:a,targetSize:b},o=a.widthModel.shrinkWrap,n=a.heightModel.shrinkWrap,j=a.overflowX,k=a.overflowY,d,f,l,g,i,h;if(j||k){d=c.getScrollbarsNeeded(j&&b.width,k&&b.height,a.maxChildMinWidth,a.maxChildMinHeight);if(d){f=Ext.getScrollbarSize();if(d&1){b.height-=f.height}if(d&2){b.width-=f.width}}}if(m>0){for(g=0;g<m;++g){e.index=g;c.fitItem(p[g],e)}}else {e.contentWidth=e.contentHeight=0}if(n||o){l=a.targetContext.getPaddingInfo();if(o){if(k&&!b.gotHeight){c.done=!1}else {i=e.contentWidth+l.width;if(d&2){i+=f.width}if(!a.setContentWidth(i)){c.done=!1}}}if(n){if(j&&!b.gotWidth){c.done=!1}else {h=e.contentHeight+l.height;if(d&1){h+=f.height}if(!a.setContentHeight(h)){c.done=!1}}}}},fitItem:function(b,a){var c=this;if(b.invalid){c.done=!1;return}a.margins=b.getMarginInfo();a.needed=a.got=0;c.fitItemWidth(b,a);c.fitItemHeight(b,a);if(a.got!=a.needed){c.done=!1}},fitItemWidth:function(b,a){var c,d;if(a.ownerContext.widthModel.shrinkWrap){d=b.getProp('width')+a.margins.width;c=a.contentWidth;if(c===undefined){a.contentWidth=d}else {a.contentWidth=Math.max(c,d)}}else {if(b.widthModel.calculated){++a.needed;if(a.targetSize.gotWidth){++a.got;this.setItemWidth(b,a)}else {return}}}this.positionItemX(b,a)},fitItemHeight:function(b,a){var c,d;if(a.ownerContext.heightModel.shrinkWrap){d=b.getProp('height')+a.margins.height;c=a.contentHeight;if(c===undefined){a.contentHeight=d}else {a.contentHeight=Math.max(c,d)}}else {if(b.heightModel.calculated){++a.needed;if(a.targetSize.gotHeight){++a.got;this.setItemHeight(b,a)}else {return}}}this.positionItemY(b,a)},positionItemX:function(b,c){var a=c.margins;if(c.index||a.left){b.setProp('x',a.left)}if(a.width){b.setProp('margin-right',a.width)}},positionItemY:function(b,c){var a=c.margins;if(c.index||a.top){b.setProp('y',a.top)}if(a.height){b.setProp('margin-bottom',a.height)}},setItemHeight:function(b,a){b.setHeight(a.targetSize.height-a.margins.height)},setItemWidth:function(b,a){b.setWidth(a.targetSize.width-a.margins.width)}},0,0,0,0,['layout.fit'],0,[Ext.layout.container,'Fit',Ext.layout,'FitLayout'],0);Ext.cmd.derive('Ext.panel.Table',Ext.panel.Panel,{extraBaseCls:'x-grid',extraBodyCls:'x-grid-body',defaultBindProperty:'store',layout:'fit',hasView:!1,viewType:null,selType:'rowmodel',scroll:!0,deferRowRender:!0,sortableColumns:!0,multiColumnSort:!1,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,ownerGrid:null,colLinesCls:'x-grid-with-col-lines',rowLinesCls:'x-grid-with-row-lines',noRowLinesCls:'x-grid-no-row-lines',hiddenHeaderCtCls:'x-grid-header-ct-hidden',hiddenHeaderCls:'x-grid-header-hidden',resizeMarkerCls:'x-grid-resize-marker',emptyCls:'x-grid-empty',initComponent:function(){var a=this,b=a.columns||a.colModel||[],c,d,g,f=a.store=Ext.data.StoreManager.lookup(a.store||'ext-empty-store'),e;a.enableLocking=a.enableLocking||a.hasLockedColumns(b);if(a.plugins){a.plugins=a.constructPlugins()}if(a.columnLines){a.addBodyCls(a.colLinesCls)}a.addBodyCls(a.rowLines?a.rowLinesCls:a.noRowLinesCls);a.addBodyCls(a.extraBodyCls);if(a.enableLocking){a.self.mixin('lockable',Ext.grid.locking.Lockable);a.injectLockable()}else {if(b.isRootHeader){a.headerCt=b;a.headerCt.forceFit=!!a.forceFit;a.columnManager=b.columnManager;a.visibleColumnManager=b.visibleColumnManager}else {if(Ext.isArray(b)){b={items:b}}Ext.apply(b,{grid:a,forceFit:a.forceFit,sortable:a.sortableColumns,enableColumnMove:a.enableColumnMove,enableColumnResize:a.enableColumnResize,columnLines:a.columnLines,sealed:a.sealedColumns});if(Ext.isDefined(a.enableColumnHide)){b.enableColumnHide=a.enableColumnHide}a.headerCt=new Ext.grid.header.Container(b)}}a.columns=e=a.headerCt.getGridColumns();a.scrollTask=new Ext.util.DelayedTask(a.syncHorizontalScroll,a);a.cls=(a.cls||'')+(' '+a.extraBaseCls);delete a.autoScroll;if(!a.hasView){if(f.isBufferedStore&&!f.remoteSort){for(d=0,g=e.length;d<g;d++){e[d].sortable=!1}}if(a.hideHeaders){a.headerCt.height=0;a.headerCt.hiddenHeaders=!0;a.headerCt.addCls(a.hiddenHeaderCtCls);a.addCls(a.hiddenHeaderCls)}a.relayHeaderCtEvents(a.headerCt);a.features=a.features||[];if(!Ext.isArray(a.features)){a.features=[a.features]}a.dockedItems=[].concat(a.dockedItems||[]);a.dockedItems.unshift(a.headerCt);a.viewConfig=a.viewConfig||{};c=a.getView();a.items=[c];a.hasView=!0;if(!a.hideHeaders){c.on({scroll:a.onHorizontalScroll,scope:a,onFrame:!!Ext.global.requestAnimationFrame})}a.bindStore(f,!0);a.mon(c,{viewready:a.onViewReady,refresh:a.onRestoreHorzScroll,scope:a})}a.relayEvents(a.view,['beforeitemmousedown','beforeitemmouseup','beforeitemmouseenter','beforeitemmouseleave','beforeitemclick','beforeitemdblclick','beforeitemcontextmenu','itemmousedown','itemmouseup','itemmouseenter','itemmouseleave','itemclick','itemdblclick','itemcontextmenu','beforecellclick','cellclick','beforecelldblclick','celldblclick','beforecellcontextmenu','cellcontextmenu','beforecellmousedown','cellmousedown','beforecellmouseup','cellmouseup','beforecellkeydown','cellkeydown','rowclick','rowdblclick','rowcontextmenu','rowmousedown','rowmouseup','rowkeydown','beforeitemkeydown','itemkeydown','beforecontainermousedown','beforecontainermouseup','beforecontainermouseover','beforecontainermouseout','beforecontainerclick','beforecontainerdblclick','beforecontainercontextmenu','beforecontainerkeydown','containermouseup','containermousedown','containermouseover','containermouseout','containerclick','containerdblclick','containercontextmenu','containerkeydown','selectionchange','beforeselect','select','beforedeselect','deselect']);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);a.addStateEvents(['columnresize','columnmove','columnhide','columnshow','sortchange','filterchange','groupchange'])},hasLockedColumns:function(a){var b,d,c;if(a.isRootHeader){a=a.items.items}else {if(Ext.isObject(a)){a=a.items}}for(b=0,d=a.length;b<d;b++){c=a[b];if(!c.processed&&c.locked){return !0}}},relayHeaderCtEvents:function(a){this.relayEvents(a,['columnresize','columnmove','columnhide','columnshow','columnschanged','sortchange','headerclick','headercontextmenu','headertriggerclick'])},getState:function(){var b=this,a=Ext.panel.Panel.prototype.getState.call(this),c=b.store.getState();a=b.addPropertyToState(a,'columns',b.headerCt.getColumnsState());if(c){a.storeState=c}return a},applyState:function(b){var f=this,a=b.sort,d=b.storeState,c=f.store,e=b.columns;delete b.columns;Ext.panel.Panel.prototype.applyState.apply(this,arguments);if(e){f.headerCt.applyColumnsState(e)}if(a){if(c.remoteSort){c.sort({property:a.property,direction:a.direction,root:a.root},null,!1)}else {c.sort(a.property,a.direction)}}else {if(d){c.applyState(d)}}},getStore:function(){return this.store},getView:function(){var a=this,b;if(!a.view){b=a.getSelectionModel();Ext.widget(Ext.apply({grid:a,ownerGrid:a.ownerGrid||a,deferInitialRefresh:a.deferRowRender!==!1,trackOver:a.trackMouseOver!==!1,throttledUpdate:a.throttledUpdate===!0,scroll:a.scroll,xtype:a.viewType,store:a.store,headerCt:a.headerCt,columnLines:a.columnLines,rowLines:a.rowLines,selModel:b,features:a.features,panel:a,emptyText:a.emptyText||''},a.viewConfig));if(a.view.emptyText){a.view.emptyText='<div class="'+a.emptyCls+'">'+a.view.emptyText+'</div>'}a.view.getComponentLayout().headerCt=a.headerCt;a.mon(a.view,{uievent:a.processEvent,scope:a});b.view=a.view;a.headerCt.view=a.view;if(a.hasListeners.viewcreated){a.fireEvent('viewcreated',a,a.view)}}return a.view},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){var a=this.ownerLockable;return a?a.getColumnManager():this.getColumnManager()},getTopLevelVisibleColumnManager:function(){var a=this.ownerLockable;return a?a.getVisibleColumnManager():this.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,processEvent:function(g,h,f,d,b,j,e,i){var c=this,a;if(b!==-1){a=c.getColumnManager().getHeaderAtIndex(b);return a.processEvent.apply(a,arguments)}},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(b,a){this.getView().scrollBy(0,b,a)},scrollByDeltaX:function(b,a){this.getView().scrollBy(b,0,a)},afterCollapse:function(){this.saveScrollPos();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){Ext.panel.Panel.prototype.afterExpand.apply(this,arguments);this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){if(this.view.scrollManager){this.view.scrollManager.refresh()}},onHeaderMove:function(e,f,b,c,d){var a=this;if(a.optimizedColumnMove===!1){a.view.refreshView()}else {a.view.moveColumn(c,d,b)}a.delayScroll()},onHeaderHide:function(a,b){if(this.view.refreshCounter){this.view.refreshView()}},onHeaderShow:function(a,b){if(this.view.refreshCounter){this.view.refreshView()}},onHeadersChanged:function(b,c){var a=this;if(a.rendered&&!a.reconfiguring){a.view.refreshView();a.delayScroll()}},delayScroll:function(){var a=this.view;if(a){this.scrollTask.delay(10,null,null,[a])}},onViewReady:function(){this.fireEvent('viewready',this)},onRestoreHorzScroll:function(){var a=this,b=a.scrollXPos;if(b){a.syncHorizontalScroll(a,!0)}},getScrollerOwner:function(){var a=this;if(!this.scrollerOwner){a=this.up('[scrollerOwner]')}return a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{role:'presentation',cls:a.resizeMarkerCls},!0))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{role:'presentation',cls:a.resizeMarkerCls},!0))},getSelection:function(){return this.getSelectionModel().getSelection()},setSelection:function(a){var b=this.getSelectionModel();b.select(a)},getSelectionModel:function(){var b=this,a=b.selModel,d,c,e;if(!a){a={};d=!0}if(!a.events){e=a.selType||b.selType;d=!a.mode;a=b.selModel=Ext.create('selection.'+e,a)}if(b.simpleSelect){c='SIMPLE'}else {if(b.multiSelect){c='MULTI'}}Ext.applyIf(a,{allowDeselect:b.allowDeselect});if(c&&d){a.setSelectionMode(c)}if(!a.hasRelaySetup){b.relayEvents(a,['selectionchange','beforeselect','beforedeselect','select','deselect']);a.hasRelaySetup=!0}if(b.disableSelection){a.locked=!0}return a},getScrollTarget:function(){var b=this.getScrollerOwner(),a=b.query('tableview');return a[1]||a[0]},onHorizontalScroll:function(a){this.syncHorizontalScroll(a)},syncHorizontalScroll:function(e,b){var a=this,c=a.view.getScrollX(),d;b=b===!0;if(a.rendered&&(b||c!==a.scrollXPos)){if(b){d=a.getScrollTarget();d.setScrollX(c)}a.headerCt.setScrollX(c);a.scrollXPos=c}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(b,f){var a=this,d=a.getView(),e=b&&b.isBufferedStore,c;a.store=b;c=a.findPlugin('bufferedrenderer');if(c){a.verticalScroller=c;if(c.store){c.bindStore(b)}}else {if(e){a.verticalScroller=c=a.addPlugin(Ext.apply({ptype:'bufferedrenderer'},a.initialConfig.verticalScroller))}}if(d.store!==b){d.bindStore(b,!1)}a.mon(b,{load:a.onStoreLoad,scope:a});a.storeRelayers=a.relayEvents(b,['filterchange','groupchange']);if(c){a.invalidateScrollerOnRefresh=!1}if(a.invalidateScrollerOnRefresh!==undefined){d.preserveScrollOnRefresh=!a.invalidateScrollerOnRefresh}},unbindStore:function(){var a=this,b=a.store;if(b){a.store=null;a.mun(b,{load:a.onStoreLoad,scope:a});Ext.destroy(a.storeRelayers)}},setColumns:function(a){this.reconfigure(undefined,a)},setStore:function(a){this.reconfigure(a)},reconfigure:function(b,c){var a=this,f=a.getView(),g,e=a.store,d=a.headerCt,h=d?d.items.getRange():a.columns;if(arguments.length===1&&Ext.isArray(b)){c=b;b=null}if(c){c=Ext.Array.slice(c)}a.reconfiguring=!0;a.fireEvent('beforereconfigure',a,b,c,e,h);if(a.lockable){a.reconfigureLockable(b,c)}else {Ext.suspendLayouts();if(c){delete a.scrollXPos;d.removeAll();d.add(c)}if(b&&(b=Ext.StoreManager.lookup(b))!==e){if(a.store){a.unbindStore()}g=f.deferInitialRefresh;f.deferInitialRefresh=!1;a.bindStore(b);f.deferInitialRefresh=g}else {a.getView().refreshView()}d.setSortState();Ext.resumeLayouts(!0)}a.fireEvent('reconfigure',a,b,c,e,h);delete a.reconfiguring},beforeDestroy:function(){var a=this.scrollTask;if(a){a.cancel();this.scrollTask=null}Ext.panel.Panel.prototype.beforeDestroy.call(this)},onDestroy:function(){var a=this;if(a.lockable){a.destroyLockable()}Ext.panel.Panel.prototype.onDestroy.call(this);a.columns=a.storeRelayers=a.columnManager=a.visibleColumnManager=null},destroy:function(){var a=this;Ext.panel.Panel.prototype.destroy.call(this);if(a.isDestroyed){a.view=a.selModel=a.headerCt=null}}},0,['tablepanel'],['component','box','container','panel','tablepanel'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tablepanel':!0},['widget.tablepanel'],0,[Ext.panel,'Table'],0);Ext.define('ExtThemeNeptune.panel.Table',{override:'Ext.panel.Table',initComponent:function(){var a=this;if(!a.hasOwnProperty('bodyBorder')&&!a.hideHeaders){a.bodyBorder=!0}(arguments.callee.$previous||Ext.panel.Panel.prototype.initComponent).call(this)}});Ext.cmd.derive('Ext.selection.Model',Ext.util.Observable,{alternateClassName:'Ext.AbstractSelectionModel',allowDeselect:undefined,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,constructor:function(b){var a=this;b=b||{};Ext.apply(a,b);a.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0};a.setSelectionMode(b.mode||a.mode);a.selected=new Ext.util.MixedCollection();Ext.util.Observable.prototype.constructor.apply(this,arguments)},bindStore:function(c,b){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);if(a.store&&!b){a.refresh()}},getStoreListeners:function(){var a=this;return {add:a.onStoreAdd,clear:a.onStoreClear,remove:a.onStoreRemove,update:a.onStoreUpdate,load:a.onStoreLoad,refresh:a.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(c){var a=this,d=a.store.getRange(),b=0,f=d.length,e=a.getSelection().length;a.suspendChanges();for(;b<f;b++){a.doSelect(d[b],!0,c)}a.resumeChanges();if(!c){a.maybeFireSelectionChange(a.getSelection().length!==e)}},deselectAll:function(f){var a=this,b=a.getSelection(),d={},i=a.store,h=b.length,c,g,e;for(c=0,g=b.length;c<g;c++){e=b[c];d[e.id]=i.indexOf(e)}b=Ext.Array.sort(b,function(c,e){var a=d[c.id],b=d[e.id];return a<b?-1:1});a.suspendChanges();a.doDeselect(b,f);a.resumeChanges();if(!f){a.maybeFireSelectionChange(a.getSelection().length!==h)}},getSelectionStart:function(){if(!this.selectionStart){this.setSelectionStart(this.lastFocused)}return this.selectionStart},setSelectionStart:function(a){this.selectionStart=a},selectWithEvent:function(b,m){var a=this,c=a.isSelected(b),e=m.shiftKey,d=m.ctrlKey,k=e&&a.getSelectionStart(),j=a.getSelection(),l=j.length,g=a.allowDeselect,h,f,i;switch(a.selectionMode){case 'MULTI':if(e&&k){a.selectRange(k,b,d)}else {if(d&&c){a.doDeselect(b,!1)}else {if(d){a.doSelect(b,!0,!1)}else {if(c&&!e&&!d&&l>1){h=[];for(f=0;f<l;++f){i=j[f];if(i!==b){h.push(i)}}a.doDeselect(h)}else {if(!c){a.doSelect(b,!1)}}}}};break;case 'SIMPLE':if(c){a.doDeselect(b)}else {a.doSelect(b,!0)};break;case 'SINGLE':if(g&&!d){g=a.toggleOnClick};if(g&&c){a.doDeselect(b)}else {a.doSelect(b,!1)};break;}if(!e){if(a.isSelected(b)){a.selectionStart=b}else {a.selectionStart=null}}},afterKeyNavigate:function(c,b){var a=this,e,h,d=a.isSelected(b),f=a.selectionStart&&a.isSelected(a.lastFocused)?a.selectionStart:a.selectionStart=a.lastFocused,g=c.getCharCode(),i=g===c.SPACE,j=g===c.UP||g===c.PAGE_UP?'up':g===c.DOWN||g===c.DOWN?'down':null;switch(a.selectionMode){case 'MULTI':if(i){if(c.shiftKey){a.selectRange(f,b,c.ctrlKey)}else {if(d){a.doDeselect(b,c.ctrlKey);a.setLastFocused(null);a.setLastFocused(b)}else {a.doSelect(b,c.ctrlKey)}}}else {if(c.shiftKey&&f){h=a.store.indexOf(f);e=a.store.indexOf(b);if(j==='up'&&h<=e){a.deselectRange(a.lastFocused,e+1)}else {if(j==='down'&&h>=e){a.deselectRange(a.lastFocused,e-1)}else {if(f!==b){a.selectRange(f,b,c.ctrlKey)}}}a.lastSelected=b;a.setLastFocused(b)}else {if(c.ctrlKey&&d){a.setLastFocused(b)}else {if(c.ctrlKey){a.setLastFocused(b)}else {a.doSelect(b,!1)}}}};break;case 'SIMPLE':if(d){if(a.allowDeselect){a.doDeselect(b)}}else {a.doSelect(b,!0)};break;case 'SINGLE':if(i){if(d){if(a.allowDeselect){a.doDeselect(b);a.setLastFocused(b)}}else {a.doSelect(b)}}else {if(c.ctrlKey){a.setLastFocused(b)}else {if(i&&a.allowDeselect&&d){a.doDeselect(b)}else {a.doSelect(b,!1);a.setLastFocused(b)}}};break;}if(!c.shiftKey){if(a.isSelected(b)){a.selectionStart=b}}},selectRange:function(d,f,m){var b=this,i=b.store,l=b.selected.items,h,a,g,e,c,j,k;if(b.isLocked()){return}h=b.normalizeRowRange(d,f);d=h[0];f=h[1];e=[];for(a=d;a<=f;a++){if(!b.isSelected(i.getAt(a))){e.push(i.getAt(a))}}if(!m){c=[];b.suspendChanges();for(a=0,g=l.length;a<g;++a){k=l[a];j=i.indexOf(k);if(j<d||j>f){c.push(k)}}for(a=0,g=c.length;a<g;++a){b.doDeselect(c[a])}b.resumeChanges()}if(e.length){b.doMultiSelect(e,!0)}else {b.maybeFireSelectionChange(c.length>0)}},deselectRange:function(d,e){var a=this,h=a.store,g,c,b,f;if(a.isLocked()){return}g=a.normalizeRowRange(d,e);d=g[0];e=g[1];b=[];for(c=d;c<=e;c++){f=h.getAt(c);if(a.isSelected(f)){b.push(f)}}if(b.length){a.doDeselect(b)}},normalizeRowRange:function(a,b){var c=this.store,d;if(!Ext.isNumber(a)){a=c.indexOf(a)}a=Math.max(0,a);if(!Ext.isNumber(b)){b=c.indexOf(b)}b=Math.min(b,c.getCount()-1);if(a>b){d=b;b=a;a=d}return [a,b]},select:function(a,c,b){if(Ext.isDefined(a)&&!(Ext.isArray(a)&&!a.length)){this.doSelect(a,c,b)}},deselect:function(b,a){this.doDeselect(b,a)},doSelect:function(a,e,d){var b=this,c;if(b.locked||!b.store){return}if(typeof a==='number'){c=b.store.getAt(a);if(!c){return}a=[c]}if(b.selectionMode==='SINGLE'&&a){c=a.length?a[0]:a;b.doSingleSelect(c,d)}else {b.doMultiSelect(a,e,d)}},doMultiSelect:function(b,k,d){var a=this,f=a.selected,h=!1,g,e,j,c,i;if(a.locked){return}b=!Ext.isArray(b)?[b]:b;j=b.length;if(!k&&f.getCount()>0){g=a.deselectDuringSelect(b,f.getRange(),d);if(g[0]){a.maybeFireSelectionChange(g[1]>0&&!d);return}}i=function(){f.add(c);h=!0};for(e=0;e<j;e++){c=b[e];if(a.isSelected(c)){continue}a.lastSelected=c;a.onSelectChange(c,!0,d,i)}if(!a.preventFocus){a.setLastFocused(c,d)}a.maybeFireSelectionChange(h&&!d)},deselectDuringSelect:function(h,d,g){var c=this,i=d.length,e=0,f=!1,b,a;c.suspendChanges();for(a=0;a<i;++a){b=d[a];if(!Ext.Array.contains(h,b)){if(c.doDeselect(b,g)){++e}else {f=!0}}}c.resumeChanges();return [f,e]},doDeselect:function(c,f){var a=this,h=a.selected,e=0,j,b,g=0,d=0,i;if(a.locked||!a.store){return !1}if(typeof c==='number'){b=a.store.getAt(c);if(!b){return !1}c=[b]}else {if(!Ext.isArray(c)){c=[c]}}i=function(){++d;h.remove(b)};j=c.length;a.suspendChanges();for(;e<j;e++){b=c[e];if(a.isSelected(b)){if(a.lastSelected===b){a.lastSelected=h.last();if(a.lastFocused===b){a.setLastFocused(null)}}++g;a.onSelectChange(b,!1,f,i)}}a.resumeChanges();a.maybeFireSelectionChange(d>0&&!f);return d===g},doSingleSelect:function(b,c){var a=this,e=!1,d=a.selected,f;if(a.locked){return}if(a.isSelected(b)){return}f=function(){if(d.getCount()){a.suspendChanges();if(!a.doDeselect(a.lastSelected,c)){a.resumeChanges();return !1}a.resumeChanges()}d.add(b);a.lastSelected=b;e=!0};a.onSelectChange(b,!0,c,f);if(e){if(!c&&!a.preventFocus){a.setLastFocused(b)}a.maybeFireSelectionChange(!c)}},setLastFocused:function(a,d){var b=this,c=b.lastFocused;if(a!==c){b.lastFocused=a;b.onLastFocusChanged(c,a,d)}},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(b){var a=this;if(b&&!a.suspendChange){a.fireEvent('selectionchange',a,a.getSelection())}},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():'SINGLE';this.selectionMode=this.modes[a]?a:'SINGLE'},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(b,c){var e=this,f=e.store,a,d;d=e.normalizeRowRange(b,c);b=d[0];c=d[1];for(a=b;a<=c;a++){if(!e.isSelected(f.getAt(a))){return !1}}return !0},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.contains(a)},hasSelection:function(){return this.selected.getCount()>0},pruneIf:function(){var c=this,e=c.selected,g=c.store,d=[],f=e.length,a,b;if(c.pruneRemoved){for(a=0;a<f;a++){b=e.getAt(a);if(g.indexOfId(b.id)===-1){d.push(b)}}if(d.length){for(a=0,f=d.length;a<f;a++){b=d[a];e.remove(b);c.onPrune(b)}c.maybeFireSelectionChange(!0)}}},onPrune:Ext.emptyFn,refresh:function(){var a=this,e=a.store,f,c=[],b=[],h=a.getSelection(),k=h.length,d,j,g=0,i=a.getLastFocused();if(!e){return}for(;g<k;g++){d=h[g];if(e.indexOf(d)!==-1){c.push(d)}else {if(!a.pruneRemoved){f=e.getById(d.getId());if(f){c.push(f)}else {b.push(d)}}}if(a.mode==='SINGLE'&&b.length){break}}if(a.selected.getCount()!==c.length+b.length){j=!0}a.clearSelections();if(e.indexOf(i)!==-1){a.setLastFocused(i,!0)}if(c.length){a.doSelect(c,!1,!0)}if(b.length){a.selected.addAll(b);if(!a.lastSelected){a.lastSelected=b[b.length-1]}}a.maybeFireSelectionChange(j)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount()>0){this.clearSelections();this.maybeFireSelectionChange(!0)}},onStoreRemove:function(e,b,d,c){var a=this;if(a.selectionStart&&Ext.Array.contains(b,a.selectionStart)){a.selectionStart=null}if(c||a.locked||!a.pruneRemoved){return}a.deselect(b)},deselectDeletedRecords:function(d){var a=this,f=a.selected,c,g=d.length,e=0,b;for(c=0;c<g;c++){b=d[c];if(f.remove(b)){if(a.lastSelected===b){a.lastSelected=null}if(a.getLastFocused()===b){a.setLastFocused(null)}++e}}if(e){a.maybeFireSelectionChange(!0)}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners();this.clearSelections()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:function(){var a=this,h=a.getStore(),i=a.selected,f=a.lastSelected,d,g,b,c,e;if(a.store.isBufferedStore){return}d=i.items;g=d.length;if(f){a.lastSelected=h.getById(f.id)}for(b=0;b<g;++b){c=d[b];e=h.getById(c.id);if(e){a.selected.replace(e)}else {a.selected.remove(c)}}},onStoreLoad:Ext.emptyFn,onSelectChange:function(d,e,b,f){var a=this,c=e?'select':'deselect';if((b||a.fireEvent('before'+c,a,d))!==!1&&f()!==!1){if(!b){a.fireEvent(c,a,d)}}},onLastFocusChanged:function(b,a){if(a!=b){this.fireEvent('focuschange',this,b,a)}},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),!0)},resolveListenerScope:function(a){var c=this.view,b;if(c){b=c.resolveListenerScope(a)}return b||Ext.util.Observable.prototype.resolveListenerScope.call(this,a)},onVetoUIEvent:Ext.emptyFn,bindComponent:Ext.emptyFn},1,0,0,0,0,[['bindable',Ext.util.Bindable]],[Ext.selection,'Model',Ext,'AbstractSelectionModel'],0);Ext.cmd.derive('Ext.selection.DataViewModel',Ext.selection.Model,{deselectOnContainerClick:!0,enableKeyNav:!0,bindComponent:function(b){var a=this,c={refresh:a.refresh,scope:a};a.view=b;a.bindStore(b.getStore());c[b.triggerEvent]=a.onItemClick;c[b.triggerCtEvent]=a.onContainerClick;b.on(c);if(a.enableKeyNav){a.initKeyNav(b)}},onUpdate:function(a){var b=this.view;if(b&&this.isSelected(a)){b.onItemSelect(a)}},onItemClick:function(e,a,d,c,b){this.selectWithEvent(a,b)},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},initKeyNav:function(b){var a=this;if(!b.rendered){b.on({render:Ext.Function.bind(a.initKeyNav,a,[b]),single:!0});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b.el,ignoreInputFields:!0,down:Ext.pass(a.onNavKey,[1],a),right:Ext.pass(a.onNavKey,[1],a),left:Ext.pass(a.onNavKey,[-1],a),up:Ext.pass(a.onNavKey,[-1],a),scope:a})},onNavKey:function(c){c=c||1;var b=this,f=b.view,e=b.getSelection()[0],d=b.view.store.getCount(),a;if(e){a=f.indexOf(f.getNode(e))+c}else {a=0}if(a<0){a=d-1}else {if(a>=d){a=0}}b.select(a)},onSelectChange:function(b,e,d,g){var a=this,c=a.view,f=e?'select':'deselect';if((d||a.fireEvent('before'+f,a,b))!==!1&&g()!==!1){if(c){if(e){c.onItemSelect(b)}else {c.onItemDeselect(b)}}if(!d){a.fireEvent(f,a,b)}}},onLastFocusChanged:function(d,a,c){var b=this.view;if(b&&!c&&a){b.focusNode(a);this.fireEvent('focuschange',this,d,a)}},destroy:function(){Ext.destroy(this.keyNav);Ext.selection.Model.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.selection,'DataViewModel'],0);Ext.cmd.derive('Ext.view.AbstractView',Ext.Component,{inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},defaultBindProperty:'store',statics:{updateFPS:5,queueRecordChange:function(n,o,d,m,f){var b=this,g=b.changeQueue||(b.changeQueue={}),i=d.internalId,h,a,l,e,c,j,k;h=g[i]||(g[i]={operation:m,record:d,data:{},views:[]});a=h.data;Ext.Array.include(h.views,n);if(f&&(l=f.length)){for(e=0;e<l;e++){c=f[e];j=d.data[c];if(a.hasOwnProperty(c)){if(d.isEqual(a[c],j)){delete a[c];k=!0}}else {a[c]=j}}if(k&&!Ext.Object.getKeys(a).length){delete g[i]}}else {Ext.apply(a,d.data)}if(!b.flushQueueTask){b.flushQueueTask=Ext.util.TaskManager.newTask({run:b.onFlushTick,scope:b,interval:1000/Ext.view.AbstractView.updateFPS,repeat:1})}b.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var c=this,f,h,e,a,g,d,b;if(Ext.isScrolling){c.flushQueueTask.start();return}e=c.changeQueue;this.changeQueue={};for(g in e){a=e[g];f=a.views;h=f.length;for(d=0;d<h;d++){b=f[d];if(!b.isDestroyed){b.handleUpdate(b.dataSource,a.record,a.operation,Ext.Object.getKeys(a.data))}}}Ext.AnimationQueue.stop(c.flushChangeQueue,c)}},throttledUpdate:!1,deferInitialRefresh:!0,itemCls:'x-dataview-item',loadingText:'Loading...',loadMask:!0,loadingUseMsg:!0,selectedItemCls:'x-item-selected',emptyText:'',deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,ariaRole:'listbox',itemAriaRole:'option',last:!1,triggerEvent:'itemclick',triggerCtEvent:'containerclick',refreshNeeded:!0,addCmpEvents:Ext.emptyFn,initComponent:function(){var a=this,d=Ext.isDefined,b=a.itemTpl,c={};if(b){if(Ext.isArray(b)){b=b.join('')}else {if(Ext.isObject(b)){c=Ext.apply(c,b.initialConfig);b=b.html}}if(!a.itemSelector){a.itemSelector='.'+a.itemCls}b=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',a.itemCls,b,a.itemAriaRole);a.tpl=new Ext.XTemplate(b,c)}Ext.Component.prototype.initComponent.call(this);a.tpl=a.getTpl('tpl');if(a.overItemCls){a.trackOver=!0}a.addCmpEvents();a.store=Ext.data.StoreManager.lookup(a.store||'ext-empty-store');if(!a.dataSource){a.dataSource=a.store}a.bindStore(a.dataSource,!0,'dataSource');if(!a.all){a.all=new Ext.CompositeElementLite()}a.scrollState={top:0,left:0};a.on({scroll:a.onViewScroll,element:'el',onFrame:!!Ext.global.requestAnimationFrame,scope:a})},onRender:function(){var a=this,d=a.loadMask,e=a.getMaskStore(),b={target:a,msg:a.loadingText,useMsg:a.loadingUseMsg,store:e},c;Ext.Component.prototype.onRender.apply(this,arguments);if(d){c=e.getProxy();if(c&&!c.isSynchronous){if(a.loadingCls){b.msgCls=a.loadingCls}if(Ext.isObject(d)){b=Ext.apply(b,d)}a.loadMask=new Ext.LoadMask(b);a.loadMask.on({scope:a,beforeshow:a.onMaskBeforeShow,hide:a.onMaskHide})}}},beforeLayout:function(){var a=this;Ext.Component.prototype.beforeLayout.apply(this,arguments);if(a.refreshNeeded&&!a.pendingRefresh){if(a.refreshCounter){a.refresh()}else {a.doFirstRefresh(a.dataSource)}}},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var a=this,b=a.loadingHeight;if(b&&b>a.getHeight()){a.hasLoadingHeight=!0;a.oldMinHeight=a.minHeight;a.minHeight=b;a.updateLayout()}},onMaskHide:function(){var a=this;if(!a.destroying&&a.hasLoadingHeight){a.minHeight=a.oldMinHeight;a.updateLayout();delete a.hasLoadingHeight}},beforeRender:function(){Ext.Component.prototype.beforeRender.apply(this,arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){Ext.Component.prototype.afterRender.apply(this,arguments);this.getSelectionModel().bindComponent(this)},getRefItems:function(){var a=this.loadMask,b=[];if(a&&a.isComponent){b.push(a)}return b},getSelectionModel:function(){var a=this,b='SINGLE';if(a.simpleSelect){b='SIMPLE'}else {if(a.multiSelect){b='MULTI'}}if(!a.selModel||!a.selModel.events){a.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:a.allowDeselect,mode:b},a.selModel))}if(!a.selModel.hasRelaySetup){a.relayEvents(a.selModel,['selectionchange','beforeselect','beforedeselect','select','deselect','focuschange']);a.selModel.hasRelaySetup=!0}if(a.disableSelection){a.selModel.locked=!0}return a.selModel},refresh:function(){var a=this,g=a.all,i=a.refreshCounter,b,c,j,d,e,h=i&&g.getCount()&&a.preserveScrollOnRefresh&&!a.bufferedRenderer,f;if(!a.rendered||a.isDestroyed||a.preventRefresh){return}if(!a.hasListeners.beforerefresh||a.fireEvent('beforerefresh',a)!==!1){a.refreshing=!0;b=a.getTargetEl();d=a.getViewRange();j=b.dom;if(h){c=a.getOverflowEl();f=c.getScroll()}if(i){e=!0;a.clearViewEl();a.refreshCounter++}else {a.fixedNodes=b.dom.childNodes.length;a.refreshCounter=1}a.tpl.append(b,a.collectData(d,g.startIndex||0));if(d.length<1){if(a.emptyText&&!a.getStore().isLoading()&&(!a.deferEmptyText||e)){a.emptyEl=Ext.core.DomHelper.insertHtml('beforeEnd',b.dom,a.emptyText)}g.clear()}else {a.collectNodes(b.dom);a.updateIndexes(0)}if(e){if(a.refreshSelmodelOnRefresh!==!1){a.selModel.refresh()}else {if(!a.preventPrune){a.selModel.pruneIf()}}}a.refreshNeeded=!1;a.refreshSize();a.fireEvent('refresh',a,d);if(h){c.setScrollLeft(f.left);c.setScrollTop(f.top)}if(!a.viewReady){a.viewReady=!0;a.fireEvent('viewready',a)}a.refreshing=!1;a.refreshScroll()}},collectNodes:function(b){var a=this.all;a.fill(Ext.fly(b).query(this.getItemSelector()),a.startIndex||0)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var a=this,c=a.getSizeModel(),b=a.scrollManager;if(c.height.shrinkWrap||c.width.shrinkWrap){a.updateLayout()}else {if(b){b.refresh()}}},onResize:function(){var a=this,b=a.scrollManager;if(b&&!a._hasScrollListener){b.on({scroll:a.onViewScroll,scope:a,onFrame:!!Ext.global.requestAnimationFrame});a._hasScrollListener=!0}Ext.Component.prototype.onResize.apply(this,arguments)},clearViewEl:function(e){var a=this,d=Ext.fly(a.emptyEl),b,c;if(d){d.destroy()}a.emptyEl=null;a.all.clear(!0);b=Ext.fly(a.getNodeContainer());if(b&&!e){c=a.getTargetEl();if(c.dom!==b.dom){b.destroy()}}},onViewScroll:function(){this.fireEvent('scroll',this)},saveScrollState:function(){var a=this,b=a.scrollState;if(a.rendered){b.left=a.getScrollX();b.top=a.getScrollY()}},restoreScrollState:function(){var a=this,b=a.scrollState;if(a.rendered){a.setScrollX(b.left);a.setScrollY(b.top)}},prepareData:function(c,f,e){var a,b,d;if(e){a=e.getAssociatedData();for(b in a){if(a.hasOwnProperty(b)){if(!d){c=Ext.Object.chain(c);d=!0}c[b]=a[b]}}}return c},collectData:function(c,e){var d=[],a=0,f=c.length,b;for(;a<f;a++){b=c[a];d[a]=this.prepareData(b.data,e+a,b)}return d},bufferRender:function(c,d){var a=this,b=a.renderBuffer||(a.self.prototype.renderBuffer=document.createElement('div'));a.tpl.overwrite(b,a.collectData(c,d));return Ext.fly(b).query(a.getItemSelector())},nodeContainerSelector:null,getNodeContainer:function(){var b=this.getTargetEl(),a=this.nodeContainerSelector;return a?b.down(a,!0):b},getNodeContainerSelector:function(){return this.nodeContainerSelector},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)},getTargetEl:function(){return this.touchScroll?this.getScrollerEl():Ext.Component.prototype.getTargetEl.call(this)},onUpdate:function(e,d,c,b){var a=this;if(a.throttledUpdate){a.statics().queueRecordChange(a,e,d,c,b)}else {a.handleUpdate.apply(a,arguments)}},handleUpdate:function(e,c){var a=this,b,d;if(a.viewReady){b=a.dataSource.indexOf(c);if(b>-1){if(a.getNode(c)){d=a.bufferRender([c],b)[0];a.all.replaceElement(b,d,!0);a.updateIndexes(b,b);a.selModel.onUpdate(c);if(a.hasListeners.itemupdate){a.fireEvent('itemupdate',c,b,d)}return d}}}},onReplace:function(k,b,g,f){var a=this,h,d=a.all,c,j,e,i;if(a.rendered){c=a.bufferRender(f,b,!0);j=d.item(b);if(j){d.item(b).insertSibling(c,'before',!0)}else {a.appendNodes(c)}d.insert(b,c);b+=f.length;h=b+g.length-1;d.removeRange(b,h,!0);if(a.refreshSelmodelOnRefresh!==!1){a.selModel.refresh()}a.updateIndexes(b);a.refreshSize();if(a.hasListeners.itemremove){for(e=g.length,i=h;e>=0;--e,--i){a.fireEvent('itemremove',g[e],i,a)}}if(a.hasListeners.itemadd){a.fireEvent('itemadd',f,b,c)}}},onAdd:function(e,d,b){var a=this,c;if(a.rendered){if(a.all.getCount()===0){a.refresh();c=a.all.slice()}else {c=a.doAdd(d,b);if(a.refreshSelmodelOnRefresh!==!1){a.selModel.refresh()}a.updateIndexes(b);a.refreshSizePending=!0}if(a.hasListeners.itemadd){a.fireEvent('itemadd',d,b,c)}}},appendNodes:function(c){var b=document.createDocumentFragment(),d=c.length,a;for(a=0;a<d;++a){b.appendChild(c[a])}this.getNodeContainer().appendChild(b)},doAdd:function(h,b){var d=this,c=d.bufferRender(h,b,!0),a=d.all,f=a.getCount(),e=a.startIndex||0,g=a.endIndex||f-1;if(f===0||b>g){d.appendNodes(c)}else {if(b<=e){a.item(e).insertSibling(c,'before',!0)}else {a.item(b).insertSibling(c,'before',!0)}}a.insert(b,c);return c},onRemove:function(k,d,b){var a=this,i=a.all,g=a.hasListeners.itemremove,e,c,j,f,h;if(i.getCount()){if(a.dataSource.getCount()===0){if(g){a.fireEvent('itemremove',d,b,a.getNodes(b,b+d.length-1))}a.preventPrune=!0;a.refresh();a.preventPrune=!1}else {if(g){f=[]}for(c=d.length-1;c>=0;--c){j=d[c];e=b+c;if(f){h=i.item(e);f[c]=h?h.dom:undefined}if(i.item(e)){a.doRemove(j,e)}}if(g){a.fireEvent('itemremove',d,b,f,a)}a.updateIndexes(b)}a.refreshSizePending=!0}},doRemove:function(b,a){this.all.removeElement(a,!0)},refreshNode:function(a){this.onUpdate(this.dataSource,this.store.getAt(a))},updateIndexes:function(d,c){var b=this.all.elements,e=this.getViewRange(),a;d=d||0;c=c||(c===0?0:b.length-1);for(a=d;a<=c;a++){b[a].viewIndex=a;b[a].viewRecordId=e[a].internalId;if(!b[a].boundView){b[a].boundView=this.id}}},getStore:function(){return this.store},bindStore:function(b,c,d){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);if(!c){a.getSelectionModel().bindStore(b)}if(a.componentLayoutCounter){a.doFirstRefresh(b)}},doFirstRefresh:function(b){var a=this;if(b&&!b.loading){if(a.deferInitialRefresh){a.applyFirstRefresh()}else {a.refresh()}}},applyFirstRefresh:function(){var a=this;if(a.isDestroyed){return}a.pendingRefresh=0;if(a.up('[isCollapsingOrExpanding]')){a.pendingRefresh=Ext.Function.defer(a.applyFirstRefresh,100,a)}else {a.pendingRefresh=Ext.Function.defer(function(){a.pendingRefresh=0;if(!a.isDestroyed){a.refresh()}},1)}},onUnbindStore:function(a){this.setMaskBind(null)},onBindStore:function(b,d,c){var a=this;a.setMaskBind(b);if(!d&&c==='store'){a.preventRefresh=!0;a.store=b;a.bindStore(b,!1,'dataSource');a.preventRefresh=!1}},setMaskBind:function(b){var a=this.loadMask;if(a&&a.bindStore){a.bindStore(b)}},getStoreListeners:function(){var a=this;return {refresh:a.onDataRefresh,replace:a.onReplace,add:a.onAdd,remove:a.onRemove,update:a.onUpdate,clear:a.refresh,beginupdate:a.onBeginUpdate,endupdate:a.onEndUpdate}},onBeginUpdate:Ext.emptyFn,onEndUpdate:function(){if(this.refreshSizePending){this.refreshSize();this.refreshSizePending=!1}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var a=this,b=a.blockRefresh||!a.rendered||a.up('[collapsed],[isCollapsingOrExpanding],[hidden]');if(b){a.refreshNeeded=!0;a.deferInitialRefresh=!1}else {if(a.bufferedRenderer&&a.all.getCount()){a.bufferedRenderer.refreshView()}else {a.refresh()}}},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var c=[],b=this.selModel.getSelection(),d=b.length,a=0;for(;a<d;a++){c.push(this.getNode(b[a]))}return c},getRecords:function(c){var a=[],b=0,e=c.length,d=this.dataSource.data;for(;b<e;b++){a[a.length]=d.getByKey(c[b].viewRecordId)}return a},getRecord:function(a){return this.dataSource.getByInternalId(Ext.getDom(a).viewRecordId)},isSelected:function(a){var b=this.getRecord(a);return this.selModel.isSelected(b)},select:function(c,b,a){this.selModel.select(c,b,a)},deselect:function(b,a){this.selModel.deselect(b,a)},getNode:function(a){if(!a&&a!==0||!this.rendered){return null}if(a.target){a=a.target}if(Ext.isString(a)){return document.getElementById(a)}if(Ext.isNumber(a)){return this.all.elements[a]}if(a.isModel){return this.getNodeByRecord(a)}return Ext.fly(a).findParent(this.itemSelector,this.getTargetEl())},getNodeByRecord:function(c){var b=this.all.elements,d=b.length,a=0;for(;a<d;a++){if(b[a].viewRecordId===c.internalId){return b[a]}}return null},getNodes:function(c,a){var b=this.all;if(a===undefined){a=b.getCount()}else {a++}return b.slice(c||0,a)},indexOf:function(a){a=this.getNode(a);if(!a&&a!==0){return -1}if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onDestroy:function(){var a=this;a.all.clear();a.emptyEl=null;Ext.Component.prototype.onDestroy.call(this);a.bindStore(null);Ext.destroy(a.selModel,a.scrollManager)},onItemSelect:function(b){var a=this.getNode(b);if(a){Ext.fly(a).addCls(this.selectedItemCls)}},onItemDeselect:function(b){var a=this.getNode(b);if(a){Ext.fly(a).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector},addItemCls:function(b,c){var a=this.getNode(b);if(a){Ext.fly(a).addCls(c)}},removeItemCls:function(b,c){var a=this.getNode(b);if(a){Ext.fly(a).removeCls(c)}}},0,0,['component','box'],{'component':!0,'box':!0},0,[['bindable',Ext.util.Bindable]],[Ext.view,'AbstractView'],function(){Ext.deprecate('extjs','4.0',function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn('DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel')}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn('DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel')}return this.selModel.getSelection()},select:function(d,c,b){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var a=this.getSelectionModel();return a.select.apply(a,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var a=this.getSelectionModel();return a.deselectAll()}})})});Ext.cmd.derive('Ext.view.View',Ext.view.AbstractView,{alternateClassName:'Ext.DataView',inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{longpress:'LongPress',mousedown:'MouseDown',mouseup:'MouseUp',click:'Click',dblclick:'DblClick',contextmenu:'ContextMenu',mouseover:'MouseOver',mouseout:'MouseOut',mouseenter:'MouseEnter',mouseleave:'MouseLeave',keydown:'KeyDown',focus:'Focus'},TouchEventMap:{touchstart:'mousedown',touchend:'mouseup',tap:'click',doubletap:'dblclick'}},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this,b=a.mouseOverOutBuffer;Ext.view.AbstractView.prototype.afterRender.call(this);a.mon(a.el,{scope:a,click:a.handleEvent,longpress:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,keydown:a.handleEvent,mouseover:a.handleMouseOver,mouseout:a.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(b){var a=this,d=a.itemSelector,c=b.getTarget(d);if(!a.isDestroyed){if(c){if(a.mouseOverItem!==c&&a.el.contains(c)){a.mouseOverItem=b.item=c;b.newType='mouseenter';a.handleEvent(b);b.item=b.newType=null}}else {a.handleEvent(b)}}},handleMouseOut:function(a){var b=this,e=b.itemSelector,c=a.getTarget(e),d;if(!b.isDestroyed){b._mouseOutPending=!1;if(c){if(a.getRelatedTarget(e)!==c&&b.mouseOverItem===c){d=b.self.getBoundView(c);a.item=c;a.newType='mouseleave';d.handleEvent(a);d.mouseOverItem=null;a.item=a.newType=null}}else {b.handleEvent(a)}}},handleEvent:function(a){var b=this,d=a.type=='keydown',e=d&&a.getKey(),c;if(!a.item){a.item=a.getTarget(b.itemSelector)}if(a.item){a.record=b.getRecord(a.item)}else {if(d){c=b.getSelectionModel();a.record=c.lastFocused||c.getLastSelected();if(a.record){a.item=b.getNode(a.record)}}}if(b.processUIEvent(a)!==!1){b.processSpecialEvent(a)}if(e===a.SPACE){if(!b.inputTagRe.test(a.getTarget().tagName)){a.stopEvent()}}a.item=a.record=a.newType=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(b){if(!Ext.getBody().isAncestor(b.target)){return}var a=this,f=b.item,j=a.self,h=j.EventMap,i=j.TouchEventMap,g,e=b.record,d=b.type,c=d;if(b.newType){c=b.newType}if(f){c=i[c]||c;g=a.indexInStore?a.indexInStore(e):a.indexOf(f);if(!e||a.processItemEvent(e,f,g,b)===!1){return !1}if(a['onBeforeItem'+h[c]](e,f,g,b)===!1||a.fireEvent('beforeitem'+c,a,e,f,g,b)===!1||a['onItem'+h[c]](e,f,g,b)===!1){return !1}a.fireEvent('item'+c,a,e,f,g,b)}else {d=i[d]||d;if(a.processContainerEvent(b)===!1||a['onBeforeContainer'+h[d]](b)===!1||a.fireEvent('beforecontainer'+d,a,b)===!1||a['onContainer'+h[d]](b)===!1){return !1}a.fireEvent('container'+d,a,b)}return !0},onItemMouseEnter:function(b,a,c,d){if(this.trackOver){this.highlightItem(a)}},onItemMouseLeave:function(a,c,b,d){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(b){var a=this,c=a.highlightedItem,d=a.overItemCls;if(c!==b){if(c){Ext.fly(c).removeCls(d);if(a.hasListeners.unhighlightitem){a.fireEvent('unhighlightitem',a,c)}}a.highlightedItem=b;if(b){Ext.fly(b).addCls(a.overItemCls);if(a.hasListeners.highlightitem){a.fireEvent('highlightitem',a,b)}}}},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(f,e){var a=this,d,c,b;if(a.viewReady){d=a.getNode(e);c=Ext.view.AbstractView.prototype.handleUpdate.apply(this,arguments);b=a.highlightedItem;if(b&&b===d){delete a.highlightedItem;if(c){a.highlightItem(c)}}}},refresh:function(){this.clearHighlight();Ext.view.AbstractView.prototype.refresh.apply(this,arguments)},focusNode:function(h){var g=this,e=g.getNode(h),f=g.el,d=0,c=0,a=f.getRegion(),b;a.bottom=a.top+f.dom.clientHeight;a.right=a.left+f.dom.clientWidth;if(e){b=Ext.fly(e).getRegion();if(b.top<a.top){d=b.top-a.top}else {if(b.bottom>a.bottom){d=b.bottom-a.bottom}}if(b.left<a.left){c=b.left-a.left}else {if(b.right>a.right){c=b.right-a.right}}if(c||d){g.scrollBy(c,d,!1)}Ext.fly(e).set({tabIndex:-1});e.focus()}},bindStore:function(b,d,c){var a=this[c];if(a&&a.isFeatureStore){if(b.isFeatureStore){this.bindStoreListeners(b);a.bindStore(a.store)}else {a.bindStore(b)}}else {Ext.view.AbstractView.prototype.bindStore.apply(this,arguments)}}},0,['dataview'],['component','box','dataview'],{'component':!0,'box':!0,'dataview':!0},['widget.dataview'],0,[Ext.view,'View',Ext,'DataView'],0);Ext.cmd.derive('Ext.grid.CellContext',Ext.Base,{isCellContext:!0,constructor:function(a){this.view=a},isEqual:function(a){if(a){return this.record===a.record&&this.columnHeader===a.columnHeader}return !1},setPosition:function(a,c){var b=this;if(arguments.length===1){if(a.view){b.view=a.view}c=a.column;a=a.row}b.setRow(a);b.setColumn(c);return b},setRow:function(a){var b=this,c=b.view.dataSource;if(a!==undefined){if(typeof a==='number'){b.row=Math.max(Math.min(a,c.getCount()-1),0);b.record=c.getAt(a)}else {if(a.isModel){b.record=a;b.row=c.indexOf(a)}else {if(a.tagName){b.record=b.view.getRecord(a);b.row=c.indexOf(b.record)}}}}},setColumn:function(a){var b=this,c=b.view.ownerCt.getColumnManager();if(a!==undefined){if(typeof a==='number'){b.column=a;b.columnHeader=c.getHeaderAtIndex(a)}else {if(a.isHeader){b.columnHeader=a;b.column=c.getHeaderIndex(a)}}}},equal:function(a){return a&&a.isCellContext&&a.view===this.view&&a.record===this.record&&a.columnHeader===this.columnHeader}},1,0,0,0,0,0,[Ext.grid,'CellContext'],0);Ext.cmd.derive('Ext.util.CSS',Ext.Base,function(){var a,b=null,c=document,e=/(-[a-z])/gi,d=function(b,a){return a.charAt(1).toUpperCase()};return {singleton:!0,rules:b,initialized:!1,constructor:function(){a=this},createStyleSheet:function(e,g){var d,f=c.getElementsByTagName('head')[0],b=c.createElement('style');b.setAttribute('type','text/css');if(g){b.setAttribute('id',g)}if(Ext.isIE10m){f.appendChild(b);d=b.styleSheet;d.cssText=e}else {try{b.appendChild(c.createTextNode(e))}catch(h){b.cssText=e}f.appendChild(b);d=b.styleSheet?b.styleSheet:b.sheet||c.styleSheets[c.styleSheets.length-1]}a.cacheStyleSheet(d);return d},removeStyleSheet:function(b){var a=c.getElementById(b);if(a){a.parentNode.removeChild(a)}},swapStyleSheet:function(d,e){var b;a.removeStyleSheet(d);b=c.createElement('link');b.setAttribute('rel','stylesheet');b.setAttribute('type','text/css');b.setAttribute('id',d);b.setAttribute('href',e);c.getElementsByTagName('head')[0].appendChild(b)},cacheStyleSheet:function(d){if(!b){b=a.rules={}}try{var h=d.cssRules||d.rules,g=h.length-1,f=d.imports,i=f?f.length:0,c,e;for(e=0;e<i;++e){a.cacheStyleSheet(f[e])}for(;g>=0;--g){c=h[g];if(c.styleSheet){a.cacheStyleSheet(c.styleSheet)}a.cacheRule(c,d)}}catch(j){}},cacheRule:function(d,g){if(d.styleSheet){return a.cacheStyleSheet(d.styleSheet)}var c=d.selectorText,f,e;if(c){c=c.split(',');f=c.length;for(e=0;e<f;e++){b[Ext.String.trim(c[e]).toLowerCase()]={parentStyleSheet:g,cssRule:d}}}},getRules:function(e){var d={},c;if(b===null||e){a.refreshCache()}for(c in b){d[c]=b[c].cssRule}return d},refreshCache:function(){var e=c.styleSheets,d=0,f=e.length;b=a.rules={};for(;d<f;d++){try{if(!e[d].disabled){a.cacheStyleSheet(e[d])}}catch(g){}}},getRule:function(c,g,f){var d,e;if(!b||g){a.refreshCache()}if(!Ext.isArray(c)){e=b[c.toLowerCase()];if(e&&!f){e=e.cssRule}return e||null}for(d=0;d<c.length;d++){if(b[c[d]]){return f?b[c[d].toLowerCase()]:b[c[d].toLowerCase()].cssRule}}return null},createRule:function(b,c,d){var f,e=b.cssRules||b.rules,g=e.length;if(b.insertRule){b.insertRule(c+' {'+d+'}',g)}else {b.addRule(c,d||' ')}a.cacheRule(f=e[g],b);return f},updateRule:function(c,b,i){var f,g,h;if(!Ext.isArray(c)){f=a.getRule(c);if(f){if(arguments.length===2){h=Ext.Element.parseStyles(b);for(b in h){f.style[b.replace(e,d)]=h[b]}}else {f.style[b.replace(e,d)]=i}return !0}}else {for(g=0;g<c.length;g++){if(a.updateRule(c[g],b,i)){return !0}}}return !1},deleteRule:function(f){var e=a.getRule(f,!1,!0),c,d;if(e){c=e.parentStyleSheet;d=Ext.Array.indexOf(c.cssRules||c.rules,e.cssRule);if(c.deleteRule){c.deleteRule(d)}else {c.removeRule(d)}delete b[f]}}}},1,0,0,0,0,0,[Ext.util,'CSS'],0);Ext.cmd.derive('Ext.view.TableLayout',Ext.layout.component.Auto,{type:'tableview',beginLayout:function(a){var b=this,c=b.owner.lockingPartner;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(c){b.lockedGrid=b.owner.up('[lockable]');b.lockedGrid.needsRowHeightSync=!0;if(!a.lockingPartner){a.lockingPartner=a.context.getItem(c,c.el);if(a.lockingPartner&&!a.lockingPartner.lockingPartner){a.lockingPartner.lockingPartner=a}}}a.headerContext=a.context.getCmp(b.headerCt);if(b.owner.body.dom){a.bodyContext=a.getEl(b.owner.body)}},calculate:function(a){var c=this,e=c.lockingPartner,f=c.owner,b=0,d;if(!f.store.getCount()){a.state.columnWidthsSynced=!0;if(a.bodyContext){a.bodyContext.setHeight(b,!1)}a.setProp('contentHeight',b);Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);return}if(a.headerContext.hasProp('columnsChanged')){if(a.headerContext.getProp('columnsChanged')&&!c.setColumnWidths(a)){c.done=!1;return}a.state.columnWidthsSynced=!0;if(a.bodyContext){d=c.owner.el.down('.'+f.ownerCt.emptyCls,!0);if(!d){b=a.bodyContext.el.dom.offsetHeight;a.bodyContext.setHeight(b,!1)}else {b=d.offsetHeight}if(a.headerContext.state.boxPlan.tooNarrow&&a.ownerCtContext.sizeModel.height.shrinkWrap){b+=Ext.getScrollbarSize().height}a.setProp('contentHeight',b)}if(e&&!e.state.columnWidthsSynced){c.done=!1}else {Ext.layout.component.Auto.prototype.calculate.apply(this,arguments)}}else {c.done=!1}},measureContentHeight:function(a){var b=a.lockingPartner;if(!a.bodyContext||a.state.columnWidthsSynced&&(!b||b.state.columnWidthsSynced)){return Ext.layout.component.Auto.prototype.measureContentHeight.apply(this,arguments)}},setColumnWidths:function(h){if(!this.owner.body.dom){return !0}var f=this,i=f.owner,d=h.context,g=h.headerContext.getProp('columnsChanged'),j=f.headerCt.getVisibleGridColumns(),e,a=0,k=g.length,b,c;if(d){d.currentLayout=f}for(a=0;a<k;a++){e=j[g[a]];b=d.getCmp(e);c=b.props.width;if(isNaN(c)){b.getProp('width');return !1}i.body.select(i.getColumnSizerSelector(e)).setWidth(c)}return !0},finishedLayout:function(c){var a=this,d=c.headerContext.props.contentWidth,b=Ext.fly(a.owner.getNodeContainer());Ext.layout.component.Auto.prototype.finishedLayout.apply(this,arguments);b&&b.setWidth(d);if(a.owner.refreshCounter&&a.lockedGrid&&a.lockedGrid.syncRowHeight&&a.lockedGrid.needsRowHeightSync){a.lockedGrid.syncRowHeights();a.lockedGrid.needsRowHeightSync=!1}}},0,0,0,0,['layout.tableview'],0,[Ext.view,'TableLayout'],0);Ext.cmd.derive('Ext.view.NodeCache',Ext.Base,{statics:{importElementMethods:Ext.dom.CompositeElementLite.importElementMethods,range:document.createRange&&document.createRange()},constructor:function(a){this.view=a;this.clear();this.el=new Ext.dom.Fly()},clear:function(f){var a=this,b=this.elements,e,d,c=a.statics().range;if(a.count&&f){if(c){c.setStartBefore(b[a.startIndex]);c.setEndAfter(b[a.endIndex]);c.deleteContents()}else {for(e in b){d=b[e];d.parentNode.removeChild(d)}}}a.elements={};a.count=a.startIndex=0;a.endIndex=-1},fill:function(f,a,c){c=c||0;var d=this,g=d.elements={},b,e=f.length-c;if(!a){a=0}for(b=0;b<e;b++){g[a+b]=f[b+c]}d.startIndex=a;d.endIndex=a+e-1;d.count=e;return this},insert:function(c,f){var b=this,e=b.elements,a,d=f.length;if(b.count){if(c<b.count){for(a=b.endIndex+d;a>=c+d;a--){e[a]=e[a-d];e[a].setAttribute('data-recordIndex',a)}}b.endIndex=b.endIndex+d}else {b.startIndex=c;b.endIndex=c+d-1}for(a=0;a<d;a++,c++){e[c]=f[a];e[c].setAttribute('data-recordIndex',c)}b.count+=d},invoke:function(c,e){var d=this,b,a;c=Ext.dom.Element.prototype[c];for(a=d.startIndex;a<=d.endIndex;a++){b=d.item(a);if(b){c.apply(b,e)}}return this},item:function(a,c){var d=this.elements[a],b=null;if(d){b=c?this.elements[a]:this.el.attach(this.elements[a])}return b},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},getCount:function(){return this.count},slice:function(e,a){var d=this.elements,c=[],b;if(arguments.length<2){a=this.endIndex}else {a=Math.min(this.endIndex,a-1)}for(b=e||this.startIndex;b<=a;b++){c.push(d[b])}return c},replaceElement:function(a,b,d){var e=this.elements,c=typeof a==='number'?a:this.indexOf(a);if(c>-1){b=Ext.getDom(b);if(d){a=e[c];a.parentNode.insertBefore(b,a);Ext.removeNode(a);b.setAttribute('data-recordIndex',c)}this.elements[c]=b}return this},indexOf:function(b){var c=this.elements,a;b=Ext.getDom(b);for(a=this.startIndex;a<=this.endIndex;a++){if(c[a]===b){return a}}return -1},removeRange:function(f,c,i){var a=this,d=a.elements,h,b,g,e;if(c==null){c=a.endIndex+1}else {c=Math.min(a.endIndex+1,c+1)}if(f==null){f=a.startIndex}g=c-f;for(b=f,e=c;b<=a.endIndex;b++,e++){if(i&&b<c){Ext.removeNode(d[b])}if(e<=a.endIndex){h=d[b]=d[e];h.setAttribute('data-recordIndex',b)}else {delete d[b]}}a.count-=g;a.endIndex-=g},removeElement:function(a,k){var b=this,i,f,h=b.elements,j,e,c=0,d,g;if(Ext.isArray(a)){i=a;a=[];e=i.length;for(c=0;c<e;c++){f=i[c];if(typeof f!=='number'){f=b.indexOf(f)}if(f>=b.startIndex&&f<=b.endIndex){a[a.length]=f}}Ext.Array.sort(a);e=a.length}else {if(a<b.startIndex||a>b.endIndex){return}e=1;a=[a]}for(d=g=a[0],c=0;d<=b.endIndex;d++,g++){if(c<e&&d===a[c]){g++;c++;if(k){Ext.removeNode(h[d])}}if(g<=b.endIndex&&g>=b.startIndex){j=h[d]=h[g];j.setAttribute('data-recordIndex',d)}else {delete h[d]}}b.endIndex-=e;b.count-=e},scroll:function(i,q,h){var b=this,c=b.view,l=c.store,e=b.elements,o=i.length,a,d,j,f,n=c.getNodeContainer(),m=document.createDocumentFragment(),k=c.hasListeners.itemremove,p=c.hasListeners.itemadd,g=b.statics().range;if(q===-1){if(h){if(g){g.setStartBefore(e[b.endIndex-h+1]);g.setEndAfter(e[b.endIndex]);g.deleteContents();for(a=b.endIndex-h+1;a<=b.endIndex;a++){d=e[a];delete e[a];if(k){c.fireEvent('itemremove',l.getByInternalId(d.getAttribute('data-recordId')),a,d,c)}}}else {for(a=b.endIndex-h+1;a<=b.endIndex;a++){d=e[a];delete e[a];d.parentNode.removeChild(d);if(k){c.fireEvent('itemremove',l.getByInternalId(d.getAttribute('data-recordId')),a,d,c)}}}b.endIndex-=h}if(i.length){f=c.bufferRender(i,b.startIndex-=o);for(a=0;a<o;a++){e[b.startIndex+a]=f[a];m.appendChild(f[a])}n.insertBefore(m,n.firstChild);if(p){c.fireEvent('itemadd',i,b.startIndex,f)}}}else {if(h){j=b.startIndex+h;if(g){g.setStartBefore(e[b.startIndex]);g.setEndAfter(e[j-1]);g.deleteContents();for(a=b.startIndex;a<j;a++){d=e[a];delete e[a];if(k){c.fireEvent('itemremove',l.getByInternalId(d.getAttribute('data-recordId')),a,d,c)}}}else {for(a=b.startIndex;a<j;a++){d=e[a];delete e[a];d.parentNode.removeChild(d);if(k){c.fireEvent('itemremove',l.getByInternalId(d.getAttribute('data-recordId')),a,d,c)}}}b.startIndex=j}f=c.bufferRender(i,b.endIndex+1);for(a=0;a<o;a++){e[b.endIndex+=1]=f[a];m.appendChild(f[a])}n.appendChild(m);if(p){c.fireEvent('itemadd',i,b.endIndex+1,f)}}b.count=b.endIndex-b.startIndex+1},sumHeights:function(){var b=0,c=this.elements,a;for(a=this.startIndex;a<=this.endIndex;a++){b+=c[a].offsetHeight}return b}},1,0,0,0,0,0,[Ext.view,'NodeCache'],function(){this.importElementMethods()});Ext.cmd.derive('Ext.view.Table',Ext.view.View,{inheritableStatics:{events:['blur','focus','move','resize','destroy','beforedestroy','boxready','afterrender','render','beforerender','removed','hide','beforehide','show','beforeshow','enable','disable','added','deactivate','beforedeactivate','activate','beforeactivate','cellkeydown','beforecellkeydown','cellmouseup','beforecellmouseup','cellmousedown','beforecellmousedown','cellcontextmenu','beforecellcontextmenu','celldblclick','beforecelldblclick','cellclick','beforecellclick','refresh','itemremove','itemadd','itemupdate','viewready','beforerefresh','unhighlightitem','highlightitem','focuschange','deselect','select','beforedeselect','beforeselect','selectionchange','containerkeydown','containercontextmenu','containerdblclick','containerclick','containermouseout','containermouseover','containermouseup','containermousedown','beforecontainerkeydown','beforecontainercontextmenu','beforecontainerdblclick','beforecontainerclick','beforecontainermouseout','beforecontainermouseover','beforecontainermouseup','beforecontainermousedown','itemkeydown','itemcontextmenu','itemdblclick','itemclick','itemmouseleave','itemmouseenter','itemmouseup','itemmousedown','beforeitemkeydown','beforeitemcontextmenu','beforeitemdblclick','beforeitemclick','beforeitemmouseleave','beforeitemmouseenter','beforeitemmouseup','beforeitemmousedown','statesave','beforestatesave','staterestore','beforestaterestore','uievent','groupcollapse','groupexpand']},componentLayout:'tableview',baseCls:'x-grid-view',unselectableCls:'x-unselectable',firstCls:'x-grid-cell-first',lastCls:'x-grid-cell-last',selectedItemCls:'x-grid-item-selected',selectedCellCls:'x-grid-cell-selected',focusedItemCls:'x-grid-item-focused',overItemCls:'x-grid-item-over',altRowCls:'x-grid-item-alt',dirtyCls:'x-grid-dirty-cell',rowClsRe:new RegExp('(?:^|\\s*)x-grid-row-(first|last|alt)(?:\\s+|$)','g'),cellRe:new RegExp('x-grid-cell-([^\\s]+)(?:\\s|$)',''),positionBody:!0,positionCells:!1,stripeOnUpdate:null,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:'grid',tpl:['{%','view = values.view;','if (!(columns = values.columns)) {','columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();','}','values.fullWidth = 0;','for (i = 0, len = columns.length; i < len; i++) {','column = columns[i];','values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);','}','tableCls=values.tableCls=[];','%}','<div class="x-grid-item-container" style="width:{fullWidth}px">','{[view.renderTHead(values, out, parent)]}','{%','view.renderRows(values.rows, values.columns, values.viewStartIndex, out);','%}','{[view.renderTFoot(values, out, parent)]}','</div>',{definitions:'var view, tableCls, columns, i, len, column;',priority:0}],outerRowTpl:['<table id="{rowId}" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellPadding="0" cellSpacing="0" {ariaTableAttr} style="width:0;{itemStyle}">','{%','this.nextTpl.applyOut(values, out, parent)','%}','</table>',{priority:9999}],rowTpl:['{%','var dataRowCls = values.recordIndex === -1 ? "" : " x-grid-row";','%}','<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}" {rowAttr:attributes} tabIndex="-1" {ariaRowAttr}>','<tpl for="columns">{%','parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)','%}','</tpl>','</tr>',{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {[Ext.aria ? "id=\\"" + Ext.id() + "\\"" : ""]} style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>" {ariaCellAttr}>','<div {unselectableAttr} class="x-grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" {ariaCellInnerAttr}>{value}</div>','</td>',{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:['x-grid-cell x-grid-td']},renderBuffer:document.createElement('div'),constructor:function(a){if(a.grid.isTree){a.baseCls='x-tree-view'}Ext.view.View.prototype.constructor.call(this,a)},initComponent:function(){var a=this,b=a.scroll;if(a.columnLines){a.addCls(a.grid.colLinesCls)}if(a.rowLines){a.addCls(a.grid.rowLinesCls)}a.body=new Ext.dom.Fly();a.body.id=a.id+'gridBody';a.autoScroll=undefined;if(!a.trackOver){a.overItemCls=null}if(b===!0||b==='both'){a.autoScroll=!0}else {if(b==='horizontal'){a.overflowX='auto'}else {if(b==='vertical'){a.overflowY='auto'}}}a.selModel.view=a.headerCt.view=a;a.grid.view=a;a.initFeatures(a.grid);a.itemSelector=a.getItemSelector();a.all=new Ext.view.NodeCache(a);Ext.view.View.prototype.initComponent.call(this)},getVisibleColumnManager:function(){var a=this.ownerCt,b=a.ownerLockable;return b?b.getVisibleColumnManager():a.getVisibleColumnManager()},beforeLayout:function(){var a=this,b=!a.firstRefreshDone&&a.headerCt.layout.running;Ext.view.View.prototype.beforeLayout.apply(this,arguments);if(b&&a.body.dom){a.headerCt.layout.injectViewContext(a.headerCt.layout.ownerContext,a)}},moveColumn:function(c,h,k){var b=this,m=k>1,e=m&&document.createRange?document.createRange():null,g=m&&!e?document.createDocumentFragment():null,j=h,p=b.getGridColumns().length,l=p-1,r=(b.firstCls||b.lastCls)&&(h===0||h===p||c===0||c===l),f,i,q,n,d,a,o;if(b.rendered&&h!==c){q=b.el.query(b.rowSelector);if(h>c&&g){j-=1}for(f=0,n=q.length;f<n;f++){d=q[f];a=d.childNodes;if(r){if(a.length===1){Ext.fly(a[0]).addCls(b.firstCls);Ext.fly(a[0]).addCls(b.lastCls);continue}if(c===0){Ext.fly(a[0]).removeCls(b.firstCls);Ext.fly(a[1]).addCls(b.firstCls)}else {if(c===l){Ext.fly(a[l]).removeCls(b.lastCls);Ext.fly(a[l-1]).addCls(b.lastCls)}}if(h===0){Ext.fly(a[0]).removeCls(b.firstCls);Ext.fly(a[c]).addCls(b.firstCls)}else {if(h===p){Ext.fly(a[l]).removeCls(b.lastCls);Ext.fly(a[c]).addCls(b.lastCls)}}}if(m){if(e){e.setStartBefore(a[c]);e.setEndAfter(a[c+k-1]);g=e.extractContents()}else {for(i=0;i<k;i++){g.appendChild(a[c])}}d.insertBefore(g,a[j]||null)}else {d.insertBefore(a[c],a[j]||null)}}o=b.el.query('colgroup');for(f=0,n=o.length;f<n;f++){d=o[f];if(m){if(e){e.setStartBefore(d.childNodes[c]);e.setEndAfter(d.childNodes[c+k-1]);g=e.extractContents()}else {for(i=0;i<k;i++){g.appendChild(d.childNodes[c])}}d.insertBefore(g,d.childNodes[j]||null)}else {d.insertBefore(d.childNodes[c],d.childNodes[j]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(a,c,b){this.mon(this,a,c,b,{element:'el'})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(a)},getCell:function(b,a){var c=this.getRow(b);return Ext.fly(c).down(a.getCellSelector())},getFeature:function(b){var a=this.featuresMC;if(a){return a.get(b)}},findFeature:function(a){if(this.features){return Ext.Array.findBy(this.features,function(b){if(b.ftype===a){return !0}})}},initFeatures:function(e){var a=this,d,c,b,f;a.tpl=Ext.XTemplate.getTpl(this,'tpl');a.rowTpl=Ext.XTemplate.getTpl(this,'rowTpl');a.addRowTpl(Ext.XTemplate.getTpl(this,'outerRowTpl'));a.cellTpl=Ext.XTemplate.getTpl(this,'cellTpl');a.featuresMC=new Ext.util.MixedCollection();c=a.features=a.constructFeatures();f=c?c.length:0;for(d=0;d<f;d++){b=c[d];b.view=a;b.grid=e;a.featuresMC.add(b);b.init(e)}},renderTHead:function(c,f,e){var b=c.view.headerFns,d,a;if(b){for(a=0,d=b.length;a<d;++a){b[a].call(this,c,f,e)}}},addHeaderFn:function(b){var a=this.headerFns;if(!a){a=this.headerFns=[]}a.push(b)},renderTFoot:function(c,f,e){var b=c.view.footerFns,d,a;if(b){for(a=0,d=b.length;a<d;++a){b[a].call(this,c,f,e)}}},addFooterFn:function(b){var a=this.footerFns;if(!a){a=this.footerFns=[]}a.push(b)},addTpl:function(a){return this.insertTpl('tpl',a)},addRowTpl:function(a){return this.insertTpl('rowTpl',a)},addCellTpl:function(a){return this.insertTpl('cellTpl',a)},insertTpl:function(d,a){var e=this,b,c;if(a.isTemplate){a=Ext.Object.chain(a)}else {a=new Ext.XTemplate('{%this.nextTpl.applyOut(values, out, parent);%}',a)}for(b=e[d];a.priority<b.priority;b=b.nextTpl){c=b}if(c){c.nextTpl=a}else {e[d]=a}a.nextTpl=b;return a},tplApplyOut:function(b,c,a){if(this.before){if(this.before(b,c,a)===!1){return}}this.nextTpl.applyOut(b,c,a);if(this.after){this.after(b,c,a)}},constructFeatures:function(){var f=this,c=f.features,a,d,b=0,e;if(c){d=[];e=c.length;for(;b<e;b++){a=c[b];if(!a.isFeature){a=Ext.create('feature.'+a.ftype,a)}d[b]=a}}return d},beforeRender:function(){var a=this;Ext.view.View.prototype.beforeRender.call(this);if(!a.enableTextSelection){a.protoEl.unselectable()}},onViewScroll:function(a,b){if(!this.ignoreScroll){Ext.view.View.prototype.onViewScroll.apply(this,arguments);this.fireEvent('bodyscroll',a,b)}},createRowElement:function(e,f,d){var a=this,c=a.renderBuffer,b=a.collectData([e],f);b.columns=d;a.tpl.overwrite(c,b);return Ext.fly(c).down(a.getNodeContainerSelector(),!0).firstChild},bufferRender:function(c,d){var a=this,b=a.renderBuffer;a.tpl.overwrite(b,a.collectData(c,d));return Ext.Array.toArray(Ext.fly(b).down(a.getNodeContainerSelector(),!0).childNodes)},collectData:function(c,b){var a=this;a.rowValues.view=a;a.tableValues.view=a;a.tableValues.rows=c;a.tableValues.columns=null;a.tableValues.viewStartIndex=b;a.tableValues.touchScroll=a.touchScroll;a.tableValues.tableStyle='width:'+a.headerCt.getTableWidth()+'px';return a.tableValues},collectNodes:function(a){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var a=this,c,b=a.getBodySelector();if(b){a.body.attach(a.el.down(b,!0))}if(!a.hasLoadingHeight){c=a.up('tablepanel');Ext.suspendLayouts();Ext.view.View.prototype.refreshSize.call(this);if(a.dataSource.getCount()){c.updateLayout()}Ext.resumeLayouts(!0)}},clearViewEl:function(e){var b=this,d=b.all,f=b.getStore(),a,c;for(a=d.startIndex;a<=d.endIndex;a++){c=d.item(a,!0);b.fireEvent('itemremove',f.getByInternalId(c.getAttribute('data-recordId')),a,c,b)}Ext.view.View.prototype.clearViewEl.call(this,e)},getMaskTarget:function(){var a=this.ownerCt;if(a.ownerLockable){a=a.ownerLockable}return a.getMaskTarget()},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute('data-boundView'))}},getRecord:function(a){var c=this,b;if(c.store.isDestroyed){return}if(a.isModel){return a}a=c.getNode(a);if(a){if(!c.hasActiveFeature()){b=a.getAttribute('data-recordIndex');if(b){b=parseInt(b,10);if(b>-1){return c.store.data.getAt(b)}}}return c.dataSource.getByInternalId(a.getAttribute('data-recordId'))}},indexOf:function(a){a=this.getNode(a);if(!a&&a!==0){return -1}return this.all.indexOf(a)},indexInStore:function(a){return a?this.dataSource.indexOf(this.getRecord(a)):-1},renderRows:function(d,f,c,g){var a=this.rowValues,e=d.length,b;a.view=this;a.columns=f;for(b=0;b<e;b++,c++){a.itemClasses.length=a.rowClasses.length=0;this.renderRow(d[b],c,g)}a.view=a.columns=a.record=null},renderColumnSizer:function(f,d){var b=f.columns||this.getGridColumns(),g=b.length,a,c,e;d.push('<colgroup role="presentation">');for(a=0;a<g;a++){c=b[a];e=c.cellWidth?c.cellWidth:Ext.grid.header.Container.prototype.defaultWidth;d.push('<col role="presentation" class="','x-','grid-cell-',b[a].getItemId(),'" style="width:'+e+'px">')}d.push('</colgroup>')},renderRow:function(c,e,j){var a=this,k=e===-1,h=a.selModel,b=a.rowValues,d=b.itemClasses,g=b.rowClasses,f,i=a.rowTpl;b.record=c;b.recordId=c.internalId;b.recordIndex=a.store.indexOf(c);b.rowIndex=e;b.rowId=a.getRowId(c);b.itemCls=b.rowCls='';if(!b.columns){b.columns=a.ownerCt.getVisibleColumnManager().getColumns()}d.length=g.length=0;if(!k){d[0]='x-grid-item';if(!a.ownerCt.disableSelection&&h.isRowSelected){if(h.isRowSelected(c)){d.push(a.selectedItemCls)}}if(a.stripeRows&&e%2!==0){d.push(a.altRowCls)}if(a.getRowClass){f=a.getRowClass(c,e,null,a.dataSource);if(f){g.push(f)}}}if(j){i.applyOut(b,j,a.tableValues)}else {return i.apply(b.me.tableValues)}},renderCell:function(b,f,h,m,j,o){var c=this,l,i=c.selModel,a=c.cellValues,d=a.classes,k=f.data[b.dataIndex],n=c.cellTpl,g,e;a.record=f;a.column=b;a.recordIndex=h;a.rowIndex=m;a.columnIndex=j;a.cellIndex=j;a.align=b.align;a.innerCls=b.innerCls;a.tdCls=a.tdStyle=a.tdAttr=a.style='';a.unselectableAttr=c.enableTextSelection?'':'unselectable="on"';d[1]=b.getCellId();e=2;if(b.renderer&&b.renderer.call){l=c.ownerCt.columnManager.getHeaderIndex(b);g=b.renderer.call(b.usingDefaultRenderer?b:b.scope||c.ownerCt,k,a,f,h,l,c.dataSource,c);if(a.css){f.cssWarning=!0;a.tdCls+=' '+a.css;a.css=null}if(a.tdCls){d[e++]=a.tdCls}}else {g=k}a.value=g==null||g===''?b.emptyCellText:g;if(b.tdCls){d[e++]=b.tdCls}if(c.markDirty&&f.isModified(b.dataIndex)){d[e++]=c.dirtyCls}if(b.isFirstVisible){d[e++]=c.firstCls}if(b.isLastVisible){d[e++]=c.lastCls}if(!c.enableTextSelection){d[e++]=c.unselectableCls}if(i&&i.isCellModel&&i.isCellSelected(c,h,b)){d[e++]=c.selectedCellCls}d.length=e;a.tdCls=d.join(' ');n.applyOut(a,o);a.column=null},getRow:function(a){var b;if(!a&&a!==0||!this.rendered){return null}if(a.target){a=a.target}if(Ext.isString(a)){return Ext.fly(a).down(this.rowSelector,!0)}if(Ext.isNumber(a)){b=this.all.item(a);return b&&b.down(this.rowSelector,!0)}if(a.isModel){return this.getRowByRecord(a)}b=Ext.fly(a);if(b.is(this.itemSelector)){return this.getRowFromItem(b)}return b.findParent(this.rowSelector,this.getTargetEl())},getRowId:function(a){return this.id+'-record-'+a.internalId},constructRowId:function(a){return this.id+'-record-'+a},getNodeById:function(a){a=this.constructRowId(a);return this.retrieveNode(a,!1)},getRowById:function(a){a=this.constructRowId(a);return this.retrieveNode(a,!0)},getNodeByRecord:function(a){return this.retrieveNode(this.getRowId(a),!1)},getRowByRecord:function(a){return this.retrieveNode(this.getRowId(a),!0)},getRowFromItem:function(c){var b=Ext.getDom(c).tBodies[0].childNodes,d=b.length,a;for(a=0;a<d;a++){if(Ext.fly(b[a]).is(this.rowSelector)){return b[a]}}},retrieveNode:function(c,b){var a=this.el.getById(c,!0);if(b&&a){return Ext.fly(a).down(this.rowSelector,!0)}return a},updateIndexes:Ext.emptyFn,bodySelector:'div.x-grid-item-container',nodeContainerSelector:'div.x-grid-item-container',itemSelector:'table.x-grid-item',rowSelector:'tr.x-grid-row',cellSelector:'td.x-grid-cell',sizerSelector:'.x-grid-cell',innerSelector:'div.x-grid-cell-inner',getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(b){var a=this.sizerSelector+'-'+b.getItemId();return 'td'+a+',col'+a},getItemSelector:function(){return this.itemSelector},getCellSelector:function(a){return a?a.getCellSelector():this.cellSelector},getCellInnerSelector:function(a){return this.getCellSelector(a)+' '+this.innerSelector},addRowCls:function(b,c){var a=this.getRow(b);if(a){Ext.fly(a).addCls(c)}},removeRowCls:function(b,c){var a=this.getRow(b);if(a){Ext.fly(a).removeCls(c)}},onRowSelect:function(b){var a=this;a.addItemCls(b,a.selectedItemCls)},onRowDeselect:function(b){var a=this;a.removeItemCls(b,a.selectedItemCls)},onCellSelect:function(b){var a=this.getCellByPosition(b);if(a){a.addCls(this.selectedCellCls)}},onCellDeselect:function(b){var a=this.getCellByPosition(b,!0);if(a){Ext.fly(a).removeCls(this.selectedCellCls)}},getCellByPosition:function(a,d){if(a){var c=this.getRow(a.row),b=this.ownerCt.getColumnManager().getHeaderAtIndex(a.column);if(b&&c){return Ext.fly(c).down(this.getCellSelector(b),d)}}return !1},getFocusEl:function(){return this.focusEl},onRowFocus:function(b,d,c){var a=this;if(d){a.addItemCls(b,a.focusedItemCls);if(!c){a.focusRow(b)}}else {a.removeItemCls(b,a.focusedItemCls)}},focusRow:function(b,d){var a=this,c,e=a.getFocusTask();if(d){e.delay(Ext.isNumber(d)?d:10,a.focusRow,a,[b,!1]);return}e.cancel();if(a.isVisible(!0)&&(b=a.getRow(b))){a.scrollRowIntoView(b);c=a.getRecord(b);a.selModel.setLastFocused(c);a.doFocus(b);a.fireEvent('rowfocus',c,b,a.indexInStore(b))}},scrollRowIntoView:function(a,b){a=this.getRow(a);if(a){this.scrollElIntoView(a,!1,b)}},focusCell:function(b,c){var a=this,d,e=a.getFocusTask();if(c){e.delay(Ext.isNumber(c)?c:10,a.focusCell,a,[b,!1]);return}e.cancel();if(a.isVisible(!0)&&(d=a.getCellByPosition(b))){a.scrollCellIntoView(d);a.doFocus(a.getRow(b.row));a.fireEvent('cellfocus',b.record,d,b)}},doFocus:function(d){var a=this,b=Ext.isIE,c;if(b){c=a.el.getScrollLeft();a.ignoreScroll=!0}(a.focusEl=Ext.get(d)).focus();if(b){a.el.setScrollLeft(c);a.ignoreScroll=!1}},scrollCellIntoView:function(a,b){if(a.row!=null&&a.column!=null){a=this.getCellByPosition(a)}if(a){this.scrollElIntoView(a,null,b)}},scrollElIntoView:function(d,c,b){var e=this,a=e.scrollManager;if(a){a.scrollIntoView(d,c,b)}else {Ext.fly(d).scrollIntoView(e.el,c,b)}},syncRowHeights:function(b,a){b.style.height=a.style.height='';var f=this,e=f.rowTpl,d=b.offsetHeight,c=a.offsetHeight;if(d!==c){while(e){if(e.syncRowHeights){if(e.syncRowHeights(b,a)===!1){break}}e=e.nextTpl}d=b.offsetHeight;c=a.offsetHeight;if(d!==c){b=Ext.fly(b).down(f.rowSelector,!0)||b;a=Ext.fly(a).down(f.rowSelector,!0)||a;if(b&&a){b.style.height=a.style.height='';d=b.offsetHeight;c=a.offsetHeight;if(d>c){Ext.fly(b).setHeight(d);Ext.fly(a).setHeight(d)}else {if(c>d){Ext.fly(b).setHeight(c);Ext.fly(a).setHeight(c)}}}}}},handleUpdate:function(v,d,u,q){var a=this,g=a.rowTpl,j,b,r,c,h,s,o,f,n,m,l,i,p,e=[],t,k;if(a.viewReady){b=a.getNodeByRecord(d);if(b){n=a.overItemCls;m=a.focusedItemCls;l=a.selectedItemCls;i=a.ownerCt.getVisibleColumnManager().getColumns();for(k=0,t=i.length;k<t;k++){p=i[k];if(a.shouldUpdateCell(d,p,q)){e[e.length]=p}}j=Ext.fly(b,'_internal');c=a.createRowElement(d,a.dataSource.indexOf(d),e);if(j.hasCls(n)){Ext.fly(c).addCls(n)}if(j.hasCls(m)){Ext.fly(c).addCls(m)}if(j.hasCls(l)){Ext.fly(c).addCls(l)}if(Ext.isIE9m&&b.mergeAttributes){b.mergeAttributes(c,!0)}else {h=c.attributes;s=h.length;for(f=0;f<s;f++){o=h[f].name;if(o!=='id'){b.setAttribute(o,h[f].value)}}}if(i.length&&(r=a.getRow(b))){a.updateColumns(r,Ext.fly(c).down(a.rowSelector,!0),e)}while(g){if(g.syncContent){if(g.syncContent(b,c,q?e:null)===!1){break}}g=g.nextTpl}Ext.suspendLayouts();a.fireEvent('itemupdate',d,a.store.indexOf(d),b);a.refreshSize();Ext.resumeLayouts(!0)}}},updateColumns:function(b,f,h){var m=this,d,k,g,a,n=h.length,c,l,j,i,e=m.getCellSelector();if(b.mergeAttributes){b.mergeAttributes(f,!0)}else {d=f.attributes;k=d.length;for(a=0;a<k;a++){g=d[a].name;if(g!=='id'){b.setAttribute(g,d[a].value)}}}for(c=0;c<n;c++){l=h[c];e=m.getCellSelector(l);j=Ext.fly(b).selectNode(e);i=Ext.fly(f).selectNode(e);Ext.fly(j).syncContent(i)}},shouldUpdateCell:function(e,c,a){if(!c.preventUpdate){if(c.hasCustomRenderer||!a){return !0}if(a){var f=a.length,b,d;for(b=0;b<f;++b){d=a[b];if(d===c.dataIndex||d===e.idProperty){return !0}}}}return !1},refresh:function(){var a=this,b;Ext.view.View.prototype.refresh.apply(this,arguments);a.headerCt.setSortState();if(a.touchScroll&&a.el&&!a.all.getCount()&&a.headerCt&&a.headerCt.tooNarrow){b=a.scrollManager.scroller.getSize();b.x=a.headerCt.getTableWidth();a.scrollManager.scroller.setSize(b);a.scrollManager.refresh()}a.refreshSelection()},refreshSelection:function(){var a=this,d=a.selModel,c,e,b;if(d.isRowModel){c=d.selected.items;e=c.length;for(b=0;b<e;b++){a.onRowSelect(a.indexOf(a.getNode(c[b])))}}a.selModel.onLastFocusChanged(null,a.selModel.lastFocused,!0)},processItemEvent:function(h,o,g,d){var a=this,p=a.self,q=p.EventMap,b=d.type,e,c,j,m=a.features,r=m.length,k,f,i,l,n;if(Ext.isIE&&b==='mouseup'&&!d.within(a.el)){return !1}if(a.indexInStore(o)!==-1){e=Ext.fly(o).down(a.rowSelector,!0);c=d.getTarget(a.getCellSelector(),e);j=a.getSelectionModel();b=p.TouchEventMap[b]||b;if(b=='keydown'&&!c&&j.getCurrentPosition){c=a.getCellByPosition(j.getCurrentPosition(),!0)}if(c){if(!c.parentNode){return !1}n=a.getHeaderByCell(c);f=a.ownerCt.getColumnManager().getHeaderIndex(n)}else {f=-1}i=a.fireEvent('uievent',b,a,c,g,f,d,h,e);if(i===!1||Ext.view.View.prototype.processItemEvent.apply(this,arguments)===!1){if(j.onVetoUIEvent){j.onVetoUIEvent(b,a,c,g,f,d,h,e)}return !1}for(k=0;k<r;++k){l=m[k];if(l.wrapsItem){if(l.vetoEvent(h,e,g,d)===!1){a.processSpecialEvent(d);return !1}}}if(c&&b!=='mouseover'&&b!=='mouseout'){i=!(a['onBeforeCell'+q[b]](c,f,h,e,g,d)===!1||a.fireEvent('beforecell'+b,a,c,f,h,e,g,d)===!1||a['onCell'+q[b]](c,f,h,e,g,d)===!1||a.fireEvent('cell'+b,a,c,f,h,e,g,d)===!1)}if(i!==!1){i=a.fireEvent('row'+b,a,h,e,g,d)}return i}else {this.processSpecialEvent(d);return !1}},processSpecialEvent:function(f){var a=this,k=a.features,l=k.length,b=f.type,g,c,i,d,h,j,e=a.ownerCt;Ext.view.View.prototype.processSpecialEvent.apply(this,arguments);if(b=='mouseover'||b=='mouseout'){return}for(g=0;g<l;g++){c=k[g];if(c.hasFeatureEvent){d=f.getTarget(c.eventSelector,a.getTargetEl());if(d){i=c.eventPrefix;b=a.self.TouchEventMap[b]||b;h=c.getFireEventArgs('before'+i+b,a,d,f);j=c.getFireEventArgs(i+b,a,d,f);if(a.fireEvent.apply(a,h)===!1||e.fireEvent.apply(e,h)===!1||a.fireEvent.apply(a,j)===!1||e.fireEvent.apply(e,j)===!1){return !1}}}}return !0},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){if(Ext.isNumber(a)){a=this.getGridColumns[a]}if(a){if(a.isGroupHeader){a.autoSize();return}delete a.flex;a.setWidth(this.getMaxContentWidth(a))}},getMaxContentWidth:function(b){var c=this,d=c.el.query(b.getCellInnerSelector()),j=b.getWidth(),f=0,i=d.length,g=c.body.select(c.getColumnSizerSelector(b)),h=Math.max,e=0,a;if(i>0){if(Ext.supports.ScrollWidthInlinePaddingBug){e+=c.getCellPaddingAfter(d[0])}if(c.columnLines){e+=Ext.fly(d[0].parentNode).getBorderWidth('lr')}}g.setWidth(1);b.titleEl.setStyle('text-overflow','clip');a=b.textEl.dom.offsetWidth+b.titleEl.getPadding('lr');b.titleEl.setStyle('text-overflow','');for(;f<i;f++){a=h(a,d[f].scrollWidth)}a+=e;a=h(a,40);g.setWidth(j);return a},getPositionByEvent:function(b){var a=this,c=b.getTarget(a.cellSelector),d=b.getTarget(a.itemSelector),f=a.getRecord(d),e=a.getHeaderByCell(c);return a.getPosition(f,e)},getHeaderByCell:function(a){if(a){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(a.cellIndex)}return !1},walkCells:function(n,l,e,o,p,q){if(!n){return !1}var b=this,a=n.row,j=n.column,h=b.dataSource.getCount(),f=b.ownerCt.getColumnManager(),i=b.ownerCt.getVisibleColumnManager(),k=f.getHeaderIndex(i.getFirst()),m=f.getHeaderIndex(i.getLast()),d=a,c=j,g=f.getHeaderAtIndex(j);if(!g||g.hidden||!h){return !1}e=e||{};l=l.toLowerCase();switch(l){case 'right':if(j===m){if(o||a===h-1){return !1}if(!e.ctrlKey){d=b.walkRows(a,1);if(d!==a){c=k}}}else {if(!e.ctrlKey){c=f.getHeaderIndex(i.getNextSibling(g))}else {c=m}};break;case 'left':if(j===k){if(o||a===0){return !1}if(!e.ctrlKey){d=b.walkRows(a,-1);if(d!==a){c=m}}}else {if(!e.ctrlKey){c=f.getHeaderIndex(i.getPreviousSibling(g))}else {c=k}};break;case 'up':if(a===0){return !1}else {if(!e.ctrlKey){d=b.walkRows(a,-1)}else {d=b.walkRows(-1,1)}};break;case 'down':if(a===h-1){return !1}else {if(!e.ctrlKey){d=b.walkRows(a,1)}else {d=b.walkRows(h,-1)}};break;}if(p&&p.call(q||b,{row:d,column:c})!==!0){return !1}c=f.getHeaderAtIndex(c);return (new Ext.grid.CellContext(b)).setPosition(d,c)},walkRows:function(g,f){var j=this,c=j.dataSource,h=0,e=g,i,b=f<0?0:(c.isBufferedStore?c.getTotalCount():c.getCount())-1,d=b?1:-1,a=g;do{if(b?a>=b:a<=b){return e||b}a+=d;if((i=Ext.fly(j.getRow(a)))&&i.isVisible(!0)){h+=d;e=a}}while(h!==f);return a},walkRecs:function(h,g){var k=this,a=k.dataSource,i=0,e=h,j,c=g<0?0:(a.isBufferedStore?a.getTotalCount():a.getCount())-1,f=c?1:-1,b=a.indexOf(h),d;do{if(c?b>=c:b<=c){return e}b+=f;d=a.getAt(b);if(!d.isCollapsedPlaceholder&&(j=Ext.fly(k.getNodeByRecord(d)))&&j.isVisible(!0)){i+=f;e=d}}while(i!==g);return e},getFirstVisibleRowIndex:function(){var a=this,c=a.dataSource.isBufferedStore?a.dataSource.getTotalCount():a.dataSource.getCount(),b=a.indexOf(a.all.first())-1;do{b+=1;if(b===c){return}}while(!Ext.fly(a.getRow(b)).isVisible(!0));return b},getLastVisibleRowIndex:function(){var b=this,a=b.indexOf(b.all.last());do{a-=1;if(a===-1){return}}while(!Ext.fly(b.getRow(a)).isVisible(!0));return a},getHeaderCt:function(){return this.headerCt},getPosition:function(b,a){return (new Ext.grid.CellContext(this)).setPosition(b,a)},beforeDestroy:function(){var a=this;if(a.rendered){a.el.clearListeners()}Ext.view.View.prototype.beforeDestroy.apply(this,arguments)},onDestroy:function(){var d=this,b=d.featuresMC,c,a;if(b){for(a=0,c=b.getCount();a<c;++a){b.getAt(a).destroy()}}d.featuresMC=null;Ext.view.View.prototype.onDestroy.apply(this,arguments)},onReplace:function(e,b,d,c){var a=this;Ext.view.View.prototype.onReplace.apply(this,arguments);a.doStripeRows(b);a.selModel.onLastFocusChanged(null,a.selModel.lastFocused,!0)},onAdd:function(d,c,b){var a=this;Ext.view.View.prototype.onAdd.apply(this,arguments);a.setPendingStripe(b);a.selModel.onLastFocusChanged(null,a.selModel.lastFocused,!0)},onRemove:function(d,c,a){var b=this;Ext.view.View.prototype.onRemove.apply(this,arguments);b.setPendingStripe(a)},setPendingStripe:function(b){var a=this.stripeOnUpdate;if(a===null){a=b}else {a=Math.min(a,b)}this.stripeOnUpdate=a},onEndUpdate:function(){var b=this,a=b.stripeOnUpdate;if(a||a===0){b.doStripeRows(a);b.stripeOnUpdate=null}Ext.view.View.prototype.onEndUpdate.apply(this,arguments)},doStripeRows:function(d,g){var a=this,e,f,c,b;if(a.rendered&&a.stripeRows){e=a.getNodes(d,g);for(c=0,f=e.length;c<f;c++){b=e[c];b.className=b.className.replace(a.rowClsRe,' ');d++;if(d%2===0){b.className+=' '+a.altRowCls}}}},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding('r')}},1,['tableview'],['component','box','dataview','tableview'],{'component':!0,'box':!0,'dataview':!0,'tableview':!0},['widget.tableview'],0,[Ext.view,'Table'],0);Ext.define('Ext.grid.plugin.BufferedRendererTableView',{override:'Ext.view.Table',onUpdate:function(e,b,d,c){var a=this;if(a.rendered&&a.throttledUpdate&&a.bufferedRenderer&&!a.getNode(b)){return}(arguments.callee.$previous||Ext.view.View.prototype.onUpdate).apply(this,arguments)},onReplace:function(f,e,d,c){var b=this,a=b.bufferedRenderer;if(b.rendered&&a){a.onReplace(f,e,d,c)}else {(arguments.callee.$previous||Ext.view.View.prototype.onReplace).apply(this,arguments)}},onAdd:function(d,b,c){var e=this,a=e.bufferedRenderer;if(e.rendered&&a){a.onReplace(d,c,[],b)}else {(arguments.callee.$previous||Ext.view.View.prototype.onAdd).call(this,d,b,c)}},onRemove:function(d,b,c,g,f){var e=this,a=e.bufferedRenderer;if(e.rendered&&a){a.onReplace(d,c,b,[])}else {(arguments.callee.$previous||Ext.view.View.prototype.onRemove).call(this,d,b,c)}},onDataRefresh:function(){var a=this;if(a.bufferedRenderer){a.all.clear();a.bufferedRenderer.onStoreClear()}(arguments.callee.$previous||Ext.view.View.prototype.onDataRefresh).call(this)},refreshScroll:function(){var b=this,a=b.bufferedRenderer;if(a&&b.touchScroll){a.stretchView(b,a.scrollHeight)}else {(arguments.callee.$previous||Ext.view.View.prototype.refreshScroll).call(this)}},getViewRange:function(){var a=this;if(a.bufferedRenderer){return a.bufferedRenderer.getViewRange()}return (arguments.callee.$previous||Ext.view.View.prototype.getViewRange).call(this)}});Ext.cmd.derive('Ext.grid.View',Ext.view.Table,{autoScroll:!0},0,['gridview'],['component','box','dataview','tableview','gridview'],{'component':!0,'box':!0,'dataview':!0,'tableview':!0,'gridview':!0},['widget.gridview'],0,[Ext.grid,'View'],0);Ext.cmd.derive('Ext.grid.Panel',Ext.panel.Table,{alternateClassName:['Ext.list.ListView','Ext.ListView','Ext.grid.GridPanel'],viewType:'gridview',lockable:!1,rowLines:!0},0,['grid','gridpanel'],['component','box','container','panel','tablepanel','gridpanel','grid'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tablepanel':!0,'gridpanel':!0,'grid':!0},['widget.grid','widget.gridpanel'],0,[Ext.grid,'Panel',Ext.list,'ListView',Ext,'ListView',Ext.grid,'GridPanel'],0);Ext.cmd.derive('Ext.tree.View',Ext.view.Table,{isTreeView:!0,loadingCls:'x-grid-tree-loading',expandedCls:'x-grid-tree-node-expanded',leafCls:'x-grid-tree-node-leaf',expanderSelector:'.x-tree-expander',checkboxSelector:'.x-tree-checkbox',expanderIconOverCls:'x-tree-expander-over',nodeAnimWrapCls:'x-tree-animator-wrap',ariaRole:'tree',loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:['expanded','loaded','checked','expandable','leaf','icon','iconCls','loading','qtip','qtitle'],treeRowTpl:['{%','this.processRowValues(values);','this.nextTpl.applyOut(values, out, parent);','%}',{priority:10,processRowValues:function(a){var b=a.record,c=a.view;a.rowAttr={};a.rowAttr['data-qtip']=b.get('qtip')||'';a.rowAttr['data-qtitle']=b.get('qtitle')||'';if(b.isExpanded()){a.rowClasses.push(c.expandedCls)}if(b.isLeaf()){a.rowClasses.push(c.leafCls)}if(b.isLoading()){a.rowClasses.push(c.loadingCls)}}}],initComponent:function(){var a=this;if(a.bufferedRenderer){a.animate=!1}else {if(a.initialConfig.animate===undefined){a.animate=Ext.enableFx}}a.store=a.panel.getStore();a.onRootChange(a.store.getRoot());a.animQueue={};a.animWraps={};Ext.view.Table.prototype.initComponent.apply(this,arguments);a.store.setRootVisible(a.rootVisible);a.addRowTpl(Ext.XTemplate.getTpl(a,'treeRowTpl'))},onFillComplete:function(f,d,b){var a=this,e=a.store,c=e.indexOf(b[0]);d.triggerUIUpdate();if(!b.length||c===-1){return}a.onAdd(a.store,b,c);a.refreshPartner()},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(a){if(a.isStore){this.store.resumeEvents();this.refresh();this.refreshPartner()}},refreshPartner:function(){var a=this.lockingPartner;if(a){a.refresh()}},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){var a=this;Ext.view.Table.prototype.afterRender.apply(this,arguments);a.el.on({scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut,click:{delegate:a.checkboxSelector,fn:a.onCheckboxChange,scope:a}})},afterComponentLayout:function(){var c=this,b=c.stretcher,a=c.scrollManager;Ext.view.Table.prototype.afterComponentLayout.apply(this,arguments);if(b){b.setWidth(this.getWidth()-Ext.getScrollbarSize().width)}if(a){a.refresh()}},processUIEvent:function(a){if(a.getTarget('.'+this.nodeAnimWrapCls,this.el)){return !1}return Ext.view.Table.prototype.processUIEvent.apply(this,arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(a){var b=this;b.store.setNode(a);b.node=a},onCheckboxChange:function(c,d){var a=this,b=c.getTarget(a.getItemSelector(),a.getTargetEl());if(b){a.onCheckChange(a.getRecord(b))}},onCheckChange:function(b){var a=b.get('checked');if(Ext.isBoolean(a)){a=!a;b.set('checked',a);this.fireEvent('checkchange',b,a)}},getChecked:function(){var a=[];this.node.cascadeBy(function(b){if(b.get('checked')){a.push(b)}});return a},isItemChecked:function(a){return a.get('checked')},createAnimWrap:function(b,e){var d=this,c=d.getNode(b),a;a=Ext.fly(c).insertSibling({role:'presentation',tag:'div',cls:d.nodeAnimWrapCls},'after');return {record:b,node:c,el:a,expanding:!1,collapsing:!1,animateEl:a,targetEl:a}},getAnimWrap:function(a,d){if(!this.animate){return null}var c=this.animWraps,b=c[a.internalId];if(d!==!1){while(!b&&a){a=a.parentNode;if(a){b=c[a.internalId]}}}return b},doAdd:function(j,h){var c=this,b=c.bufferRender(j,h,!0),k=j[0],g=k.parentNode,l=c.all,d,a=c.getAnimWrap(g),f,e,i;if(!a||!a.expanding){return Ext.view.Table.prototype.doAdd.apply(this,arguments)}g=a.record;f=a.targetEl;e=f.dom.childNodes;i=e.length;d=h-c.indexInStore(g)-1;if(!i||d>=i){f.appendChild(b,!0)}else {Ext.fly(e[d]).insertSibling(b,'before',!0)}l.insert(h,b);return b},onRemove:function(f,d,c){var b=this,e,a;if(b.viewReady){e=b.store.getCount()===0;if(e){b.refresh()}else {for(a=d.length-1,c+=a;a>=0;--a,--c){b.doRemove(d[a],c)}}if(b.hasListeners.itemremove){for(a=d.length-1,c+=a;a>=0;--a,--c){b.fireEvent('itemremove',d[a],c,b)}}}},doRemove:function(g,b){var f=this,e=f.all,a=f.getAnimWrap(g),c=e.item(b),d=c?c.dom:null;if(!d||!a||!a.collapsing){return Ext.view.Table.prototype.doRemove.apply(this,arguments)}a.targetEl.dom.insertBefore(d,a.targetEl.dom.firstChild);e.removeElement(b)},onBeforeExpand:function(c,d,e){var b=this,a;if(b.rendered&&b.all.getCount()&&b.animate){if(b.getNode(c)){a=b.getAnimWrap(c,!1);if(!a){a=b.animWraps[c.internalId]=b.createAnimWrap(c);a.animateEl.setHeight(0)}else {if(a.collapsing){a.targetEl.select(b.itemSelector).destroy()}}a.expanding=!0;a.collapsing=!1}}},onExpand:function(c){var a=this,h=a.animQueue,i=c.getId(),e=a.getNode(c),g=e?a.indexOf(e):-1,b,d,f;if(a.singleExpand){a.ensureSingleExpand(c)}if(g===-1){return}b=a.getAnimWrap(c,!1);if(!b){a.refreshSelection();c.isExpandingOrCollapsing=!1;a.fireEvent('afteritemexpand',c,g,e);a.refreshSize();return}d=b.animateEl;f=b.targetEl;d.stopAnimation();h[i]=!0;d.dom.style.height='0px';d.animate({from:{height:0},to:{height:f.dom.scrollHeight},duration:a.expandDuration,listeners:{afteranimate:function(){var d=f.dom.childNodes;if(d.length){b.el.insertSibling(d,'before',!0)}b.el.destroy();delete a.animWraps[b.record.internalId];delete h[i];if(!a.isDestroyed){a.refreshSize()}}},callback:function(){a.refreshSelection();c.isExpandingOrCollapsing=!1;a.fireEvent('afteritemexpand',c,g,e)}});b.isAnimating=!0},onBeforeCollapse:function(c,g,f,d,e){var b=this,a;if(b.rendered&&b.all.getCount()){if(b.animate){if(Ext.Array.contains(c.stores,b.store)){a=b.getAnimWrap(c);if(!a){a=b.animWraps[c.internalId]=b.createAnimWrap(c,f)}else {if(a.expanding){a.targetEl.select(this.itemSelector).destroy()}}a.expanding=!1;a.collapsing=!0;a.callback=d;a.scope=e}}else {b.onCollapseCallback=d;b.onCollapseScope=e}}},onCollapse:function(c){var a=this,g=a.animQueue,h=c.getId(),d=a.getNode(c),f=d?a.indexOf(d):-1,b=a.getAnimWrap(c),e;if(!a.all.getCount()||!Ext.Array.contains(c.stores,a.store)){return}if(!b){a.refreshSelection();c.isExpandingOrCollapsing=!1;a.fireEvent('afteritemcollapse',c,f,d);a.refreshSize();Ext.callback(a.onCollapseCallback,a.onCollapseScope);a.onCollapseCallback=a.onCollapseScope=null;return}e=b.animateEl;g[h]=!0;e.stopAnimation();e.animate({to:{height:0},duration:a.collapseDuration,listeners:{afteranimate:function(){b.el.destroy();delete a.animWraps[b.record.internalId];delete g[h];if(!a.isDestroyed){a.refreshSize()}}},callback:function(){a.refreshSelection();c.isExpandingOrCollapsing=!1;a.fireEvent('afteritemcollapse',c,f,d);Ext.callback(b.callback,b.scope);b.callback=b.scope=null}});b.isAnimating=!0},isAnimating:function(a){return !!this.animQueue[a.getId()]},expand:function(a,f,d,e){var g=this,b=!!g.animate,c;if(!b||!a.isExpandingOrCollapsing){if(!a.isLeaf()){a.isExpandingOrCollapsing=b}Ext.suspendLayouts();c=a.expand(f,d,e);Ext.resumeLayouts(!0);return c}},collapse:function(a,e,c,d){var f=this,b=!!f.animate;if(!b||!a.isExpandingOrCollapsing){if(!a.isLeaf()){a.isExpandingOrCollapsing=b}return a.collapse(e,c,d)}},toggle:function(a,d,b,c){if(a.isExpanded()){this.collapse(a,d,b,c)}else {this.expand(a,d,b,c)}},onItemDblClick:function(b,e,d){var a=this,c=a.editingPlugin;Ext.view.Table.prototype.onItemDblClick.apply(this,arguments);if(a.toggleOnDblClick&&b.isExpandable()&&!(c&&c.clicksToEdit===2)){a.focusRow(b);a.toggle(b)}},onBeforeItemMouseDown:function(c,a,d,b){if(b.getTarget(this.expanderSelector,a)){return !1}return Ext.view.Table.prototype.onBeforeItemMouseDown.apply(this,arguments)},onItemClick:function(a,c,d,b){if(b.getTarget(this.expanderSelector,c)&&a.isExpandable()){this.focusRow(a);this.toggle(a,b.ctrlKey);return !1}return Ext.view.Table.prototype.onItemClick.apply(this,arguments)},onExpanderMouseOver:function(a,b){a.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a,b){a.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var a=this,b=Ext.apply(Ext.view.Table.prototype.getStoreListeners.call(this),{rootchange:a.onRootChange,fillcomplete:a.onFillComplete});if(!this.getStore().remoteSort){Ext.apply(b,{beforesort:a.onBeforeSort,sort:a.onSort})}return b},onRootChange:function(b,c){var a=this;if(a.rootListeners){a.rootListeners.destroy()}if(b){a.rootListeners=b.on({beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,scope:a})}},ensureSingleExpand:function(b){var a=b.parentNode;if(a){a.eachChild(function(a){if(a!==b&&a.isExpanded()){a.collapse()}})}},shouldUpdateCell:function(e,d,a){if(a){var b=0,c=a.length;for(;b<c;++b){if(Ext.Array.contains(this.uiFields,a[b])){return !0}}}return Ext.view.Table.prototype.shouldUpdateCell.apply(this,arguments)}},0,['treeview'],['component','box','dataview','tableview','treeview'],{'component':!0,'box':!0,'dataview':!0,'tableview':!0,'treeview':!0},['widget.treeview'],0,[Ext.tree,'View'],0);Ext.define('Ext.grid.plugin.BufferedRendererTreeView',{override:'Ext.tree.View',onRemove:function(d,b,c,g,f){var e=this,a=e.bufferedRenderer;if(e.rendered&&a){a.onReplace(d,c,b,[])}else {(arguments.callee.$previous||Ext.view.Table.prototype.onRemove).call(this,d,b,c)}}});Ext.cmd.derive('Ext.selection.RowModel',Ext.selection.Model,{deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,isRowModel:!0,constructor:function(){this.views=[];Ext.selection.Model.prototype.constructor.apply(this,arguments)},bindComponent:function(b){var a=this;b.on({rowcontextmenu:a.onRowClick,rowclick:a.onRowClick,scope:a});if(a.enableKeyNav){a.initKeyNav(b)}},initKeyNav:function(b){var a=this;if(!b.rendered){b.on('render',Ext.Function.bind(a.initKeyNav,a,[b],0),a,{single:!0});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b,ignoreInputFields:!0,eventName:'itemkeydown',processEvent:function(f,c,e,d,a){a.record=c;a.recordIndex=d;return a},up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,pageDown:a.onKeyPageDown,pageUp:a.onKeyPageUp,home:a.onKeyHome,end:a.onKeyEnd,space:a.onKeySpace,enter:a.onKeyEnter,A:{ctrl:!0,handler:a.selectAll},scope:a})},onUpdate:function(b){var d=this,a=d.view,c;if(a&&d.isSelected(b)){c=a.indexOf(b);a.onRowSelect(c);if(b===d.lastFocused){a.onRowFocus(c,!0)}}},getRowsVisible:function(){var b=!1,e=this.views[0],d=e.all.first(),c,a;if(d){c=d.getHeight();a=e.el.getHeight();b=Math.floor(a/c)}return b},onKeyEnd:function(c){var b=this,a=b.views[0];if(a.bufferedRenderer){a.bufferedRenderer.scrollTo(b.store.getCount()-1,!1,function(d,a){b.afterKeyNavigate(c,a)})}else {b.afterKeyNavigate(c,a.walkRecs(c.record,a.dataSource.getCount()-1-a.dataSource.indexOf(c.record)))}},onKeyHome:function(b){var c=this,a=c.views[0];if(a.bufferedRenderer){a.bufferedRenderer.scrollTo(0,!1,function(d,a){c.afterKeyNavigate(b,a)})}else {c.afterKeyNavigate(b,a.walkRecs(b.record,-a.dataSource.indexOf(b.record)))}},onKeyPageUp:function(b){var a=this,d=a.views[0],c=a.getRowsVisible(),f,e;if(c){if(d.bufferedRenderer){f=Math.max(b.recordIndex-c,0);a.lastKeyEvent=b;d.bufferedRenderer.scrollTo(f,!1,a.afterBufferedScrollTo,a)}else {e=d.walkRecs(b.record,-c);a.afterKeyNavigate(b,e)}}},onKeyPageDown:function(b){var a=this,d=a.views[0],c=a.getRowsVisible(),f,e;if(c){if(d.bufferedRenderer){f=Math.min(b.recordIndex+c,a.store.getCount()-1);a.lastKeyEvent=b;d.bufferedRenderer.scrollTo(f,!1,a.afterBufferedScrollTo,a)}else {e=d.walkRecs(b.record,c);a.afterKeyNavigate(b,e)}}},onKeySpace:function(b){var a=b.record||this.lastFocused;if(a){this.afterKeyNavigate(b,a)}},onKeyEnter:Ext.emptyFn,onKeyUp:function(b){var a=this.views[0].walkRecs(b.record,-1);if(a){this.afterKeyNavigate(b,a)}},onKeyDown:function(a){var b=a.record.isExpandingOrCollapsing?null:this.views[0].walkRecs(a.record,1);if(b){this.afterKeyNavigate(a,b)}},afterBufferedScrollTo:function(b,a){this.afterKeyNavigate(this.lastKeyEvent,a)},scrollByDeltaX:function(c){var d=this.views[0],b=d.up(),a=b.horizontalScroller;if(a){a.scrollByDeltaX(c)}},onKeyLeft:function(a){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(a){this.scrollByDeltaX(this.deltaScroll)},onRowClick:function(e,b,f,c,a){var d=this;if(c!==-1){if(!d.allowRightMouseSelection(a)){return}if(!(a.type==='contextmenu'&&this.isSelected(b))){d.processSelection(e,b,f,c,a)}}},processSelection:function(e,a,d,c,b){this.selectWithEvent(a,b)},allowRightMouseSelection:function(b){var a=this.ignoreRightMouseSelection&&b.button!==0;if(a){a=this.hasSelection()}return !a},onSelectChange:function(c,f,b,j){var a=this,g=a.views,k=g.length,d=g[0].indexOf(c),i=f?'select':'deselect',e,h;if((b||a.fireEvent('before'+i,a,c,d))!==!1&&j()!==!1){for(e=0;e<k;e++){h=g[e];if(f){h.onRowSelect(d,b)}else {h.onRowDeselect(d,b)}a.publishSelection(f?c:null)}if(!b){a.fireEvent(i,a,c,d)}}},publishSelection:function(d){var a=this,e=a.selectionMode==='SINGLE',b=a.views[0].ownerGrid,c;if(a.setupPublish||e&&b.reference){if(!a.setupPublish){a.setupPublish=!0;c=b.getPublishes()||{};c.selection=1;b.setPublishes(c)}a.lastPublish=d;b.publishState('selection',d)}},onPrune:function(b){var a=this;if(a.lastPublish===b){a.publishSelection(null)}},onLastFocusChanged:function(e,d,g){var c=this.views,f=c.length,b,a=0;if(e){b=c[0].indexOf(e);if(b!==-1){for(;a<f;a++){c[a].onRowFocus(b,!1,!0)}}}if(d){b=c[0].indexOf(d);if(b!==-1){for(a=0;a<f;a++){c[a].onRowFocus(b,!0,g)}}}Ext.selection.Model.prototype.onLastFocusChanged.apply(this,arguments)},onEditorTab:function(b,f){var i=this,e=b.context.view,d=b.getActiveRecord(),h=b.getActiveColumn(),a=e.getPosition(d,h),g=f.shiftKey?'left':'right',c;do{c=a;a=e.walkCells(a,g,f,i.preventWrap);if(c&&c.isEqual(a)){return}}while(a&&(!a.columnHeader.getEditor(d)||!b.startEditByPosition(a)))},getCurrentPosition:function(){var a=this.selected.getAt(0);if(a){return (new Ext.grid.CellContext(this.view)).setPosition(this.store.indexOf(a),0)}},selectByPosition:function(a,c){var b=new Ext.grid.CellContext(this.view);b.setPosition(a.row,a.column);this.select(b.record,c)},selectNext:function(f,e){var a=this,h=a.store,d=a.getSelection(),g=d[d.length-1],c=a.views[0].indexOf(g)+1,b;if(c===h.getCount()||c===0){b=!1}else {a.doSelect(c,f,e);b=!0}return b},selectPrevious:function(e,d){var b=this,f=b.getSelection(),g=f[0],c=b.views[0].indexOf(g)-1,a;if(c<0){a=!1}else {b.doSelect(c,e,d);a=!0}return a},isRowSelected:function(a){return this.isSelected(a)},isCellSelected:function(c,a,b){return this.isSelected(a)}},1,0,0,0,['selection.rowmodel'],0,[Ext.selection,'RowModel'],0);Ext.cmd.derive('Ext.selection.TreeModel',Ext.selection.RowModel,{constructor:function(a){Ext.selection.RowModel.prototype.constructor.apply(this,arguments);if(this.pruneRemoved){this.pruneRemoved=!1;this.pruneRemovedNodes=!0}},bindStore:function(c,b){var a=this;Ext.selection.RowModel.prototype.bindStore.apply(this,arguments);if(a.pruneRemovedNodes){a.view.mon(a.treeStore,{remove:a.onNodeRemove,scope:a})}},onNodeRemove:function(c,b,a){if(!a){this.deselectDeletedRecords([b])}},onKeyRight:function(a,b){this.navExpand(a,b)},navExpand:function(d,e){var c=this,a=c.getLastFocused(),b=c.view;if(a){if(a.isExpanded()){c.onKeyDown(d,e)}else {if(a.isExpandable()){if(!b.isTreeView){b=b.lockingPartner}b.expand(a);if(a){c.onLastFocusChanged(null,a)}}}}},onKeyLeft:function(a,b){this.navCollapse(a,b)},navCollapse:function(e,f){var c=this,b=c.getLastFocused(),d=c.view,a;if(b){a=b.parentNode;if(b.isExpanded()){if(!d.isTreeView){d=d.lockingPartner}d.collapse(b);c.onLastFocusChanged(null,b)}else {if(a&&!a.isRoot()){if(e.shiftKey){c.selectRange(a,b,e.ctrlKey,'up');c.setLastFocused(a)}else {if(e.ctrlKey){c.setLastFocused(a)}else {c.select(a)}}}}this.onLastFocusChanged(null,b)}},onKeySpace:function(a,b){if(a.record.data.checked!=null){this.toggleCheck(a)}else {Ext.selection.RowModel.prototype.onKeySpace.apply(this,arguments)}},onKeyEnter:function(a,b){if(a.record.data.checked!=null){this.toggleCheck(a)}else {Ext.selection.RowModel.prototype.onKeyEnter.apply(this,arguments)}},toggleCheck:function(c){var a=this.view,b=this.getLastSelected();c.stopEvent();if(b){if(!a.isTreeView){a=a.lockingPartner}a.onCheckChange(b)}}},1,0,0,0,['selection.treemodel'],0,[Ext.selection,'TreeModel'],0);Ext.cmd.derive('Ext.grid.ColumnLayout',Ext.layout.container.HBox,{type:'gridcolumn',reserveOffset:!1,firstHeaderCls:'x-column-header-first',lastHeaderCls:'x-column-header-last',initLayout:function(){var a=this;if(a.scrollbarWidth===undefined){a.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}a.grid=a.owner.up('tablepanel');a.controllingGrid=a.owner.up('[scrollerOwner]');Ext.layout.container.HBox.prototype.initLayout.call(this)},beginLayout:function(e){var a=this,k=a.owner,l=a.controllingGrid,d=a.grid.view,h=a.getVisibleItems(),i=h.length,f=a.firstHeaderCls,g=a.lastHeaderCls,j=[f,g],b,c;if(!d.scrollFlags.y){a.scrollbarWidth=0}else {delete a.scrollbarWidth}for(b=0;b<i;b++){c=h[b];c.margin=null;c.removeCls(j);if(b===0){c.addCls(f)}if(b===i-1){c.addCls(g)}}a.scrollbarAdjustment=a.scrollbarWidth;Ext.layout.container.HBox.prototype.beginLayout.apply(this,arguments);if(!k.isColumn&&!l.collapsed&&d&&d.rendered&&(e.viewTable=d.body.dom)&&a.scrollbarWidth){e.viewContext=e.context.getCmp(d)}},injectViewContext:function(a,b){if(!this.controllingGrid.collapsed&&b.rendered&&(a.viewTable=b.body.dom)&&this.scrollbarWidth){a.viewContext=a.context.getCmp(b)}},roundFlex:function(a){return Math.floor(a)},calculate:function(a){var f=this,g=f.grid.view,e,h,b,c,d=!1;f.viewScrollX=g.getScrollX();Ext.layout.container.HBox.prototype.calculate.apply(this,arguments);if(a.state.parallelDone&&f.owner.isRootHeader){e=a.target.getVisibleGridColumns();h=e.length;for(b=0;b<h;b++){c=a.context.getItem(null,e[b].el);if(!c.lastBox||c.props.width!==c.lastBox.width){(d||(d=[])).push(b)}}a.setProp('columnsChanged',d)}if(a.viewContext&&!a.state.tableHeight){a.state.tableHeight=a.viewTable?a.viewTable.offsetHeight:g.all.sumHeights()}},completeLayout:function(a){var b=this,c=b.owner,d=a.state;Ext.layout.container.HBox.prototype.completeLayout.apply(this,arguments);if(a.viewTable&&!d.flexesCalculated&&!a.flexedItems.length&&c.forceFit&&b.convertWidthsToFlexes(a)){b.cacheFlexes(a);a.invalidate({state:{flexesCalculated:!0,tableHeight:a.viewTable.offsetHeight}})}else {delete a.props.columnChanged}},finishedLayout:function(b){var a=this.grid.getView();Ext.layout.container.HBox.prototype.finishedLayout.apply(this,arguments);if(this.viewScrollX&&!this.owner.isColumn&&a.scrollFlags.x&&this.owner.tooNarrow&&this.owner.componentLayoutCounter){this.owner.setScrollX(this.viewScrollX)}},convertWidthsToFlexes:function(d){var i=this,f=0,h=i.sizeModels.calculated,e,g,c,a,b;e=d.childItems;g=e.length;for(c=0;c<g;c++){a=e[c];b=a.target;f+=a.props.width;if(!(b.fixed||b.resizable===!1)){b.flex=d.childItems[c].flex=a.props.width;b.width=null;a.widthModel=h}}return f!==d.props.width},getContainerSize:function(c){var b=this,d,a=c.viewContext,f,e,g=a&&a.heightModel.shrinkWrap;if(b.owner.isColumn){d=b.getColumnContainerSize(c)}else {d=Ext.layout.container.HBox.prototype.getContainerSize.apply(this,arguments);if(b.scrollbarWidth&&!b.controllingGrid.reserveScrollbar&&a){e=a.target.componentLayout.ownerContext;if(!g&&a.target.scrollFlags.y&&(c.flexedItems&&c.flexedItems.length||b.owner.forceFit)&&e){f=a.getProp('height');if(isNaN(f)){b.done=!1}else {if(c.state.tableHeight<=f&&a.target.scrollFlags.y){c.state.parallelDone=!1;e.invalidate();return d}}}}}if(!g){d.width-=b.scrollbarWidth}return d},getColumnContainerSize:function(c){var h=c.paddingContext.getPaddingInfo(),e=0,d=0,g,f,b,a;if(!c.widthModel.shrinkWrap){++d;b=c.getProp('innerWidth');g=typeof b=='number';if(g){++e;b-=h.width;if(b<0){b=0}}}if(!c.heightModel.shrinkWrap){++d;a=c.getProp('innerHeight');f=typeof a=='number';if(f){++e;a-=h.height;if(a<0){a=0}}}return {width:b,height:a,needed:d,got:e,gotAll:e==d,gotWidth:g,gotHeight:f}},publishInnerCtSize:function(a){var e=this,b=e.owner,c=a.state.boxPlan.targetSize,d=a.peek('contentWidth');if(d!=null&&!b.isColumn){c.width=d;if(b.ownerCt.view.scrollFlags.y){c.width+=e.scrollbarAdjustment}}return Ext.layout.container.HBox.prototype.publishInnerCtSize.apply(this,arguments)}},0,0,0,0,['layout.gridcolumn'],0,[Ext.grid,'ColumnLayout'],0);Ext.cmd.derive('Ext.dd.DragTracker',Ext.Base,{active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(b){var a=this;Ext.apply(a,b);a.dragRegion=new Ext.util.Region(0,0,0,0);if(a.el){a.initEl(a.el)}a.mixins.observable.constructor.call(a);if(a.disabled){a.disable()}},initEl:function(c){var a=this,c=a.el=Ext.get(c),b=a.delegate;if(b){a.handle=b.isElement?b:c.selectNode(b,!1)}a.delegate=a.handle?undefined:a.delegate;if(!a.handle){a.handle=c}a.handleListeners={scope:a,delegate:a.delegate,mousedown:a.onMouseDown,dragstart:a.onDragStart};if(!Ext.supports.TouchEvents&&(a.trackOver||a.overCls)){Ext.apply(a.handleListeners,{mouseover:a.onMouseOver,mouseout:a.onMouseOut})}a.mon(a.handle,a.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var a=this;a.endDrag({});a.clearListeners();a.el=a.handle=null},onMouseOver:function(b,c){var a=this;if(!a.disabled){if(b.within(b.target,!0,!0)||a.delegate){a.mouseIsOut=!1;if(a.overCls){a.el.addCls(a.overCls)}a.fireEvent('mouseover',a,b,a.delegate?b.getTarget(a.delegate,c):a.handle)}}},onMouseOut:function(b){var a=this;if(a.mouseIsDown){a.mouseIsOut=!0}else {if(a.overCls){a.el.removeCls(a.overCls)}a.fireEvent('mouseout',a,b)}},onMouseDown:function(b,c){var a=this;if(a.disabled||b.dragTracked){return}a.dragTarget=a.delegate?c:a.handle.dom;a.startXY=a.lastXY=b.getXY();a.startRegion=Ext.fly(a.dragTarget).getRegion();if(a.fireEvent('mousedown',a,b)===!1||a.fireEvent('beforedragstart',a,b)===!1||a.onBeforeStart(b)===!1){return}a.mouseIsDown=!0;b.dragTracked=!0;a.el.setCapture();b.stopPropagation();if(a.preventDefault!==!1){b.preventDefault()}Ext.getDoc().on({scope:a,capture:!0,mouseup:a.onMouseUp,mousemove:a.onMouseMove,selectstart:a.stopSelect});a.dragEnded=!1;if(!a.tolerance){a.triggerStart()}else {if(a.autoStart){a.timer=Ext.defer(a.triggerStart,a.autoStart===!0?1000:a.autoStart,a,[b])}}},onMouseMove:function(b,e){var a=this,c=b.getXY(),d=a.startXY;b.stopPropagation();if(a.preventDefault!==!1){b.preventDefault()}if(a.dragEnded){return}a.lastXY=c;if(!a.active){if(Math.max(Math.abs(d[0]-c[0]),Math.abs(d[1]-c[1]))>a.tolerance){a.triggerStart(b)}else {return}}if(a.fireEvent('mousemove',a,b)===!1){a.onMouseUp(b)}else {a.onDrag(b);a.fireEvent('drag',a,b)}},onMouseUp:function(b){var a=this;a.mouseIsDown=!1;if(a.mouseIsOut){a.mouseIsOut=!1;a.onMouseOut(b)}if(a.preventDefault!==!1){b.preventDefault()}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}a.fireEvent('mouseup',a,b);a.endDrag(b)},endDrag:function(b){var a=this,c=a.active;Ext.getDoc().un({mousemove:a.onMouseMove,mouseup:a.onMouseUp,selectstart:a.stopSelect,capture:!0,scope:a});a.clearStart();a.active=!1;if(c){a.dragEnded=!0;a.onEnd(b);a.fireEvent('dragend',a,b)}a._constrainRegion=null},triggerStart:function(b){var a=this;a.clearStart();a.active=!0;a.onStart(b);a.fireEvent('dragstart',a,b)},clearStart:function(){var a=this.timer;if(a){clearTimeout(a);this.timer=null}},stopSelect:function(a){a.stopEvent();return !1},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region){return a.constrainTo}if(!a._constrainRegion){a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion()}}else {if(!a._constrainRegion){a._constrainRegion=a.getDragCt().getViewRegion()}}return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(c){var a=this.getXY(c),b=this.startXY;return [a[0]-b[0],a[1]-b[1]]},onDragStart:function(a){a.stopPropagation()},constrainModes:{point:function(d,b){var a=d.dragRegion,c=d.getConstrainRegion();if(!c){return b}a.x=a.left=a[0]=a.right=b[0];a.y=a.top=a[1]=a.bottom=b[1];a.constrainTo(c);return [a.left,a.top]},dragTarget:function(e,c){var f=e.startXY,a=e.startRegion.copy(),b=e.getConstrainRegion(),d;if(!b){return c}a.translateBy(c[0]-f[0],c[1]-f[1]);if(a.right>b.right){c[0]+=d=b.right-a.right;a.left+=d}if(a.left<b.left){c[0]+=b.left-a.left}if(a.bottom>b.bottom){c[1]+=d=b.bottom-a.bottom;a.top+=d}if(a.top<b.top){c[1]+=b.top-a.top}return c}}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.dd,'DragTracker'],0);Ext.cmd.derive('Ext.grid.plugin.HeaderResizer',Ext.AbstractPlugin,{disabled:!1,config:{dynamic:!1},colHeaderCls:'x-column-header',maxColWidth:1000,eResizeCursor:'col-resize',init:function(b){var a=this;a.headerCt=b;b.on('render',a.afterHeaderRender,a,{single:a});if(!a.minColWidth){a.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth}},destroy:function(){var a=this.tracker;if(a){delete a.onBeforeStart;delete a.onStart;delete a.onDrag;delete a.onEnd;a.destroy();this.tracker=null}},afterHeaderRender:function(){var a=this,b=this.headerCt,c=b.el;b.mon(c,'mousemove',this.onHeaderCtMouseMove,this);a.markerOwner=a.ownerGrid=a.headerCt.up('tablepanel');if(a.markerOwner.ownerLockable){a.markerOwner=a.markerOwner.ownerLockable}a.tracker=new Ext.dd.DragTracker({disabled:a.disabled,onBeforeStart:a.onBeforeStart.bind(a),onStart:a.onStart.bind(a),onDrag:a.onDrag.bind(a),onEnd:a.onEnd.bind(a),tolerance:3,autoStart:300,el:c})},onHeaderCtMouseMove:function(b){var a=this;if(a.headerCt.dragging||a.disabled){if(a.activeHd){a.activeHd.el.dom.style.cursor='';delete a.activeHd}}else {a.findActiveHeader(b)}},findActiveHeader:function(e){var b=this,f=e.getTarget('.'+b.colHeaderCls,3,!0),c,a,d;if(f){c=Ext.getCmp(f.id);if(c.isOnRightEdge(e)){if(b.headerCt.visibleColumnManager.getColumns().length===1&&b.headerCt.forceFit){return}a=c}else {if(c.isOnLeftEdge(e)){d=b.headerCt.visibleColumnManager.getColumns();a=d[Ext.Array.indexOf(d,c)-1];if(!a&&b.ownerGrid.ownerLockable&&!b.ownerGrid.isLocked){d=b.ownerGrid.ownerLockable.lockedGrid.headerCt.visibleColumnManager.getColumns();a=d[d.length-1]}}}if(a){if(a.isGroupHeader){d=a.getGridColumns();a=d[d.length-1]}if(a&&!(a.fixed||a.resizable===!1)){b.activeHd=a;c.el.dom.style.cursor=b.eResizeCursor;if(c.triggerEl){c.triggerEl.dom.style.cursor=b.eResizeCursor}}}else {c.el.dom.style.cursor='';if(c.triggerEl){c.triggerEl.dom.style.cursor=''}b.activeHd=null}}return b.activeHd},onBeforeStart:function(b){var a=this;a.dragHd=Ext.supports.Touch?a.findActiveHeader(b):a.activeHd;if(!!a.dragHd&&!a.headerCt.dragging){a.xDelta=a.dragHd.getX()+a.dragHd.getWidth()-a.tracker.getXY()[0];a.tracker.constrainTo=a.getConstrainRegion();return !0}else {a.headerCt.dragging=!1;return !1}},getConstrainRegion:function(){var a=this,e=a.dragHd.el,b=0,c,d,f=a.headerCt.getWidth()-a.headerCt.visibleColumnManager.getColumns().length*a.minColWidth;if(a.headerCt.forceFit){c=a.dragHd.nextNode('gridcolumn:not([hidden]):not([isGroupHeader])');if(c&&a.headerInSameGrid(c)){b=c.getWidth()-a.minColWidth}}else {if((d=a.dragHd.up('tablepanel')).isLocked){b=a.dragHd.up('[scrollerOwner]').getTargetEl().getWidth()-d.getWidth()-(d.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*a.minColWidth+Ext.getScrollbarSize().width)}else {b=f-e.getWidth()}}return a.adjustConstrainRegion(e.getRegion(),0,b-a.xDelta,0,a.minColWidth-a.xDelta)},onStart:function(k){var b=this,i=b.dragHd,j=i.el.getWidth(),h=i.getOwnerHeaderCt(),f,g,a,c,d,e;b.headerCt.dragging=!0;b.origWidth=j;if(!b.dynamic){a=b.markerOwner;if(a.frame&&a.resizable){b.gridOverflowSetting=a.el.dom.style.overflow;a.el.dom.style.overflow='hidden'}f=b.getLeftMarkerX(a);c=a.getLhsMarker();d=a.getRhsMarker();e=b.ownerGrid.body.getHeight()+h.getHeight();g=h.getOffsetsTo(a)[1]-a.el.getBorderWidth('t');c.setLocalY(g);d.setLocalY(g);c.setHeight(e);d.setHeight(e);b.setMarkerX(c,f);b.setMarkerX(d,f+j)}},onDrag:function(b){var a=this;if(a.dynamic){a.doResize()}else {a.setMarkerX(a.getMovingMarker(a.markerOwner),a.calculateDragX(a.markerOwner))}},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(b){this.headerCt.dragging=!1;if(this.dragHd){if(!this.dynamic){var a=this.headerCt.up('tablepanel');if(a.ownerLockable){a=a.ownerLockable}if('gridOverflowSetting' in this){a.el.dom.style.overflow=this.gridOverflowSetting}this.setMarkerX(a.getLhsMarker(),-9999);this.setMarkerX(a.getRhsMarker(),-9999)}this.doResize()}this.onHeaderCtMouseMove(b)},doResize:function(){var b=this,c=b.dragHd,a,d=b.tracker.getOffset('point');if(c&&d[0]){if(c.flex){delete c.flex}Ext.suspendLayouts();b.adjustColumnWidth(d[0]);if(b.headerCt.forceFit){a=c.nextNode('gridcolumn:not([hidden]):not([isGroupHeader])');if(a&&!b.headerInSameGrid(a)){a=null}if(a){delete a.flex;a.setWidth(a.getWidth()-d[0])}}Ext.resumeLayouts(!0)}},headerInSameGrid:function(a){var b=this.dragHd.up('tablepanel');return !!a.up(b)},disable:function(){this.disabled=!0;if(this.tracker){this.tracker.disable()}},enable:function(){this.disabled=!1;if(this.tracker){this.tracker.enable()}},calculateDragX:function(a){return this.tracker.getXY('point')[0]+this.xDelta-a.getX()-a.el.getBorderWidth('l')},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth('l')-1},setMarkerX:function(a,b){a.setLocalX(b)},adjustConstrainRegion:function(a,e,d,b,c){return a.adjust(e,d,b,c)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+a)}},0,0,0,0,['plugin.gridheaderresizer'],0,[Ext.grid.plugin,'HeaderResizer'],0);Ext.cmd.derive('Ext.dd.DragZone',Ext.dd.DragSource,{constructor:function(a,d){var c=this,b=c.containerScroll;Ext.dd.DragSource.prototype.constructor.call(this,a,d);if(b){a=c.scrollEl||a;a=Ext.get(a);if(Ext.isObject(b)){a.ddScrollConfig=b}Ext.dd.ScrollManager.register(a)}},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(!0));this.onStartDrag(a,b);return !0},getRepairXY:function(a){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){Ext.dd.DragSource.prototype.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}},1,0,0,0,0,0,[Ext.dd,'DragZone'],0);Ext.cmd.derive('Ext.grid.header.DragZone',Ext.dd.DragZone,{colHeaderSelector:'.x-column-header',colInnerSelector:'.x-column-header-inner',maxProxyWidth:120,constructor:function(b){var a=this;a.headerCt=b;a.ddGroup=a.getDDGroup();a.autoGroup=!0;Ext.dd.DragZone.prototype.constructor.call(this,b.el);a.proxy.el.addCls('x-grid-col-dd')},getDDGroup:function(){return 'header-dd-zone-'+this.headerCt.up('[scrollerOwner]').id},getDragData:function(c){if(c.getTarget(this.colInnerSelector)){var d=c.getTarget(this.colHeaderSelector),a,b;if(d){a=Ext.getCmp(d.id);if(!this.headerCt.dragging&&a.draggable&&!(a.isOnLeftEdge(c)||a.isOnRightEdge(c))){b=document.createElement('div');b.role='presentation';b.innerHTML=Ext.getCmp(d.id).text;return {ddel:b,header:a}}}}return !1},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0;this.headerCt.hideMenu();Ext.dd.DragZone.prototype.onInitDrag.apply(this,arguments)},onDragDrop:function(){this.headerCt.dragging=!1;Ext.dd.DragZone.prototype.onDragDrop.apply(this,arguments)},afterRepair:function(){Ext.dd.DragZone.prototype.afterRepair.call(this);this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}},1,0,0,0,0,0,[Ext.grid.header,'DragZone'],0);Ext.cmd.derive('Ext.dd.DDTarget',Ext.dd.DragDrop,{constructor:function(a,c,b){if(a){this.initTarget(a,c,b)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return 'DDTarget '+this.id}},3,0,0,0,0,0,[Ext.dd,'DDTarget'],0);Ext.cmd.derive('Ext.dd.ScrollManager',Ext.Base,{singleton:!0,constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(b){var a=Ext.dd.ScrollManager;a.dragEl=null;a.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){if(this.ddmInstance.dragCurrent){var b=this.proc,c=b.el,a=b.el.ddScrollConfig,d=a&&a.increment?a.increment:this.increment,e=a&&'animate' in a?a.animate:this.animate;if(!e){if(c.scroll(b.dir,d)){this.triggerRefresh()}}else {c.scroll(b.dir,d,!0,this.animDuration,this.triggerRefresh)}}},clearProc:function(){var a=this.proc;if(a.id){clearInterval(a.id)}a.id=0;a.el=null;a.dir=''},startProc:function(a,d){this.clearProc();this.proc.el=a;this.proc.dir=d;var b=a.ddScrollConfig?a.ddScrollConfig.ddGroup:undefined,c=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:this.frequency;if(b===undefined||this.ddmInstance.dragCurrent.ddGroup==b){this.proc.id=setInterval(this.doScroll,c)}},onFire:function(i,h){if(h||!this.ddmInstance.dragCurrent){return}if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}var c=i.getPoint(),e=this.proc,f=this.els,g,a,b,d;for(g in f){a=f[g];b=a._region;d=a.ddScrollConfig?a.ddScrollConfig:this;if(b&&b.contains(c)&&a.isScrollable()){if(b.bottom-c.y<=d.vthresh){if(e.el!=a){this.startProc(a,'down')}return}else {if(b.right-c.x<=d.hthresh){if(e.el!=a){this.startProc(a,'right')}return}else {if(c.y-b.top<=d.vthresh){if(e.el!=a){this.startProc(a,'up')}return}else {if(c.x-b.left<=d.hthresh){if(e.el!=a){this.startProc(a,'left')}return}}}}}}this.clearProc()},register:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.register(a[b])}}else {a=Ext.get(a);this.els[a.id]=a}},unregister:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.unregister(a[b])}}else {a=Ext.get(a);delete this.els[a.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var a=this.els,b;for(b in a){if(typeof a[b]=='object'){a[b]._region=a[b].getRegion()}}}},1,0,0,0,0,0,[Ext.dd,'ScrollManager'],0);Ext.cmd.derive('Ext.dd.DropTarget',Ext.dd.DDTarget,{constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DDTarget.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:!0})},dropAllowed:'x-dd-drop-ok',dropNotAllowed:'x-dd-drop-nodrop',isTarget:!0,isNotifyTarget:!0,notifyEnter:function(b,c,a){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(b,c,a){return this.dropAllowed},notifyOut:function(b,c,a){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(b,c,a){if(this.overClass){this.el.removeCls(this.overClass)}return !1},destroy:function(){Ext.dd.DDTarget.prototype.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}},1,0,0,0,0,0,[Ext.dd,'DropTarget'],0);Ext.cmd.derive('Ext.dd.Registry',Ext.Base,{singleton:!0,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(a,c){if(typeof a=='string'){return a}var b=a.id;if(!b&&c!==!1){b='extdd-'+ ++this.autoIdSeed;a.id=b}return b},register:function(b,a){a=a||{};if(typeof b=='string'){b=document.getElementById(b)}a.ddel=b;this.elements[this.getId(b)]=a;if(a.isHandle!==!1){this.handles[a.ddel.id]=a}if(a.handles){var e=a.handles,c,d;for(c=0,d=e.length;c<d;c++){this.handles[this.getId(e[c])]=a}}},unregister:function(f){var e=this.getId(f,!1),b=this.elements[e],c,a,d;if(b){delete this.elements[e];if(b.handles){c=b.handles;for(a=0,d=c.length;a<d;a++){delete this.handles[this.getId(c[a],!1)]}}}},getHandle:function(a){if(typeof a!='string'){a=a.id}return this.handles[a]},getHandleFromEvent:function(b){var a=b.getTarget();return a?this.handles[a.id]:null},getTarget:function(a){if(typeof a!='string'){a=a.id}return this.elements[a]},getTargetFromEvent:function(b){var a=b.getTarget();return a?this.elements[a.id]||this.handles[a.id]:null}},1,0,0,0,0,0,[Ext.dd,'Registry'],0);Ext.cmd.derive('Ext.dd.DropZone',Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(d,b,c,a){},onNodeOver:function(d,b,c,a){return this.dropAllowed},onNodeOut:function(d,b,c,a){},onNodeDrop:function(d,b,c,a){return !1},onContainerOver:function(b,c,a){return this.dropNotAllowed},onContainerDrop:function(b,c,a){return !1},notifyEnter:function(b,c,a){return this.dropNotAllowed},notifyOver:function(c,a,b){var d=this.getTargetFromEvent(a);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,c,a,b);this.lastOverNode=null}return this.onContainerOver(c,a,b)}if(this.lastOverNode!=d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,c,a,b)}this.onNodeEnter(d,c,a,b);this.lastOverNode=d}return this.onNodeOver(d,c,a,b)},notifyOut:function(b,c,a){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,c,a);this.lastOverNode=null}},notifyDrop:function(d,b,c){var a=this,e=a.getTargetFromEvent(b),f=e?a.onNodeDrop(e,d,b,c):a.onContainerDrop(d,b,c);if(a.lastOverNode){a.onNodeOut(a.lastOverNode,d,b,c);a.lastOverNode=null}return f},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,'DropZone'],0);Ext.cmd.derive('Ext.grid.header.DropZone',Ext.dd.DropZone,{colHeaderCls:'x-column-header',proxyOffsets:[-4,-9],constructor:function(b){var a=this;a.headerCt=b;a.ddGroup=a.getDDGroup();a.autoGroup=!0;Ext.dd.DropZone.prototype.constructor.call(this,b.el)},destroy:function(){Ext.dd.DropZone.prototype.destroy.call(this);Ext.destroy(this.topIndicator,this.bottomIndicator)},getDDGroup:function(){return 'header-dd-zone-'+this.headerCt.up('[scrollerOwner]').id},getTargetFromEvent:function(a){return a.getTarget('.'+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=Ext.DomHelper.append(Ext.getBody(),{role:'presentation',cls:'col-move-top',html:'&#160;'},!0);this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{role:'presentation',cls:'col-move-bottom',html:'&#160;'},!0)}return this.bottomIndicator},getLocation:function(d,c){var e=d.getXY()[0],a=Ext.fly(c).getRegion(),b;if(a.right-e<=(a.right-a.left)/2){b='after'}else {b='before'}return {pos:b,header:Ext.getCmp(c.id),node:c}},positionIndicator:function(t,v,w){var a=this,f=t.header,n=a.getLocation(w,v),b=n.header,c=n.pos,r,s,e,d,o,m,j,h,g,q,p,l,u,k,i;if(b===a.lastTargetHeader&&c===a.lastDropPos){return}r=f.nextSibling('gridcolumn:not([hidden])');s=f.previousSibling('gridcolumn:not([hidden])');a.lastTargetHeader=b;a.lastDropPos=c;if(!b.draggable&&c==='before'&&b.getIndex()===0){return !1}t.dropLocation=n;if(f!==b&&(c==='before'&&r!==b||c==='after'&&s!==b)&&!b.isDescendantOf(f)){l=Ext.dd.DragDropManager.getRelated(a);u=l.length;k=0;for(;k<u;k++){i=l[k];if(i!==a&&i.invalidateDrop){i.invalidateDrop()}}a.valid=!0;e=a.getTopIndicator();d=a.getBottomIndicator();if(c==='before'){o='bc-tl';m='tc-bl'}else {o='bc-tr';m='tc-br'}j=e.getAlignToXY(b.el,o);h=d.getAlignToXY(b.el,m);g=a.headerCt.el;q=g.getX()-a.indicatorXOffset;p=g.getX()+g.getWidth();j[0]=Ext.Number.constrain(j[0],q,p);h[0]=Ext.Number.constrain(h[0],q,p);e.setXY(j);d.setXY(h);e.show();d.show()}else {a.invalidateDrop()}},invalidateDrop:function(){this.valid=!1;this.hideIndicators()},onNodeOver:function(h,j,i,a){var c=this,d=a.header,b,g,e,f;if(a.header.el.dom===h){b=!1}else {a.isLock=a.isUnlock=a.crossPanel=!1;g=c.getLocation(i,h).header;b=d.ownerCt===g.ownerCt;if(!b&&(!d.ownerCt.sealed&&!g.ownerCt.sealed)){b=!0;e=d.up('tablepanel');f=g.up('tablepanel');if(e!==f){a.crossPanel=!0;a.isLock=f.isLocked&&!e.isLocked;a.isUnlock=!f.isLocked&&e.isLocked;if(a.isUnlock&&d.lockable===!1||a.isLock&&!d.isLockable()){b=!1}}}}if(b){c.positionIndicator(a,h,i)}else {c.valid=!1}return c.valid?c.dropAllowed:c.dropNotAllowed},hideIndicators:function(){var a=this;a.getTopIndicator().hide();a.getBottomIndicator().hide();a.lastTargetHeader=a.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(r,q,s,e){if(this.valid){var a=e.header,m=e.dropLocation,f=m.header,d=a.ownerCt,b=f.ownerCt,h=d===b,i=d.items.indexOf(e.header),c=b.items.indexOf(f),k=this.headerCt,p=k.visibleColumnManager,l=p.getHeaderIndex(a),j=p.getHeaderIndex(f),n=a.isGroupHeader?a.query(':not([hidden]):not([isGroupHeader])').length:1,g,o;if(m.pos==='after'){c++;j+=f.isGroupHeader?f.query(':not([hidden]):not([isGroupHeader])').length:1}if(e.isLock){g=d.up('[scrollerOwner]');g.lock(a,c,b)}else {if(e.isUnlock){g=d.up('[scrollerOwner]');g.unlock(a,c,b)}else {this.invalidateDrop();o=a.getWidth();if(h){if(c>i){c-=1}if(c===i){k.onHeaderMoved(a,n,l,j);return}}Ext.suspendLayouts();if(h){b.move(i,c)}else {d.isDDMoveInGrid=b.isDDMoveInGrid=!e.crossPanel;d.remove(a,!1);b.insert(c,a);d.isDDMoveInGrid=b.isDDMoveInGrid=!1}if(b.isGroupHeader){if(!h){a.savedFlex=a.flex;delete a.flex;a.width=o}}else {if(a.savedFlex){a.flex=a.savedFlex;delete a.width}}Ext.resumeLayouts(!0);if(!h){k.onHeaderMoved(a,n,l,j)}}}}}},1,0,0,0,0,0,[Ext.grid.header,'DropZone'],0);Ext.cmd.derive('Ext.grid.plugin.HeaderReorderer',Ext.AbstractPlugin,{init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt);a.dropZone=new Ext.grid.header.DropZone(a.headerCt);if(a.disabled){a.dragZone.disable()}},enable:function(){this.disabled=!1;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=!0;if(this.dragZone){this.dragZone.disable()}}},0,0,0,0,['plugin.gridheaderreorderer'],0,[Ext.grid.plugin,'HeaderReorderer'],0);Ext.cmd.derive('Ext.grid.header.Container',Ext.container.Container,{border:!0,baseCls:'x-grid-header-ct',dock:'top',weight:100,defaultType:'gridcolumn',detachOnRemove:!1,defaultWidth:100,sortAscText:'Sort Ascending',sortDescText:'Sort Descending',sortClearText:'Clear Sort',columnsText:'Columns',headerOpenCls:'x-column-header-open',menuSortAscCls:'x-hmenu-sort-asc',menuSortDescCls:'x-hmenu-sort-desc',menuColsIcon:'x-cols-icon',ddLock:!1,dragging:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){var a=this;a.headerCounter=0;a.plugins=a.plugins||[];a.defaults=a.defaults||{};if(!a.isColumn){if(a.enableColumnResize){a.resizer=new Ext.grid.plugin.HeaderResizer();a.plugins.push(a.resizer)}if(a.enableColumnMove){a.reorderer=new Ext.grid.plugin.HeaderReorderer();a.plugins.push(a.reorderer)}}if(a.isColumn&&!a.isGroupHeader){if(!a.items||a.items.length===0){a.isContainer=!1;a.layout={type:'container',calculate:Ext.emptyFn}}}else {a.layout=Ext.apply({type:'gridcolumn',align:'stretch'},a.initialConfig.layout);a.defaults.columnLines=a.columnLines;if(!a.isGroupHeader){a.isRootHeader=!0;a.columnManager=new Ext.grid.ColumnManager(!1,a);a.visibleColumnManager=new Ext.grid.ColumnManager(!0,a);if(a.grid){a.grid.columnManager=a.columnManager;a.grid.visibleColumnManager=a.visibleColumnManager}}else {a.visibleColumnManager=new Ext.grid.ColumnManager(!0,a);a.columnManager=new Ext.grid.ColumnManager(!1,a)}}a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a);Ext.container.Container.prototype.initComponent.call(this)},initEvents:function(){var a=this,b=a.onHeaderCtEvent,c={click:b,dblclick:b,contextmenu:b,mouseover:a.onHeaderCtMouseOver,mouseout:a.onHeaderCtMouseOut,scope:a};if(Ext.supports.Touch){c.longpress=a.onHeaderCtLongPress}Ext.container.Container.prototype.initEvents.call(this);if(!a.isColumn&&!a.isGroupHeader){a.mon(a.el,c)}},onHeaderCtEvent:function(a,g){var c=this,f=c.getHeaderElByEvent(a),b,e,d;if(c.longPressFired){c.longPressFired=!1;return}if(f&&!c.ddLock){b=Ext.getCmp(f.id);if(b){e=b[b.clickTargetName];if(a.within(e)){if(a.type==='click'||a.type==='tap'){d=b.onTitleElClick(a,e);if(d){c.onHeaderTriggerClick(d,a,Ext.supports.Touch?d.el:d.triggerEl)}else {c.onHeaderClick(b,a,g)}}else {if(a.type==='contextmenu'){c.onHeaderContextMenu(b,a,g)}else {if(a.type==='dblclick'&&b.resizable){b.onTitleElDblClick(a,e.dom)}}}}}}},onHeaderCtMouseOver:function(b,e){var c,a,d;if(!b.within(this.el,!0)){c=b.getTarget('.'+Ext.grid.column.Column.prototype.baseCls);a=c&&Ext.getCmp(c.id);if(a){d=a[a.clickTargetName];if(b.within(d)){a.onTitleMouseOver(b,d.dom)}}}},onHeaderCtMouseOut:function(c,g){var f='.'+Ext.grid.column.Column.prototype.baseCls,d=c.getTarget(f),e=c.getRelatedTarget(f),a,b;if(d!==e){if(d){a=Ext.getCmp(d.id);if(a){b=a[a.clickTargetName];a.onTitleMouseOut(c,b.dom)}}if(e){a=Ext.getCmp(e.id);if(a){b=a[a.clickTargetName];a.onTitleMouseOver(c,b.dom)}}}},onHeaderCtLongPress:function(d){var a=this,b=a.getHeaderElByEvent(d),c=Ext.getCmp(b.id);a.longPressFired=!0;a.showMenuBy(b,c)},getHeaderElByEvent:function(a){return a.getTarget('.'+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){if(this.hiddenHeaders){return !1}return Ext.container.Container.prototype.isLayoutRoot.call(this)},getOwnerHeaderCt:function(){var a=this;return a.isRootHeader?a:a.up('[isRootHeader]')},onDestroy:function(){var a=this;if(a.menu){a.menu.un('hide',a.onMenuHide,a)}a.menuTask.cancel();Ext.container.Container.prototype.onDestroy.call(this);Ext.destroy(a.visibleColumnManager,a.columnManager,a.menu);a.columnManager=a.visibleColumnManager=null},applyColumnsState:function(c){if(!c||!c.length){return}var i=this,g=i.items.items,k=g.length,f=0,j=c.length,d,b,e,a,h=!1;for(d=0;d<j;d++){e=c[d];for(a=k;a--;){b=g[a];if(b.getStateId&&b.getStateId()==e.id){if(f!==a){this.items.insert(f,this.items.getAt(a));h=!0}if(b.applyColumnState){b.applyColumnState(e)}++f;break}}}if(h){i.purgeCache()}},getColumnsState:function(){var c=this,b=[],a;c.items.each(function(c){a=c.getColumnState&&c.getColumnState();if(a){b.push(a)}});return b},onAdd:function(a){var b=this;if(!a.headerId){a.headerId=a.initialConfig.id||Ext.id(null,'header-')}if(a.sortable===undefined){a.sortable=b.sortable}if(!a.getStateId()){a.stateId=a.initialConfig.id||'h'+ ++b.headerCounter}Ext.container.Container.prototype.onAdd.apply(this,arguments);b.onHeadersChanged(a,b.isDDMoveInGrid)},move:function(c,d){var b=this,a=b.items.items[c];a.visibleFromIdx=b.getOwnerHeaderCt().visibleColumnManager.indexOf(a);Ext.container.Container.prototype.move.apply(this,arguments)},onMove:function(a,g,h){var e=this,d=e.getOwnerHeaderCt(),f=d.visibleColumnManager,c=1,b;e.onHeadersChanged(a,!0);b=f.indexOf(a);if(b>=a.visibleFromIdx){b++}Ext.container.Container.prototype.onMove.apply(this,arguments);if(a.isGroupHeader){c=a.visibleColumnManager.getColumns().length}d.onHeaderMoved(a,c,a.visibleFromIdx,b)},onRemove:function(b){var a=this,c=a.ownerCt;Ext.container.Container.prototype.onRemove.apply(this,arguments);if(!a.destroying){if(!a.isDDMoveInGrid){a.onHeadersChanged(b,!1)}if(a.isGroupHeader&&!a.items.getCount()&&c){if(b.rendered){a.detachComponent(b)}Ext.suspendLayouts();c.remove(a);Ext.resumeLayouts(!0)}}},onHeadersChanged:function(c,d){var b,a=this.getOwnerHeaderCt();this.purgeHeaderCtCache(this);if(a){a.onColumnsChanged();if(!c.isGroupHeader){b=a.ownerCt;if(b&&!d){b.onHeadersChanged(a,c)}}}},onHeaderMoved:function(d,f,c,e){var a=this,b=a.ownerCt;if(a.rendered){if(b&&b.onHeaderMove){b.onHeaderMove(a,d,f,c,e)}a.fireEvent('columnmove',a,d,c,e)}},onColumnsChanged:function(){var a=this,b=a.menu,c,d;if(a.rendered){a.fireEvent('columnschanged',a);if(b&&(c=b.child('#columnItemSeparator'))){d=b.child('#columnItem');c.destroy();d.destroy()}}},lookupComponent:function(b){var a=Ext.container.Container.prototype.lookupComponent.apply(this,arguments);if(!a.isGroupHeader&&a.width===undefined&&!a.flex){a.width=this.defaultWidth}return a},setSortState:function(){var e=this.up('[store]').store,c=this.visibleColumnManager.getColumns(),f=c.length,a,b,d;for(a=0;a<f;a++){b=c[a];d=e.getSorters().get(b.getSortParam());b.setSortState(d)}},getHeaderMenu:function(){var b=this.getMenu(),a;if(b){a=b.child('#columnItem');if(a){return a.menu}}return null},onHeaderVisibilityChange:function(d,e){var a=this,c=a.getHeaderMenu(),b;a.purgeHeaderCtCache(d.ownerCt);if(c){b=a.getMenuItemForHeader(c,d);if(b){b.setChecked(e,!0)}if(c.isVisible()){a.menuTask.delay(50)}}},updateMenuDisabledState:function(e){var f=this,g=f.query(':not([hidden])'),b,h=g.length,d,a,c;if(!e){e=f.getMenu()}for(b=0;b<h;++b){d=g[b];a=f.getMenuItemForHeader(e,d);if(a){c=d.isHideable()?'enable':'disable';if(a.menu){c+='CheckChange'}a[c]()}}},getMenuItemForHeader:function(b,a){return a?b.down('menucheckitem[headerId='+a.id+']'):null},onHeaderShow:function(b){var a=this,c=a.ownerCt;if(a.forceFit){delete a.flex}a.onHeaderVisibilityChange(b,!0);if(!b.isGroupHeader){if(c){c.onHeaderShow(a,b)}}a.fireEvent('columnshow',a,b);a.fireEvent('columnschanged',this)},onHeaderHide:function(b){var a=this,c=a.ownerCt;a.onHeaderVisibilityChange(b,!1);if(!b.isGroupHeader){if(c){c.onHeaderHide(a,b)}}a.fireEvent('columnhide',a,b);a.fireEvent('columnschanged',this)},tempLock:function(){this.ddLock=!0;Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(c,d){var a=this,b=a.ownerCt;if(b){b.onHeaderResize(a,c,d)}a.fireEvent('columnresize',a,c,d)},onHeaderClick:function(a,b,c){a.fireEvent('headerclick',this,a,b,c);this.fireEvent('headerclick',this,a,b,c)},onHeaderContextMenu:function(a,b,c){a.fireEvent('headercontextmenu',this,a,b,c);this.fireEvent('headercontextmenu',this,a,b,c)},onHeaderTriggerClick:function(a,d,c){var b=this;if(a.fireEvent('headertriggerclick',b,a,d,c)!==!1&&b.fireEvent('headertriggerclick',b,a,d,c)!==!1){b.showMenuBy(c,a)}},showMenuBy:function(f,c){var a=this.getMenu(),e=a.down('#ascItem'),d=a.down('#descItem'),b;a.activeHeader=a.ownerButton=c;c.setMenuActive(!0);b=c.sortable?'enable':'disable';if(e){e[b]()}if(d){d[b]()}a.showBy(f,'tl-bl?')},hideMenu:function(){if(this.menu){this.menu.hide()}},onMenuHide:function(a){a.activeHeader.setMenuActive(!1)},moveHeader:function(a,b){this.tempLock();this.move(a,b)},purgeHeaderCtCache:function(a){while(a){a.purgeCache();if(a.isRootHeader){return}a=a.ownerCt}},purgeCache:function(){var a=this,b=a.visibleColumnManager,c=a.columnManager;a.gridVisibleColumns=a.gridDataColumns=a.hideableColumns=null;if(b){b.invalidate();c.invalidate()}},getMenu:function(){var a=this;if(!a.menu){a.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:a.getMenuItems(),listeners:{beforeshow:a.beforeMenuShow,hide:a.onMenuHide,scope:a}});a.fireEvent('menucreate',a,a.menu)}return a.menu},beforeMenuShow:function(c){var a=this,e=c.child('#columnItem'),b,d,c;if(!e){b=a.enableColumnHide?a.getColumnMenu(a):null;d=a.sortable?2:0;if(b&&b.length){c.insert(d,[{itemId:'columnItemSeparator',xtype:'menuseparator'},{itemId:'columnItem',text:a.columnsText,iconCls:a.menuColsIcon,menu:{items:b},hideOnClick:!1}])}}a.updateMenuDisabledState(a.menu)},getMenuItems:function(){var a=this,b=[],c=a.enableColumnHide?a.getColumnMenu(a):null;if(a.sortable){b=[{itemId:'ascItem',text:a.sortAscText,iconCls:a.menuSortAscCls,handler:a.onSortAscClick,scope:a},{itemId:'descItem',text:a.sortDescText,iconCls:a.menuSortDescCls,handler:a.onSortDescClick,scope:a}]}if(c&&c.length){if(a.sortable){b.push({itemId:'columnItemSeparator',xtype:'menuseparator'})}b.push({itemId:'columnItem',text:a.columnsText,iconCls:a.menuColsIcon,menu:c,hideOnClick:!1})}return b},onSortAscClick:function(){var b=this.getMenu(),a=b.activeHeader;a.sort('ASC')},onSortDescClick:function(){var b=this.getMenu(),a=b.activeHeader;a.sort('DESC')},getColumnMenu:function(f){var c=[],b=0,a,e=f.query('>gridcolumn[hideable]'),g=e.length,d;for(;b<g;b++){a=e[b];d=new Ext.menu.CheckItem({text:a.menuText||a.text,checked:!a.hidden,hideOnClick:!1,headerId:a.id,menu:a.isGroupHeader?this.getColumnMenu(a):undefined,checkHandler:this.onColumnCheckChange,scope:this});c.push(d)}return c},onColumnCheckChange:function(c,b){var a=Ext.getCmp(c.headerId);if(a.rendered){a[b?'show':'hide']()}else {a.hidden=!b}},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var b=0,c=this.getVisibleGridColumns(),d=c.length,a;for(a=0;a<d;a++){b+=c[a].getCellWidth()||0}return b},getVisibleGridColumns:function(){if(this.gridVisibleColumns){return this.gridVisibleColumns}var c=this.getGridColumns(),d,a=[],e=c.length,b;for(b=0;b<e;b++){if(!c[b].hidden){d=c[b];d.visibleIndex=a.length;a[a.length]=d}}this.gridVisibleColumns=a;return a},getGridColumns:function(g,f){if(!g&&this.gridDataColumns){return this.gridDataColumns}var h=this,c=g||[],i,b,d,a,e;f=f||h.hidden;if(h.items){i=h.items.items;for(b=0,d=i.length;b<d;b++){a=i[b];if(a.isGroupHeader){a.getGridColumns(c,f)}else {a.hiddenAncestor=f;c.push(a)}}}if(!g){h.gridDataColumns=c}if(!g&&d){for(b=0,d=c.length;b<d;b++){a=c[b];a.fullColumnIndex=b;a.isFirstVisible=a.isLastVisible=!1;if(!(a.hidden||a.hiddenAncestor)){if(!e){a.isFirstVisible=!0}e=a}}if(e){e.isLastVisible=!0}}return c},getHideableColumns:function(){var b=this,a=b.hideableColumns;if(!a){a=b.hideableColumns=b.query('[hideable]')}return a},getHeaderIndex:function(a){if(!this.columnManager){this.columnManager=this.getOwnerHeaderCt().columnManager}return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){if(!this.columnManager){this.columnManager=this.getOwnerHeaderCt().columnManager}return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){if(!this.visibleColumnManager){this.visibleColumnManager=this.getOwnerHeaderCt().visibleColumnManager}return this.visibleColumnManager.getVisibleHeaderClosestToIndex(a)},applyForceFit:function(b){var k=this,j=k.view,i=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,l=!1,m=Ext.grid.header.Container.prototype.defaultWidth,h=k.el.dom.clientWidth-(j.el.dom.scrollHeight>j.el.dom.clientHeight?Ext.getScrollbarSize().width:0),n=0,e=k.getVisibleGridColumns(),o=b.hidden,f,c,a,g,d;function getTotalFlex(){for(c=0,f=e.length;c<f;c++){a=e[c];if(a===b){continue}a.flex=a.flex||a.width||a.getWidth();n+=a.flex;a.width=null}}function applyWidth(){var g;for(c=0,f=e.length;c<f;c++){a=e[c];g=a===b;if(l&&!g){a.flex=i;a.width=null}else {if(!g){d=a.flex||m;a.flex=Math.max(Math.ceil(d/n*h),i);a.width=null}}a.setWidth(a.width||a.flex)}}Ext.suspendLayouts();g=h-(e.length+1)*i;b.flex=null;if(o){d=b.width||b.savedWidth;b.savedWidth=null}else {d=j.getMaxContentWidth(b)}if(d>g){b.width=g;l=!0}else {b.width=d;h-=d+m;getTotalFlex()}applyWidth();Ext.resumeLayouts(!0)},autoSizeColumn:function(a){var b=this.view;if(b){b.autoSizeColumn(a);if(this.forceFit){this.applyForceFit(a)}}}},0,['headercontainer'],['component','box','container','headercontainer'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0},['widget.headercontainer'],0,[Ext.grid.header,'Container'],0);Ext.cmd.derive('Ext.grid.ColumnComponentLayout',Ext.layout.component.Auto,{type:'columncomponent',setWidthInDom:!0,beginLayout:function(a){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);a.titleContext=a.getEl('titleEl');a.triggerContext=a.getEl('triggerEl')},beginLayoutCycle:function(b){var a=this.owner;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(b.widthModel.shrinkWrap){a.el.setWidth('')}a.titleEl.setStyle({paddingTop:'',paddingBottom:''})},publishInnerHeight:function(a,i){var h=this,c=h.owner,d,b,f,j,e,g;if(c.getOwnerHeaderCt().hiddenHeaders){a.setProp('innerHeight',0);return}d=i-a.getBorderInfo().height;b=d;if(!c.noWrap&&!a.hasDomProp('width')){h.done=!1;return}if(a.hasRawContent){f=c.textEl.getHeight();if(f){b-=f;if(b>0){e=Math.floor(b/2);g=b-e;a.titleContext.setProp('padding-top',e);a.titleContext.setProp('padding-bottom',g)}}}else {a.setProp('innerHeight',d-c.titleEl.getHeight(),!1)}},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishInnerWidth:function(a,b){if(!a.hasRawContent){a.setProp('innerWidth',b-a.getBorderInfo().width,!1)}},calculateOwnerHeightFromContentHeight:function(a,b){var c=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);if(!a.hasRawContent){if(this.owner.noWrap||a.hasDomProp('width')){return b+this.owner.titleEl.getHeight()+a.getBorderInfo().height}return null}return c},calculateOwnerWidthFromContentWidth:function(a,d){var c=this.owner,f=a.getPaddingInfo().width,e=this.getTriggerOffset(c,a),b;if(c.isGroupHeader){b=d}else {b=Math.max(d,c.textEl.getWidth()+a.titleContext.getPaddingInfo().width)}return b+f+e},getTriggerOffset:function(a,c){var b=0;if(c.widthModel.shrinkWrap&&!a.menuDisabled){if(a.query('>:not([hidden])').length===0){b=a.self.triggerElWidth}}return b}},0,0,0,0,['layout.columncomponent'],0,[Ext.grid,'ColumnComponentLayout'],0);Ext.cmd.derive('Ext.grid.column.Column',Ext.grid.header.Container,{alternateClassName:'Ext.grid.Column',config:{triggerVisible:!1},baseCls:'x-column-header',hoverCls:'x-column-header-over',handleWidth:Ext.supports.Touch?10:4,ariaRole:'columnheader',sortState:null,possibleSortStates:['ASC','DESC'],childEls:['titleEl','triggerEl','textEl'],noWrap:!0,renderTpl:['<div id="{id}-titleEl" role="presentation" {tipMarkup}class="','x-','column-header-inner','<tpl if="empty"> ','x-','column-header-inner-empty</tpl>">','<span id="{id}-textEl" class="','x-','column-header-text','{childElCls}">','{text}','</span>','<tpl if="!menuDisabled">','<div id="{id}-triggerEl" role="presentation" class="','x-','column-header-trigger','{childElCls}" style="{triggerStyle}"></div>','</tpl>','</div>','{%this.renderContainer(out,values)%}'],dataIndex:null,text:'&#160;',menuText:null,emptyCellText:'&#160;',sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,align:'left',draggable:!0,tooltipType:'qtip',initDraggable:Ext.emptyFn,tdCls:'',isHeader:!0,isColumn:!0,ascSortCls:'x-column-header-sort-ASC',descSortCls:'x-column-header-sort-DESC',componentLayout:'columncomponent',groupSubHeaderCls:'x-group-sub-header',groupHeaderCls:'x-group-header',clickTargetName:'titleEl',detachOnRemove:!0,initResizable:Ext.emptyFn,rendererNames:{column:'renderer',edit:'editRenderer',summary:'summaryRenderer'},formatterNames:{column:'formatter',edit:'editFormatter',summary:'summaryFormatter'},initComponent:function(){var a=this;if(a.header!=null){a.text=a.header;a.header=null}if(a.wrap){a.tdCls=(a.tdCls||'')+' x-wrap-cell'}if(a.columns!=null){a.isGroupHeader=!0;a.items=a.columns;a.columns=a.flex=a.width=null;a.cls=(a.cls||'')+' '+a.groupHeaderCls;a.sortable=a.resizable=!1;a.align='center'}else {if(a.flex){a.minWidth=a.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}a.addCls('x-column-header-align-'+a.align);a.setupRenderer();a.setupRenderer('edit');a.setupRenderer('summary');Ext.grid.header.Container.prototype.initComponent.apply(this,arguments)},bindFormatter:function(a){var b=this;return function(c){return a.format(c,a.scope||b.scope||b.resolveListenerScope())}},bindRenderer:function(b){var a=this;a.hasCustomRenderer=!0;return function(){return Ext.callback(b,a.scope,arguments,0,a)}},setupRenderer:function(c){c=c||'column';var a=this,b=a[a.formatterNames[c]],d=a[a.rendererNames[c]],f=c==='column',e;if(!b){if(d){if(typeof d==='string'){d=a[a.rendererNames[c]]=a.bindRenderer(d)}if(f){a.hasCustomRenderer=d.length>1}}else {if(f&&a.defaultRenderer){a.renderer=a.defaultRenderer;a.usingDefaultRenderer=!0}}}else {e=b.indexOf('this.')===0;if(e){b=b.substring(5)}b=Ext.app.bind.Template.prototype.parseFormat(b);a[a.formatterNames[c]]=null;if(e){b.scope=null}a[a.rendererNames[c]]=a.bindFormatter(b)}},getView:function(){var a=this.getOwnerHeaderCt();if(a){return a.view}},onResize:function(g,i,e,h){var f=this,b,c,a,d;Ext.grid.header.Container.prototype.onResize.apply(this,arguments);if(e&&f.wrap){b=f.getView();if(b){c=b.store;a=b.bufferedRenderer;if(a){delete a.rowHeight;a.stretchView(b,a.getScrollHeight(!0));a.viewSize=c.viewSize=Math.ceil(b.getHeight()/a.rowHeight)+a.trailingBufferZone+a.leadingBufferZone;d=Math.min((c.isBufferedStore?c.getTotalCount():c.getCount())-a.viewSize,Math.max(0,Math.floor(a.bodyTop/a.rowHeight)));a.renderRange(d,d+a.viewSize-1);if(g>e&&a.bodyTop+b.body.dom.offsetHeight-1>a.scrollHeight){a.setBodyTop(Math.max(0,a.scrollHeight-b.body.dom.offsetHeight))}}}}},initItems:function(){var a=this;Ext.grid.header.Container.prototype.initItems.apply(this,arguments);if(a.isGroupHeader){if(!a.hasVisibleChildren()){a.hide()}}},hasVisibleChildren:function(){var b=this.items.items,c=b.length,a;for(a=0;a<c;++a){if(!b[a].hidden){return !0}}return !1},onAdd:function(a){var b=this;if(a.isColumn){a.isSubHeader=!0;a.addCls(this.groupSubHeaderCls)}if(b.hidden){if(b.constructing){a.hide()}else {if(!a.hidden){b.show()}}}Ext.grid.header.Container.prototype.onAdd.apply(this,arguments)},onRemove:function(b){var a=this;if(b.isSubHeader){b.isSubHeader=!1;b.removeCls(a.groupSubHeaderCls)}Ext.grid.header.Container.prototype.onRemove.apply(this,arguments);if(!(a.isDestroyed||a.destroying)&&a.isGroupHeader&&!a.hasVisibleChildren()){a.hide()}},initRenderData:function(){var b=this,c='',d=b.tooltip,a=b.text,e=b.tooltipType=='qtip'?'data-qtip':'title';if(!Ext.isEmpty(d)){c=e+'="'+d+'" '}return Ext.applyIf(Ext.grid.header.Container.prototype.initRenderData.apply(this,arguments),{text:a,empty:a==='&#160;'||a===' '||a==='',menuDisabled:b.menuDisabled,tipMarkup:c,triggerStyle:this.getTriggerVisible()?'display:block':''})},applyColumnState:function(a){var b=this;b.applyColumnsState(a.columns);if(a.hidden!=null){b.hidden=a.hidden}if(a.locked!=null){b.locked=a.locked}if(a.sortable!=null){b.sortable=a.sortable}if(a.width!=null){b.flex=null;b.width=a.width}else {if(a.flex!=null){b.width=null;b.flex=a.flex}}},getColumnState:function(){var a=this,e=a.items.items,f=e?e.length:0,c,d=[],b={id:a.getStateId()};a.savePropsToState(['hidden','sortable','locked','flex','width'],b);if(a.isGroupHeader){for(c=0;c<f;c++){d.push(e[c].getColumnState())}if(d.length){b.columns=d}}else {if(a.isSubHeader&&a.ownerCt.hidden){delete a.hidden}}if('width' in b){delete b.flex}return b},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;if(this.rendered){this.textEl.setHtml(a)}},getIndex:function(){return this.isGroupColumn?!1:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.visibleIndex!=null?this.visibleIndex:this.isGroupColumn?!1:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var a=this,c,b=a.up('tablepanel'),d;Ext.grid.header.Container.prototype.beforeRender.call(this);if(b){if((!a.sortable||b.sortableColumns===!1)&&!a.groupable&&!a.lockable&&(b.enableColumnHide===!1||!a.getOwnerHeaderCt().getHideableColumns().length)){a.menuDisabled=!0}d=b.getView();c=d.bufferedRenderer;if(c&&a.wrap){c.variableRowHeight=!0}}a.protoEl.unselectable()},afterRender:function(){var b=this,a=b.triggerEl;Ext.grid.header.Container.prototype.afterRender.apply(this,arguments);if(a&&b.self.triggerElWidth===undefined){a.setStyle('display','block');b.self.triggerElWidth=a.getWidth();a.setStyle('display','')}},afterComponentLayout:function(d,f,c,e){var a=this,b=a.getOwnerHeaderCt();Ext.grid.header.Container.prototype.afterComponentLayout.apply(this,arguments);if(b&&(c!=null||a.flex)&&d!==c){b.onHeaderResize(a,d)}},onDestroy:function(){var a=this;Ext.destroy(a.keyNav,a.field);a.field=a.keyNav=null;Ext.grid.header.Container.prototype.onDestroy.apply(this,arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl){this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(e,f){var a=this,b,c,d;if(a.isOnLeftEdge(e)){b=a.previousNode('gridcolumn:not([hidden]):not([isGroupHeader])');if(b&&b.getOwnerHeaderCt()===a.getOwnerHeaderCt()){b.autoSize()}}else {if(a.isOnRightEdge(e)){if(a.isGroupHeader&&e.getPoint().isContainedBy(a.layout.innerCt)){c=a.query('gridcolumn:not([hidden]):not([isGroupHeader])');a.getOwnerHeaderCt().autoSizeColumn(c[c.length-1]);return}else {d=a.getOwnerHeaderCt();if(d.visibleColumnManager.getColumns().length===1&&d.forceFit){return}}a.autoSize()}}},autoSize:function(){var e=this,b,c,a,d;if(e.isGroupHeader){b=e.query('gridcolumn:not([hidden]):not([isGroupHeader])');c=b.length;d=this.getOwnerHeaderCt();Ext.suspendLayouts();for(a=0;a<c;a++){d.autoSizeColumn(b[a])}Ext.resumeLayouts(!0);return}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(b,e){var a=this,c,d;if(Ext.supports.Touch){d=a.previousSibling(':not([hidden])');if(!a.menuDisabled&&a.isOnRightEdge(b,parseInt(a.triggerEl.getStyle('width')))){if(!a.menuDisabled){c=a}}else {if(d&&!d.menuDisabled&&a.isOnLeftEdge(b)){c=d}}}else {c=a.triggerEl&&(b.target===a.triggerEl.dom||e===a.triggerEl.dom||b.within(a.triggerEl))?a:null}if(!c&&!a.isOnLeftEdge(b)&&!a.isOnRightEdge(b)||b.getKey()){a.toggleSortState()}return c},processEvent:function(d,e,c,a,b,f){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var a=this,b,c;if(a.sortable){b=Ext.Array.indexOf(a.possibleSortStates,a.sortState);c=(b+1)%a.possibleSortStates.length;a.sort()}},sort:function(c){var a=this,b=a.up('tablepanel'),d=b.store;Ext.suspendLayouts();a.sorting=!0;d.sort(a.getSortParam(),c,b.multiColumnSort?'multi':'replace');delete a.sorting;Ext.resumeLayouts(!0)},getSortParam:function(){return this.dataIndex},setSortState:function(f){var a=this,b=f&&f.getDirection(),d=a.ascSortCls,c=a.descSortCls,e=a.getOwnerHeaderCt();switch(b){case 'DESC':a.addCls(c);a.removeCls(d);break;case 'ASC':a.addCls(d);a.removeCls(c);break;default:a.removeCls([d,c]);}if(b){e.fireEvent('sortchange',e,a,b)}},isHideable:function(){var a={hideCandidate:this,result:this.hideable};if(a.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a])}return a.result},hasOtherMenuEnabledChildren:function(b){var a,c;if(!this.isXType('headercontainer')){b.result=!1;return !1}a=this.query('>:not([hidden]):not([menuDisabled])');c=a.length;if(Ext.Array.contains(a,b.hideCandidate)){c--}if(c){return !1}b.hideCandidate=this},isLockable:function(){var a={result:this.lockable!==!1};if(a.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[a])}return a.result},isLocked:function(){return this.locked||!!this.up('[isColumn][locked]','[isRootHeader]')},hasMultipleVisibleChildren:function(a){if(!this.isXType('headercontainer')){a.result=!1;return !1}if(this.query('>:not([hidden])').length>1){return !1}},hide:function(i){var a=this,d=a.getOwnerHeaderCt(),e=a.getRefOwner(),g,f,b,h,c;if(e.constructing){Ext.grid.header.Container.prototype.hide.call(this);return a}if(a.rendered&&!a.isVisible()){return a}if(d.forceFit){a.visibleSiblingCount=d.getVisibleGridColumns().length-1;if(a.flex){a.savedWidth=a.getWidth();a.flex=null}}g=e.isGroupHeader;if(g&&!i){b=e.query('>:not([hidden])');if(b.length===1&&b[0]===a){a.ownerCt.hide();return}}Ext.suspendLayouts();if(a.isGroupHeader){b=a.items.items;for(c=0,h=b.length;c<h;c++){f=b[c];if(!f.hidden){f.hide(!0)}}}Ext.grid.header.Container.prototype.hide.call(this);d.onHeaderHide(a);Ext.resumeLayouts(!0);return a},show:function(i,h){var a=this,f=a.getOwnerHeaderCt(),b=a.ownerCt,d,g,c,e;if(a.isVisible()){return a}if(a.rendered){if(f.forceFit){f.applyForceFit(a)}}Ext.suspendLayouts();if(a.isSubHeader&&b.hidden){b.show(!1,!0)}Ext.grid.header.Container.prototype.show.apply(this,arguments);if(a.isGroupHeader&&h!==!0&&!a.query(':not([hidden])').length){d=a.items.items;for(c=0,g=d.length;c<g;c++){e=d[c];if(e.hidden){e.show(!0)}}}b=a.getOwnerHeaderCt();if(b){b.onHeaderShow(a)}Ext.resumeLayouts(!0);return a},getCellWidth:function(){var a=this,b;if(a.rendered&&a.componentLayout&&a.componentLayout.lastComponentSize){b=a.componentLayout.lastComponentSize.width}else {if(a.width){b=a.width}else {if(!a.isColumn){b=a.getTableWidth()}}}return b},getCellId:function(){return 'x-grid-cell-'+this.getItemId()},getCellSelector:function(){return '.'+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+' .x-grid-cell-inner'},isOnLeftEdge:function(a){return a.getXY()[0]-this.getX()<this.handleWidth},isOnRightEdge:function(b,a){return this.getX()+this.getWidth()-b.getXY()[0]<=(a||this.handleWidth)},setMenuActive:function(a){this.titleEl[a?'addCls':'removeCls'](this.headerOpenCls)},deprecated:{5:{methods:{bindRenderer:function(a){return function(b){return Ext.util.Format[a](b)}}}}}},0,['gridcolumn'],['component','box','container','headercontainer','gridcolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0},['widget.gridcolumn'],0,[Ext.grid.column,'Column',Ext.grid,'Column'],0);Ext.cmd.derive('Ext.tree.Column',Ext.grid.column.Column,{tdCls:'x-grid-cell-treecolumn',autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:'x-tree-icon',checkboxCls:'x-tree-checkbox',elbowCls:'x-tree-elbow',expanderCls:'x-tree-expander',textCls:'x-tree-node-text',innerCls:'x-grid-cell-inner-treecolumn',isTreeColumn:!0,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"/>','</tpl>','<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"/>','<tpl if="checked !== null">','<input type="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>','</tpl>','<img src="{blankUrl}" role="presentation" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>','<tpl else>','<span class="{textCls} {childCls}">{value}</span>','</tpl>'],initComponent:function(){var a=this;a.setupRenderer();a.origRenderer=a.renderer;a.origScope=a.scope||window;a.renderer=a.treeRenderer;a.scope=a;Ext.grid.column.Column.prototype.initComponent.call(this)},treeRenderer:function(i,b,c,g,f,h,j){var e=this,d=c.get('cls'),a;if(d){b.tdCls+=' '+d}a=e.initTemplateRendererData(i,b,c,g,f,h,j);return e.getTpl('cellTpl').apply(a)},initTemplateRendererData:function(j,i,d,m,l,n,k){var a=this,g=a.origRenderer,b=d.data,c=d.parentNode,f=k.rootVisible,h=[],e;while(c&&(f||c.data.depth>0)){e=c.data;h[f?e.depth:e.depth-1]=e.isLast?0:1;c=c.parentNode}return {record:d,baseIconCls:a.iconCls,iconCls:b.iconCls,icon:b.icon,checkboxCls:a.checkboxCls,checked:b.checked,elbowCls:a.elbowCls,expanderCls:a.expanderCls,textCls:a.textCls,leaf:b.leaf,expandable:d.isExpandable(),isLast:d.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:b.href,hrefTarget:b.hrefTarget,lines:h,metaData:i,childCls:a.getChildCls?a.getChildCls()+' ':'',value:g?g.apply(a.origScope,arguments):j}}},0,['treecolumn'],['component','box','container','headercontainer','gridcolumn','treecolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'treecolumn':!0},['widget.treecolumn'],0,[Ext.tree,'Column'],0);Ext.cmd.derive('Ext.tree.Panel',Ext.panel.Table,{alternateClassName:['Ext.tree.TreePanel','Ext.TreePanel'],viewType:'treeview',selType:'treemodel',treeCls:'x-tree-panel',deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:'text',root:null,normalCfgCopy:['displayField','root','singleExpand','useArrows','lines','rootVisible','scroll'],lockedCfgCopy:['displayField','root','singleExpand','useArrows','lines','rootVisible'],isTree:!0,arrowCls:'x-tree-arrows',linesCls:'x-tree-lines',noLinesCls:'x-tree-no-lines',autoWidthCls:'x-autowidth-table',constructor:function(a){a=a||{};if(a.animate===undefined){a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx}this.enableAnimations=a.animate;delete a.animate;Ext.panel.Table.prototype.constructor.call(this,a)},initComponent:function(){var a=this,c=[a.treeCls],b=a.store,d;if(a.useArrows){c.push(a.arrowCls);a.lines=!1}if(a.lines){c.push(a.linesCls)}else {if(!a.useArrows){c.push(a.noLinesCls)}}if(Ext.isString(b)){b=a.store=Ext.StoreMgr.lookup(b)}else {if(!b||!b.isStore){b=Ext.apply({type:'tree',root:a.root,fields:a.fields,model:a.model,folderSort:a.folderSort},b);b=a.store=Ext.StoreMgr.lookup(b)}else {if(a.root){b=a.store=Ext.data.StoreManager.lookup(b);b.setRoot(a.root);if(a.folderSort!==undefined){b.folderSort=a.folderSort;b.sort()}}}}b.setRootVisible(a.rootVisible);if(!b.getRoot()){b.setRoot({})}a.store.singleExpand=a.singleExpand;a.viewConfig=Ext.apply({rootVisible:a.rootVisible,animate:a.enableAnimations,singleExpand:a.singleExpand,node:b.getRoot(),hideHeaders:a.hideHeaders},a.viewConfig);if(!a.columns){if(a.initialConfig.hideHeaders===undefined){a.hideHeaders=!0}a.addCls(a.autoWidthCls);a.columns=[{xtype:'treecolumn',text:'Name',flex:1,dataIndex:a.displayField}]}if(a.cls){c.push(a.cls)}a.cls=c.join(' ');Ext.panel.Table.prototype.initComponent.call(this);a.selModel.treeStore=a.store;d=a.getView();a.relayEvents(d,['checkchange','afteritemexpand','afteritemcollapse'])},bindStore:function(b,e){var a=this,c=b.getRoot(),d=a.getView();a.store=b;a.storeListeners=a.mon(b,{destroyable:!0,load:a.onStoreLoad,rootchange:a.onRootChange,clear:a.onClear,scope:a});if(d.store!==b){d.bindStore(b,!1)}a.storeRelayers=a.relayEvents(b,['beforeload','load']);a.rootRelayers=a.mon(c,{destroyable:!0,append:a.createRelayer('itemappend'),remove:a.createRelayer('itemremove'),move:a.createRelayer('itemmove',[0,4]),insert:a.createRelayer('iteminsert'),beforeappend:a.createRelayer('beforeitemappend'),beforeremove:a.createRelayer('beforeitemremove'),beforemove:a.createRelayer('beforeitemmove'),beforeinsert:a.createRelayer('beforeiteminsert'),expand:a.createRelayer('itemexpand',[0,1]),collapse:a.createRelayer('itemcollapse',[0,1]),beforeexpand:a.createRelayer('beforeitemexpand',[0,1]),beforecollapse:a.createRelayer('beforeitemcollapse',[0,1])});if(b.autoLoad!==!1&&!a.rootVisible||c.isExpanded()){c.data.expanded=!1;c.expand()}b.ownerTree=a;if(!e){a.view.setRootNode(c)}},unbindStore:function(){var a=this,b=a.store;if(b){Ext.destroy(a.storeListeners,a.storeRelayers,a.rootRelayers);delete b.ownerTree}},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get('checked')},expandNode:function(b,d,a,c){return this.getView().expand(b,d,a,c||this)},collapseNode:function(b,d,a,c){return this.getView().collapse(b,d,a,c||this)},expandAll:function(d,e){var a=this,c=a.getRootNode(),b=a.enableAnimations;if(c){if(!b){Ext.suspendLayouts()}c.expand(!0,d,e||a);if(!b){Ext.resumeLayouts(!0)}}},collapseAll:function(d,a){var b=this,c=b.getRootNode(),e=b.enableAnimations,f=b.getView();if(c){if(!e){Ext.suspendLayouts()}a=a||b;if(f.rootVisible){c.collapse(!0,d,a)}else {c.collapseChildren(!0,d,a)}if(!e){Ext.resumeLayouts(!0)}}},expandPath:function(j,d,g,c,e){var b=this,a=b.getRootNode(),i=1,f,h;d=d||b.getRootNode().idProperty;g=g||'/';if(Ext.isEmpty(j)){Ext.callback(c,e||b,[!1,null]);return}f=j.split(g);if(a.get(d)!=f[1]){Ext.callback(c,e||b,[!1,a]);return}h=function(){if(++i===f.length){Ext.callback(c,e||b,[!0,a]);return}var k=a.findChild(d,f[i]);if(!k){Ext.callback(c,e||b,[!1,a]);return}a=k;a.expand(!1,h)};a.expand(!1,h)},selectPath:function(i,d,b,c,e){var a=this,g,f,h;d=d||a.getRootNode().idProperty;b=b||'/';f=i.split(b);h=f.pop();if(f.length>1){a.expandPath(f.join(b),d,b,function(j,f){var g=f;if(j&&f){f=f.findChild(d,h);if(f){a.getSelectionModel().select(f);Ext.callback(c,e||a,[!0,f]);return}}Ext.callback(c,e||a,[!1,g])},a)}else {g=a.getRootNode();if(g.getId()===h){a.getSelectionModel().select(g);Ext.callback(c,e||a,[!0,g])}else {Ext.callback(c,e||a,[!1,null])}}}},1,['treepanel'],['component','box','container','panel','tablepanel','treepanel'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tablepanel':!0,'treepanel':!0},['widget.treepanel'],0,[Ext.tree,'Panel',Ext.tree,'TreePanel',Ext,'TreePanel'],0);Ext.cmd.derive('Ext.resizer.Splitter',Ext.Component,{childEls:['collapseEl'],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" role="presentation" class="','x-','collapse-el ','x-','layout-split-{collapseDir}{childElCls}">&#160;','</div>','</tpl>'],isSplitter:!0,baseCls:'x-splitter',collapsedClsInternal:'x-splitter-collapsed',canResize:!0,collapsible:null,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:'next',horizontal:!1,vertical:!1,size:5,tracker:null,ariaRole:'separator',getTrackerConfig:function(){return {xclass:'Ext.resizer.SplitterTracker',el:this.el,splitter:this}},beforeRender:function(){var a=this,c=a.getCollapseTarget(),b=a.collapsible;Ext.Component.prototype.beforeRender.call(this);if(c.collapsed){a.addCls(a.collapsedClsInternal)}if(!a.canResize){a.addCls(a.baseCls+'-noresize')}Ext.applyIf(a.renderData,{collapseDir:a.getCollapseDirection(),collapsible:b!==null?b:c.collapsible});a.protoEl.unselectable()},onRender:function(){var a=this,b,c;Ext.Component.prototype.onRender.apply(this,arguments);if(a.performCollapse!==!1){if(a.renderData.collapsible){a.mon(a.collapseEl,'click',a.toggleTargetCmp,a)}if(a.collapseOnDblClick){a.mon(a.el,'dblclick',a.toggleTargetCmp,a)}}a.mon(a.getCollapseTarget(),{collapse:a.onTargetCollapse,expand:a.onTargetExpand,beforeexpand:a.onBeforeTargetExpand,beforecollapse:a.onBeforeTargetCollapse,scope:a});if(a.canResize){c=Ext.apply({},a.tracker);a.tracker=Ext.create(Ext.apply(c,a.getTrackerConfig()));a.relayEvents(a.tracker,['beforedragstart','dragstart','dragend'])}b=a.collapseEl;if(b){b.lastCollapseDirCls=a.collapseDirProps[a.collapseDirection].cls}},getCollapseDirection:function(){var b=this,a=b.collapseDirection,c,f,d,e;if(!a){c=b.collapseTarget;if(c.isComponent){a=c.collapseDirection}if(!a){e=b.ownerCt.layout.type;if(c.isComponent){d=b.ownerCt.items;f=Number(d.indexOf(c)===d.indexOf(b)-1)<<1|Number(e==='hbox')}else {f=Number(b.collapseTarget==='prev')<<1|Number(e==='hbox')}a=['bottom','right','top','left'][f]}b.collapseDirection=a}b.setOrientation(a==='top'||a==='bottom'?'horizontal':'vertical');return a},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:a.collapseTarget==='prev'?a.previousSibling():a.nextSibling()},setCollapseEl:function(b){var a=this.collapseEl;if(a){a.setDisplayed(b)}},onBeforeTargetExpand:function(a){this.setCollapseEl('none')},onBeforeTargetCollapse:function(){this.setCollapseEl('none')},onTargetCollapse:function(a){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl('')},onTargetExpand:function(a){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl('')},collapseDirProps:{top:{cls:'x-layout-split-top'},right:{cls:'x-layout-split-right'},bottom:{cls:'x-layout-split-bottom'},left:{cls:'x-layout-split-left'}},orientationProps:{horizontal:{opposite:'vertical',fixedAxis:'height',stretchedAxis:'width'},vertical:{opposite:'horizontal',fixedAxis:'width',stretchedAxis:'height'}},applyCollapseDirection:function(){var c=this,a=c.collapseEl,d=c.collapseDirProps[c.collapseDirection],b;if(a){b=a.lastCollapseDirCls;if(b){a.removeCls(b)}a.addCls(a.lastCollapseDirCls=d.cls)}},applyOrientation:function(){var a=this,e=a.orientation,b=a.orientationProps[e],f=a.size,d=b.fixedAxis,c=b.stretchedAxis,g=a.baseCls+'-';a[e]=!0;a[b.opposite]=!1;if(!a.hasOwnProperty(d)||a[d]==='100%'){a[d]=f}if(!a.hasOwnProperty(c)||a[c]===f){a[c]='100%'}a.removeCls(g+b.opposite);a.addCls(g+e)},setOrientation:function(b){var a=this;if(a.orientation!==b){a.orientation=b;a.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(d,e){var a=this.getCollapseTarget(),c=a.placeholder,b;if(Ext.isFunction(a.expand)&&Ext.isFunction(a.collapse)){if(c&&!c.hidden){b=!0}else {b=!a.hidden}if(b){if(a.collapsed){a.expand()}else {if(a.collapseDirection){a.collapse()}else {a.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var a=this;Ext.Component.prototype.setSize.apply(this,arguments);if(Ext.isIE&&a.el){a.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);Ext.Component.prototype.beforeDestroy.call(this)}},0,['splitter'],['component','box','splitter'],{'component':!0,'box':!0,'splitter':!0},['widget.splitter'],0,[Ext.resizer,'Splitter'],0);Ext.define('ExtThemeNeptune.resizer.Splitter',{override:'Ext.resizer.Splitter',size:8});Ext.cmd.derive('Ext.resizer.BorderSplitter',Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var a=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);a.xclass='Ext.resizer.BorderSplitterTracker';return a}},0,['bordersplitter'],['component','box','splitter','bordersplitter'],{'component':!0,'box':!0,'splitter':!0,'bordersplitter':!0},['widget.bordersplitter'],0,[Ext.resizer,'BorderSplitter'],0);Ext.cmd.derive('Ext.layout.container.Border',Ext.layout.container.Container,{alternateClassName:'Ext.layout.BorderLayout',targetCls:'x-border-layout-ct',itemCls:['x-border-item','x-box-item'],type:'border',isBorderLayout:!0,padding:undefined,percentageRe:/(\d+)%/,horzPositionProp:'left',padOnContainerProp:'left',padNotOnContainerProp:'right',axisProps:{horz:{borderBegin:'west',borderEnd:'east',horizontal:!0,posProp:'x',sizeProp:'width',sizePropCap:'Width'},vert:{borderBegin:'north',borderEnd:'south',horizontal:!1,posProp:'y',sizeProp:'height',sizePropCap:'Height'}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:'placeholder',regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(n,t,k){var m=this,g=m.axisProps[k],e=!g.horizontal,s=g.sizeProp,i=0,p=n.childItems,u=p.length,d,h,a,c,b,j,q,l,r,f,o;for(h=0;h<u;++h){a=p[h];b=a.target;a.layoutPos={};if(b.region){a.region=j=b.region;a.isCenter=b.isCenter;a.isHorz=b.isHorz;a.isVert=b.isVert;a.weight=b.weight||m.regionWeights[j]||0;b.weight=a.weight;t[b.id]=a;if(b.isCenter){d=a;c=b.flex;n.centerRegion=d;continue}if(e!==a.isVert){continue}a.reverseWeighting=j==g.borderEnd;l=b[s];r=typeof l;if(!b.collapsed){if(r=='string'&&(q=m.percentageRe.exec(l))){a.percentage=parseInt(q[1],10)}else {if(b.flex){i+=a.flex=b.flex}}}}}if(d){f=d.target;if(o=f.placeholderFor){if(!c&&e===o.collapsedVertical()){c=0;d.collapseAxis=k}}else {if(f.collapsed&&e===f.collapsedVertical()){c=0;d.collapseAxis=k}}}if(c==null){c=1}i+=c;return Ext.apply({before:e?'top':'left',totalFlex:i},g)},beginLayout:function(b){var c=this,f=c.getLayoutItems(),g=c.padding,o=typeof g,m=!1,d,j,l,e,k,a,h,n,i;if(g){if(o=='string'||o=='number'){g=Ext.util.Format.parseBox(g)}}else {g=b.getEl('getTargetEl').getPaddingInfo();m=!0}b.outerPad=g;b.padOnContainer=m;for(e=0,l=f.length;e<l;++e){j=f[e];a=c.getSplitterTarget(j);if(a){h=undefined;n=!!j.hidden;if(!a.split){if(a.isCollapsingOrExpanding){h=!!a.collapsed}}else {if(n!==a.hidden){h=!a.hidden}}if(h){j.show()}else {if(h===!1){j.hide()}}}}Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);f=b.childItems;l=f.length;k={};b.borderAxisHorz=c.beginAxis(b,k,'horz');b.borderAxisVert=c.beginAxis(b,k,'vert');for(e=0;e<l;++e){d=f[e];a=c.getSplitterTarget(d.target);if(a){i=k[a.id];if(!i){i=b.getEl(a.el,c);i.region=a.region}d.collapseTarget=a=i;d.weight=a.weight;d.reverseWeighting=a.reverseWeighting;a.splitter=d;d.isHorz=a.isHorz;d.isVert=a.isVert}}c.sortWeightedItems(f,'reverseWeighting');c.setupSplitterNeighbors(f)},calculate:function(e){var d=this,o=d.getContainerSize(e),j=e.childItems,m=j.length,f=e.borderAxisHorz,g=e.borderAxisVert,i=e.outerPad,n=e.padOnContainer,c,a,h,b,k,l;f.begin=i[d.padOnContainerProp];g.begin=i.top;k=f.end=f.flexSpace=o.width+(n?i[d.padOnContainerProp]:-i[d.padNotOnContainerProp]);l=g.end=g.flexSpace=o.height+(n?i.top:-i.bottom);for(c=0;c<m;++c){a=j[c];h=a.getMarginInfo();if(a.isHorz||a.isCenter){f.addUnflexed(h.width);k-=h.width}if(a.isVert||a.isCenter){g.addUnflexed(h.height);l-=h.height}if(!a.flex&&!a.percentage){if(a.isHorz||a.isCenter&&a.collapseAxis==='horz'){b=a.getProp('width');f.addUnflexed(b);if(a.collapseTarget){k-=b}}else {if(a.isVert||a.isCenter&&a.collapseAxis==='vert'){b=a.getProp('height');g.addUnflexed(b);if(a.collapseTarget){l-=b}}}}}for(c=0;c<m;++c){a=j[c];h=a.getMarginInfo();if(a.percentage){if(a.isHorz){b=Math.ceil(k*a.percentage/100);b=a.setWidth(b);f.addUnflexed(b)}else {if(a.isVert){b=Math.ceil(l*a.percentage/100);b=a.setHeight(b);g.addUnflexed(b)}}}}for(c=0;c<m;++c){a=j[c];if(!a.isCenter){d.calculateChildAxis(a,f);d.calculateChildAxis(a,g)}}if(d.finishAxis(e,g)+d.finishAxis(e,f)<2){d.done=!1}else {d.finishPositions(j)}},calculateChildAxis:function(b,a){var j=b.collapseTarget,k='set'+a.sizePropCap,f=a.sizeProp,i=b.getMarginInfo()[f],d,g,h,e,c;if(j){d=j.region}else {d=b.region;h=b.flex}g=d==a.borderBegin;if(!g&&d!=a.borderEnd){b[k](a.end-a.begin-i);e=a.begin}else {if(h){c=Math.ceil(a.flexSpace*(h/a.totalFlex));c=b[k](c)}else {if(b.percentage){c=b.peek(f)}else {c=b.getProp(f)}}c+=i;if(g){e=a.begin;a.begin+=c}else {a.end=e=a.end-c}}b.layoutPos[a.posProp]=e},eachItem:function(a,d,f){var g=this,e=g.getLayoutItems(),b=0,c;if(Ext.isFunction(a)){d=a;f=d}for(b;b<e.length;b++){c=e[b];if(!a||c.region===a){if(d.call(f,c)===!1){break}}}},finishAxis:function(d,a){var c=a.end-a.begin,b=d.centerRegion;if(b){b['set'+a.sizePropCap](c-b.getMarginInfo()[a.sizeProp]);b.layoutPos[a.posProp]=a.begin}return Ext.isNumber(c)?1:0},finishPositions:function(c){var e=c.length,b,a,d=this.horzPositionProp;for(b=0;b<e;++b){a=c[b];a.setProp('x',a.layoutPos.x+a.marginInfo[d]);a.setProp('y',a.layoutPos.y+a.marginInfo.top)}},getLayoutItems:function(){var c=this.owner,e=c&&c.items&&c.items.items||[],g=e.length,f=[],d=0,a,b;for(;d<g;d++){a=e[d];b=a.placeholderFor;if(a.hidden||(!a.floated||a.isCollapsingOrExpanding===2)&&!(b&&b.isCollapsingOrExpanding===2)){f.push(a)}}return f},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getMaxWeight:function(a){return this.getMinMaxWeight(a)},getMinWeight:function(a){return this.getMinMaxWeight(a,!0)},getMinMaxWeight:function(b,c){var d=this,a=null;d.eachItem(b,function(d){if(d.hasOwnProperty('weight')){if(a===null){a=d.weight;return}if(c&&d.weight<a||d.weight>a){a=d.weight}}},this);return a},getSplitterTarget:function(b){var a=b.collapseTarget;if(a&&a.collapsed){return a.placeholder||a}return a},isItemBoxParent:function(a){return !0},isItemShrinkWrap:function(a){return !0},insertSplitter:function(a,f,e,d){var c=a.region,b=Ext.apply({xtype:'bordersplitter',collapseTarget:a,id:a.id+'-splitter',hidden:e,canResize:a.splitterResize!==!1,splitterFor:a,synthetic:!0},d),g=f+(c==='south'||c==='east'?0:1);if(a.collapseMode==='mini'){b.collapsedCls=a.collapsedCls}a.splitter=this.owner.add(g,b)},getMoveAfterIndex:function(b){var a=Ext.layout.container.Container.prototype.getMoveAfterIndex.apply(this,arguments);if(b.splitter){a++}return a},moveItemBefore:function(c,a){var d=this.owner,b;if(a&&a.splitter){b=a.region;if(b==='south'||b==='east'){a=a.splitter}}Ext.layout.container.Container.prototype.moveItemBefore.call(this,c,a)},onAdd:function(a,i){var c=this,d=a.placeholderFor,f=a.region,e,b,g,h;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);if(f){Ext.apply(a,c.regionFlags[f]);if(a.initBorderRegion){a.initBorderRegion()}e=f==='center';if(e){c.centerRegion=a}else {b=a.split;g=!!a.hidden;if(typeof b==='object'){h=b;b=!0}if((a.isHorz||a.isVert)&&(b||a.collapseMode=='mini')){c.insertSplitter(a,i,g||!b,h)}}if(!e&&!a.hasOwnProperty('collapseMode')){a.collapseMode=c.panelCollapseMode}if(!a.hasOwnProperty('animCollapse')){if(a.collapseMode!=='placeholder'){a.animCollapse=!1}else {a.animCollapse=c.panelCollapseAnimate}}}else {if(d){Ext.apply(a,c.regionFlags[d.region]);a.region=d.region;a.weight=d.weight}}},onDestroy:function(){this.centerRegion=null;Ext.layout.container.Container.prototype.onDestroy.call(this)},onRemove:function(a,f){var d=this,h=a.region,e=a.splitter,c=d.owner,g=c.destroying,b;if(h){if(a.isCenter){d.centerRegion=null}delete a.isCenter;delete a.isHorz;delete a.isVert;if(e&&!c.destroying){c.doRemove(e,!0)}delete a.splitter}Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);if(!g&&!f&&a.rendered){b=a.getEl();if(b){b.setStyle('top','');b.setStyle(d.horzPositionProp,'')}}},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:'top'},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:'bottom'},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:'left'},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:'right'}},setupSplitterNeighbors:function(l){var i={},m=l.length,k=this.touchedRegions,h,b,j,g,d,a,f,e,c;for(h=0;h<m;++h){a=l[h].target;f=a.region;if(a.isCenter){j=a}else {if(f){c=k[f];for(b=0,g=c.length;b<g;++b){d=i[c[b]];if(d){d.neighbors.push(a)}}if(a.placeholderFor){e=a.placeholderFor.splitter}else {e=a.splitter}if(e){e.neighbors=[]}i[f]=e}}}if(j){c=k.center;for(b=0,g=c.length;b<g;++b){d=i[c[b]];if(d){d.neighbors.push(j)}}}},touchedRegions:{center:['north','south','east','west'],north:['north','east','west'],south:['south','east','west'],east:['east','north','south'],west:['west','north','south']},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(b){var g=this,a=this.sizePolicies,d,c,f,e;if(b.isCenter){e=b.placeholderFor;if(e){if(e.collapsedVertical()){return a.vert}return a.horz}if(b.collapsed){if(b.collapsedVertical()){return a.vert}return a.horz}return a.flexAll}d=b.collapseTarget;if(d){return d.isVert?a.vert:a.horz}if(b.region){if(b.isVert){c=b.height;f=a.vert}else {c=b.width;f=a.horz}if(b.flex||typeof c=='string'&&g.percentageRe.test(c)){return a.flexAll}return f}return g.autoSizePolicy}},0,0,0,0,['layout.border'],0,[Ext.layout.container,'Border',Ext.layout,'BorderLayout'],function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a);Ext.apply(b.vert,a)});Ext.cmd.derive('Ext.layout.container.Card',Ext.layout.container.Fit,{alternateClassName:'Ext.layout.CardLayout',type:'card',hideInactive:!0,deferredRender:!1,getRenderTree:function(){var b=this,a=b.getActiveItem();if(a){if(a.hasListeners.beforeactivate&&a.fireEvent('beforeactivate',a)===!1){a=b.activeItem=b.owner.activeItem=null}else {if(a.hasListeners.activate){a.on({boxready:function(){a.fireEvent('activate',a)},single:!0})}}if(b.deferredRender){if(a){return b.getItemsRenderTree([a])}}else {return Ext.layout.container.Fit.prototype.getRenderTree.apply(this,arguments)}}},renderChildren:function(){var a=this,b=a.getActiveItem();if(!a.deferredRender){Ext.layout.container.Fit.prototype.renderChildren.call(this)}else {if(b){a.renderItems([b],a.getRenderTarget())}}},isValidParent:function(a,c,d){var b=a.el?a.el.dom:Ext.getDom(a);return b&&b.parentNode===(c.dom||c)||!1},getActiveItem:function(){var a=this,b=a.parseActiveItem(a.activeItem||a.owner&&a.owner.activeItem);if(b&&a.owner.items.indexOf(b)!=-1){a.activeItem=b}else {a.activeItem=null}return a.activeItem},parseActiveItem:function(a){if(a&&a.isComponent){return a}else {if(typeof a=='number'||a===undefined){return this.getLayoutItems()[a||0]}else {return this.owner.getComponent(a)}}},configureItem:function(a){if(a===this.getActiveItem()){a.hidden=!1}else {a.hidden=!0}Ext.layout.container.Fit.prototype.configureItem.apply(this,arguments)},onRemove:function(a){Ext.layout.container.Fit.prototype.onRemove.apply(this,arguments);if(a===this.activeItem){this.activeItem=null}},getAnimation:function(b,c){var a=(b||{}).cardSwitchAnimation;if(a===!1){return !1}return a||c.cardSwitchAnimation},getNext:function(){var c=arguments[0],a=this.getLayoutItems(),b=Ext.Array.indexOf(a,this.activeItem);return a[b+1]||(c?a[0]:!1)},next:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getNext(b),a)},getPrev:function(){var c=arguments[0],a=this.getLayoutItems(),b=Ext.Array.indexOf(a,this.activeItem);return a[b-1]||(c?a[a.length-1]:!1)},prev:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getPrev(b),a)},setActiveItem:function(a){var c=this,d=c.owner,b=c.activeItem,f=d.rendered,e;a=c.parseActiveItem(a);e=d.items.indexOf(a);if(e==-1){e=d.items.items.length;Ext.suspendLayouts();a=d.add(a);Ext.resumeLayouts()}if(a&&b!=a){if(a.fireEvent('beforeactivate',a,b)===!1){return !1}if(b&&b.fireEvent('beforedeactivate',b,a)===!1){return !1}if(f){Ext.suspendLayouts();if(!a.rendered){c.renderItem(a,c.getRenderTarget(),d.items.length)}if(b){if(c.hideInactive){b.hide();b.hiddenByLayout=!0}b.fireEvent('deactivate',b,a)}if(a.hidden){a.show()}if(!a.hidden){c.activeItem=a}Ext.resumeLayouts(!0)}else {c.activeItem=a}a.fireEvent('activate',a,b);return c.activeItem}return !1}},0,0,0,0,['layout.card'],0,[Ext.layout.container,'Card',Ext.layout,'CardLayout'],0);Ext.cmd.derive('Ext.tab.Tab',Ext.button.Button,{isTab:!0,baseCls:'x-tab',closeElOverCls:'x-tab-close-btn-over',activeCls:'active',closableCls:'closable',closable:!0,closeText:'Close Tab',active:!1,childEls:['closeEl'],scale:!1,position:'top',ariaRole:'tab',initComponent:function(){var a=this;Ext.button.Button.prototype.initComponent.apply(this,arguments);if(a.card){a.setCard(a.card)}a.overCls=['over',a.position+'-over']},getTemplateArgs:function(){var b=this,a=Ext.button.Button.prototype.getTemplateArgs.call(this);a.closable=b.closable;a.closeText=b.closeText;return a},getFramingInfoCls:function(){return this.baseCls+'-'+this.ui+'-'+this.position},beforeRender:function(){var a=this,c=a.up('tabbar'),b=a.up('tabpanel');Ext.button.Button.prototype.beforeRender.call(this);a.addClsWithUI(a.position);if(a.active){a.addClsWithUI([a.activeCls,a.position+'-'+a.activeCls])}a.syncClosableUI();if(!a.minWidth){a.minWidth=c?c.minTabWidth:a.minWidth;if(!a.minWidth&&b){a.minWidth=b.minTabWidth}if(a.minWidth&&a.iconCls){a.minWidth+=25}}if(!a.maxWidth){a.maxWidth=c?c.maxTabWidth:a.maxWidth;if(!a.maxWidth&&b){a.maxWidth=b.maxTabWidth}}},onRender:function(){var a=this;a.setElOrientation();Ext.button.Button.prototype.onRender.apply(this,arguments);if(a.closable){a.closeEl.addClsOnOver(a.closeElOverCls)}a.initKeyNav()},initKeyNav:function(){var a=this;a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,del:a.onDeleteKey,scope:a})},setElOrientation:function(){var a=this.position;if(a==='left'||a==='right'){this.el.setVertical(a==='right'?90:270)}},enable:function(b){var a=this;Ext.button.Button.prototype.enable.apply(this,arguments);a.removeClsWithUI(a.position+'-disabled');return a},disable:function(b){var a=this;Ext.button.Button.prototype.disable.apply(this,arguments);a.addClsWithUI(a.position+'-disabled');return a},onDestroy:function(){var a=this;Ext.destroy(a.keyNav);delete a.keyNav;Ext.button.Button.prototype.onDestroy.apply(this,arguments)},setClosable:function(b){var a=this;b=!arguments.length||!!b;if(a.closable!=b){a.closable=b;if(a.card){a.card.closable=b}a.syncClosableUI();if(a.rendered){a.syncClosableElements();a.updateLayout()}}},syncClosableElements:function(){var a=this,b=a.closeEl;if(a.closable){if(!b){b=a.closeEl=a.btnWrap.insertSibling({tag:'a',role:'presentation',cls:a.baseCls+'-close-btn',href:'#',title:a.closeText},'after')}b.addClsOnOver(a.closeElOverCls)}else {if(b){b.destroy();delete a.closeEl}}},syncClosableUI:function(){var a=this,b=[a.closableCls,a.closableCls+'-'+a.position];if(a.closable){a.addClsWithUI(b)}else {a.removeClsWithUI(b)}},setCard:function(b){var a=this;a.card=b;a.setText(a.title||b.title);a.setIconCls(a.iconCls||b.iconCls);a.setIcon(a.icon||b.icon);a.setGlyph(a.glyph||b.glyph)},onCloseClick:function(){var a=this;if(a.fireEvent('beforeclose',a)!==!1){if(a.tabBar){if(a.tabBar.closeTab(a)===!1){return}}else {a.fireClose()}}},fireClose:function(){this.fireEvent('close',this)},onEnterKey:function(b){var a=this;if(a.tabBar){a.tabBar.onClick(b,a.el)}},onDeleteKey:function(a){if(this.closable){this.onCloseClick()}},afterClick:function(a){if(!a){this.focus()}},activate:function(b){var a=this;a.active=!0;a.addClsWithUI([a.activeCls,a.position+'-'+a.activeCls]);if(b!==!0){a.fireEvent('activate',a)}},deactivate:function(b){var a=this;a.active=!1;a.removeClsWithUI([a.activeCls,a.position+'-'+a.activeCls]);if(b!==!0){a.fireEvent('deactivate',a)}}},0,['tab'],['component','box','button','tab'],{'component':!0,'box':!0,'button':!0,'tab':!0},['widget.tab'],0,[Ext.tab,'Tab'],0);Ext.cmd.derive('Ext.tab.Bar',Ext.panel.Header,{baseCls:'x-tab-bar',isTabBar:!0,defaultType:'tab',plain:!1,ariaRole:'tablist',childEls:['body','strip'],renderTpl:['<div id="{id}-body" role="presentation" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}','<tpl if="ui"> {baseCls}-body-{ui}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','{%this.renderContainer(out,values)%}','</div>','<div id="{id}-strip" role="presentation" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">','</div>'],_reverseDockNames:{left:'right',right:'left'},initComponent:function(){var a=this;if(a.plain){a.addCls(a.baseCls+'-plain')}a.addClsWithUI(a.orientation);Ext.panel.Header.prototype.initComponent.apply(this,arguments);Ext.merge(a.layout,a.initialConfig.layout);a.layout.align=a.orientation=='vertical'?'left':'top';a.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(a.layout);a.remove(a.titleCmp);delete a.titleCmp;Ext.apply(a.renderData,{bodyCls:a.bodyCls,dock:a.dock})},onRender:function(){var a=this;Ext.panel.Header.prototype.onRender.call(this);if(Ext.isIE9m&&a.orientation==='vertical'){a.el.on({mousemove:a.onMouseMove,scope:a})}},afterRender:function(){var a=this.layout;Ext.panel.Header.prototype.afterRender.call(this);if(Ext.isIE9&&this.orientation==='vertical'){a.innerCt.on('scroll',function(){a.innerCt.dom.scrollLeft=0})}},afterLayout:function(){this.adjustTabPositions();Ext.panel.Header.prototype.afterLayout.apply(this,arguments)},adjustTabPositions:function(){var c=this.items.items,b=c.length,a;if(!Ext.isIE9m){if(this.dock==='right'){while(b--){a=c[b];if(a.isVisible()){a.el.setStyle('left',a.lastBox.width+'px')}}}else {if(this.dock==='left'){while(b--){a=c[b];if(a.isVisible()){a.el.setStyle('left',-a.lastBox.height+'px')}}}}}},getLayout:function(){var a=this;a.layout.type=a.orientation==='horizontal'?'hbox':'vbox';return Ext.panel.Header.prototype.getLayout.apply(this,arguments)},onAdd:function(a){a.position=this.dock;Ext.panel.Header.prototype.onAdd.apply(this,arguments)},onRemove:function(b){var a=this;if(b===a.previousTab){a.previousTab=null}Ext.panel.Header.prototype.onRemove.apply(this,arguments)},afterComponentLayout:function(c){var a=this,b=a.needsScroll;Ext.panel.Header.prototype.afterComponentLayout.apply(this,arguments);if(b&&a.tooNarrow){a.layout.overflowHandler.scrollToItem(a.activeTab)}delete a.needsScroll},onClick:function(d,h){var c=this,g=c.tabPanel,f,a,b,e;if(d.getTarget('.x-box-scroller')){return}if(Ext.isIE9m&&c.orientation==='vertical'){e=c.getTabInfoFromPoint(d.getXY());a=e.tab;b=e.close}else {f=d.getTarget('.'+Ext.tab.Tab.prototype.baseCls);a=f&&Ext.getCmp(f.id);b=a&&a.closeEl&&h===a.closeEl.dom}if(b){d.preventDefault()}if(a&&a.isDisabled&&!a.isDisabled()){if(a.closable&&b){a.onCloseClick()}else {if(g){g.setActiveTab(a.card)}else {c.setActiveTab(a)}}a.afterClick(b)}},onMouseMove:function(d){var b=this,c=b._overTab,e,a;if(d.getTarget('.x-box-scroller')){return}e=b.getTabInfoFromPoint(d.getXY());a=e.tab;if(a!==c){if(c&&c.rendered){c.onMouseLeave(d);b._overTab=null}if(a){a.onMouseEnter(d);b._overTab=a;if(!a.disabled){b.el.setStyle('cursor','pointer')}}else {b.el.setStyle('cursor','default')}}},onMouseLeave:function(b){var a=this._overTab;if(a&&a.rendered){a.onMouseLeave(b)}},getTabInfoFromPoint:function(x){var a=this,o=a.items.items,y=o.length,u=a.layout.innerCt,s=u.getXY(),w=new Ext.util.Point(x[0],x[1]),g=0,c,t,b,v,l,m,n,i,h,d,e,k,j,q,p,r,f;for(;g<y;g++){c=o[g].lastBox;d=s[0]+c.x;e=s[1]-u.dom.scrollTop+c.y;k=c.width;j=c.height;t=new Ext.util.Region(e,d+k,e+j,d);if(t.contains(w)){f=o[g];b=f.closeEl;if(b){if(a._isTabReversed===undefined){a._isTabReversed=p=f.btnWrap.dom.currentStyle.filter.indexOf('rotation=2')!==-1}r=p?this._reverseDockNames[a.dock]:a.dock;i=b.getWidth();h=b.getHeight();l=a.getCloseXY(b,d,e,k,j,i,h,r);m=l[0];n=l[1];q=new Ext.util.Region(n,m+i,n+h,m);v=q.contains(w)}break}}return {tab:f,close:v}},getCloseXY:function(k,b,c,j,i,g,f,h){var a=k.getXY(),d,e;if(h==='right'){d=b+j-(a[1]-c+f);e=c+(a[0]-b)}else {d=b+(a[1]-c);e=c+b+i-a[0]-g}return [d,e]},closeTab:function(b){var e=this,a=b.card,d=e.tabPanel,c;if(a&&a.fireEvent('beforeclose',a)===!1){return !1}c=e.findNextActivatable(b);Ext.suspendLayouts();if(d&&a){delete b.ownerCt;a.fireEvent('close',a);d.remove(a);if(!d.getComponent(a)){b.fireClose();e.remove(b)}else {b.ownerCt=e;Ext.resumeLayouts(!0);return !1}}if(c){if(d){d.setActiveTab(c.card)}else {e.setActiveTab(c)}c.focus()}Ext.resumeLayouts(!0)},findNextActivatable:function(b){var a=this;if(b.active&&a.items.getCount()>1){return a.previousTab&&a.previousTab!==b&&!a.previousTab.disabled?a.previousTab:b.next('tab[disabled=false]')||b.prev('tab[disabled=false]')}},setActiveTab:function(b,c){var a=this;if(!b.disabled&&b!==a.activeTab){if(a.activeTab){if(a.activeTab.isDestroyed){a.previousTab=null}else {a.previousTab=a.activeTab;a.activeTab.deactivate()}}b.activate();a.activeTab=b;a.needsScroll=!0;if(!c){a.fireEvent('change',a,b,b.card);a.updateLayout()}}}},0,['tabbar'],['component','box','container','header','tabbar'],{'component':!0,'box':!0,'container':!0,'header':!0,'tabbar':!0},['widget.tabbar'],0,[Ext.tab,'Bar'],0);Ext.cmd.derive('Ext.tab.Panel',Ext.panel.Panel,{alternateClassName:['Ext.TabPanel'],tabPosition:'top',removePanelHeader:!0,plain:!1,itemCls:'x-tabpanel-child',minTabWidth:undefined,maxTabWidth:undefined,deferredRender:!0,initComponent:function(){var a=this,c=[].concat(a.dockedItems||[]),b=a.activeTab||(a.activeTab=0),d=a.tabPosition;a.layout=new Ext.layout.container.Card(Ext.apply({owner:a,deferredRender:a.deferredRender,itemCls:a.itemCls,activeItem:b},a.layout));a.tabBar=new Ext.tab.Bar(Ext.apply({ui:a.ui,dock:a.tabPosition,orientation:d=='top'||d=='bottom'?'horizontal':'vertical',plain:a.plain,cardLayout:a.layout,tabPanel:a},a.tabBar));c.push(a.tabBar);a.dockedItems=c;Ext.panel.Panel.prototype.initComponent.apply(this,arguments);b=a.activeTab=a.getComponent(b);if(b){a.tabBar.setActiveTab(b.tab,!0)}},onRender:function(){var b=this.items.items,c=b.length,a;Ext.panel.Panel.prototype.onRender.apply(this,arguments);for(a=0;a<c;++a){b[a].getBind()}},setActiveTab:function(a){var b=this,c;a=b.getComponent(a);if(a){c=b.getActiveTab();if(c===a||b.fireEvent('beforetabchange',b,a,c)===!1){return !1}if(!a.isComponent){Ext.suspendLayouts();a=b.add(a);Ext.resumeLayouts()}b.activeTab=a;Ext.suspendLayouts();b.layout.setActiveItem(a);a=b.activeTab=b.layout.getActiveItem();if(a&&a!==c){b.tabBar.setActiveTab(a.tab);Ext.resumeLayouts(!0);if(c!==a){b.fireEvent('tabchange',b,a,c)}}else {Ext.resumeLayouts(!0)}return a}},setActiveItem:function(a){return this.setActiveTab(a)},getActiveTab:function(){var a=this,b=a.getComponent(a.activeTab);if(b&&a.items.indexOf(b)!=-1){a.activeTab=b}else {a.activeTab=null}return a.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(a,e){var b=this,c=Ext.apply({},a.tabConfig),d={xtype:'tab',ui:b.tabBar.ui,card:a,disabled:a.disabled,closable:a.closable,hidden:a.hidden&&!a.hiddenByLayout,tooltip:a.tooltip,tabBar:b.tabBar,position:b.tabPosition};if(a.closeText!==undefined){d.closeText=a.closeText}c=Ext.applyIf(c,d);a.tab=b.tabBar.insert(e,c);a.on({scope:b,enable:b.onItemEnable,disable:b.onItemDisable,beforeshow:b.onItemBeforeShow,iconchange:b.onItemIconChange,iconclschange:b.onItemIconClsChange,titlechange:b.onItemTitleChange});if(a.isPanel){if(b.removePanelHeader){if(a.rendered){if(a.header){a.header.hide()}}else {a.header=!1}}if(a.isPanel&&b.border){a.setBorder(!1)}}if(b.rendered){a.getBind()}},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){if(a!==this.activeTab){this.setActiveTab(a);return !1}},onItemIconChange:function(b,a){b.tab.setIcon(a)},onItemIconClsChange:function(b,a){b.tab.setIconCls(a)},onItemTitleChange:function(b,a){b.tab.setText(a)},doRemove:function(b,d){var a=this,c;if(a.removingAll||a.destroying||a.items.getCount()==1){a.activeTab=null}else {if((c=a.tabBar.items.indexOf(a.tabBar.findNextActivatable(b.tab)))!==-1){a.setActiveTab(c)}}Ext.panel.Panel.prototype.doRemove.apply(this,arguments);delete b.tab.card;delete b.tab},onRemove:function(b,c){var a=this;b.un({scope:a,enable:a.onItemEnable,disable:a.onItemDisable,beforeshow:a.onItemBeforeShow});if(!a.destroying&&b.tab.ownerCt===a.tabBar){a.tabBar.remove(b.tab)}}},0,['tabpanel'],['component','box','container','panel','tabpanel'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tabpanel':!0},['widget.tabpanel'],0,[Ext.tab,'Panel',Ext,'TabPanel'],0);Ext.cmd.derive('Ext.util.ComponentDragger',Ext.dd.DragTracker,{autoStart:500,constructor:function(b,a){this.comp=b;this.initialConstrainTo=a.constrainTo;Ext.dd.DragTracker.prototype.constructor.call(this,a)},onStart:function(c){var a=this,b=a.comp;a.startPosition=b.getXY();if(b.ghost&&!b.liveDrag){a.proxy=b.ghost();a.dragTarget=a.proxy.header.el}if(a.constrain||a.constrainDelegate){a.constrainTo=a.calculateConstrainRegion()}if(b.beginDrag){b.beginDrag()}},calculateConstrainRegion:function(){var c=this,i=c.comp,a=c.initialConstrainTo,b=i.constraintInsets,h,d,f,g=c.proxy?c.proxy.el:i.el,e=!c.constrainDelegate&&g.shadow&&i.constrainShadow&&!g.shadowDisabled?g.shadow.getShadowSize():0;if(!(a instanceof Ext.util.Region)){h=Ext.fly(a);a=h.getViewRegion();a.right=a.left+h.dom.clientWidth}else {a=a.copy()}if(b){b=Ext.isObject(b)?b:Ext.Element.parseBox(b);a.adjust(b.top,b.right,b.bottom,b.length)}if(e){a.adjust(e[0],-e[1],-e[2],e[3])}if(!c.constrainDelegate){d=Ext.fly(c.dragTarget).getRegion();f=g.getRegion();a.adjust(d.top-f.top,d.right-f.right,d.bottom-f.bottom,d.left-f.left)}return a},onDrag:function(d){var a=this,c=a.proxy&&!a.comp.liveDrag?a.proxy:a.comp,b=a.getOffset(a.constrain||a.constrainDelegate?'dragTarget':null);c.setPagePosition(a.startPosition[0]+b[0],a.startPosition[1]+b[1])},onEnd:function(b){var a=this.comp;if(a.isDestroyed||a.destroying){return}if(this.proxy&&!a.liveDrag){a.unghost()}if(a.endDrag){a.endDrag()}}},1,0,0,0,0,0,[Ext.util,'ComponentDragger'],0);Ext.cmd.derive('Ext.window.Window',Ext.panel.Panel,{alternateClassName:'Ext.Window',baseCls:'x-window',resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:'offsets',floating:!0,itemCls:'x-window-item',initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,ariaRole:'dialog',initComponent:function(){var a=this;a.frame=!1;Ext.panel.Panel.prototype.initComponent.call(this);if(a.plain){a.addClsWithUI('plain')}a.addStateEvents(['maximize','restore','resize','dragend'])},getElConfig:function(){var b=this,a;a=Ext.panel.Panel.prototype.getElConfig.call(this);a.tabIndex=-1;return a},getState:function(){var a=this,e=Ext.panel.Panel.prototype.getState.call(this)||{},c=!!a.maximized,d=a.ghostBox,b;e.maximized=c;if(c){b=a.restorePos}else {if(d){b=[d.x,d.y]}else {b=a.getPosition()}}Ext.apply(e,{size:c?a.restoreSize:a.getSize(),pos:b});return e},applyState:function(a){var b=this;if(a){b.maximized=a.maximized;if(b.maximized){b.hasSavedRestore=!0;b.restoreSize=a.size;b.restorePos=a.pos}else {Ext.apply(b,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]})}}},onRender:function(c,b){var a=this;Ext.panel.Panel.prototype.onRender.apply(this,arguments);a.focusEl=a.el;if(a.maximizable){a.header.on({scope:a,dblclick:a.toggleMaximize})}},afterRender:function(){var a=this,c=a.header,b;if(a.maximized){a.maximized=!1;a.maximize();if(c){c.removeCls(c.indicateDragCls)}}Ext.panel.Panel.prototype.afterRender.call(this);if(a.closable){b=a.getKeyMap();b.on(27,a.onEsc,a)}else {b=a.keyMap}if(b&&a.hidden){b.disable()}},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){Ext.panel.Panel.prototype.initResizable.apply(this,arguments);if(this.maximized){this.resizer.disable()}},onEsc:function(c,b){var a=Ext['FocusManager'];if(!Ext.enableFocusManager||a.focusedCmp===this){b.stopEvent();this.close()}},beforeDestroy:function(){var a=this;if(a.rendered){delete a.animateTarget;a.hide();Ext.destroy(a.keyMap)}Ext.panel.Panel.prototype.beforeDestroy.call(this)},addTools:function(){var a=this,c=a.tools,b=[];Ext.panel.Panel.prototype.addTools.call(this);if(a.minimizable){c.push({type:'minimize',handler:Ext.Function.bind(a.minimize,a,b)})}if(a.maximizable){if(a.header&&'titlePosition' in a.header&&a.header.titlePosition>=c.length){a.header.titlePosition++}Ext.Array.push(c,{type:'maximize',handler:Ext.Function.bind(a.maximize,a,b)},{type:'restore',handler:Ext.Function.bind(a.restore,a,b),hidden:!0})}},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var b=this,c,a=b.defaultButton||b.defaultFocus,d;if(a!==undefined){if(Ext.isNumber(a)){c=b.query('button')[a]}else {if(Ext.isString(a)){d=a;if(d.match(b.initialAlphaNum)){c=b.down(Ext.makeIdSelector(d))}if(!c){c=b.down(d)}}else {if(a.focus){c=a}}}}return c||b.el},onFocus:function(){var b=this,a;if(Ext.enableFocusManager||(a=b.getDefaultFocus())===b){Ext.panel.Panel.prototype.onFocus.apply(this,arguments)}else {a.focus()}},onShow:function(){var a=this;Ext.panel.Panel.prototype.onShow.apply(this,arguments);if(a.expandOnShow){a.expand(!1)}a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.enable()}},doClose:function(){var a=this;if(a.hidden){a.fireEvent('close',a);if(a.closeAction=='destroy'){a.destroy()}}else {a.hide(a.animateTarget,a.doClose,a)}},afterHide:function(){var a=this;a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.disable()}Ext.panel.Panel.prototype.afterHide.apply(this,arguments)},onWindowResize:function(){var a=this,b;if(a.maximized){a.fitContainer()}else {b=a.getSizeModel();if(b.width.natural||b.height.natural){a.updateLayout()}a.doConstrain()}},minimize:function(){this.fireEvent('minimize',this);return this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this,b=a.header,c=a.tools;if(b&&a.maximizable){b.suspendLayouts();c.maximize.hide();c.restore.hide();this.resumeHeaderLayout(!0)}if(a.resizer){a.resizer.disable()}Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var a=this,c=a.header,d=a.tools,b;if(c){c.suspendLayouts();if(a.maximized){d.restore.show();b=!0}else {if(a.maximizable){d.maximize.show();b=!0}}this.resumeHeaderLayout(b)}if(a.resizer){a.resizer.enable()}Ext.panel.Panel.prototype.afterExpand.apply(this,arguments)},maximize:function(e){var a=this,b=a.header,d=a.tools,g=a.width,f=a.height,h,c;if(!a.maximized){a.expand(!1);if(!a.hasSavedRestore){h=a.restoreSize={width:Ext.isNumber(g)?g:null,height:Ext.isNumber(f)?f:null};a.restorePos=a.getPosition(!0)}if(b){b.suspendLayouts();if(d.maximize){d.maximize.hide();c=!0}if(d.restore){d.restore.show();c=!0}if(a.collapseTool){a.collapseTool.hide();c=!0}a.resumeHeaderLayout(c)}a.el.disableShadow();if(a.dd){a.dd.disable();if(b){b.removeCls(b.indicateDragCls)}}if(a.resizer){a.resizer.disable()}a.el.addCls('x-window-maximized');a.container.addCls('x-window-maximized-ct');a.syncMonitorWindowResize();a.fitContainer(e=e||!!a.animateTarget?{callback:function(){a.maximized=!0;a.fireEvent('maximize',a)}}:null);if(!e){a.maximized=!0;a.fireEvent('maximize',a)}}return a},restore:function(e){var a=this,d=a.tools,b=a.header,f=a.restoreSize,c;if(a.maximized){a.hasSavedRestore=null;a.removeCls('x-window-maximized');if(b){b.suspendLayouts();if(d.restore){d.restore.hide();c=!0}if(d.maximize){d.maximize.show();c=!0}if(a.collapseTool){a.collapseTool.show();c=!0}a.resumeHeaderLayout(c)}f.x=a.restorePos[0];f.y=a.restorePos[1];a.setBox(f,e=e||!!a.animateTarget?{callback:function(){a.el.enableShadow(!0);a.maximized=!1;a.fireEvent('restore',a)}}:null);a.restorePos=a.restoreSize=null;if(a.dd){a.dd.enable();if(b){b.addCls(b.indicateDragCls)}}if(a.resizer){a.resizer.enable()}a.container.removeCls('x-window-maximized-ct');a.syncMonitorWindowResize();if(!e){a.el.enableShadow(!0);a.maximized=!1;a.fireEvent('restore',a)}}return a},syncMonitorWindowResize:function(){var a=this,b=a._monitoringResize,d=a.constrain||a.constrainHeader||a.maximized,c=a.hidden||a.destroying||a.isDestroyed;if(d&&!c){if(!b){Ext.on('resize',a.onWindowResize,a,{buffer:1});a._monitoringResize=!0}}else {if(b){Ext.un('resize',a.onWindowResize,a);a._monitoringResize=!1}}},toggleMaximize:function(){return this[this.maximized?'restore':'maximize']()},createGhost:function(){var a=Ext.panel.Panel.prototype.createGhost.apply(this,arguments);a.xtype='window';return a}},0,['window'],['component','box','container','panel','window'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0},['widget.window'],0,[Ext.window,'Window',Ext,'Window'],0);Ext.cmd.derive('Ext.app.domain.Controller',Ext.app.EventDomain,{singleton:!0,type:'controller',prefix:'controller.',idMatchRe:/^\#/,constructor:function(){var a=this;a.callParent();a.monitor(Ext.app.BaseController)},match:function(c,a){var b=!1,d=c.alias;if(a==='*'){b=!0}else {if(a==='#'){b=!!c.isApplication}else {if(this.idMatchRe.test(a)){b=c.getId()===a.substring(1)}else {if(d){b=Ext.Array.indexOf(d,this.prefix+a)>-1}}}}return b}},1,0,0,0,0,0,[Ext.app.domain,'Controller'],0);Ext.cmd.derive('Ext.button.Split',Ext.button.Button,{alternateClassName:'Ext.SplitButton',arrowCls:'split',split:!0,setArrowHandler:function(a,b){this.arrowHandler=a;this.scope=b},onClick:function(b){var a=this;a.doPreventDefault(b);if(!a.disabled){if(b.type==='tap'?a.isWithinTrigger(b):a.overMenuTrigger){b.preventDefault();a.maybeShowMenu();a.fireEvent('arrowclick',a,b);if(a.arrowHandler){a.arrowHandler.call(a.scope||a,a,b)}}else {a.doToggle();a.fireHandler(b)}}}},0,['splitbutton'],['component','box','button','splitbutton'],{'component':!0,'box':!0,'button':!0,'splitbutton':!0},['widget.splitbutton'],0,[Ext.button,'Split',Ext,'SplitButton'],0);Ext.cmd.derive('Ext.container.Monitor',Ext.Base,{target:null,selector:'',scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(b){var a=this;a.target=b;b.on('beforedestroy',a.disable,a);a.onContainerAdd(b)},unbind:function(){var a=this,b=a.target;if(b){b.un('beforedestroy',a.disable,a)}a.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(b,a){if(!this.disabled){if(a.is(this.selector)){this.onItemAdd(a.ownerCt,a)}if(a.isQueryable){this.onContainerAdd(a)}}},onItemAdd:function(e,b){var a=this,d=a.items,c=a.addHandler;if(!a.disabled){if(c){c.call(a.scope||b,b)}if(d){d.add(b)}}},onItemRemove:function(e,b){var a=this,d=a.items,c=a.removeHandler;if(!a.disabled){if(c){c.call(a.scope||b,b)}if(d){d.remove(b)}}},onContainerAdd:function(c,i){var a=this,d,e,h=a.handleAdd,g=a.handleRemove,b,f;if(c.isContainer){c.on('add',h,a);c.on('dockedadd',h,a);c.on('remove',g,a);c.on('dockedremove',g,a)}if(i!==!0){d=c.query(a.selector);for(b=0,e=d.length;b<e;++b){f=d[b];a.onItemAdd(f.ownerCt,f)}}d=c.query('>container');for(b=0,e=d.length;b<e;++b){a.onContainerAdd(d[b],!0)}},handleRemove:function(c,a){var b=this;if(!b.disabled){if(a.is(b.selector)){b.onItemRemove(c,a)}if(a.isQueryable){b.onContainerRemove(c,a)}}},onContainerRemove:function(g,c){var d=this,b,a,e,f;if(!c.isDestroyed&&!c.destroying&&c.isContainer){d.removeCtListeners(c);b=c.query(d.selector);for(a=0,e=b.length;a<e;++a){f=b[a];d.onItemRemove(f.ownerCt,f)}b=c.query('container');for(a=0,e=b.length;a<e;++a){d.removeCtListeners(b[a])}}else {d.invalidateItems(!0)}},removeCtListeners:function(b){var a=this;b.un('add',a.handleAdd,a);b.un('dockedadd',a.handleAdd,a);b.un('remove',a.handleRemove,a);b.un('dockedremove',a.handleRemove,a)},getItems:function(){var b=this,a=b.items;if(!a){a=b.items=new Ext.util.MixedCollection();a.addAll(b.target.query(b.selector))}return a},invalidateItems:function(c){var a=this,b=a.invalidateHandler;if(c&&b){b.call(a.scope||a,a)}a.items=null}},1,0,0,0,0,0,[Ext.container,'Monitor'],0);Ext.cmd.derive('Ext.layout.container.Anchor',Ext.layout.container.Auto,{alternateClassName:'Ext.layout.AnchorLayout',type:'anchor',defaultAnchor:'100%',parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,setsItemSize:!0,beginLayoutCycle:function(f){var i=this,c=0,b,a,e,d,g,h;Ext.layout.container.Auto.prototype.beginLayoutCycle.apply(this,arguments);e=f.childItems;g=e.length;for(d=0;d<g;++d){a=e[d];b=a.target.anchorSpec;if(b){if(a.widthModel.calculated&&b.right){c|=1}if(a.heightModel.calculated&&b.bottom){c|=2}if(c==3){break}}}f.anchorDimensions=c},calculateItems:function(i,b){var m=this,j=i.childItems,q=j.length,k=b.gotHeight,l=b.gotWidth,o=b.height,p=b.width,n=(l?1:0)|(k?2:0),f=i.anchorDimensions,h,a,g,c,e,d;if(!f){return !0}for(e=0;e<q;e++){a=j[e];g=a.getMarginInfo();h=a.target.anchorSpec;if(l&&a.widthModel.calculated){d=h.right(p)-g.width;d=m.adjustWidthAnchor(d,a);a.setWidth(d)}if(k&&a.heightModel.calculated){c=h.bottom(o)-g.height;c=m.adjustHeightAnchor(c,a);a.setHeight(c)}}return (n&f)===f},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,e,d){if(a&&a!='none'){var b=this.anchorFactory,c;if(this.parseAnchorRE.test(a)){return b.standard(d-e)}if(a.indexOf('%')!=-1){return b.ratio(parseFloat(a.replace('%',''))*0.01)}c=parseInt(a,10);if(!isNaN(c)){return b.offset(c)}}return null},adjustWidthAnchor:function(a,b){return a},adjustHeightAnchor:function(a,b){return a},configureItem:function(a){var d=this,b=d.owner,g=a.anchor,f,c,e;Ext.layout.container.Auto.prototype.configureItem.apply(this,arguments);if(!a.anchor&&a.items&&!Ext.isNumber(a.width)){a.anchor=g=d.defaultAnchor}if(b.anchorSize){if(typeof b.anchorSize=='number'){c=b.anchorSize}else {c=b.anchorSize.width;e=b.anchorSize.height}}else {c=b.initialConfig.width;e=b.initialConfig.height}if(g){f=g.split(' ');a.anchorSpec={right:d.parseAnchor(f[0],a.initialConfig.width,c),bottom:d.parseAnchor(f[1],a.initialConfig.height,e)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var a=e.anchorSpec,d='$',c=this.sizePolicy,b;if(a){b=this.owner.getSizeModel();if(a.right&&!b.width.shrinkWrap){c=c.r}if(a.bottom&&!b.height.shrinkWrap){d='b'}}return c[d]}},0,0,0,0,['layout.anchor'],0,[Ext.layout.container,'Anchor',Ext.layout,'AnchorLayout'],0);Ext.cmd.derive('Ext.layout.container.Column',Ext.layout.container.Auto,{alternateClassName:'Ext.layout.ColumnLayout',type:'column',itemCls:'x-column',targetCls:'x-column-layout-ct',columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,setsItemSize:!0,isItemShrinkWrap:function(a){return !0},getItemSizePolicy:function(b,a){if(b.columnWidth){if(!a){a=this.owner.getSizeModel()}if(!a.width.shrinkWrap){return this.columnWidthSizePolicy}}return this.autoSizePolicy},calculateItems:function(g,j){var m=this,n=g.targetContext,i=g.childItems,l=i.length,f=0,k=j.gotWidth,h,e,c,a,d,b;if(k===!1){n.domBlock(m,'width');h=!0}else {if(k){e=j.width}else {return !0}}for(c=0;c<l;++c){a=i[c];d=a.getMarginInfo().width;if(!a.widthModel.calculated){b=a.getProp('width');if(typeof b!='number'){a.block(m,'width');h=!0}f+=b+d}}if(!h){e=e<f?0:e-f;for(c=0;c<l;++c){a=i[c];if(a.widthModel.calculated){d=a.marginInfo.width;b=a.target.columnWidth;b=Math.floor(b*e)-d;b=a.setWidth(b);f+=b+d}}g.setContentWidth(f+g.paddingContext.getPaddingInfo().width)}return !h}},0,0,0,0,['layout.column'],0,[Ext.layout.container,'Column',Ext.layout,'ColumnLayout'],0);Ext.cmd.derive('Ext.resizer.SplitterTracker',Ext.dd.DragTracker,{enabled:!0,overlayCls:'x-resizable-overlay',createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({role:'presentation',cls:this.overlayCls,html:'&#160;'});a.unselectable();a.setSize(Ext.dom.Element.getDocumentWidth(),Ext.dom.Element.getDocumentHeight());a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling(':not([hidden])')},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling(':not([hidden])')},onBeforeStart:function(g){var a=this,c=a.getPrevCmp(),b=a.getNextCmp(),e=a.getSplitter().collapseEl,f=g.getTarget(),d;if(!c||!b){return !1}if(e&&f===a.getSplitter().collapseEl.dom){return !1}if(b.collapsed||c.collapsed){return !1}a.prevBox=c.getEl().getBox();a.nextBox=b.getEl().getBox();a.constrainTo=d=a.calculateConstrainRegion();if(!d){return !1}return d},onStart:function(b){var a=this.getSplitter();this.createDragOverlay();a.addCls(a.baseCls+'-active')},calculateConstrainRegion:function(){var a=this,k=a.getSplitter(),j=k.getWidth(),e=k.defaultSplitMin,l=k.orientation,c=a.prevBox,g=a.getPrevCmp(),b=a.nextBox,f=a.getNextCmp(),i,h,d;if(l==='vertical'){d={prevCmp:g,nextCmp:f,prevBox:c,nextBox:b,defaultMin:e,splitWidth:j};i=new Ext.util.Region(c.y,a.getVertPrevConstrainRight(d),c.bottom,a.getVertPrevConstrainLeft(d));h=new Ext.util.Region(b.y,a.getVertNextConstrainRight(d),b.bottom,a.getVertNextConstrainLeft(d))}else {i=new Ext.util.Region(c.y+(g.minHeight||e),c.right,(g.maxHeight?c.y+g.maxHeight:b.bottom-(f.minHeight||e))+j,c.x);h=new Ext.util.Region((f.maxHeight?b.bottom-f.maxHeight:c.y+(g.minHeight||e))-j,b.right,b.bottom-(f.minHeight||e),b.x)}return i.intersect(h)},performResize:function(p,b){var c=this,k=c.getSplitter(),n=k.orientation,f=c.getPrevCmp(),e=c.getNextCmp(),l=k.ownerCt,j=l.query('>[flex]'),o=j.length,h=n==='vertical',i=0,d=h?'width':'height',m=0,g,a;for(;i<o;i++){g=j[i];a=h?g.getWidth():g.getHeight();m+=a;g.flex=a}b=h?b[0]:b[1];if(f){a=c.prevBox[d]+b;if(f.flex){f.flex=a}else {f[d]=a}}if(e){a=c.nextBox[d]-b;if(e.flex){e.flex=a}else {e[d]=a}}l.updateLayout()},endDrag:function(){var a=this;if(a.overlay){a.overlay.destroy();delete a.overlay}Ext.dd.DragTracker.prototype.endDrag.apply(this,arguments)},onEnd:function(c){var a=this,b=a.getSplitter();b.removeCls(b.baseCls+'-active');a.performResize(c,a.getResizeOffset())},onDrag:function(f){var a=this,d=a.getOffset('dragTarget'),b=a.getSplitter(),c=b.getEl(),e=b.orientation;if(e==='vertical'){c.setX(a.startRegion.left+d[0])}else {c.setY(a.startRegion.top+d[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return (a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return (a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset('dragTarget')}},0,0,0,0,0,0,[Ext.resizer,'SplitterTracker'],0);Ext.cmd.derive('Ext.dom.Layer',Ext.Element,{alternateClassName:'Ext.Layer',isLayer:!0,localXYNames:{get:'getLocalXY',set:'setLocalXY'},constructor:function(a,e){a=a||{};var b=this,k=Ext.DomHelper,i=a.parentEl,h=i?Ext.getDom(i):document.body,j=a.hideMode,g='x-'+(a.fixed?'fixed-layer':'layer'),c,d,f;if(e){c=Ext.getDom(e);if(!c.parentNode){h.appendChild(c)}}if(!c){c=k.append(h,a.dh||{tag:'div',cls:g})}if(a.id){c.id=a.id}d=c.id;if(d){f=Ext.cache[d];if(f){delete Ext.cache[d];f.dom=null}}Ext.dom.Element.prototype.constructor.call(this,c);if(e){b.addCls(g)}if(a.preventSync){b.preventSync=!0}if(a.cls){b.addCls(a.cls)}b.constrain=a.constrain!==!1;if(j){b.setVisibilityMode(Ext.Element[j.toUpperCase()])}else {if(a.useDisplay){b.setVisibilityMode(Ext.Element.DISPLAY)}else {b.setVisibilityMode(Ext.Element.VISIBILITY)}}if(a.shadow){b.shadowOffset=a.shadowOffset||4;b.shadow=new Ext.Shadow({offset:b.shadowOffset,mode:a.shadow,fixed:a.fixed});b.disableShadow()}else {b.shadowOffset=0}if(a.hidden===!0){b.hide()}else {if(a.hidden===!1){b.show()}}},getZIndex:function(){return parseInt(this.getStyle('z-index'),10)},disableShadow:function(){var a=this;if(a.shadow&&!a.shadowDisabled){a.shadowDisabled=!0;a.shadow.hide();a.lastShadowOffset=a.shadowOffset;a.shadowOffset=0}},enableShadow:function(b){var a=this;if(a.shadow&&a.shadowDisabled){a.shadowDisabled=!1;a.shadowOffset=a.lastShadowOffset;delete a.lastShadowOffset;if(b){a.sync(!0)}}},sync:function(h){var a=this,b=a.shadow,c,f,g,e,d;if(a.preventSync){return}if(!a.updating&&a.isVisible()&&b){c=a[a.localXYNames.get]();f=c[0];g=c[1];e=a.dom.offsetWidth;d=a.dom.offsetHeight;if(b&&!a.shadowDisabled){if(h&&!b.isVisible()){b.show(a)}else {b.realign(f,g,e,d)}}}return a},destroy:function(){this.hideUnders();Ext.dom.Element.prototype.destroy.call(this)},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1;this.sync(!0)},hideUnders:function(){if(this.shadow){this.shadow.hide()}},constrainXY:function(){if(this.constrain){var g=Ext.Element.getViewportWidth(),f=Ext.Element.getViewportHeight(),a=Ext.getDoc().getScroll(),h=this.getXY(),c=h[0],d=h[1],e=this.shadowOffset,j=this.dom.offsetWidth+e,i=this.dom.offsetHeight+e,b=!1;if(c+j>g+a.left){c=g-j-e;b=!0}if(d+i>f+a.top){d=f-i-e;b=!0}if(c<a.left){c=a.left;b=!0}if(d<a.top){d=a.top;b=!0}if(b){Ext.Layer.superclass.setXY.call(this,[c,d]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(b,d,f,a,g){var c=this,e;e=function(){if(b){c.sync(!0)}if(a){a()}};if(!b){c.hideUnders(!0)}Ext.dom.Element.prototype.setVisible.call(this,b,d,f,a,g);if(!d){e()}return c},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){Ext.dom.Element.prototype.setLeft.apply(this,arguments);return this.sync()},setTop:function(a){Ext.dom.Element.prototype.setTop.apply(this,arguments);return this.sync()},setLeftTop:function(a,b){this.callParent(arguments);return this.sync()},setLocalX:function(){Ext.dom.Element.prototype.setLocalX.apply(this,arguments);return this.sync()},setLocalXY:function(){Ext.dom.Element.prototype.setLocalXY.apply(this,arguments);return this.sync()},setLocalY:function(){Ext.dom.Element.prototype.setLocalY.apply(this,arguments);return this.sync()},setXY:function(f,c,d,a,e){var b=this;a=b.createCB(a);b.fixDisplay();b.beforeAction();Ext.dom.Element.prototype.setXY.call(this,f,c,d,a,e);if(!c){a()}return b},createCB:function(b){var a=this,c=a.shadow&&a.shadow.isVisible();return function(){a.constrainXY();a.sync(c);if(b){b()}}},setX:function(e,c,b,a,d){this.setXY([e,this.getY()],c,b,a,d);return this},setY:function(e,c,b,a,d){this.setXY([this.getX(),e],c,b,a,d);return this},setSize:function(g,f,c,d,a,e){var b=this;a=b.createCB(a);b.beforeAction();Ext.dom.Element.prototype.setSize.call(this,g,f,c,d,a,e);if(!c){a()}return b},setWidth:function(f,c,d,a,e){var b=this;a=b.createCB(a);b.beforeAction();Ext.dom.Element.prototype.setWidth.call(this,f,c,d,a,e);if(!c){a()}return b},setHeight:function(f,c,d,a,e){var b=this;a=b.createCB(a);b.beforeAction();Ext.dom.Element.prototype.setHeight.call(this,f,c,d,a,e);if(!c){a()}return b},setZIndex:function(b){var a=this;a.zindex=b;if(a.shadow){a.shadow.setZIndex(b)}return a.setStyle('z-index',b)},onOpacitySet:function(b){var a=this.shadow;if(a){a.setOpacity(b)}},deprecated:{'4.2':{setBounds:function(f,g,e,d,c,h,b,i){var a=this;b=a.createCB(b);a.beforeAction();if(!c){Ext.Layer.superclass.setXY.call(a,[f,g]);Ext.Layer.superclass.setSize.call(a,e,d);b()}else {a.callParent([f,g,e,d,c,h,b,i])}return a}}}},1,0,0,0,0,0,[Ext.dom,'Layer',Ext,'Layer'],0);Ext.cmd.derive('Ext.form.action.Action',Ext.Base,{alternateClassName:'Ext.form.Action',submitEmptyText:!0,constructor:function(a){if(a){Ext.apply(this,a)}var b=a.params;if(Ext.isString(b)){this.params=Ext.Object.fromQueryString(b)}},run:Ext.emptyFn,onFailure:function(a){this.response=a;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,!1)},processResponse:function(a){this.response=a;if(!a.responseText&&!a.responseXML){return !0}return this.result=this.handleResponse(a)},getUrl:function(){return this.url||this.form.url},getMethod:function(){return (this.method||this.form.method||'POST').toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var a=this,c,b=a.form;return {success:a.onSuccess,failure:a.onFailure,scope:a,timeout:this.timeout*1000||b.timeout*1000,upload:b.fileUpload?a.onSuccess:c}},statics:{CLIENT_INVALID:'client',SERVER_INVALID:'server',CONNECT_FAILURE:'connect',LOAD_FAILURE:'load'}},1,0,0,0,0,0,[Ext.form.action,'Action',Ext.form,'Action'],0);Ext.cmd.derive('Ext.form.action.Load',Ext.form.action.Action,{alternateClassName:'Ext.form.Action.Load',type:'load',run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(c){var a=this.processResponse(c),b=this.form;if(a===!0||!a.success||!a.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;b.afterAction(this,!1);return}b.clearInvalid();b.setValues(a.data);b.afterAction(this,!0)},handleResponse:function(b){var c=this.form.reader,a,d;if(c){a=c.read(b);d=a.records&&a.records[0]?a.records[0].data:null;return {success:a.success,data:d}}return Ext.decode(b.responseText)}},0,0,0,0,['formaction.load'],0,[Ext.form.action,'Load',Ext.form.Action,'Load'],0);Ext.cmd.derive('Ext.form.action.Submit',Ext.form.action.Action,{alternateClassName:'Ext.form.Action.Submit',type:'submit',run:function(){var a=this,b=a.form;if(a.clientValidation===!1||b.isValid()){a.doSubmit()}else {a.failureType=Ext.form.action.Action.CLIENT_INVALID;b.afterAction(a,!1)}},doSubmit:function(){var a=this,b=Ext.apply(a.createCallback(),{url:a.getUrl(),method:a.getMethod(),headers:a.headers}),e=a.form,d=a.jsonSubmit||e.jsonSubmit,f=d?'jsonData':'params',c;if(e.hasUpload()){c=a.buildForm();b.form=c.formEl;b.isUpload=!0}else {b[f]=a.getParams(d)}Ext.Ajax.request(b);if(c){a.cleanup(c)}},cleanup:function(b){var e=b.formEl,f=b.uploadEls,d=b.uploadFields,g=d.length,a,c;for(a=0;a<g;++a){c=d[a];if(!c.clearOnSubmit){c.restoreInput(f[a])}}if(e){Ext.removeNode(e)}},getParams:function(b){var a=!1,c=Ext.form.action.Action.prototype.getParams.call(this),d=this.form.getValues(a,a,this.submitEmptyText!==a,b,!0);return Ext.apply({},d,c)},buildForm:function(){var b=this,h=[],f,i,q=b.form,j=b.getParams(),c=[],n=[],o=q.getFields().items,a,l=o.length,k,e,d,g,p,m;for(a=0;a<l;++a){k=o[a];if(k.isFileUpload()){c.push(k)}}for(e in j){if(j.hasOwnProperty(e)){d=j[e];if(Ext.isArray(d)){p=d.length;for(g=0;g<p;g++){h.push(b.getFieldConfig(e,d[g]))}}else {h.push(b.getFieldConfig(e,d))}}}f={tag:'form',role:'presentation',action:b.getUrl(),method:b.getMethod(),target:b.target||'_self',style:'display:none',cn:h};if(c.length){f.encoding=f.enctype='multipart/form-data'}i=Ext.DomHelper.append(Ext.getBody(),f);l=c.length;for(a=0;a<l;++a){m=c[a].extractFileInput();i.appendChild(m);n.push(m)}return {formEl:i,uploadFields:c,uploadEls:n}},getFieldConfig:function(b,a){return {tag:'input',type:'hidden',name:b,value:Ext.String.htmlEncode(a)}},onSuccess:function(d){var c=this.form,b=!0,a=this.processResponse(d);if(a!==!0&&!a.success){if(a.errors){c.markInvalid(a.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;b=!1}c.afterAction(this,b)},handleResponse:function(g){var i=this.form,f=i.errorReader,e,a,b,h,c,d;if(f){e=f.read(g);c=e.records;a=[];if(c){for(b=0,h=c.length;b<h;b++){a[b]=c[b].data}}if(a.length<1){a=null}d={success:e.success,errors:a}}else {try{d=Ext.decode(g.responseText)}catch(j){d={success:!1,errors:[]}}}return d}},0,0,0,0,['formaction.submit'],0,[Ext.form.action,'Submit',Ext.form.Action,'Submit'],0);Ext.cmd.derive('Ext.form.field.VTypes',Ext.Base,function(){var b=/^[a-zA-Z_]+$/,a=/^[a-zA-Z0-9_]+$/,c=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return {singleton:!0,alternateClassName:'Ext.form.VTypes','email':function(a){return c.test(a)},'emailText':'This field should be an e-mail address in the format "user@example.com"','emailMask':/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,'url':function(a){return d.test(a)},'urlText':'This field should be a URL in the format "http://www.example.com"','alpha':function(a){return b.test(a)},'alphaText':'This field should only contain letters and _','alphaMask':/[a-z_]/i,'alphanum':function(b){return a.test(b)},'alphanumText':'This field should only contain letters, numbers and _','alphanumMask':/[a-z0-9_]/i}}(),0,0,0,0,0,0,[Ext.form.field,'VTypes',Ext.form,'VTypes'],0);Ext.cmd.derive('Ext.form.trigger.Trigger',Ext.Base,{factoryConfig:{defaultType:'trigger'},repeatClick:!1,focusFieldOnClick:!1,hidden:!1,hideOnReadOnly:undefined,weight:0,baseCls:'x-form-trigger',focusCls:'x-form-trigger-focus',overCls:'x-form-trigger-over',clickCls:'x-form-trigger-click',validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>>','{[values.$trigger.renderBody(values)]}','</div>'],statics:{weightComparator:function(a,b){return a.weight-b.weight}},constructor:function(c){var a=this,b;Ext.apply(a,c);if(a.compat4Mode){b=a.cls;a.focusCls=[a.focusCls,b+'-focus'];a.overCls=[a.overCls,b+'-over'];a.clickCls=[a.clickCls,b+'-click']}},afterFieldRender:function(){this.initEvents()},destroy:function(){var a=this,b=a.clickRepeater;if(b){b.destroy()}if(a.el){a.el.destroy()}a.el=null;a.isDestroyed=!0},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var b=this,a=b.el;b.hidden=!0;if(a){a.hide()}},initEvents:function(){var a=this,b=a.isFieldEnabled,c=a.getStateEl(),d=a.el;c.addClsOnOver(a.overCls,b,a);c.addClsOnClick(a.clickCls,b,a);if(a.repeatClick){a.clickRepeater=new Ext.util.ClickRepeater(d,{preventDefault:!0,handler:a.onClick,listeners:{mouseup:a.onMouseUp,scope:a},scope:a})}else {a.field.mon(d,{click:a.onClick,mouseup:a.onMouseUp,scope:a})}},isFieldEnabled:function(){return !this.field.disabled},isVisible:function(){var a=this,c=a.field,b=!1;if(a.hidden||!c||!a.rendered||a.isDestroyed){b=!0}return !b},onClick:function(){var a=this,c=arguments,e=a.clickRepeater?c[1]:c[0],d=a.handler,b=a.field;if(d&&!b.readOnly&&a.isFieldEnabled()){Ext.callback(a.handler,a.scope,[b,a,e],0,b)}},onMouseUp:function(){if(this.focusFieldOnClick){this.field.inputEl.focus()}},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var a=this,b=a.el=a.field.triggerWrap.selectNode('#'+a.domId,!1);b.setVisibilityMode(Ext.Element.DISPLAY);a.rendered=!0},renderBody:function(b){var a=this,c=a.bodyTpl;Ext.apply(b,a.getBodyRenderData());return c?Ext.XTemplate.getTpl(a,'bodyTpl').apply(b):''},renderTrigger:function(b){var a=this,d=a.width,c=a.hidden?'display:none;':'';if(d){c+='width:'+d}return Ext.XTemplate.getTpl(a,'renderTpl').apply({$trigger:a,fieldData:b,ui:b.ui,childElCls:b.childElCls,triggerId:a.domId=a.field.id+'-trigger-'+a.id,cls:a.cls,triggerStyle:c,extraCls:a.extraCls,baseCls:a.baseCls})},show:function(){var b=this,a=b.el;b.hidden=!1;if(a){a.show()}}},1,0,0,0,['trigger.trigger'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.form.trigger,'Trigger'],0);Ext.cmd.derive('Ext.form.field.Text',Ext.form.field.Base,{alternateClassName:['Ext.form.TextField','Ext.form.Text'],config:{hideTrigger:!1,triggers:undefined},growMin:30,growMax:800,growAppend:'W',allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:'The minimum length for this field is {0}',maxLengthText:'The maximum length for this field is {0}',blankText:'This field is required',regexText:'',emptyCls:'x-form-empty-field',requiredCls:'x-form-required-field',valueContainsPlaceholder:!1,ariaRole:'textbox',editable:!0,repeatTriggerClick:!1,triggerWrapCls:'x-form-trigger-wrap',triggerWrapFocusCls:'x-form-trigger-wrap-focus',triggerWrapInvalidCls:'x-form-trigger-wrap-invalid',fieldBodyCls:'x-form-text-field-body',inputWrapCls:'x-form-text-wrap',inputWrapFocusCls:'x-form-text-wrap-focus',inputWrapInvalidCls:'x-form-text-wrap-invalid',monitorTab:!0,mimicing:!1,childEls:['triggerWrap','inputWrap'],preSubTpl:['<div id="{cmpId}-triggerWrap" class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:['</div>','<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>','</div>'],initComponent:function(){var a=this,b=a.emptyCls;if(a.allowOnlyWhitespace===!1){a.allowBlank=!1}a.defaultBodyWidth=a.size*6.5+20;if(!a.onTrigger1Click){a.onTrigger1Click=a.onTriggerClick}Ext.form.field.Base.prototype.initComponent.call(this);a.setReadOnly(a.readOnly);a.fieldFocusCls=a.baseCls+'-focus';a.emptyUICls=b+' '+b+'-'+a.ui;a.addStateEvents('change');a.setGrowSizePolicy()},setGrowSizePolicy:function(){if(this.grow){this.shrinkWrap|=1}},initEvents:function(){var a=this,b=a.inputEl;this.mon(Ext.GlobalEvents,'beforefocus',this.onOtherFocus,this);Ext.form.field.Base.prototype.initEvents.call(this);if(a.selectOnFocus||a.emptyText){a.mon(b,'mousedown',a.onMouseDown,a)}if(a.maskRe||a.vtype&&a.disableKeyFilter!==!0&&(a.maskRe=Ext.form.field.VTypes[a.vtype+'Mask'])){a.mon(b,'keypress',a.filterKeys,a)}if(a.enableKeyEvents){a.mon(b,{scope:a,keyup:a.onKeyUp,keydown:a.onKeyDown,keypress:a.onKeyPress})}},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(a,b){Ext.form.field.Base.prototype.onChange.apply(this,arguments);this.autoSize()},getSubTplData:function(){var a=this,c=a.getRawValue(),e=a.emptyText&&c.length<1,b=a.maxLength,d;if(a.enforceMaxLength){if(b===Number.MAX_VALUE){b=undefined}}else {b=undefined}if(e){if(Ext.supports.Placeholder){d=a.emptyText}else {c=a.emptyText;a.valueContainsPlaceholder=!0}}return Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this),{triggerWrapCls:a.triggerWrapCls,inputWrapCls:a.inputWrapCls,triggers:a.orderedTriggers,maxLength:b,readOnly:!a.editable||a.readOnly,placeholder:d,value:c,fieldCls:a.fieldCls+(e&&(d||c)?' '+a.emptyUICls:'')+(a.allowBlank?'':' '+a.requiredCls)})},onRender:function(){var a=this,b=a.getTriggers(),c=[],d,e;if(Ext.supports.MinWidthTableCellBug){a.el._needsMinWithFix=!0}(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).call(this);if(b){this.invokeTriggers('onFieldRender');for(d in b){c.push(b[d].el)}e=a.triggerEl=a.triggerCell=new Ext.CompositeElement(c,!0)}a.inputCell=a.inputWrap},afterRender:function(){var a=this;a.autoSize();Ext.form.field.Base.prototype.afterRender.call(this);this.invokeTriggers('afterFieldRender')},onMouseDown:function(b){var a=this;if(!a.hasFocus){a.mon(a.inputEl,'mouseup',Ext.emptyFn,a,{single:!0,preventDefault:!0})}},applyTriggers:function(c){var a=this,j=a.getHideTrigger(),k=a.readOnly,f=a.orderedTriggers=[],i=a.repeatTriggerClick,e,b,h,g,d;if(!c){c={};if(a.triggerCls&&!a.trigger1Cls){a.trigger1Cls=a.triggerCls}for(d=1;g=a['trigger'+d+'Cls'];d++){c['trigger'+d]={cls:g,extraCls:'x-trigger-index-'+d,handler:'onTrigger'+d+'Click',compat4Mode:!0,scope:a}}}for(e in c){if(c.hasOwnProperty(e)){b=c[e];b.field=a;b.id=e;if(k&&b.hideOnReadOnly!==!1||j&&b.hidden!==!1){b.hidden=!0}if(i&&b.repeatClick!==!1){b.repeatClick=!0}h=c[e]=Ext.form.trigger.Trigger.create(b);f.push(h)}}Ext.Array.sort(f,Ext.form.trigger.Trigger.weightComparator);return c},invokeTriggers:function(d,e){var f=this,a=f.getTriggers(),c,b;if(a){for(c in a){if(a.hasOwnProperty(c)){b=a[c];b[d].apply(b,e||[])}}}},getTrigger:function(a){return this.getTriggers()[a]},updateHideTrigger:function(a){if(this.rendered){this.invokeTriggers(a?'hide':'show')}},setEditable:function(b){var a=this;a.editable=b;if(a.rendered){a.setReadOnlyAttr(!b||a.readOnly)}},setReadOnly:function(a){var c=this,d=c.getTriggers(),f=c.getHideTrigger(),b,e;a=!!a;Ext.form.field.Base.prototype.setReadOnly.call(this,a);if(c.rendered){c.setReadOnlyAttr(a||!c.editable);if(d){for(e in d){b=d[e];if(b.hideOnReadOnly===!0||b.hideOnReadOnly!==!1&&!f){b[a?'hide':'show'].call(b)}}}}},setReadOnlyAttr:function(c){var d=this,a='readonly',b=d.inputEl.dom;if(c){b.setAttribute(a,a)}else {b.removeAttribute(a)}},processRawValue:function(b){var d=this,c=d.stripCharsRe,a;if(c){a=b.replace(c,'');if(a!==b){d.setRawValue(a);b=a}}return b},onDisable:function(){Ext.form.field.Base.prototype.onDisable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable='on'}},onEnable:function(){Ext.form.field.Base.prototype.onEnable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable=''}},onKeyDown:function(a){this.fireEvent('keydown',this,a)},onKeyUp:function(a){this.fireEvent('keyup',this,a)},onKeyPress:function(a){this.fireEvent('keypress',this,a)},reset:function(){Ext.form.field.Base.prototype.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){var a=this,b=a.emptyText,c;if(a.rendered&&b){c=a.getRawValue().length<1&&!a.hasFocus;if(Ext.supports.Placeholder){a.inputEl.dom.placeholder=b}else {if(c){a.setRawValue(b);a.valueContainsPlaceholder=!0}}if(c){a.inputEl.addCls(a.emptyUICls)}a.autoSize()}},afterFirstLayout:function(){Ext.form.field.Base.prototype.afterFirstLayout.call(this);if(Ext.isIE&&this.disabled){var a=this.inputEl;if(a){a.dom.unselectable='on'}}},toggleInvalidCls:function(b){var a=b?'addCls':'removeCls';Ext.form.field.Base.prototype.toggleInvalidCls.call(this);this.triggerWrap[a](this.triggerWrapInvalidCls);this.inputWrap[a](this.inputWrapInvalidCls)},beforeFocus:function(){var a=this,b=a.inputEl,d=a.emptyText,c;Ext.form.field.Base.prototype.beforeFocus.apply(this,arguments);if(d&&!Ext.supports.Placeholder&&(b.dom.value===a.emptyText&&a.valueContainsPlaceholder)){a.setRawValue('');c=!0;b.removeCls(a.emptyUICls);a.valueContainsPlaceholder=!1}else {if(Ext.supports.Placeholder){b.removeCls(a.emptyUICls)}}if(a.selectOnFocus||c){if(Ext.isWebKit){if(!a.inputFocusTask){a.inputFocusTask=new Ext.util.DelayedTask(a.focusInput,a)}a.inputFocusTask.delay(1)}else {a.focusInput()}}},focusInput:function(){var a=this.inputEl;if(a){a=a.dom;if(a){a.select()}}},onFocus:function(b){var a=this;a.otherFocused=!1;Ext.form.field.Base.prototype.onFocus.apply(this,arguments);if(a.emptyText){a.autoSize()}if(!a.mimicing){a.addCls(a.fieldFocusCls);a.triggerWrap.addCls(a.triggerWrapFocusCls);a.inputWrap.addCls(a.inputWrapFocusCls);a.invokeTriggers('onFieldFocus',[b]);a.mimicing=!0;a.mon(Ext.getDoc(),'mousedown',a.mimicBlur,a,{delay:10});if(a.monitorTab){a.on('specialkey',a.checkTab,a)}}},onBlur:function(){if(this.blurring||this.otherFocused){this.triggerBlur();this.otherFocused=!1}},onOtherFocus:function(a){this.otherFocused=this.hasFocus&&!this.bodyEl.contains(a)},checkTab:function(b,a){if(!this.ignoreMonitorTab&&a.getKey()===a.TAB){this.triggerBlur()}},mimicBlur:function(a){if(!this.isDestroyed&&!this.bodyEl.contains(a.target)){this.triggerBlur(a)}},triggerBlur:function(b){var a=this;a.mimicing=!1;a.mun(Ext.getDoc(),'mousedown',a.mimicBlur,a);if(a.monitorTab&&a.inputEl){a.un('specialkey',a.checkTab,a)}Ext.form.field.Text.superclass.onBlur.call(a,b);a.removeCls(a.fieldFocusCls);a.triggerWrap.removeCls(a.triggerWrapFocusCls);a.inputWrap.removeCls(a.inputWrapFocusCls);a.invokeTriggers('onFieldBlur',[b])},postBlur:function(){var a=this.inputFocusTask;Ext.form.field.Base.prototype.postBlur.apply(this,arguments);this.applyEmptyText();if(a){a.cancel()}},filterKeys:function(a){if(a.ctrlKey&&!a.altKey){return}var c=a.getKey(),b=String.fromCharCode(a.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(a.isNavKeyPress()||c===a.BACKSPACE||c===a.DELETE&&a.button===-1)){return}if(!Ext.isGecko&&!Ext.isOpera&&a.isSpecialKey()&&!b){return}if(!this.maskRe.test(b)){a.stopEvent()}},getState:function(){return this.addPropertyToState(Ext.form.field.Base.prototype.getState.call(this),'value')},applyState:function(a){Ext.form.field.Base.prototype.applyState.apply(this,arguments);if(a.hasOwnProperty('value')){this.setValue(a.value)}},getRawValue:function(){var b=this,a=Ext.form.field.Base.prototype.getRawValue.call(this);if(a===b.emptyText&&b.valueContainsPlaceholder){a=''}return a},setValue:function(c){var a=this,b=a.inputEl;if(b&&a.emptyText&&!Ext.isEmpty(c)){b.removeCls(a.emptyUICls);a.valueContainsPlaceholder=!1}Ext.form.field.Base.prototype.setValue.apply(this,arguments);a.applyEmptyText();return a},getErrors:function(b){var a=this,c=Ext.form.field.Base.prototype.getErrors.apply(this,arguments),f=a.validator,d=a.vtype,j=Ext.form.field.VTypes,k=a.regex,i=Ext.String.format,e,h,g;b=b||a.processRawValue(a.getRawValue());if(Ext.isFunction(f)){e=f.call(a,b);if(e!==!0){c.push(e)}}h=a.allowOnlyWhitespace?b:Ext.String.trim(b);if(h.length<1||b===a.emptyText&&a.valueContainsPlaceholder){if(!a.allowBlank){c.push(a.blankText)}if(!a.validateBlank){return c}g=!0}if(!g&&b.length<a.minLength){c.push(i(a.minLengthText,a.minLength))}if(b.length>a.maxLength){c.push(i(a.maxLengthText,a.maxLength))}if(d){if(!j[d](b,a)){c.push(a.vtypeText||j[d+'Text'])}}if(k&&!k.test(b)){c.push(a.regexText||a.invalidText)}return c},selectText:function(a,b){var e=this,f=e.getRawValue(),g=!0,d=e.inputEl.dom,h,c;if(f.length>0){a=a===h?0:a;b=b===h?f.length:b;if(d.setSelectionRange){d.setSelectionRange(a,b)}else {if(d.createTextRange){c=d.createTextRange();c.moveStart('character',a);c.moveEnd('character',b-f.length);c.select()}}g=Ext.isGecko||Ext.isOpera}if(g){e.focus()}},autoSize:function(){var a=this;if(a.grow&&a.rendered){a.autoSizing=!0;a.updateLayout()}},afterComponentLayout:function(){var a=this,b;Ext.form.field.Base.prototype.afterComponentLayout.apply(this,arguments);if(a.autoSizing){b=a.inputEl.getWidth();if(b!==a.lastInputWidth){a.fireEvent('autosize',a,b);a.lastInputWidth=b;delete a.autoSizing}}},onDestroy:function(){var a=this;a.invokeTriggers('destroy');Ext.destroy(a.triggerRepeater);Ext.form.field.Base.prototype.onDestroy.call(this);if(a.inputFocusTask){a.inputFocusTask.cancel();a.inputFocusTask=null}},onTriggerClick:Ext.emptyFn,deprecated:{5:{methods:{getTriggerWidth:function(){var a=this.getTriggers(),c=0,b;if(a&&this.rendered){for(b in a){if(a.hasOwnProperty(b)){c+=a[b].el.getWidth()}}}return c}}}}},0,['textfield'],['component','box','field','textfield'],{'component':!0,'box':!0,'field':!0,'textfield':!0},['widget.textfield'],0,[Ext.form.field,'Text',Ext.form,'TextField',Ext.form,'Text'],0);Ext.cmd.derive('Ext.form.field.TextArea',Ext.form.field.Text,{alternateClassName:'Ext.form.TextArea',fieldSubTpl:['<textarea id="{id}" role="{role}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>','</textarea>',{disableFormats:!0}],growMin:60,growMax:1000,growAppend:'\n-',enterIsSpecial:!1,preventScrollbars:!1,setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:'x-form-textarea',extraFieldBodyCls:'x-form-textarea-body',getSubTplData:function(){var a=this,c=a.getFieldStyle(),b=Ext.form.field.Text.prototype.getSubTplData.call(this);if(a.grow){if(a.preventScrollbars){b.fieldStyle=(c||'')+';overflow:hidden;height:'+a.growMin+'px'}}return b},afterRender:function(){var a=this;Ext.form.field.Text.prototype.afterRender.apply(this,arguments);a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(a.needsMaxCheck){a.inputEl.on('paste',a.onPaste,a)}},transformRawValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(Ext.form.field.Text.prototype.getValue.call(this))},valueToRaw:function(a){a=this.stripReturns(a);return Ext.form.field.Text.prototype.valueToRaw.call(this,a)},stripReturns:function(a){if(a&&typeof a==='string'){a=a.replace(this.returnRe,'')}return a},onPaste:function(b){var a=this;if(!a.pasteTask){a.pasteTask=new Ext.util.DelayedTask(a.pasteCheck,a)}a.pasteTask.delay(1)},pasteCheck:function(){var b=this,a=b.getValue(),c=b.maxLength;if(a.length>c){a=a.substr(0,c);b.setValue(a)}},fireKey:function(a){var b=this,c=a.getKey(),d;if(a.isSpecialKey()&&(b.enterIsSpecial||(c!==a.ENTER||a.hasModifier()))){b.fireEvent('specialkey',b,a)}if(b.needsMaxCheck&&c!==a.BACKSPACE&&c!==a.DELETE&&!a.isNavKeyPress()&&!b.isCutCopyPasteSelectAll(a,c)){d=b.getValue();if(d.length>=b.maxLength){a.stopEvent()}}},isCutCopyPasteSelectAll:function(a,b){if(a.ctrlKey){return b===a.A||b===a.C||b===a.V||b===a.X}return !1},autoSize:function(){var a=this,b;if(a.grow&&a.rendered){a.updateLayout();b=a.inputEl.getHeight();if(b!==a.lastInputHeight){a.fireEvent('autosize',a,b);a.lastInputHeight=b}}},beforeDestroy:function(){var a=this.pasteTask;if(a){a.cancel();this.pasteTask=null}Ext.form.field.Text.prototype.beforeDestroy.call(this)}},0,['textarea','textareafield'],['component','box','field','textfield','textareafield','textarea'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'textareafield':!0,'textarea':!0},['widget.textarea','widget.textareafield'],0,[Ext.form.field,'TextArea',Ext.form,'TextArea'],0);Ext.cmd.derive('Ext.window.MessageBox',Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:'x-message-box-info',WARNING:'x-message-box-warning',QUESTION:'x-message-box-question',ERROR:'x-message-box-error',hideMode:'offsets',closeAction:'hide',resizable:!1,title:'&#160;',defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:['x-message-box','x-hidden-offsets'],layout:{type:'vbox',align:'stretch'},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:'OK',yes:'Yes',no:'No',cancel:'Cancel'},buttonIds:['ok','yes','no','cancel'],titleText:{confirm:'Confirm',prompt:'Prompt',wait:'Loading...',alert:'Attention'},baseIconCls:'x-message-box-icon',ariaRole:'alertdialog',makeButton:function(b){var a=this.buttonIds[b];return new Ext.button.Button({handler:this.btnCallback,itemId:a,scope:this,text:this.buttonText[a],minWidth:75})},btnCallback:function(d){var a=this,c,b;if(a.cfg.prompt||a.cfg.multiline){if(a.cfg.multiline){b=a.textArea}else {b=a.textField}c=b.getValue();b.reset()}a.hide();a.userCallback(d.itemId,c,a.cfg)},hide:function(){var a=this,b=a.cfg?a.cfg.cls:'';a.progressBar.reset();if(b){a.removeCls(b)}Ext.window.Window.prototype.hide.apply(this,arguments)},constructor:function(b){var a=this;Ext.window.Window.prototype.constructor.apply(this,arguments);a.minWidth=a.defaultMinWidth=a.minWidth||a.defaultMinWidth;a.maxWidth=a.defaultMaxWidth=a.maxWidth||a.defaultMaxWidth;a.minHeight=a.defaultMinHeight=a.minHeight||a.defaultMinHeight;a.maxHeight=a.defaultMaxHeight=a.maxHeight||a.defaultMaxHeight},initComponent:function(e){var a=this,b=a.id,d,c;a.title=a.title||'&#160;';a.iconCls=a.iconCls||'';a.topContainer=new Ext.container.Container({layout:'hbox',padding:10,style:{overflow:'hidden'},items:[a.iconComponent=new Ext.Component({cls:a.baseIconCls}),a.promptContainer=new Ext.container.Container({flex:1,layout:'anchor',items:[a.msg=new Ext.form.field.Display({id:b+'-displayfield',cls:a.baseCls+'-text'}),a.textField=new Ext.form.field.Text({id:b+'-textfield',anchor:'100%',enableKeyEvents:!0,listeners:{keydown:a.onPromptKey,scope:a}}),a.textArea=new Ext.form.field.TextArea({id:b+'-textarea',anchor:'100%',height:75})]})]});a.progressBar=new Ext.ProgressBar({id:b+'-progressbar',margin:'0 10 10 10'});a.items=[a.topContainer,a.progressBar];a.msgButtons=[];for(d=0;d<4;d++){c=a.makeButton(d);a.msgButtons[c.itemId]=c;a.msgButtons.push(c)}a.bottomTb=new Ext.toolbar.Toolbar({id:b+'-toolbar',ui:'footer',dock:'bottom',layout:{pack:'center'},items:[a.msgButtons[0],a.msgButtons[1],a.msgButtons[2],a.msgButtons[3]]});a.dockedItems=[a.bottomTb];a.on('close',a.onClose,a);Ext.window.Window.prototype.initComponent.call(this)},onClose:function(){var a=this.header.child('[type=close]');a.itemId='cancel';this.btnCallback(a);delete a.itemId},onPromptKey:function(c,b){var a=this;if(b.keyCode===b.RETURN||b.keyCode===10){if(a.msgButtons.ok.isVisible()){a.msgButtons.ok.handler.call(a,a.msgButtons.ok)}else {if(a.msgButtons.yes.isVisible()){a.msgButtons.yes.handler.call(a,a.msgButtons.yes)}}}},reconfigure:function(b){var a=this,i=0,p=!0,s=a.buttonText,g=a.resizer,c=a.header,q=c&&!c.isHeader,r=b&&(b.message||b.msg),h,m,l,e,d,f,o,j,k,n;a.updateButtonText();a.cfg=b=b||{};if(b.width){m=b.width}if(b.height){l=b.height}a.minWidth=b.minWidth||a.defaultMinWidth;a.maxWidth=b.maxWidth||a.defaultMaxWidth;a.minHeight=b.minHeight||a.defaultMinHeight;a.maxHeight=b.maxHeight||a.defaultMaxHeight;if(g){h=g.resizeTracker;g.minWidth=h.minWidth=a.minWidth;g.maxWidth=h.maxWidth=a.maxWidth;g.minHeight=h.minHeight=a.minHeight;g.maxHeight=h.maxHeight=a.maxHeight}delete a.defaultFocus;if(b.defaultFocus){a.defaultFocus=b.defaultFocus}a.animateTarget=b.animateTarget||undefined;a.modal=b.modal!==!1;a.setTitle(b.title||q&&c.title||a.title);a.setIconCls(b.iconCls||q&&c.iconCls||a.iconCls);if(Ext.isObject(b.buttons)){a.buttonText=b.buttons;i=0}else {a.buttonText=b.buttonText||a.buttonText;i=Ext.isNumber(b.buttons)?b.buttons:0}i=i|a.updateButtonText();a.buttonText=s;Ext.suspendLayouts();delete a.width;delete a.height;if(m||l){if(m){a.setWidth(m)}if(l){a.setHeight(l)}}a.hidden=!1;if(!a.rendered){a.render(Ext.getBody())}a.closable=b.closable!==!1&&!b.wait;c=a.header;if(c){c.child('[type=close]').setVisible(a.closable);if(!b.title&&!a.closable&&!b.iconCls){c.hide()}else {c.show()}}a.liveDrag=!b.proxyDrag;a.userCallback=Ext.Function.bindCallback(b.callback||b.fn||Ext.emptyFn,b.scope||Ext.global);a.setIcon(b.icon);o=a.msg;if(r){o.setValue(r);o.show()}else {o.hide()}d=a.textArea;f=a.textField;if(b.prompt||b.multiline){a.multiline=b.multiline;if(b.multiline){d.setValue(b.value);d.setHeight(b.defaultTextHeight||a.defaultTextHeight);d.show();f.hide();a.defaultFocus=d}else {f.setValue(b.value);d.hide();f.show();a.defaultFocus=f}}else {d.hide();f.hide()}j=a.progressBar;if(b.progress||b.wait){j.show();a.updateProgress(0,b.progressText);n=b.wait;if(n===!0){b=b.waitConfig}if(n){j.wait(n)}}else {j.hide()}k=a.msgButtons;for(e=0;e<4;e++){if(i&Math.pow(2,e)){if(!a.defaultFocus){a.defaultFocus=k[e]}k[e].show();p=!1}else {k[e].hide()}}if(p){a.bottomTb.hide()}else {a.bottomTb.show()}Ext.resumeLayouts(!0)},updateButtonText:function(){var b=this,c=b.buttonText,e=0,a,d;for(a in c){if(c.hasOwnProperty(a)){d=b.msgButtons[a];if(d){if(b.cfg&&b.cfg.buttonText){e=e|Math.pow(2,Ext.Array.indexOf(b.buttonIds,a))}if(d.text!=c[a]){d.setText(c[a])}}}}return e},show:function(b){var a=this,c;b=b||{};if(Ext.Component.layoutSuspendCount){Ext.on({resumelayouts:function(){a.show(b)},single:!0});return a}a.reconfigure(b);if(b.cls){a.addCls(b.cls)}c=a.query('textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])');a.preventFocusOnActivate=!c.length;a.hidden=!0;Ext.window.Window.prototype.show.call(this);return a},onShow:function(){Ext.window.Window.prototype.onShow.apply(this,arguments);this.center()},updateText:function(a){this.msg.setValue(a)},setIcon:function(e,d,c){var b=this,a=b.iconComponent,f=b.messageIconCls;if(f){a.removeCls(f)}if(e){a.show();if(d||c){a.setSize(d||a.getWidth(),c||a.getHeight())}a.addCls('x-dlg-icon');a.addCls(b.messageIconCls=e)}else {a.removeCls('x-dlg-icon');a.hide()}return b},updateProgress:function(c,b,a){this.progressBar.updateProgress(c,b);if(a){this.updateText(a)}return this},onEsc:function(){if(this.closable!==!1){Ext.window.Window.prototype.onEsc.apply(this,arguments)}},confirm:function(a,b,d,c){if(Ext.isString(a)){a={title:a,icon:this.QUESTION,message:b,buttons:this.YESNO,callback:d,scope:c}}return this.show(a)},prompt:function(a,c,f,d,b,e){if(Ext.isString(a)){a={prompt:!0,title:a,minWidth:this.minPromptWidth,message:c,buttons:this.OKCANCEL,callback:f,scope:d,multiline:b,value:e}}return this.show(a)},wait:function(a,c,b){if(Ext.isString(a)){a={title:c,message:a,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:b}}return this.show(a)},alert:function(a,b,d,c){if(Ext.isString(a)){a={title:a,message:b,buttons:this.OK,fn:d,scope:c,minWidth:this.minWidth}}return this.show(a)},progress:function(a,c,b){if(Ext.isString(a)){a={title:a,message:c,progress:!0,progressText:b}}return this.show(a)}},1,['messagebox'],['component','box','container','panel','window','messagebox'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0,'messagebox':!0},['widget.messagebox'],0,[Ext.window,'MessageBox'],function(){Ext.MessageBox=Ext.Msg=new this()});Ext.cmd.derive('Ext.form.Basic',Ext.util.Observable,{alternateClassName:'Ext.form.BasicForm',taskDelay:10,constructor:function(c,d){var a=this,b;a.owner=c;a.checkValidityTask=new Ext.util.DelayedTask(a.checkValidity,a);a.checkDirtyTask=new Ext.util.DelayedTask(a.checkDirty,a);a.monitor=new Ext.container.Monitor({selector:'[isFormField]:not([excludeForm])',scope:a,addHandler:a.onFieldAdd,removeHandler:a.onFieldRemove,invalidateHandler:a.onMonitorInvalidate});a.monitor.bind(c);Ext.apply(a,d);if(Ext.isString(a.paramOrder)){a.paramOrder=a.paramOrder.split(/[\s,|]/)}b=a.reader;if(b&&!b.isReader){if(typeof b==='string'){b={type:b}}a.reader=Ext.createByAlias('reader.'+b.type,b)}b=a.errorReader;if(b&&!b.isReader){if(typeof b==='string'){b={type:b}}a.errorReader=Ext.createByAlias('reader.'+b.type,b)}Ext.util.Observable.prototype.constructor.call(this)},initialize:function(){this.initialized=!0;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:'Please Wait...',trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var a=this,b=a.monitor;if(b){b.unbind();a.monitor=null}a.clearListeners();a.checkValidityTask.cancel();a.checkDirtyTask.cancel();a.isDestroyed=!0},onFieldAdd:function(b){var a=this;a.mon(b,'validitychange',a.checkValidityDelay,a);a.mon(b,'dirtychange',a.checkDirtyDelay,a);a.onMonitorInvalidate()},onFieldRemove:function(b){var a=this;a.mun(b,'validitychange',a.checkValidityDelay,a);a.mun(b,'dirtychange',a.checkDirtyDelay,a);a.onMonitorInvalidate()},onMonitorInvalidate:function(){if(this.initialized){this.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;if(!a||a.getCount()===0){a=this._boundItems=new Ext.util.MixedCollection();a.addAll(this.owner.query('[formBind]'))}return a},hasInvalidField:function(){return !!this.getFields().findBy(function(a){var c=a.preventMark,b;a.preventMark=!0;b=a.isValid();a.preventMark=c;return !b})},isValid:function(){var b=this,a;Ext.suspendLayouts();a=b.getFields().filterBy(function(a){return !a.validate()});Ext.resumeLayouts(!0);return a.length<1},checkValidity:function(){var a=this,b;if(a.isDestroyed){return}b=!a.hasInvalidField();if(b!==a.wasValid){a.onValidityChange(b);a.fireEvent('validitychange',a,b);a.wasValid=b}},checkValidityDelay:function(){var a=this.taskDelay;if(a){this.checkValidityTask.delay(a)}else {this.checkValidity()}},onValidityChange:function(e){var d=this.getBoundItems(),b,a,f,c;if(d){b=d.items;f=b.length;for(a=0;a<f;a++){c=b[a];if(c.disabled===e){c.setDisabled(!e)}}}},isDirty:function(){return !!this.getFields().findBy(function(a){return a.isDirty()})},checkDirtyDelay:function(){var a=this.taskDelay;if(a){this.checkDirtyTask.delay(a)}else {this.checkDirty()}},checkDirty:function(){var b=this,a;if(b.isDestroyed){return}a=this.isDirty();if(a!==this.wasDirty){this.fireEvent('dirtychange',this,a);this.wasDirty=a}},hasUpload:function(){return !!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(a,b){if(Ext.isString(a)){a=Ext.ClassManager.instantiateByAlias('formaction.'+a,Ext.apply({},b,{form:this}))}if(this.fireEvent('beforeaction',this,a)!==!1){this.beforeAction(a);Ext.defer(a.run,100,a)}return this},submit:function(a){a=a||{};var c=this,b;if(a.standardSubmit||c.standardSubmit){b='standardsubmit'}else {b=c.api?'directsubmit':'submit'}return c.doAction(b,a)},load:function(a){return this.doAction(this.api?'directload':'load',a)},updateRecord:function(a){a=a||this._record;if(!a){return this}var d=a.self.fields,e=this.getFieldValues(),f={},c=0,g=d.length,b;for(;c<g;++c){b=d[c].name;if(e.hasOwnProperty(b)){f[b]=e[b]}}a.beginEdit();a.set(f);a.endEdit();return this},loadRecord:function(a){this._record=a;return this.setValues(a.getData())},getRecord:function(){return this._record},beforeAction:function(g){var a=this,c=g.waitMsg,f='x-mask-loading',h=a.getFields().items,e,i=h.length,d,b;for(e=0;e<i;e++){d=h[e];if(d.isFormField&&d.syncValue){d.syncValue()}}if(c){b=a.waitMsgTarget;if(b===!0){a.owner.el.mask(c,f)}else {if(b){b=a.waitMsgTarget=Ext.get(b);b.mask(c,f)}else {a.floatingAncestor=a.owner.up('[floating]');if(a.floatingAncestor){a.savePreventFocusOnActivate=a.floatingAncestor.preventFocusOnActivate;a.floatingAncestor.preventFocusOnActivate=!0}Ext.MessageBox.wait(c,g.waitTitle||a.waitTitle)}}}},afterAction:function(a,e){var b=this;if(a.waitMsg){var d=Ext.MessageBox,c=b.waitMsgTarget;if(c===!0){b.owner.el.unmask()}else {if(c){c.unmask()}else {d.hide()}}}if(b.floatingAncestor){b.floatingAncestor.preventFocusOnActivate=b.savePreventFocusOnActivate}if(e){if(a.reset){b.reset()}Ext.callback(a.success,a.scope||a,[b,a]);b.fireEvent('actioncomplete',b,a)}else {Ext.callback(a.failure,a.scope||a,[b,a]);b.fireEvent('actionfailed',b,a)}},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.name===a||b.dataIndex===a})},markInvalid:function(a){var g=this,b,d,c,f,e;function mark(c,d){var b=g.findField(c);if(b){b.markInvalid(d)}}if(Ext.isArray(a)){d=a.length;for(b=0;b<d;b++){c=a[b];mark(c.id,c.msg)}}else {if(a instanceof Ext.data.ErrorCollection){d=a.items.length;for(b=0;b<d;b++){c=a.items[b];mark(c.field,c.message)}}else {for(e in a){if(a.hasOwnProperty(e)){f=a[e];mark(e,f,a)}}}}return this},setValues:function(a){var e=this,b,d,c,f;function setVal(c,d){var b=e.findField(c);if(b){b.setValue(d);if(e.trackResetOnLoad){b.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(a)){d=a.length;for(b=0;b<d;b++){c=a[b];setVal(c.id,c.value)}}else {Ext.iterate(a,setVal)}Ext.resumeLayouts(!0);return this},getValues:function(n,m,h,k,l){var a={},j=this.getFields().items,o=j.length,i=Ext.isArray,e,f,c,d,b,g;for(g=0;g<o;g++){e=j[g];if(!m||e.isDirty()){f=e[k?'getModelData':'getSubmitData'](h,l);if(Ext.isObject(f)){for(b in f){if(f.hasOwnProperty(b)){c=f[b];if(h&&c===''){c=e.emptyText||''}if(!e.isRadio){if(a.hasOwnProperty(b)){d=a[b];if(!i(d)){d=a[b]=[d]}if(i(c)){a[b]=d.concat(c)}else {d.push(c)}}else {a[b]=c}}else {a[b]=a[b]||c}}}}}}if(n){a=Ext.Object.toQueryString(a)}return a},getFieldValues:function(a){return this.getValues(!1,a,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var c=this,b=c.getFields().items,a,d=b.length;for(a=0;a<d;a++){b[a].clearInvalid()}Ext.resumeLayouts(!0);return c},reset:function(d){Ext.suspendLayouts();var b=this,c=b.getFields().items,a,e=c.length;for(a=0;a<e;a++){c[a].reset()}Ext.resumeLayouts(!0);if(d===!0){delete b._record}return b},applyToFields:function(d){var b=this.getFields().items,a,c=b.length;for(a=0;a<c;a++){Ext.apply(b[a],d)}return this},applyIfToFields:function(d){var b=this.getFields().items,a,c=b.length;for(a=0;a<c;a++){Ext.applyIf(b[a],d)}return this}},1,0,0,0,0,0,[Ext.form,'Basic',Ext.form,'BasicForm'],0);Ext.cmd.derive('Ext.form.FieldAncestor',Ext.Mixin,{mixinConfig:{id:'fieldAncestor',after:{initInheritedState:'initFieldInheritedState'}},initFieldAncestor:function(){var a=this;a.monitor=new Ext.container.Monitor({scope:a,selector:'[isFormField]:not([excludeForm])',addHandler:a.onChildFieldAdd,removeHandler:a.onChildFieldRemove});a.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(a){var c=a.fieldDefaults,b=this.fieldDefaults;if(b){if(c){a.fieldDefaults=Ext.apply(Ext.Object.chain(c),b)}else {a.fieldDefaults=b}}},onChildFieldAdd:function(b){var a=this;a.mon(b,'errorchange',a.handleFieldErrorChange,a);a.mon(b,'validitychange',a.handleFieldValidityChange,a)},onChildFieldRemove:function(b){var a=this;a.mun(b,'errorchange',a.handleFieldErrorChange,a);a.mun(b,'validitychange',a.handleFieldValidityChange,a)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(b,c){var a=this;if(b!==a){a.fireEvent('fieldvaliditychange',a,b,c);a.onFieldValidityChange(b,c)}},handleFieldErrorChange:function(b,c){var a=this;if(b!==a){a.fireEvent('fielderrorchange',a,b,c);a.onFieldErrorChange(b,c)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind();this.callParent()}},0,0,0,0,0,0,[Ext.form,'FieldAncestor'],0);Ext.cmd.derive('Ext.layout.component.field.FieldContainer',Ext.layout.component.Auto,{type:'fieldcontainer',waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(a){var b=this.owner;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);a.hasRawContent=!0;b.containerEl.setStyle('height','');a.containerElContext=a.getEl('containerEl')},measureContentHeight:function(a){return a.hasDomProp('containerLayoutDone')?Ext.layout.component.Auto.prototype.measureContentHeight.apply(this,arguments):NaN},measureContentWidth:function(a){return a.hasDomProp('containerLayoutDone')?Ext.layout.component.Auto.prototype.measureContentWidth.apply(this,arguments):NaN},publishInnerHeight:function(c,b){var a=this.owner;if(a.labelAlign==='top'&&a.hasVisibleLabel()){b-=a.labelEl.getHeight()}if(a.msgTarget==='under'&&a.hasActiveError()){b-=a.errorWrapEl.getHeight()}b-=a.bodyEl.getPadding('tb');c.containerElContext.setHeight(b,!1)},publishInnerWidth:function(c,b){var a=this.owner;if(a.labelAlign!=='top'&&a.hasVisibleLabel()){b-=a.labelWidth+(a.labelPad||0)}if(a.msgTarget==='side'&&a.hasActiveError()){b-=a.errorWrapEl.getWidth()}b-=a.bodyEl.getPadding('lr');c.containerElContext.setWidth(b,!1)}},0,0,0,0,['layout.fieldcontainer'],0,[Ext.layout.component.field,'FieldContainer'],0);Ext.cmd.derive('Ext.form.FieldContainer',Ext.container.Container,{componentLayout:'fieldcontainer',componentCls:'x-form-fieldcontainer',shrinkWrap:!0,customOverflowEl:'containerEl',childEls:['containerEl'],combineLabels:!1,labelConnector:', ',combineErrors:!1,maskOnDisable:!1,invalidCls:'',fieldSubTpl:['<div id="{id}-containerEl" class="{containerElCls}" role="presentation">','{%this.renderContainer(out,values)%}','</div>'],initComponent:function(){var a=this;a.initLabelable();a.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);a.initMonitor()},onAdd:function(b){var a=this;if(b.isLabelable&&Ext.isGecko&&a.layout.type==='absolute'&&!a.hideLabel&&a.labelAlign!=='top'){b.x+=a.labelWidth+a.labelPad}Ext.container.Container.prototype.onAdd.apply(this,arguments);if(b.isLabelable&&a.combineLabels){b.oldHideLabel=b.hideLabel;b.hideLabel=!0}a.updateLabel()},onRemove:function(a,c){var b=this;Ext.container.Container.prototype.onRemove.apply(this,arguments);if(!c){if(a.isLabelable&&b.combineLabels){a.hideLabel=a.oldHideLabel}b.updateLabel()}},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty('renderTpl')){a.renderTpl=a.getTpl('labelableRenderTpl')}return Ext.container.Container.prototype.initRenderTpl.call(this)},initRenderData:function(){var b=this,a=Ext.container.Container.prototype.initRenderData.call(this);a.containerElCls=b.containerElCls;return Ext.applyIf(a,b.getLabelableRenderData())},getFieldLabel:function(){var a=this.fieldLabel||'';if(!a&&this.combineLabels){a=Ext.Array.map(this.query('[isFieldLabelable]'),function(a){return a.getFieldLabel()}).join(this.labelConnector)}return a},getSubTplData:function(){var a=this.initRenderData();Ext.apply(a,this.subTplData);return a},getSubTplMarkup:function(){var b=this,a=b.getTpl('fieldSubTpl'),c;if(!a.renderContent){b.setupRenderTpl(a)}c=a.apply(b.getSubTplData());return c},updateLabel:function(){var a=this,b=a.labelEl;if(b){a.setFieldLabel(a.getFieldLabel())}},onFieldErrorChange:function(f,e){if(this.combineErrors){var a=this,d=a.getActiveError(),c=Ext.Array.filter(a.query('[isFormField]'),function(a){return a.hasActiveError()}),b=a.getCombinedErrors(c);if(b){a.setActiveErrors(b)}else {a.unsetActiveError()}if(d!==a.getActiveError()){a.updateLayout()}}},getCombinedErrors:function(f){var g=[],b,j=f.length,d,c,a,i,h,e;for(b=0;b<j;b++){d=f[b];c=d.getActiveErrors();i=c.length;for(a=0;a<i;a++){h=c[a];e=d.getFieldLabel();g.push((e?e+': ':'')+h)}}return g},getTargetEl:function(){return this.containerEl},applyTargetCls:function(b){var a=this.containerElCls;this.containerElCls=a?a+' '+b:b}},0,['fieldcontainer'],['component','box','container','fieldcontainer'],{'component':!0,'box':!0,'container':!0,'fieldcontainer':!0},['widget.fieldcontainer'],[['labelable',Ext.form.Labelable],['fieldAncestor',Ext.form.FieldAncestor]],[Ext.form,'FieldContainer'],0);Ext.cmd.derive('Ext.layout.container.CheckboxGroup',Ext.layout.container.Container,{autoFlex:!0,type:'checkboxgroup',createsInnerCt:!0,childEls:['innerCt'],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tr role="presentation">','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}" role="presentation">','{% this.renderColumn(out,parent,xindex-1) %}','</td>','</tpl>','</tr></table>'],lastOwnerItemsGeneration:null,beginLayout:function(i){var d=this,h,e,a,c,f,j=0,g=0,k=d.autoFlex,b=d.innerCt.dom.style;Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);h=d.columnNodes;i.innerCtContext=i.getEl('innerCt',d);if(!i.widthModel.shrinkWrap){e=h.length;if(d.columnsArray){for(a=0;a<e;a++){c=d.owner.columns[a];if(c<1){j+=c;g++}}for(a=0;a<e;a++){c=d.owner.columns[a];if(c<1){f=c/j*100+'%'}else {f=c+'px'}h[a].style.width=f}}else {for(a=0;a<e;a++){f=k?1/e*100+'%':'';h[a].style.width=f;g++}}if(!g){b.tableLayout='fixed';b.width=''}else {if(g<e){b.tableLayout='fixed';b.width='100%'}else {b.tableLayout='auto';if(k){b.width='100%'}else {b.width=''}}}}else {b.tableLayout='auto';b.width=''}},cacheElements:function(){var a=this;Ext.layout.container.Container.prototype.cacheElements.call(this);a.rowEl=a.innerCt.down('tr');a.columnNodes=a.rowEl.dom.childNodes},calculate:function(a){var h=this,d,c,b,g,f,e;if(!a.getDomProp('containerChildrenSizeDone')){h.done=!1}else {d=a.innerCtContext;c=a.widthModel.shrinkWrap;b=a.heightModel.shrinkWrap;g=b||c;f=d.el.dom;e=g&&d.getPaddingInfo();if(c){a.setContentWidth(f.offsetWidth+e.width,!0)}if(b){a.setContentHeight(f.offsetHeight+e.height,!0)}}},doRenderColumn:function(m,h,g){var l=h.$layout,j=l.owner,f=h.columnCount,i=j.items.items,b=i.length,e,a,d,c,k;if(j.vertical){d=Math.ceil(b/f);a=g*d;b=Math.min(b,a+d);c=1}else {a=g;c=f}for(;a<b;a+=c){e=i[a];l.configureItem(e);k=e.getRenderTree();Ext.DomHelper.generateMarkup(k,m)}},getColumnCount:function(){var c=this,b=c.owner,a=b.columns;if(c.columnsArray){return a.length}if(Ext.isNumber(a)){return a}return b.items.length},getItemSizePolicy:function(a){return this.autoSizePolicy},getRenderData:function(){var c=this,d=Ext.layout.container.Container.prototype.getRenderData.call(this),k=c.owner,a,e=c.getColumnCount(),b,g,h,j=c.autoFlex,i=0,f=0;if(c.columnsArray){for(a=0;a<e;a++){b=c.owner.columns[a];if(b<1){i+=b;f++}}}d.colCls=k.groupCls;d.columnCount=e;d.columns=[];for(a=0;a<e;a++){g=d.columns[a]={};if(c.columnsArray){b=c.owner.columns[a];if(b<1){h=b/i*100+'%'}else {h=b+'px'}g.style='width:'+h}else {g.style='width:'+1/e*100+'%';f++}}d.tableStyle=!f?'table-layout:fixed;':f<e?'table-layout:fixed;width:100%':j?'table-layout:auto;width:100%':'table-layout:auto;';return d},initLayout:function(){var b=this,a=b.owner;b.columnsArray=Ext.isArray(a.columns);b.autoColumns=!a.columns||a.columns==='auto';b.vertical=a.vertical;Ext.layout.container.Container.prototype.initLayout.call(this)},isValidParent:Ext.returnTrue,setupRenderTpl:function(a){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);a.renderColumn=this.doRenderColumn},renderChildren:function(){var a=this,b=a.owner.items.generation;if(a.lastOwnerItemsGeneration!==b){a.lastOwnerItemsGeneration=b;a.renderItems(a.getLayoutItems())}},renderItems:function(i){var a=this,c=i.length,b,d,h,e,g,f;if(c){Ext.suspendLayouts();if(a.autoColumns){a.addMissingColumns(c)}e=a.columnNodes.length;h=Math.ceil(c/e);for(b=0;b<c;b++){d=i[b];g=a.getRenderRowIndex(b,h,e);f=a.getRenderColumnIndex(b,h,e);if(!d.rendered){a.renderItem(d,g,f)}else {if(!a.isItemAtPosition(d,g,f)){a.moveItem(d,g,f)}}}if(a.autoColumns){a.removeExceedingColumns(c)}Ext.resumeLayouts(!0)}},isItemAtPosition:function(c,b,a){return c.el.dom===this.getNodeAt(b,a)},getRenderColumnIndex:function(a,c,b){if(this.vertical){return Math.floor(a/c)}else {return a%b}},getRenderRowIndex:function(a,c,b){var d=this;if(d.vertical){return a%c}else {return Math.floor(a/b)}},getNodeAt:function(b,a){return this.columnNodes[a].childNodes[b]},addMissingColumns:function(e){var a=this,c=a.columnNodes.length,d,g,f,b;if(c<e){d=e-c;g=a.rowEl;f=a.owner.groupCls;for(b=0;b<d;b++){g.createChild({cls:f,tag:'td',vAlign:'top',role:'presentation'})}}},removeExceedingColumns:function(d){var f=this,c=f.columnNodes.length,b,e,a;if(c>d){b=c-d;e=f.rowEl;for(a=0;a<b;a++){e.last().destroy()}}},renderItem:function(a,d,c){var b=this;b.configureItem(a);a.render(Ext.get(b.columnNodes[c]),d);b.afterRenderItem(a)},moveItem:function(e,d,b){var f=this,a=f.columnNodes[b],c=a.childNodes[d];a.insertBefore(e.el.dom,c||null)}},0,0,0,0,['layout.checkboxgroup'],0,[Ext.layout.container,'CheckboxGroup'],0);Ext.cmd.derive('Ext.form.CheckboxManager',Ext.util.MixedCollection,{singleton:!0,getByName:function(b,a){return this.filterBy(function(c){return c.name==b&&c.getFormId()==a})}},0,0,0,0,0,0,[Ext.form,'CheckboxManager'],0);Ext.cmd.derive('Ext.form.field.Checkbox',Ext.form.field.Base,{alternateClassName:'Ext.form.Checkbox',stretchInputElFixed:!1,childEls:['boxLabelEl'],fieldSubTpl:['<div class="{wrapInnerCls} {noBoxLabelCls}" role="presentation">','<tpl if="labelAlignedBefore">','{beforeBoxLabelTpl}','<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">','{beforeBoxLabelTextTpl}','{boxLabel}','{afterBoxLabelTextTpl}','</label>','{afterBoxLabelTpl}','</tpl>','<input type="button" id="{id}" role="{role}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}" autocomplete="off" hidefocus="true" />','<tpl if="boxLabel && !labelAlignedBefore">','{beforeBoxLabelTpl}','<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">','{beforeBoxLabelTextTpl}','{boxLabel}','{afterBoxLabelTextTpl}','</label>','{afterBoxLabelTpl}','</tpl>','</div>',{disableFormats:!0,compiled:!0}],publishes:{checked:1},subTplInsertions:['beforeBoxLabelTpl','afterBoxLabelTpl','beforeBoxLabelTextTpl','afterBoxLabelTextTpl','boxLabelAttrTpl','inputAttrTpl'],isCheckbox:!0,focusCls:'form-checkbox-focus',fieldBodyCls:'x-form-cb-wrap',checked:!1,checkedCls:'x-form-cb-checked',boxLabelCls:'x-form-cb-label',boxLabelAlign:'after',afterLabelCls:'x-form-cb-after',wrapInnerCls:'x-form-cb-wrap-inner',noBoxLabelCls:'x-form-cb-wrap-inner-no-box-label',inputValue:'on',checkChangeEvents:[],inputType:'checkbox',ariaRole:'checkbox',onRe:/^on$/i,inputCls:'x-form-cb',initComponent:function(){var a=this,b=a.value;if(b!==undefined){a.checked=a.isChecked(b,a.inputValue)}Ext.form.field.Base.prototype.initComponent.apply(this,arguments);a.getManager().add(a)},initValue:function(){var a=this,b=!!a.checked;a.originalValue=a.lastValue=b;a.setValue(b)},getElConfig:function(){var a=this;if(a.isChecked(a.rawValue,a.inputValue)){a.addCls(a.checkedCls)}return Ext.form.field.Base.prototype.getElConfig.call(this)},getSubTplData:function(){var a=this,b=a.boxLabel,d=a.boxLabelAlign,c=b&&d==='before';return Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this),{disabled:a.readOnly||a.disabled,wrapInnerCls:a.wrapInnerCls,boxLabel:b,boxLabelCls:a.boxLabelCls,boxLabelAlign:d,labelAlignedBefore:c,afterLabelCls:c?a.afterLabelCls:'',noBoxLabelCls:!b?a.noBoxLabelCls:'',role:a.ariaRole})},initEvents:function(){var a=this;Ext.form.field.Base.prototype.initEvents.call(this);a.mon(a.inputEl,'click',a.onBoxClick,a)},setBoxLabel:function(b){var a=this;a.boxLabel=b;if(a.rendered){a.boxLabelEl.setHtml(b)}},onBoxClick:function(b){var a=this;if(!a.disabled&&!a.readOnly){this.setValue(!this.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:b},isChecked:function(a,b){return a===!0||a==='true'||a==='1'||a===1||((Ext.isString(a)||Ext.isNumber(a))&&b?a==b:this.onRe.test(a))},setRawValue:function(d){var a=this,c=a.inputEl,b=a.isChecked(d,a.inputValue);if(c){a[b?'addCls':'removeCls'](a.checkedCls)}a.checked=a.rawValue=b;if(!a.duringSetValue){a.lastValue=b}return b},setValue:function(e){var a=this,c,b,f,d;if(Ext.isArray(e)){c=a.getManager().getByName(a.name,a.getFormId()).items;f=c.length;for(b=0;b<f;++b){d=c[b];d.setValue(Ext.Array.contains(e,d.inputValue))}}else {a.duringSetValue=!0;Ext.form.field.Base.prototype.setValue.apply(this,arguments);delete a.duringSetValue}return a},valueToRaw:Ext.identityFn,onChange:function(c,d){var a=this,b=a.handler;if(b){b.call(a.scope||a,a,c)}Ext.form.field.Base.prototype.onChange.apply(this,arguments);if(a.reference&&a.publishState){a.publishState('checked',c)}},resetOriginalValue:function(f){var c=this,b,d,e,a;if(!f){b=c.getManager().getByName(c.name,c.getFormId()).items;e=b.length;for(a=0;a<e;++a){d=b[a];if(d!==c){b[a].resetOriginalValue(!0)}}}Ext.form.field.Base.prototype.resetOriginalValue.call(this)},beforeDestroy:function(){Ext.form.field.Base.prototype.beforeDestroy.call(this);this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var b=this,a=b.inputEl;Ext.form.field.Base.prototype.onEnable.call(this);if(a){a.dom.disabled=b.readOnly}},setReadOnly:function(c){var b=this,a=b.inputEl;if(a){a.dom.disabled=!!c||b.disabled}Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments)},getFormId:function(){var a=this,b;if(!a.formId){b=a.up('form');if(b){a.formId=b.id}}return a.formId}},0,['checkbox','checkboxfield'],['component','box','field','checkboxfield','checkbox'],{'component':!0,'box':!0,'field':!0,'checkboxfield':!0,'checkbox':!0},['widget.checkbox','widget.checkboxfield'],0,[Ext.form.field,'Checkbox',Ext.form,'Checkbox'],0);Ext.cmd.derive('Ext.form.CheckboxGroup',Ext.form.FieldContainer,{columns:'auto',vertical:!1,allowBlank:!0,blankText:'You must select at least one item in this group',defaultType:'checkboxfield',groupCls:'x-form-check-group',extraFieldBodyCls:'x-form-checkboxgroup-body',layout:'checkboxgroup',componentCls:'x-form-checkboxgroup',ariaRole:'group',initComponent:function(){var a=this;Ext.form.FieldContainer.prototype.initComponent.call(this);a.initField()},initValue:function(){var a=this,b=a.value;a.originalValue=a.lastValue=b||a.getValue();if(b){a.setValue(b)}},onAdd:function(a){var b=this,d,e,c;if(a.isCheckbox){b.mon(a,'change',b.checkChange,b)}else {if(a.isContainer){d=a.items.items;for(c=0,e=d.length;c<e;c++){b.onAdd(d[c])}}}Ext.form.FieldContainer.prototype.onAdd.apply(this,arguments)},onRemove:function(a){var b=this,d,e,c;if(a.isCheckbox){b.mun(a,'change',b.checkChange,b)}else {if(a.isContainer){d=a.items.items;for(c=0,e=d.length;c<e;c++){b.onRemove(d[c])}}}Ext.form.FieldContainer.prototype.onRemove.apply(this,arguments)},isEqual:function(b,c){var a=Ext.Object.toQueryString;return a(b)===a(c)},getErrors:function(){var a=[];if(!this.allowBlank&&Ext.isEmpty(this.getChecked())){a.push(this.blankText)}return a},getBoxes:function(a){return this.query('[isCheckbox]'+(a||''))},eachBox:function(b,a){Ext.Array.forEach(this.getBoxes(),b,a||this)},getChecked:function(){return this.getBoxes('[checked]')},isDirty:function(){var b=this.getBoxes(),a,c=b.length;for(a=0;a<c;a++){if(b[a].isDirty()){return !0}}},setReadOnly:function(b){var c=this.getBoxes(),a,d=c.length;for(a=0;a<d;a++){c[a].setReadOnly(b)}this.readOnly=b},reset:function(){var a=this,c=a.hasActiveError(),b=a.preventMark;a.preventMark=!0;a.batchChanges(function(){var c=a.getBoxes(),b,d=c.length;for(b=0;b<d;b++){c[b].reset()}});a.preventMark=b;a.unsetActiveError();if(c){a.updateLayout()}},resetOriginalValue:function(){var a=this,c=a.getBoxes(),b,d=c.length;for(b=0;b<d;b++){c[b].resetOriginalValue()}a.originalValue=a.getValue();a.checkDirty()},setValue:function(a){var f=this,g=f.getBoxes(),e,h=g.length,d,b,c;f.batchChanges(function(){for(e=0;e<h;e++){d=g[e];b=d.getName();c=!1;if(a&&a.hasOwnProperty(b)){if(Ext.isArray(a[b])){c=Ext.Array.contains(a[b],d.inputValue)}else {c=a[b]}}d.setValue(c)}});return f},getValue:function(){var b={},g=this.getBoxes(),e,h=g.length,d,c,f,a;for(e=0;e<h;e++){d=g[e];c=d.getName();f=d.inputValue;if(d.getValue()){if(b.hasOwnProperty(c)){a=b[c];if(!Ext.isArray(a)){a=b[c]=[a]}a.push(f)}else {b[c]=f}}}return b},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var a=this,c,b,d;if(a.disabled){b=!0}else {c=a.getErrors();b=Ext.isEmpty(c);d=a.wasValid;if(b){a.unsetActiveError()}else {a.setActiveError(c)}}if(b!==d){a.wasValid=b;a.fireEvent('validitychange',a,b);a.updateLayout()}return b}},0,['checkboxgroup'],['component','box','container','fieldcontainer','checkboxgroup'],{'component':!0,'box':!0,'container':!0,'fieldcontainer':!0,'checkboxgroup':!0},['widget.checkboxgroup'],[['field',Ext.form.field.Field]],[Ext.form,'CheckboxGroup'],function(){this.borrow(Ext.form.field.Base,['markInvalid','clearInvalid','setError'])});Ext.cmd.derive('Ext.form.FieldSet',Ext.container.Container,{checkboxUI:'default',collapsed:!1,toggleOnTitleClick:!0,baseCls:'x-fieldset',layout:'anchor',componentLayout:'fieldset',ariaRole:null,autoEl:'fieldset',childEls:['body'],renderTpl:['{%this.renderLegend(out,values);%}','<div id="{id}-body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','{%this.renderContainer(out,values);%}','</div>'],stateEvents:['collapse','expand'],maskOnDisable:!1,beforeDestroy:function(){var b=this,a=b.legend;if(a){delete a.ownerCt;a.destroy();b.legend=null}Ext.container.Container.prototype.beforeDestroy.call(this)},initComponent:function(){var a=this,b=a.baseCls;a.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);a.layout.managePadding=a.layout.manageOverflow=!1;if(a.collapsed){a.addCls(b+'-collapsed');a.collapse()}if(a.title||a.checkboxToggle||a.collapsible){a.addTitleClasses();a.legend=Ext.widget(a.createLegendCt())}a.initMonitor()},initPadding:function(d){var b=this,e=b.getProtoBody(),a=b.padding,c;if(a!==undefined){if(Ext.isIE8){a=b.parseBox(a);c=Ext.Element.parseBox(0);c.top=a.top;a.top=0;e.setStyle('padding',b.unitizeBox(c))}d.setStyle('padding',b.unitizeBox(a))}},getProtoBody:function(){var b=this,a=b.protoBody;if(!a){b.protoBody=a=new Ext.util.ProtoElement({styleProp:'bodyStyle',styleIsText:!0})}return a},initRenderData:function(){var b=this,a=Ext.container.Container.prototype.initRenderData.call(this);a.bodyTargetCls=b.bodyTargetCls;b.protoBody.writeTo(a);delete b.protoBody;return a},getState:function(){var a=Ext.container.Container.prototype.getState.call(this);a=this.addPropertyToState(a,'collapsed');return a},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return !0},collapsedVertical:function(){return !0},createLegendCt:function(){var a=this,b=[],c={xtype:'container',baseCls:a.baseCls+'-header',layout:'container',ui:a.ui,id:a.id+'-legend',autoEl:'legend',ariaRole:null,ariaLabelledBy:'.'+a.baseCls+'-header-text',items:b,ownerCt:a,shrinkWrap:!0,ownerLayout:a.componentLayout};if(a.checkboxToggle){b.push(a.createCheckboxCmp())}else {if(a.collapsible){b.push(a.createToggleCmp())}}b.push(a.createTitleCmp());return c},createTitleCmp:function(){var a=this,b={xtype:'component',html:a.title,ui:a.ui,cls:a.baseCls+'-header-text',id:a.id+'-legendTitle'};if(a.collapsible&&a.toggleOnTitleClick){b.listeners={click:{element:'el',scope:a,fn:a.toggle}};b.cls+=' '+a.baseCls+'-header-text-collapsible'}return a.titleCmp=Ext.widget(b)},createCheckboxCmp:function(){var a=this,c='-checkbox',b=a.baseCls+'-header'+c;b+=' '+b+'-'+a.ui;a.checkboxCmp=Ext.widget({xtype:'checkbox',hideEmptyLabel:!0,name:a.checkboxName||a.id+c,cls:b,id:a.id+'-legendChk',ui:a.checkboxUI,checked:!a.collapsed,msgTarget:'none',listeners:{change:a.onCheckChange,scope:a}});return a.checkboxCmp},createToggleCmp:function(){var a=this;a.toggleCmp=Ext.widget({xtype:'tool',cacheHeight:!1,cls:a.baseCls+'-header-tool-'+a.ui,type:'toggle',handler:a.toggle,id:a.id+'-legendToggle',scope:a});return a.toggleCmp},doRenderLegend:function(d,c){var e=c.$comp,a=e.legend,b;if(a){a.ownerLayout.configureItem(a);b=a.getRenderTree();Ext.DomHelper.generateMarkup(b,d)}},finishRender:function(){var a=this.legend;Ext.container.Container.prototype.finishRender.call(this);if(a){a.finishRender()}},getCollapsed:function(){return this.collapsed?'top':!1},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(c){var a=this,b=a.legend,d=a.baseCls;a.title=c;if(a.rendered){if(!b){a.legend=b=Ext.widget(a.createLegendCt());a.addTitleClasses();b.ownerLayout.configureItem(b);b.render(a.el,0)}a.titleCmp.update(c)}else {if(b){a.titleCmp.update(c)}else {a.addTitleClasses();a.legend=Ext.widget(a.createLegendCt())}}return a},addTitleClasses:function(){var a=this,c=a.title,b=a.baseCls;if(c){a.addCls(b+'-with-title')}if(c||a.checkboxToggle||a.collapsible){a.addCls(b+'-with-legend')}},applyTargetCls:function(a){this.bodyTargetCls=a},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(b){var a=this,c=a.checkboxCmp,d=b?'expand':'collapse';if(!a.rendered||a.fireEvent('before'+d,a)!==!1){b=!!b;if(c){c.setValue(b)}if(b){a.removeCls(a.baseCls+'-collapsed')}else {a.addCls(a.baseCls+'-collapsed')}a.collapsed=!b;if(b){delete a.getInherited().collapsed}else {a.getInherited().collapsed=!0}if(a.rendered){a.updateLayout({isRoot:!1});a.fireEvent(d,a)}}return a},getRefItems:function(c){var a=Ext.container.Container.prototype.getRefItems.apply(this,arguments),b=this.legend;if(b){a.unshift(b);if(c){a.unshift.apply(a,b.getRefItems(!0))}}return a},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(b,a){this.setExpanded(a)},setupRenderTpl:function(a){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);a.renderLegend=this.doRenderLegend}},0,['fieldset'],['component','box','container','fieldset'],{'component':!0,'box':!0,'container':!0,'fieldset':!0},['widget.fieldset'],[['fieldAncestor',Ext.form.FieldAncestor]],[Ext.form,'FieldSet'],0);Ext.cmd.derive('Ext.form.Label',Ext.Component,{autoEl:'label',maskOnDisable:!1,getElConfig:function(){var a=this;a.html=a.text?Ext.util.Format.htmlEncode(a.text):a.html||'';return Ext.apply(Ext.Component.prototype.getElConfig.call(this),{htmlFor:a.forId||''})},setText:function(c,b){var a=this;b=b!==!1;if(b){a.text=c;delete a.html}else {a.html=c;delete a.text}if(a.rendered){a.el.dom.innerHTML=b!==!1?Ext.util.Format.htmlEncode(c):c;a.updateLayout()}return a}},0,['label'],['component','box','label'],{'component':!0,'box':!0,'label':!0},['widget.label'],0,[Ext.form,'Label'],0);Ext.cmd.derive('Ext.form.Panel',Ext.panel.Panel,{alternateClassName:['Ext.FormPanel','Ext.form.FormPanel'],layout:'anchor',ariaRole:'form',basicFormConfigs:['api','baseParams','errorReader','jsonSubmit','method','paramOrder','paramsAsHash','reader','standardSubmit','timeout','trackResetOnLoad','url','waitMsgTarget','waitTitle'],initComponent:function(){var a=this;if(a.frame){a.border=!1}a.initFieldAncestor();Ext.panel.Panel.prototype.initComponent.call(this);a.relayEvents(a.form,['beforeaction','actionfailed','actioncomplete','validitychange','dirtychange']);if(a.pollForChanges){a.startPolling(a.pollInterval||500)}},initItems:function(){Ext.panel.Panel.prototype.initItems.call(this);this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments);this.form.initialize()},createForm:function(){var d={},c=this.basicFormConfigs,e=c.length,b=0,a;for(;b<e;++b){a=c[b];d[a]=this[a]}return new Ext.form.Basic(this,d)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(d,c,a,b){return this.getForm().getValues(d,c,a,b)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(){this.form.reset()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();Ext.panel.Panel.prototype.beforeDestroy.call(this)},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(b){this.stopPolling();var a=new Ext.util.TaskRunner(b);a.start({interval:0,run:this.checkChange,scope:this});this.pollTask=a},stopPolling:function(){var a=this.pollTask;if(a){a.stopAll();delete this.pollTask}},checkChange:function(){var b=this.form.getFields().items,a,c=b.length;for(a=0;a<c;a++){b[a].checkChange()}}},0,['form'],['component','box','container','panel','form'],{'component':!0,'box':!0,'container':!0,'panel':!0,'form':!0},['widget.form'],[['fieldAncestor',Ext.form.FieldAncestor]],[Ext.form,'Panel',Ext,'FormPanel',Ext.form,'FormPanel'],0);Ext.cmd.derive('Ext.form.RadioManager',Ext.util.MixedCollection,{singleton:!0,getByName:function(b,a){return this.filterBy(function(c){return c.name==b&&c.getFormId()==a})},getWithValue:function(c,b,a){return this.filterBy(function(d){return d.name==c&&d.inputValue==b&&d.getFormId()==a})},getChecked:function(b,a){return this.findBy(function(c){return c.name==b&&c.checked&&c.getFormId()==a})}},0,0,0,0,0,0,[Ext.form,'RadioManager'],0);Ext.cmd.derive('Ext.form.field.Radio',Ext.form.field.Checkbox,{alternateClassName:'Ext.form.Radio',isRadio:!0,inputType:'radio',ariaRole:'radio',formId:null,getGroupValue:function(){var a=this.getManager().getChecked(this.name,this.getFormId());return a?a.inputValue:null},onBoxClick:function(b){var a=this;if(!a.disabled&&!a.readOnly){this.setValue(!0)}},onRemoved:function(){Ext.form.field.Checkbox.prototype.onRemoved.apply(this,arguments);this.formId=null},setValue:function(c){var a=this,b;if(Ext.isBoolean(c)){Ext.form.field.Checkbox.prototype.setValue.apply(this,arguments)}else {b=a.getManager().getWithValue(a.name,c,a.getFormId()).getAt(0);if(b){b.setValue(!0)}}return a},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){var a=Ext.form.field.Checkbox.prototype.getModelData.apply(this,arguments);if(a){a[this.getName()]=this.getSubmitValue()}return a},onChange:function(f,g){var a=this,b,e,d,c;Ext.form.field.Checkbox.prototype.onChange.apply(this,arguments);if(f){c=a.getManager().getByName(a.name,a.getFormId()).items;e=c.length;for(b=0;b<e;b++){d=c[b];if(d!==a){d.setValue(!1)}}}},getManager:function(){return Ext.form.RadioManager}},0,['radio','radiofield'],['component','box','field','checkboxfield','checkbox','radiofield','radio'],{'component':!0,'box':!0,'field':!0,'checkboxfield':!0,'checkbox':!0,'radiofield':!0,'radio':!0},['widget.radio','widget.radiofield'],0,[Ext.form.field,'Radio',Ext.form,'Radio'],0);Ext.cmd.derive('Ext.form.RadioGroup',Ext.form.CheckboxGroup,{allowBlank:!0,blankText:'You must select one item in this group',defaultType:'radiofield',groupCls:'x-form-radio-group',ariaRole:'radiogroup',getBoxes:function(a){return this.query('[isRadio]'+(a||''))},checkChange:function(){var a=this.getValue(),b=Ext.Object.getKeys(a)[0];if(Ext.isArray(a[b])){return}Ext.form.CheckboxGroup.prototype.checkChange.apply(this,arguments)},setValue:function(a){var f,e,g,d,c,h,b;if(Ext.isObject(a)){for(b in a){if(a.hasOwnProperty(b)){f=a[b];e=this.items.first();g=e?e.getFormId():null;d=Ext.form.RadioManager.getWithValue(b,f,g).items;h=d.length;for(c=0;c<h;++c){d[c].setValue(!0)}}}}return this}},0,['radiogroup'],['component','box','container','fieldcontainer','checkboxgroup','radiogroup'],{'component':!0,'box':!0,'container':!0,'fieldcontainer':!0,'checkboxgroup':!0,'radiogroup':!0},['widget.radiogroup'],0,[Ext.form,'RadioGroup'],0);Ext.cmd.derive('Ext.form.action.DirectLoad',Ext.form.action.Load,{alternateClassName:'Ext.form.Action.DirectLoad',type:'directload',run:function(){var b=this,d=b.form,f=d.api,a=f.load,e,c;if(typeof a!=='function'){f.load=a=Ext.direct.Manager.parseMethod(a)}e=a.directCfg.method;c=e.getArgs(b.getParams(),d.paramOrder,d.paramsAsHash);c.push(b.onComplete,b);a.apply(window,c)},processResponse:function(a){return this.result=a},onComplete:function(a,b){if(a){this.onSuccess(a)}else {this.onFailure(null)}}},0,0,0,0,['formaction.directload'],0,[Ext.form.action,'DirectLoad',Ext.form.Action,'DirectLoad'],0);Ext.cmd.derive('Ext.form.action.DirectSubmit',Ext.form.action.Submit,{alternateClassName:'Ext.form.Action.DirectSubmit',type:'directsubmit',doSubmit:function(){var a=this,e=a.form,f=e.api,b=f.submit,g,c,d;d;if(typeof b!=='function'){f.submit=b=Ext.direct.Manager.parseMethod(b)}if(a.timeout||e.timeout){d={timeout:a.timeout*1000||e.timeout*1000}}c=a.buildForm();b.call(window,c.formEl,a.onComplete,a,d);a.cleanup(c)},processResponse:function(a){return this.result=a},onComplete:function(a,b){if(a){this.onSuccess(a)}else {this.onFailure(null)}}},0,0,0,0,['formaction.directsubmit'],0,[Ext.form.action,'DirectSubmit',Ext.form.Action,'DirectSubmit'],0);Ext.cmd.derive('Ext.form.action.StandardSubmit',Ext.form.action.Submit,{doSubmit:function(){var a=this.buildForm();a.formEl.submit();this.cleanup(a)}},0,0,0,0,['formaction.standardsubmit'],0,[Ext.form.action,'StandardSubmit'],0);Ext.cmd.derive('Ext.form.field.Picker',Ext.form.field.Text,{alternateClassName:'Ext.form.Picker',config:{triggers:{picker:{handler:'onTriggerClick',scope:'this'}}},matchFieldWidth:!0,pickerAlign:'tl-bl?',openCls:'x-pickerfield-open',editable:!0,applyTriggers:function(a){var c=this,b=a.picker;if(!b.cls){b.cls=c.triggerCls}return Ext.form.field.Text.prototype.applyTriggers.call(this,a)},initEvents:function(){var a=this;Ext.form.field.Text.prototype.initEvents.call(this);a.keyNav=new Ext.util.KeyNav(a.inputEl,{down:a.onDownArrow,esc:{handler:a.onEsc,scope:a,defaultEventAction:!1},scope:a,forceKeyDown:!0});if(!a.editable){a.mon(a.inputEl,'click',a.onTriggerClick,a)}if(Ext.isGecko){a.inputEl.dom.setAttribute('autocomplete','off')}},onEsc:function(a){if(Ext.isIE){a.preventDefault()}if(this.isExpanded){this.collapse();a.stopEvent()}},onDownArrow:function(a){if(!this.isExpanded){this.onTriggerClick()}},expand:function(){var a=this,c,d,b;if(a.rendered&&!a.isExpanded&&!a.isDestroyed){a.expanding=!0;c=a.bodyEl;d=a.getPicker();b=a.collapseIf;d.show();a.isExpanded=!0;a.alignPicker();c.addCls(a.openCls);a.mon(Ext.getDoc(),{mousewheel:b,mousedown:b,scope:a});Ext.on('resize',a.alignPicker,a);a.fireEvent('expand',a);a.onExpand();delete a.expanding}},onExpand:Ext.emptyFn,alignPicker:function(){var a=this,b,c=a.getPicker();if(a.isExpanded){if(a.matchFieldWidth){b=a.bodyEl.getWidth();c.setWidth(b)}if(c.isFloating()){a.doAlign()}}},doAlign:function(){var a=this,c=a.picker,d='-above',b;a.picker.alignTo(a.triggerWrap,a.pickerAlign,a.pickerOffset);b=c.el.getY()<a.inputEl.getY();a.bodyEl[b?'addCls':'removeCls'](a.openCls+d);c[b?'addCls':'removeCls'](c.baseCls+d)},collapse:function(){var a=this;if(a.isExpanded&&!a.isDestroyed&&!a.destroying){var e=a.openCls,b=a.picker,f=Ext.getDoc(),c=a.collapseIf,d='-above';b.hide();a.isExpanded=!1;a.bodyEl.removeCls([e,e+d]);b.el.removeCls(b.baseCls+d);f.un('mousewheel',c,a);f.un('mousedown',c,a);Ext.un('resize',a.alignPicker,a);a.fireEvent('collapse',a);a.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(b){var a=this;if(!a.isDestroyed&&!b.within(a.bodyEl,!1,!0)&&!a.owns(b.target)){a.collapse()}},getPicker:function(){var a=this;return a.picker||(a.picker=a.createPicker())},getRefItems:function(){var a=[];if(this.picker){a[0]=this.picker}return a},createPicker:Ext.emptyFn,onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else {a.expand()}if(!Ext.supports.TouchEvents){a.inputEl.focus()}}},onOtherFocus:function(a){if(this.hasFocus&&!this.owns(a)){Ext.form.field.Text.prototype.onOtherFocus.call(this,a)}},triggerBlur:function(){var a=this.picker;Ext.form.field.Text.prototype.triggerBlur.apply(this,arguments);this.collapse()},mimicBlur:function(c){var a=this,b=a.picker;if(!b||!a.owns(c.target)){Ext.form.field.Text.prototype.mimicBlur.apply(this,arguments)}else {a.inputEl.focus()}},beforeDestroy:function(){var a=this,b=a.picker;a.collapse();Ext.form.field.Text.prototype.beforeDestroy.call(this);Ext.destroy(a.keyNav,b);if(b){delete a.picker;delete b.pickerField}}},0,['pickerfield'],['component','box','field','textfield','pickerfield'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'pickerfield':!0},['widget.pickerfield'],0,[Ext.form.field,'Picker',Ext.form,'Picker'],0);Ext.cmd.derive('Ext.layout.component.BoundList',Ext.layout.component.Auto,{type:'component',beginLayout:function(a){var d=this,b=d.owner,c=b.pagingToolbar;d.scrollPos=b.listWrap.getScroll();Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(b.floating){a.savedXY=b.getXY();b.setXY([0,-9999])}if(c){a.toolbarContext=a.context.getCmp(c)}a.listContext=a.getEl('listWrap')},beginLayoutCycle:function(b){var a=this.owner;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(b.heightModel.auto){a.el.setHeight('auto');a.listWrap.setHeight('auto')}},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return !0},finishedLayout:function(e){var a=this,d=e.savedXY,f=a.owner,c=f.listWrap,b=a.scrollPos;Ext.layout.component.Auto.prototype.finishedLayout.apply(this,arguments);if(d){a.owner.setXY(d)}c.setScrollLeft(b.left);c.setScrollTop(b.top)},measureContentWidth:function(a){return this.owner.listWrap.getWidth()},measureContentHeight:function(a){return this.owner.listWrap.getHeight()},publishInnerHeight:function(b,d){var c=b.toolbarContext,a=0;if(c){a=c.getProp('height')}if(a===undefined){this.done=!1}else {b.listContext.setHeight(d-b.getFrameInfo().height-a)}},calculateOwnerHeightFromContentHeight:function(c){var b=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),a=c.toolbarContext;if(a){b+=a.getProp('height')}return b}},0,0,0,0,['layout.boundlist'],0,[Ext.layout.component,'BoundList'],0);Ext.define('Ext.toolbar.TextItem',{extend:Ext.toolbar.Item,alias:'widget.tbtext',alternateClassName:'Ext.Toolbar.TextItem',text:'',renderTpl:'{text}',baseCls:'x-toolbar-text',ariaRole:null,beforeRender:function(){var a=this;Ext.toolbar.Item.prototype.beforeRender.call(this);Ext.apply(a.renderData,{text:a.text})},setText:function(b){var a=this;a.text=b;if(a.rendered){a.el.setHtml(b);a.updateLayout()}}});Ext.cmd.derive('Ext.form.trigger.Spinner',Ext.form.trigger.Trigger,{cls:'x-form-trigger-spinner',spinnerCls:'x-form-spinner',spinnerUpCls:'x-form-spinner-up',spinnerDownCls:'x-form-spinner-down',focusCls:'x-form-spinner-focus',overCls:'x-form-spinner-over',clickCls:'x-form-spinner-click',focusFieldOnClick:!0,vertical:!0,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"></div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl>',getBodyRenderData:function(){var a=this;return {vertical:a.vertical,upDisabledCls:a.upEnabled?'':a.spinnerUpCls+'-disabled',downDisabledCls:a.downEnabled?'':a.spinnerDownCls+'-disabled',spinnerCls:a.spinnerCls,spinnerUpCls:a.spinnerUpCls,spinnerDownCls:a.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(c){var a=this,d=arguments,c=a.clickRepeater?d[1]:d[0],b=a.field;if(!b.readOnly&&!b.disabled){if(a.upEl.contains(c.target)){Ext.callback(a.upHandler,a.scope,[b,a,c],0,b)}else {if(a.downEl.contains(c.target)){Ext.callback(a.downHandler,a.scope,[b,a,c],0,b)}}}b.inputEl.focus()},onFieldRender:function(){var a=this,d=a.vertical,c,b;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);c=a.spinnerEl=a.el.select('.'+a.spinnerCls,!0);b=c.elements;a.upEl=d?b[0]:b[1];a.downEl=d?b[1]:b[0]},setUpEnabled:function(a){this.upEl[a?'removeCls':'addCls'](this.spinnerUpCls+'-disabled')},setDownEnabled:function(a){this.downEl[a?'removeCls':'addCls'](this.spinnerDownCls+'-disabled')}},0,0,0,0,['trigger.spinner'],0,[Ext.form.trigger,'Spinner'],0);Ext.cmd.derive('Ext.form.field.Spinner',Ext.form.field.Text,{alternateClassName:'Ext.form.Spinner',config:{triggers:{spinner:{type:'spinner',upHandler:'onSpinnerUpClick',downHandler:'onSpinnerDownClick',scope:'this'}}},spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:'spinbutton',applyTriggers:function(b){var c=this,a=b.spinner;a.upEnabled=c.spinUpEnabled;a.downEnabled=c.spinDownEnabled;return Ext.form.field.Text.prototype.applyTriggers.call(this,b)},onRender:function(){var a=this,b=a.getTrigger('spinner');(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).call(this);if(a.keyNavEnabled){a.spinnerKeyNav=new Ext.util.KeyNav(a.inputEl,{scope:a,up:a.spinUp,down:a.spinDown})}if(a.mouseWheelEnabled){a.mon(a.bodyEl,'mousewheel',a.onMouseWheel,a)}a.spinUpEl=b.upEl;a.spinDownEl=b.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var a=this;if(a.spinUpEnabled&&!a.disabled){a.fireEvent('spin',a,'up');a.fireEvent('spinup',a);a.onSpinUp()}},spinDown:function(){var a=this;if(a.spinDownEnabled&&!a.disabled){a.fireEvent('spin',a,'down');a.fireEvent('spindown',a);a.onSpinDown()}},setSpinUpEnabled:function(b){var a=this,c=a.spinUpEnabled;a.spinUpEnabled=b;if(c!==b&&a.rendered){a.getTrigger('spinner').setUpEnabled(b)}},setSpinDownEnabled:function(b){var a=this,c=a.spinDownEnabled;a.spinDownEnabled=b;if(c!==b&&a.rendered){a.getTrigger('spinner').setDownEnabled(b)}},onMouseWheel:function(c){var b=this,a;if(b.hasFocus){a=c.getWheelDelta();if(a>0){b.spinUp()}else {if(a<0){b.spinDown()}}c.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,'spinnerKeyNav');Ext.form.field.Text.prototype.onDestroy.call(this)}},0,['spinnerfield'],['component','box','field','textfield','spinnerfield'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'spinnerfield':!0},['widget.spinnerfield'],0,[Ext.form.field,'Spinner',Ext.form,'Spinner'],0);Ext.cmd.derive('Ext.form.field.Number',Ext.form.field.Spinner,{alternateClassName:['Ext.form.NumberField','Ext.form.Number'],allowExponential:!0,allowDecimals:!0,decimalSeparator:null,submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:'The minimum value for this field is {0}',maxText:'The maximum value for this field is {0}',nanText:'{0} is not a valid number',negativeText:'The value cannot be negative',baseChars:'0123456789',autoStripChars:!1,initComponent:function(){var a=this;if(a.decimalSeparator===null){a.decimalSeparator=Ext.util.Format.decimalSeparator}Ext.form.field.Spinner.prototype.initComponent.call(this);a.setMinValue(a.minValue);a.setMaxValue(a.maxValue)},getErrors:function(b){var a=this,c=Ext.form.field.Spinner.prototype.getErrors.apply(this,arguments),e=Ext.String.format,d;b=Ext.isDefined(b)?b:this.processRawValue(this.getRawValue());if(b.length<1){return c}b=String(b).replace(a.decimalSeparator,'.');if(isNaN(b)){c.push(e(a.nanText,b))}d=a.parseValue(b);if(a.minValue===0&&d<0){c.push(this.negativeText)}else {if(d<a.minValue){c.push(e(a.minText,a.minValue))}}if(d>a.maxValue){c.push(e(a.maxText,a.maxValue))}return c},rawToValue:function(b){var a=this.fixPrecision(this.parseValue(b));if(a===null){a=b||null}return a},valueToRaw:function(a){var b=this,c=b.decimalSeparator;a=b.parseValue(a);a=b.fixPrecision(a);a=Ext.isNumber(a)?a:parseFloat(String(a).replace(c,'.'));a=isNaN(a)?'':String(a).replace('.',c);return a},getSubmitValue:function(){var b=this,a=Ext.form.field.Spinner.prototype.getSubmitValue.call(this);if(!b.submitLocaleSeparator){a=a.replace(b.decimalSeparator,'.')}return a},onChange:function(){this.toggleSpinners();Ext.form.field.Spinner.prototype.onChange.apply(this,arguments)},toggleSpinners:function(){var a=this,c=a.getValue(),d=c===null,b;if(a.spinUpEnabled||a.spinUpDisabledByToggle){b=d||c<a.maxValue;a.setSpinUpEnabled(b,!0)}if(a.spinDownEnabled||a.spinDownDisabledByToggle){b=d||c>a.minValue;a.setSpinDownEnabled(b,!0)}},setMinValue:function(c){var a=this,b;a.minValue=Ext.Number.from(c,Number.NEGATIVE_INFINITY);a.toggleSpinners();if(a.disableKeyFilter!==!0){b=a.baseChars+'';if(a.allowExponential){b+=a.decimalSeparator+'e+-'}else {if(a.allowDecimals){b+=a.decimalSeparator}if(a.minValue<0){b+='-'}}b=Ext.String.escapeRegex(b);a.maskRe=new RegExp('['+b+']');if(a.autoStripChars){a.stripCharsRe=new RegExp('[^'+b+']','gi')}}},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,'.'));return isNaN(a)?null:a},fixPrecision:function(a){var d=this,c=isNaN(a),b=d.decimalPrecision;if(c||!a){return c?'':a}else {if(!d.allowDecimals||b<=0){b=0}}return parseFloat(Ext.Number.toFixed(parseFloat(a),b))},beforeBlur:function(){var a=this,b=a.rawToValue(a.getRawValue());if(!Ext.isEmpty(b)){a.setValue(b)}},setSpinUpEnabled:function(b,a){Ext.form.field.Spinner.prototype.setSpinUpEnabled.apply(this,arguments);if(!a){delete this.spinUpDisabledByToggle}else {this.spinUpDisabledByToggle=!b}},onSpinUp:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))}},setSpinDownEnabled:function(b,a){Ext.form.field.Spinner.prototype.setSpinDownEnabled.apply(this,arguments);if(!a){delete this.spinDownDisabledByToggle}else {this.spinDownDisabledByToggle=!b}},onSpinDown:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))}},setSpinValue:function(b){var a=this,c;if(a.enforceMaxLength){if(a.fixPrecision(b).toString().length>a.maxLength){return}}a.setValue(b)}},0,['numberfield'],['component','box','field','textfield','spinnerfield','numberfield'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'spinnerfield':!0,'numberfield':!0},['widget.numberfield'],0,[Ext.form.field,'Number',Ext.form,'NumberField',Ext.form,'Number'],0);Ext.cmd.derive('Ext.toolbar.Paging',Ext.toolbar.Toolbar,{alternateClassName:'Ext.PagingToolbar',displayInfo:!1,prependButtons:!1,displayMsg:'Displaying {0} - {1} of {2}',emptyMsg:'No data to display',beforePageText:'Page',afterPageText:'of {0}',firstText:'First Page',prevText:'Previous Page',nextText:'Next Page',lastText:'Last Page',refreshText:'Refresh',inputItemWidth:30,getPagingItems:function(){var a=this,b={scope:a,blur:a.onPagingBlur};b[Ext.supports.SpecialKeyDownRepeat?'keydown':'keypress']=a.onPagingKeyDown;return [{itemId:'first',tooltip:a.firstText,overflowText:a.firstText,iconCls:'x-tbar-page-first',disabled:!0,handler:a.moveFirst,scope:a},{itemId:'prev',tooltip:a.prevText,overflowText:a.prevText,iconCls:'x-tbar-page-prev',disabled:!0,handler:a.movePrevious,scope:a},'-',a.beforePageText,{xtype:'numberfield',itemId:'inputItem',name:'inputItem',cls:'x-tbar-page-number',allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:a.inputItemWidth,margins:'-1 2 3 2',listeners:b},{xtype:'tbtext',itemId:'afterTextItem',text:Ext.String.format(a.afterPageText,1)},'-',{itemId:'next',tooltip:a.nextText,overflowText:a.nextText,iconCls:'x-tbar-page-next',disabled:!0,handler:a.moveNext,scope:a},{itemId:'last',tooltip:a.lastText,overflowText:a.lastText,iconCls:'x-tbar-page-last',disabled:!0,handler:a.moveLast,scope:a},'-',{itemId:'refresh',tooltip:a.refreshText,overflowText:a.refreshText,iconCls:'x-tbar-loading',disabled:a.store.isLoading(),handler:a.doRefresh,scope:a}]},initComponent:function(){var a=this,c=a.items||a.buttons||[],b;a.bindStore(a.store||'ext-empty-store',!0);b=a.getPagingItems();if(a.prependButtons){a.items=c.concat(b)}else {a.items=b.concat(c)}delete a.buttons;if(a.displayInfo){a.items.push('->');a.items.push({xtype:'tbtext',itemId:'displayItem'})}Ext.toolbar.Toolbar.prototype.initComponent.call(this)},beforeRender:function(){var a=this;Ext.toolbar.Toolbar.prototype.beforeRender.apply(this,arguments);if(!a.store.isLoading()){a.calledFromRender=!0;a.onLoad();delete a.calledFromRender}},updateInfo:function(){var a=this,d=a.child('#displayItem'),f=a.store,b=a.getPageData(),e,c;if(d){e=f.getCount();if(e===0){c=a.emptyMsg}else {c=Ext.String.format(a.displayMsg,b.fromRecord,b.toRecord,b.total)}d.setText(c)}},onLoad:function(){var a=this,f,c,b,g,h,d,e;h=a.store.getCount();d=h===0;if(!d){f=a.getPageData();c=f.currentPage;b=f.pageCount;if(c>b){a.store.loadPage(b);return}g=Ext.String.format(a.afterPageText,isNaN(b)?1:b)}else {c=0;b=0;g=Ext.String.format(a.afterPageText,0)}Ext.suspendLayouts();e=a.child('#afterTextItem');if(e){e.setText(g)}e=a.getInputItem();if(e){e.setDisabled(d).setValue(c)}a.setChildDisabled('#first',c===1||d);a.setChildDisabled('#prev',c===1||d);a.setChildDisabled('#next',c===b||d);a.setChildDisabled('#last',c===b||d);a.setChildDisabled('#refresh',!1);a.updateInfo();Ext.resumeLayouts(!0);if(!a.calledFromRender){a.fireEvent('change',a,f)}},setChildDisabled:function(c,b){var a=this.child(c);if(a){a.setDisabled(b)}},getPageData:function(){var a=this.store,b=a.getTotalCount();return {total:b,currentPage:a.currentPage,pageCount:Math.ceil(b/a.pageSize),fromRecord:(a.currentPage-1)*a.pageSize+1,toRecord:Math.min(a.currentPage*a.pageSize,b)}},onLoadError:function(){this.setChildDisabled('#refresh',!1)},getInputItem:function(){return this.child('#inputItem')},readPageFromInput:function(d){var a=this.getInputItem(),b=!1,c;if(a){c=a.getValue();b=parseInt(c,10);if(!c||isNaN(b)){a.setValue(d.currentPage);return !1}}return b},onPagingBlur:function(c){var a=this.getInputItem(),b;if(a){b=this.getPageData().currentPage;a.setValue(b)}},onPagingKeyDown:function(a,b){this.processKeyEvent(a,b)},processKeyEvent:function(g,b){var e=this,c=b.getKey(),d=e.getPageData(),f=b.shiftKey?10:1,a;if(c==b.RETURN){b.stopEvent();a=e.readPageFromInput(d);if(a!==!1){a=Math.min(Math.max(1,a),d.pageCount);if(a!==d.currentPage&&e.fireEvent('beforechange',e,a)!==!1){e.store.loadPage(a)}}}else {if(c==b.HOME||c==b.END){b.stopEvent();a=c==b.HOME?1:d.pageCount;g.setValue(a)}else {if(c==b.UP||c==b.PAGE_UP||c==b.DOWN||c==b.PAGE_DOWN){b.stopEvent();a=e.readPageFromInput(d);if(a){if(c==b.DOWN||c==b.PAGE_DOWN){f*=-1}a+=f;if(a>=1&&a<=d.pageCount){g.setValue(a)}}}}}},beforeLoad:function(){this.setChildDisabled('#refresh',!0)},moveFirst:function(){if(this.fireEvent('beforechange',this,1)!==!1){this.store.loadPage(1);return !0}return !1},movePrevious:function(){var a=this,b=a.store,c=b.currentPage-1;if(c>0){if(a.fireEvent('beforechange',a,c)!==!1){b.previousPage();return !0}}return !1},moveNext:function(){var a=this,b=a.store,d=a.getPageData().pageCount,c=b.currentPage+1;if(c<=d){if(a.fireEvent('beforechange',a,c)!==!1){b.nextPage();return !0}}return !1},moveLast:function(){var a=this,b=a.getPageData().pageCount;if(a.fireEvent('beforechange',a,b)!==!1){a.store.loadPage(b);return !0}return !1},doRefresh:function(){var a=this,c=a.store,b=c.currentPage;if(a.fireEvent('beforechange',a,b)!==!1){c.loadPage(b);return !0}return !1},getStoreListeners:function(){return {beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onDestroy:function(){this.bindStore(null);Ext.toolbar.Toolbar.prototype.onDestroy.call(this)}},0,['pagingtoolbar'],['component','box','container','toolbar','pagingtoolbar'],{'component':!0,'box':!0,'container':!0,'toolbar':!0,'pagingtoolbar':!0},['widget.pagingtoolbar'],[['bindable',Ext.util.Bindable]],[Ext.toolbar,'Paging',Ext,'PagingToolbar'],0);Ext.define('ExtThemeNeptune.toolbar.Paging',{override:'Ext.toolbar.Paging',defaultButtonUI:'plain-toolbar',inputItemWidth:40});Ext.cmd.derive('Ext.view.BoundList',Ext.view.View,{alternateClassName:'Ext.BoundList',pageSize:0,baseCls:'x-boundlist',itemCls:'x-boundlist-item',listItemCls:'',shadow:!1,trackOver:!0,preserveScrollOnRefresh:!0,deferInitialRefresh:!1,componentLayout:'boundlist',autoScroll:!0,childEls:['listWrap','listEl'],renderTpl:['<div id="{id}-listWrap" role="presentation" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" class="'+Ext.plainListCls+'">','</ul>','</div>','{%','var pagingToolbar=values.$comp.pagingToolbar;','if (pagingToolbar) {','Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);','}','%}',{disableFormats:!0}],initComponent:function(){var a=this,b=a.baseCls,c=a.itemCls;a.selectedItemCls=b+'-selected';if(a.trackOver){a.overItemCls=b+'-item-over'}a.itemSelector='.'+c;a.scrollerSelector='ul.'+Ext.plainListCls;if(a.floating){a.addCls(b+'-floating')}if(!a.tpl){a.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+c+'">'+a.getInnerTpl(a.displayField)+'</li>','</tpl>')}else {if(!a.tpl.isTemplate){a.tpl=new Ext.XTemplate(a.tpl)}}if(a.pageSize){a.pagingToolbar=a.createPagingToolbar()}Ext.view.View.prototype.initComponent.call(this)},getRefOwner:function(){return this.pickerField||Ext.view.View.prototype.getRefOwner.call(this)},getRefItems:function(){var b=Ext.view.View.prototype.getRefItems.call(this),a=this.pagingToolbar;if(a){b.push(a)}return b},getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},createPagingToolbar:function(){return Ext.widget('pagingtoolbar',{id:this.id+'-paging-toolbar',pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var a=this.pagingToolbar;Ext.view.View.prototype.finishRenderChildren.apply(this,arguments);if(a){a.finishRender()}},refresh:function(){var a=this,b=a.tpl,c=a.pagingToolbar,d=a.rendered;b.field=a.pickerField;b.store=a.store;Ext.view.View.prototype.refresh.call(this);b.field=b.store=null;if(d&&c&&c.rendered&&!a.preserveScrollOnRefresh){a.el.appendChild(c.el,!0)}},bindStore:function(c,b){var a=this.pagingToolbar;Ext.view.View.prototype.bindStore.apply(this,arguments);if(a){a.bindStore(c,b)}},getInnerTpl:function(a){return '{'+a+'}'},onDestroy:function(){Ext.view.View.prototype.onDestroy.call(this);Ext.destroyMembers(this,'pagingToolbar','listWrap','listEl')}},0,['boundlist'],['component','box','dataview','boundlist'],{'component':!0,'box':!0,'dataview':!0,'boundlist':!0},['widget.boundlist'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,'BoundList',Ext,'BoundList'],0);Ext.cmd.derive('Ext.view.BoundListKeyNav',Ext.util.KeyNav,{constructor:function(c,a){var b=this;b.boundList=a.boundList;Ext.util.KeyNav.prototype.constructor.call(this,c,Ext.apply({},a,b.defaultHandlers))},defaultHandlers:{up:function(){var d=this,a=d.boundList,f=a.all,c=a.highlightedItem,b=c?a.indexOf(c):-1,e=b>0?b-1:f.getCount()-1;d.highlightAt(e)},down:function(){var d=this,a=d.boundList,f=a.all,c=a.highlightedItem,b=c?a.indexOf(c):-1,e=b<f.getCount()-1?b+1:0;d.highlightAt(e)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var a=this;a.highlightAt(a.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(c){var b=this.boundList,a=b.all.item(c);if(a){a=a.dom;b.highlightItem(a);b.getTargetEl().scrollChildIntoView(a,!1)}},selectHighlighted:function(d){var c=this.boundList,e=c.getSelectionModel(),b,a;b=c.highlightedItem;if(b){a=c.getRecord(b);if(d.getKey()===d.ENTER||!e.isSelected(a)){e.selectWithEvent(a,d)}}}},1,0,0,0,0,0,[Ext.view,'BoundListKeyNav'],0);Ext.cmd.derive('Ext.form.field.ComboBox',Ext.form.field.Picker,{alternateClassName:'Ext.form.ComboBox',config:{filters:null},triggerCls:'x-form-arrow-trigger',hiddenName:'',hiddenDataCls:'x-hidden-display x-form-data-hidden',ariaRole:'combobox',filtered:!1,afterRender:function(){var a=this;Ext.form.field.Picker.prototype.afterRender.apply(this,arguments);a.setHiddenValue(a.value)},multiSelect:!1,delimiter:', ',displayField:'text',triggerAction:'all',allQuery:'',queryParam:'query',queryMode:'remote',queryCaching:!0,autoLoadOnValue:!1,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,clearFilterOnBlur:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:'sides'},transformInPlace:!0,ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var a=this;return a.grow&&a.growToLongestValue},initComponent:function(){var a=this,f=Ext.isDefined,c=a.store,g=a.transform,e=a.displayTpl,b,d;Ext.applyIf(a.renderSelectors,{hiddenDataEl:'.'+a.hiddenDataCls.split(' ').join('.')});if(g){b=Ext.getDom(g);if(b){if(!a.store){c=Ext.Array.map(Ext.Array.from(b.options),function(a){return [a.value,a.text]})}if(!a.name){a.name=b.name}if(!('value' in a)){a.value=b.value}}}a.bindStore(c||'ext-empty-store',!0,!0);c=a.store;if(c.autoCreated){a.queryMode='local';a.valueField=a.displayField='field1';if(!c.expanded){a.displayField='field2'}}if(!f(a.valueField)){a.valueField=a.displayField}d=a.queryMode==='local';if(!f(a.queryDelay)){a.queryDelay=d?10:500}if(!f(a.minChars)){a.minChars=d?0:4}if(!e){a.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+a.displayField+'"]]}<tpl if="xindex < xcount">'+a.delimiter+'</tpl></tpl>')}else {if(!e.isTemplate){a.displayTpl=new Ext.XTemplate(e)}}Ext.form.field.Picker.prototype.initComponent.call(this);a.doQueryTask=new Ext.util.DelayedTask(a.doRawQuery,a);if(a.store.getCount()>0){a.setValue(a.value)}if(b){if(a.transformInPlace){a.render(b.parentNode,b);delete a.renderTo}Ext.removeNode(b)}},getSubTplMarkup:function(){var c=this,a='<div class="'+c.hiddenDataCls+'" role="presentation"></div>',b=Ext.form.field.Picker.prototype.getSubTplMarkup.call(this);return a+b},applyFilters:function(b,a){var c=this;if(b===null||b.isFilterCollection){return b}if(b){if(!a){a=this.getFilters()}a.beginUpdate();a.splice(0,a.length,b);a.each(function(d){d.ownerId=c.id});a.endUpdate()}return a},getFilters:function(b){var a=this.filters;if(!a&&b!==!1){a=new Ext.util.FilterCollection();this.setFilters(a)}return a},updateFilters:function(a,c){var b=this;if(c){c.un('endupdate','onEndUpdateFilters',b)}if(a){a.on('endupdate','onEndUpdateFilters',b)}b.onEndUpdateFilters(a)},onEndUpdateFilters:function(a){var b=this,f=b.filtered,e=!!a&&a.length>0,d,c;if(f||e){b.filtered=e;d=[];c=b.store.getFilters();c.each(function(c){if(c.ownerId===b.id&&!a.contains(c)){d.push(c)}});c.splice(0,d,a.items)}},getStore:function(){return this.store},beforeBlur:function(){var a=this,b=a.queryFilter;a.doQueryTask.cancel();a.assertValue();if(b&&a.queryMode==='local'&&a.clearFilterOnBlur){a.getStore().getFilters().remove(b)}},onFocus:function(){var a=this;Ext.form.field.Picker.prototype.onFocus.apply(this,arguments);if(!a.duringTriggerClick&&a.triggerAction!=='all'&&a.queryFilter&&a.queryMode==='local'&&a.clearFilterOnBlur){delete a.lastQuery;a.doRawQuery()}},assertValue:function(){var a=this,d=a.getRawValue(),b,c;if(a.forceSelection){if(a.multiSelect){if(d!==a.getDisplayValue()){a.setValue(a.lastSelection)}}else {b=a.findRecordByDisplay(d);if(b){c=a.value;if(!a.findRecordByValue(c)){a.select(b,!0)}}else {a.setValue(a.lastSelection)}}}a.collapse()},onTypeAhead:function(){var a=this,e=a.displayField,d=a.store.findRecord(e,a.getRawValue()),f=a.getPicker(),b,g,c;if(d){b=d.get(e);g=b.length;c=a.getRawValue().length;f.highlightItem(f.getNode(d));if(c!==0&&c!==g){a.setRawValue(b);a.selectText(c,b.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){var a=this.queryFilter;Ext.form.field.Picker.prototype.beforeReset.call(this);if(a){this.getStore().getFilters().remove(a)}},onUnbindStore:function(d){var a=this,c=a.picker,b=a.queryFilter;if(b&&!a.store.isDestroyed){a.getStore().getFilters().remove(b)}if(c){c.bindStore(null)}},onBindStore:function(c,b){var a=this.picker;if(!b){this.resetToDefault()}if(a){a.bindStore(c)}},bindStore:function(a,e,c){var b=this,d=b.queryFilter;b.mixins.bindable.bindStore.call(b,a,c);a=b.getStore();if(a&&d&&!e){a.getFilters().add(d)}if(!c&&a){b.setValueOnData()}},getStoreListeners:function(){var a=this;return {beforeload:a.onBeforeLoad,clear:a.onClear,datachanged:a.onDataChanged,load:a.onLoad,exception:a.onException,remove:a.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var a=this;if(a.resizeComboToGrow()){a.updateLayout()}},onClear:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=!0;a.onDataChanged()}},onRemove:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=!0}},onException:function(){if(this.ignoreSelection>0){--this.ignoreSelection}this.collapse()},onLoad:function(b,c,a){if(this.ignoreSelection>0){--this.ignoreSelection}if(a&&!b.lastOptions.rawQuery){this.setValueOnData()}},setValueOnData:function(){var a=this;if(a.value==null){if(a.getStore().getCount()){a.doAutoSelect()}else {a.setValue(a.value)}}else {a.setValue(a.value)}},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(c,d,e){var a=this,b=a.beforeQuery({query:c||'',rawQuery:e,forceAll:d,combo:a,cancel:!1});if(b===!1||b.cancel){return !1}if(a.queryCaching&&b.query===a.lastQuery){a.expand();if(a.queryMode==='local'){a.doAutoSelect()}}else {a.lastQuery=b.query;if(a.queryMode==='local'){a.doLocalQuery(b)}else {a.doRemoteQuery(b)}}return !0},beforeQuery:function(a){var b=this;if(b.fireEvent('beforequery',a)===!1){a.cancel=!0}else {if(!a.cancel){if(a.query.length<b.minChars&&!a.forceAll){a.cancel=!0}}}return a},doLocalQuery:function(e){var a=this,d=e.query,b=a.getStore().getFilters(),c=a.queryFilter;a.queryFilter=null;b.beginUpdate();if(c){b.remove(c)}if(d){c=a.queryFilter=new Ext.util.Filter({id:a.id+'-filter',anyMatch:a.anyMatch,caseSensitive:a.caseSensitive,root:'data',property:a.displayField,value:a.enableRegEx?new RegExp(d):d});b.add(c)}b.endUpdate();if(a.store.getCount()){a.expand()}else {a.collapse()}a.afterQuery(e)},doRemoteQuery:function(b){var a=this,c=function(){a.afterQuery(b)};a.expand();if(a.pageSize){a.loadPage(1,{rawQuery:b.rawQuery,callback:c})}else {a.store.load({params:a.getParams(b.query),rawQuery:b.rawQuery,callback:c})}},afterQuery:function(b){var a=this;if(a.store.getCount()){if(a.typeAhead){a.doTypeAhead()}if(a.getRawValue()!==a.getDisplayValue()){a.ignoreSelection++;a.picker.getSelectionModel().deselectAll();a.ignoreSelection--}if(b.rawQuery){a.syncSelection();if(a.picker&&!a.picker.getSelectionModel().hasSelection()){a.doAutoSelect()}}else {a.doAutoSelect()}}},loadPage:function(b,a){this.store.loadPage(b,Ext.apply({params:this.getParams(this.lastQuery)},a))},onPageChange:function(b,a){this.loadPage(a);return !1},getParams:function(c){var a={},b=this.queryParam;if(b){a[b]=c}return a},doAutoSelect:function(){var c=this,a=c.picker,d,b;if(a&&c.autoSelect&&c.store.getCount()>0){d=a.getSelectionModel().lastSelected;b=a.getNode(d||0);if(b){a.highlightItem(b);a.listEl.scrollChildIntoView(b,!1)}}},doTypeAhead:function(){var a=this,b=Ext.event.Event;if(!a.typeAheadTask){a.typeAheadTask=new Ext.util.DelayedTask(a.onTypeAhead,a)}if(a.lastKey!==b.BACKSPACE&&a.lastKey!==b.DELETE){a.typeAheadTask.delay(a.typeAheadDelay)}},onTriggerClick:function(){var a=this;a.duringTriggerClick=!0;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else {a.onFocus({});if(a.triggerAction==='all'){a.doQuery(a.allQuery,!0)}else {if(a.triggerAction==='last'){a.doQuery(a.lastQuery,!0)}else {a.doQuery(a.getRawValue(),!1,!0)}}}if(!Ext.supports.Touch){a.inputEl.focus()}}delete a.duringTriggerClick},onPaste:function(){var a=this;if(!a.readOnly&&!a.disabled&&a.editable){a.doQueryTask.delay(a.queryDelay)}},onKeyUp:function(b,d){var a=this,c=b.getKey();if(!a.readOnly&&!a.disabled&&a.editable){a.lastKey=c;if(!b.isSpecialKey()||c===b.BACKSPACE||c===b.DELETE){a.doQueryTask.delay(a.queryDelay)}}if(a.enableKeyEvents){Ext.form.field.Picker.prototype.onKeyUp.apply(this,arguments)}},initEvents:function(){var a=this;Ext.form.field.Picker.prototype.initEvents.call(this);if(!a.enableKeyEvents){a.mon(a.inputEl,'keyup',a.onKeyUp,a)}a.mon(a.inputEl,'paste',a.onPaste,a)},onDestroy:function(){var a=this;if(a.typeAheadTask){a.typeAheadTask.cancel();a.typeAheadTask=null}Ext.destroy(a.listKeyNav);a.bindStore(null);Ext.form.field.Picker.prototype.onDestroy.call(this)},onAdded:function(){var a=this;Ext.form.field.Picker.prototype.onAdded.apply(this,arguments);if(a.picker){a.picker.ownerCt=a.up('[floating]');a.picker.registerWithOwnerCt()}},createPicker:function(){var a=this,b,c=Ext.apply({xtype:'boundlist',pickerField:a,selModel:{mode:a.multiSelect?'SIMPLE':'SINGLE'},floating:!0,hidden:!0,store:a.store,displayField:a.displayField,focusOnToFront:!1,preserveScrollOnRefresh:!0,pageSize:a.pageSize,tpl:a.tpl},a.listConfig,a.defaultListConfig);b=a.picker=Ext.widget(c);if(a.pageSize){b.pagingToolbar.on('beforechange',a.onPageChange,a)}a.mon(b,{itemclick:a.onItemClick,refresh:a.onListRefresh,scope:a});a.mon(b.getSelectionModel(),{beforeselect:a.onBeforeSelect,beforedeselect:a.onBeforeDeselect,selectionchange:a.onListSelectionChange,scope:a});return b},alignPicker:function(){var b=this,a=b.getPicker(),c=b.getPosition()[1]-Ext.getBody().getScroll().top,g=Ext.Element.getViewportHeight()-c-b.getHeight(),e=Math.max(c,g),d=a.getTargetEl().dom,f=d.scrollTop;if(a.height){delete a.height;a.updateLayout()}if(a.getHeight()>e-5){a.setHeight(e-5)}Ext.form.field.Picker.prototype.alignPicker.call(this);d.scrollTop=f},onListRefresh:function(){if(!this.expanding){this.alignPicker()}this.syncSelection()},onItemClick:function(e,d){var a=this,c=a.picker.getSelectionModel().getSelection(),b=a.valueField;if(!a.multiSelect&&c.length){if(d.get(b)===c[0].get(b)){a.displayTplData=[d.data];a.setRawValue(a.getDisplayValue());a.collapse()}}},onBeforeSelect:function(b,a){return this.fireEvent('beforeselect',this,a,this.getStore().indexOf(a))},onBeforeDeselect:function(b,a){return this.fireEvent('beforedeselect',this,a,this.getStore().indexOf(a))},onListSelectionChange:function(e,b){var a=this,d=a.multiSelect,c=b.length>0;if(!a.ignoreSelection&&a.isExpanded){if(!d){Ext.defer(a.collapse,1,a)}if(d||c){a.setValue(b,!1)}if(c){a.fireEvent('select',a,b)}if(!Ext.supports.Touch){a.inputEl.focus()}}},onExpand:function(){var a=this,b=a.listKeyNav,c=a.selectOnTab,d=a.getPicker();if(b){b.enable()}else {b=a.listKeyNav=new Ext.view.BoundListKeyNav(a.inputEl,{boundList:d,forceKeyDown:!0,tab:function(b){if(c){this.selectHighlighted(b);a.triggerBlur()}return !0},enter:function(e){var b=d.getSelectionModel(),c=b.getCount();this.selectHighlighted(e);if(!a.multiSelect&&c===b.getCount()){a.collapse()}}})}if(c){a.ignoreMonitorTab=!0}if(!Ext.supports.Touch){Ext.defer(b.enable,1,b);a.inputEl.focus()}},onCollapse:function(){var b=this,a=b.listKeyNav;if(a){a.disable();b.ignoreMonitorTab=!1}},select:function(a,e){var b=this,d=b.picker,c;if(a&&a.isModel&&e===!0&&d){c=!d.getSelectionModel().isSelected(a)}b.setValue(a,!0);if(c){b.fireEvent('select',b,a)}},findRecord:function(c,d){var b=this.store,a=b.findExact(c,d);return a!==-1?b.getAt(a):!1},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(c,q){var a=this,i=a.valueNotFoundText,d=a.getStore(),m=a.inputEl,j=[],g=[],f=[],p=a.autoLoadOnValue,k=d.hasPendingLoad(),n=d.isLoading(),l=p&&d.loadCount===0&&!k&&!n,e,o,b,h;if(c!=null&&(n||k||l||d.isEmptyStore)){a.value=c;a.setHiddenValue(a.value);if(l&&d.getProxy().isRemote){d.load()}return a}c=Ext.Array.from(c);for(e=0,o=c.length;e<o;e++){b=c[e];if(!b||!b.isModel){b=a.findRecordByValue(b)}if(b){j.push(b);g.push(b.data);f.push(b.get(a.valueField))}else {if(!a.forceSelection){f.push(c[e]);h={};h[a.displayField]=c[e];g.push(h)}else {if(Ext.isDefined(i)){g.push(i)}}}}a.setHiddenValue(f);a.value=a.multiSelect?f:f[0];if(!Ext.isDefined(a.value)){a.value=undefined}a.displayTplData=g;a.lastSelection=a.valueModels=j;if(m&&a.emptyText&&!Ext.isEmpty(c)){m.removeCls(a.emptyCls)}a.setRawValue(a.getDisplayValue());a.checkChange();if(q!==!1){a.syncSelection()}a.applyEmptyText();return a},setHiddenValue:function(f){var h=this,i=h.hiddenName,e,d,b,g,c,a;if(!h.hiddenDataEl||!i){return}f=Ext.Array.from(f);d=h.hiddenDataEl.dom;b=d.childNodes;g=b[0];c=f.length;a=b.length;if(!g&&c>0){h.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:'input',type:'hidden',name:i}));a=1;g=d.firstChild}while(a>c){d.removeChild(b[0]);--a}while(a<c){d.appendChild(g.cloneNode(!0));++a}for(e=0;e<c;e++){b[e].value=f[e]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var a=this,d=a.picker,c=a.getRawValue(),b=a.value;if(a.getDisplayValue()!==c){b=c;a.value=a.displayTplData=a.valueModels=undefined;if(d){a.ignoreSelection++;d.getSelectionModel().deselectAll();a.ignoreSelection--}}a.value=b==null?null:b;return a.value},getSubmitValue:function(){var a=this.getValue();if(Ext.isEmpty(a)){a=''}return a},isEqual:function(b,c){var e=Ext.Array.from,a,d;b=e(b);c=e(c);d=b.length;if(d!==c.length){return !1}for(a=0;a<d;a++){if(c[a]!==b[a]){return !1}}return !0},clearValue:function(){this.setValue([])},syncSelection:function(){var b=this,f=b.picker,c,e,g=b.valueModels||[],h=g.length,d,a;if(f){c=[];for(d=0;d<h;d++){a=g[d];if(a&&a.isModel&&b.store.indexOf(a)>=0){c.push(a)}}b.ignoreSelection++;e=f.getSelectionModel();e.deselectAll();if(c.length){e.select(c,undefined,!0)}b.ignoreSelection--}},onEditorTab:function(b){var a=this.listKeyNav;if(this.selectOnTab&&a){a.selectHighlighted(b)}}},0,['combo','combobox'],['component','box','field','textfield','pickerfield','combobox','combo'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'pickerfield':!0,'combobox':!0,'combo':!0},['widget.combo','widget.combobox'],[['bindable',Ext.util.Bindable]],[Ext.form.field,'ComboBox',Ext.form,'ComboBox'],0);Ext.cmd.derive('Ext.picker.Month',Ext.Component,{alternateClassName:'Ext.MonthPicker',childEls:['bodyEl','prevEl','nextEl','monthEl','yearEl'],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>','</div>','</tpl>','</div>','<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>','</div>','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>','</div>','</div>','<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>','</div>','</tpl>','</div>','<div class="x-clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%','var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;','okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;','okBtn.ownerCt = cancelBtn.ownerCt = me;','Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);','Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);','%}</div>','</tpl>','</div>'],okText:'OK',cancelText:'Cancel',baseCls:'x-monthpicker',showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:'x-monthpicker-small',totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var a=this;a.selectedCls=a.baseCls+'-selected';if(a.small){a.addCls(a.smallCls)}a.setValue(a.value);a.activeYear=a.getYear((new Date()).getFullYear()-4,-4);if(a.showButtons){a.okBtn=new Ext.button.Button({text:a.okText,handler:a.onOkClick,scope:a});a.cancelBtn=new Ext.button.Button({text:a.cancelText,handler:a.onCancelClick,scope:a})}Ext.Component.prototype.initComponent.call(this)},beforeRender:function(){var a=this,b=0,f=[],c=Ext.Date.getShortMonthName,d=a.monthOffset,e=a.monthMargin,g='';if(a.padding&&!a.width){a.cacheWidth()}Ext.Component.prototype.beforeRender.call(this);for(;b<d;++b){f.push(c(b),c(b+d))}if(Ext.isDefined(e)){g='margin: 0 '+e+'px;'}Ext.apply(a.renderData,{months:f,years:a.getYears(),showButtons:a.showButtons,monthStyle:g})},cacheWidth:function(){var a=this,b=a.parseBox(a.padding),c=Ext.getBody().createChild({cls:a.baseCls+' '+a.borderBoxCls,style:'position:absolute;top:-1000px;left:-1000px;',html:'&nbsp;'});a.self.prototype.width=c.getWidth()+b.left+b.right;c.destroy()},afterRender:function(){var a=this,b=a.bodyEl;Ext.Component.prototype.afterRender.call(this);a.mon(b,'click',a.onBodyClick,a);a.mon(b,'dblclick',a.onBodyClick,a);a.years=b.select('.'+a.baseCls+'-year a');a.months=b.select('.'+a.baseCls+'-month a');a.backRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:Ext.Function.bind(a.adjustYear,a,[-a.totalYears])});a.prevEl.addClsOnOver(a.baseCls+'-yearnav-prev-over');a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:Ext.Function.bind(a.adjustYear,a,[a.totalYears])});a.nextEl.addClsOnOver(a.baseCls+'-yearnav-next-over');a.updateBody();if(!Ext.isDefined(a.monthMargin)){Ext.picker.Month.prototype.monthMargin=a.calculateMonthMargin()}},calculateMonthMargin:function(){var b=this,e=b.monthEl,c=b.months,d=c.first(),a=d.getMargin('l');while(a&&b.getLargest()>b.measureMaxHeight){--a;c.setStyle('margin','0 '+a+'px')}return a},getLargest:function(b){var a=0;this.months.each(function(d){var c=d.getHeight();if(c>a){a=c}});return a},setValue:function(b){var a=this,d=a.activeYear,e=a.monthOffset,c,f;if(!b){a.value=[null,null]}else {if(Ext.isDate(b)){a.value=[b.getMonth(),b.getFullYear()]}else {a.value=[b[0],b[1]]}}if(a.rendered){c=a.value[1];if(c!==null){if(c<d||c>d+a.yearOffset){a.activeYear=c-a.yearOffset+1}}a.updateBody()}return a},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return a[0]!==null&&a[1]!==null},getYears:function(){var e=this,b=e.yearOffset,c=e.activeYear,f=c+b,a=c,d=[];for(;a<f;++a){d.push(a,a+b)}return d},updateBody:function(){var a=this,j=a.years,i=a.months,l=a.getYears(),d=a.selectedCls,m=a.getYear(null),b=a.value[0],h=a.monthOffset,f,e,c,k,g;if(a.rendered){j.removeCls(d);i.removeCls(d);e=j.elements;k=e.length;for(c=0;c<k;c++){g=Ext.fly(e[c]);f=l[c];g.dom.innerHTML=f;if(f==m){g.addCls(d)}}if(b!==null){if(b<h){b=b*2}else {b=(b-h)*2+1}i.item(b).addCls(d)}}},getYear:function(c,a){var b=this.value[1];a=a||0;return b===null?c:b+a},onBodyClick:function(a,d){var b=this,c=a.type=='dblclick';if(a.getTarget('.'+b.baseCls+'-month')){a.stopEvent();b.onMonthClick(d,c)}else {if(a.getTarget('.'+b.baseCls+'-year')){a.stopEvent();b.onYearClick(d,c)}}},adjustYear:function(a){if(typeof a!='number'){a=this.totalYears}this.activeYear+=a;this.updateBody()},onOkClick:function(){this.fireEvent('okclick',this,this.value)},onCancelClick:function(){this.fireEvent('cancelclick',this)},onMonthClick:function(c,b){var a=this;a.value[0]=a.resolveOffset(a.months.indexOf(c),a.monthOffset);a.updateBody();a.fireEvent('month'+(b?'dbl':'')+'click',a,a.value);a.fireEvent('select',a,a.value)},onYearClick:function(c,b){var a=this;a.value[1]=a.activeYear+a.resolveOffset(a.years.indexOf(c),a.yearOffset);a.updateBody();a.fireEvent('year'+(b?'dbl':'')+'click',a,a.value);a.fireEvent('select',a,a.value)},resolveOffset:function(a,b){if(a%2===0){return a/2}else {return b+Math.floor(a/2)}},beforeDestroy:function(){var a=this;a.years=a.months=null;Ext.destroyMembers(a,'backRepeater','nextRepeater','okBtn','cancelBtn');Ext.Component.prototype.beforeDestroy.call(this)},finishRenderChildren:function(){var a=this;Ext.Component.prototype.finishRenderChildren.apply(this,arguments);if(this.showButtons){a.okBtn.finishRender();a.cancelBtn.finishRender()}},onDestroy:function(){Ext.destroyMembers(this,'okBtn','cancelBtn');Ext.Component.prototype.onDestroy.call(this)}},0,['monthpicker'],['component','box','monthpicker'],{'component':!0,'box':!0,'monthpicker':!0},['widget.monthpicker'],0,[Ext.picker,'Month',Ext,'MonthPicker'],0);Ext.define('ExtThemeNeptune.picker.Month',{override:'Ext.picker.Month',measureMaxHeight:36});Ext.cmd.derive('Ext.picker.Date',Ext.Component,{alternateClassName:'Ext.DatePicker',childEls:['innerEl','eventEl','prevEl','nextEl','middleBtnEl','footerEl'],border:!0,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" role="button" title="{nextText}" hidefocus="on" ></a>','</div>','<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>','</th>','</tpl>','</tr></thead>','<tbody role="presentation"><tr role="row">','<tpl for="days">','{#:this.isEndOfWeek}','<td role="gridcell" id="{[Ext.id()]}">','<a href="#" role="button" hidefocus="on" class="{parent.baseCls}-date"></a>','</td>','</tpl>','</tr></tbody>','</table>','<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>','</tpl>','</div>',{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(a){a--;var b=a%7===0&&a!==0;return b?'</tr><tr role="row">':''},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),b)}}],todayText:'Today',ariaTitle:'Date Picker: {0}',ariaTitleDateFormat:'F d, Y',todayTip:'{0} (Spacebar)',minText:'This date is before the minimum date',maxText:'This date is after the maximum date',disabledDaysText:'Disabled',disabledDatesText:'Disabled',nextText:'Next Month (Control+Right)',prevText:'Previous Month (Control+Left)',monthYearText:'Choose a month (Control+Up/Down to move years)',monthYearFormat:'F Y',startDay:0,showToday:!0,disableAnim:!1,baseCls:'x-datepicker',longDayFormat:'F d, Y',focusOnShow:!1,focusOnSelect:!0,initHour:12,numDays:42,initComponent:function(){var a=this,b=Ext.Date.clearTime;a.selectedCls=a.baseCls+'-selected';a.disabledCellCls=a.baseCls+'-disabled';a.prevCls=a.baseCls+'-prevday';a.activeCls=a.baseCls+'-active';a.cellCls=a.baseCls+'-cell';a.nextCls=a.baseCls+'-prevday';a.todayCls=a.baseCls+'-today';if(!a.format){a.format=Ext.Date.defaultFormat}if(!a.dayNames){a.dayNames=Ext.Date.dayNames}a.dayNames=a.dayNames.slice(a.startDay).concat(a.dayNames.slice(0,a.startDay));Ext.Component.prototype.initComponent.call(this);a.value=a.value?b(a.value,!0):b(new Date());a.initDisabledDays()},getRefOwner:function(){return this.pickerField||Ext.Component.prototype.getRefOwner.call(this)},getRefItems:function(){var a=[];if(this.rendered){a.push(this.monthBtn,this.todayBtn)}return a},beforeRender:function(){var a=this,c=new Array(a.numDays),b=Ext.Date.format(new Date(),a.format);if(a.padding&&!a.width){a.cacheWidth()}a.monthBtn=new Ext.button.Split({ownerCt:a,ownerLayout:a.getComponentLayout(),text:'',tooltip:a.monthYearText,listeners:{click:a.doShowMonthPicker,arrowclick:a.doShowMonthPicker,scope:a}});if(a.showToday){a.todayBtn=new Ext.button.Button({ownerCt:a,ownerLayout:a.getComponentLayout(),text:Ext.String.format(a.todayText,b),tooltip:Ext.String.format(a.todayTip,b),tooltipType:'title',handler:a.selectToday,scope:a})}Ext.Component.prototype.beforeRender.call(this);Ext.applyIf(a,{renderData:{}});Ext.apply(a.renderData,{dayNames:a.dayNames,showToday:a.showToday,prevText:a.prevText,nextText:a.nextText,days:c});a.protoEl.unselectable()},cacheWidth:function(){var a=this,b=a.parseBox(a.padding),c=Ext.getBody().createChild({cls:a.baseCls+' '+a.borderBoxCls,style:'position:absolute;top:-1000px;left:-1000px;'});a.self.prototype.width=c.getWidth()+b.left+b.right;c.destroy()},finishRenderChildren:function(){var a=this;Ext.Component.prototype.finishRenderChildren.call(this);a.monthBtn.finishRender();if(a.showToday){a.todayBtn.finishRender()}},onRender:function(b,c){var a=this;Ext.Component.prototype.onRender.apply(this,arguments);a.cells=a.eventEl.select('tbody td');a.textNodes=a.eventEl.query('tbody td a');a.mon(a.eventEl,{scope:a,mousewheel:a.handleMouseWheel,click:{fn:a.handleDateClick,delegate:'a.'+a.baseCls+'-date'}})},initEvents:function(){var a=this,b=Ext.Date,c=b.DAY;Ext.Component.prototype.initEvents.call(this);a.prevRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:a.showPrevMonth,scope:a,preventDefault:!0,stopDefault:!0});a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:a.showNextMonth,scope:a,preventDefault:!0,stopDefault:!0});a.keyNav=new Ext.util.KeyNav(a.eventEl,Ext.apply({scope:a,left:function(d){if(d.ctrlKey){a.showPrevMonth()}else {a.update(b.add(a.activeDate,c,-1))}},right:function(d){if(d.ctrlKey){a.showNextMonth()}else {a.update(b.add(a.activeDate,c,1))}},up:function(d){if(d.ctrlKey){a.showNextYear()}else {a.update(b.add(a.activeDate,c,-7))}},down:function(d){if(d.ctrlKey){a.showPrevYear()}else {a.update(b.add(a.activeDate,c,7))}},pageUp:function(b){if(b.altKey){a.showPrevYear()}else {a.showPrevMonth()}},pageDown:function(b){if(b.altKey){a.showNextYear()}else {a.showNextMonth()}},tab:function(b){a.doCancelFieldFocus=!0;a.handleTabClick(b);delete a.doCancelFieldFocus;return !0},enter:function(a){a.stopPropagation();return !0},home:function(c){a.update(b.getFirstDateOfMonth(a.activeDate))},end:function(c){a.update(b.getLastDateOfMonth(a.activeDate))}},a.keyNavConfig));if(a.showToday){a.todayKeyListener=a.eventEl.addKeyListener(Ext.event.Event.prototype.SPACE,a.selectToday,a)}a.update(a.value)},handleTabClick:function(d){var a=this,b=a.getSelectedDate(a.activeDate),c=a.handler;if(!a.disabled&&b.dateValue&&!Ext.fly(b.parentNode).hasCls(a.disabledCellCls)){if(a.pickerField){d.stopEvent()}a.doCancelFocus=!0;a.setValue(new Date(b.dateValue));delete a.doCancelFocus;a.fireEvent('select',a,a.value);if(c){c.call(a.scope||a,a,a.value)}a.onSelect()}},getSelectedDate:function(g){var e=this,i=g.getTime(),d=e.cells,h=e.selectedCls,c=d.elements,a,f=c.length,b;d.removeCls(h);for(a=0;a<f;a++){b=Ext.fly(c[a]);if(b.dom.firstChild.dateValue==i){return b.dom.firstChild}}return null},initDisabledDays:function(){var d=this,c=d.disabledDates,e='(?:',g,a,f,b;if(!d.disabledDatesRE&&c){g=c.length-1;f=c.length;for(a=0;a<f;a++){b=c[a];e+=Ext.isDate(b)?'^'+Ext.String.escapeRegex(Ext.Date.dateFormat(b,d.format))+'$':b;if(a!=g){e+='|'}}d.disabledDatesRE=new RegExp(e+')')}},setDisabledDates:function(b){var a=this;if(Ext.isArray(b)){a.disabledDates=b;a.disabledDatesRE=null}else {a.disabledDatesRE=b}a.initDisabledDays();a.update(a.value,!0);return a},setDisabledDays:function(a){this.disabledDays=a;return this.update(this.value,!0)},setMinDate:function(a){this.minDate=a;return this.update(this.value,!0)},setMaxDate:function(a){this.maxDate=a;return this.update(this.value,!0)},setValue:function(a){this.value=Ext.Date.clearTime(a,!0);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){Ext.Component.prototype.onEnable.call(this);this.setDisabledStatus(!1);this.update(this.activeDate)},onDisable:function(){Ext.Component.prototype.onDisable.call(this);this.setDisabledStatus(!0)},setDisabledStatus:function(b){var a=this;a.keyNav.setDisabled(b);a.prevRepeater.setDisabled(b);a.nextRepeater.setDisabled(b);if(a.showToday){a.todayKeyListener.setDisabled(b);a.todayBtn.setDisabled(b)}},getActive:function(){return this.activeDate||this.value},runAnimation:function(c){var a=this.monthPicker,b={duration:200,callback:function(){a.setVisible(!c)}},d=a.isVisible();if(c){a.el.slideOut('t',b)}else {a.el.slideIn('t',b)}},hideMonthPicker:function(c){var a=this,b=a.monthPicker;if(b&&b.isVisible()){if(a.shouldAnimate(c)){a.runAnimation(!0)}else {b.hide()}}return a},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(d){var a=this,c=a.el,b;if(a.rendered&&!a.disabled){b=a.createMonthPicker();if(!b.isVisible()){b.setValue(a.getActive());b.setSize(c.getSize());b.setPosition(-c.getBorderWidth('l'),-c.getBorderWidth('t'));if(a.shouldAnimate(d)){a.runAnimation(!1)}else {b.show()}}}return a},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var a=this,b=a.monthPicker;if(!b){a.monthPicker=b=new Ext.picker.Month({renderTo:a.el,floating:!0,padding:a.padding,shadow:!1,small:a.showToday===!1,listeners:{scope:a,cancelclick:a.onCancelClick,okclick:a.onOkClick,yeardblclick:a.onOkClick,monthdblclick:a.onOkClick}});if(!a.disableAnim){b.el.setStyle('display','none')}b.hide();a.on('beforehide',a.doHideMonthPicker,a)}return b},onOkClick:function(f,d){var c=this,a=d[0],e=d[1],b=new Date(e,a,c.getActive().getDate());if(b.getMonth()!==a){b=Ext.Date.getLastDateOfMonth(new Date(e,a,1))}c.setValue(b);c.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(b){b.stopEvent();if(!this.disabled){var a=b.getWheelDelta();if(a>0){this.showPrevMonth()}else {if(a<0){this.showNextMonth()}}}},handleDateClick:function(d,b){var a=this,c=a.handler;d.stopEvent();if(!a.disabled&&b.dateValue&&!Ext.fly(b.parentNode).hasCls(a.disabledCellCls)){a.doCancelFocus=a.focusOnSelect===!1;a.setValue(new Date(b.dateValue));delete a.doCancelFocus;a.fireEvent('select',a,a.value);if(c){c.call(a.scope||a,a,a.value)}a.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var a=this,c=a.todayBtn,b=a.handler;if(c&&!c.disabled){a.setValue(Ext.Date.clearTime(new Date()));a.fireEvent('select',a,a.value);if(b){b.call(a.scope||a,a,a.value)}a.onSelect()}return a},selectedUpdate:function(h){var a=this,i=h.getTime(),e=a.cells,f=a.selectedCls,d=e.elements,c,g=d.length,b;e.removeCls(f);for(c=0;c<g;c++){b=Ext.fly(d[c]);if(b.dom.firstChild.dateValue==i){a.fireEvent('highlightitem',a,b);b.addCls(f);if(a.isVisible()&&!a.doCancelFocus){Ext.fly(b.dom.firstChild).focus(50)}break}}},fullUpdate:function(h){var a=this,E=a.cells.elements,A=a.textNodes,i=a.disabledCellCls,b=Ext.Date,d=0,z=0,C=a.isVisible(),B=+b.clearTime(h,!0),F=+b.clearTime(new Date()),v=a.minDate?b.clearTime(a.minDate,!0):Number.NEGATIVE_INFINITY,u=a.maxDate?b.clearTime(a.maxDate,!0):Number.POSITIVE_INFINITY,j=a.disabledDatesRE,D=a.disabledDatesText,l=a.disabledDays?a.disabledDays.join(''):!1,y=a.disabledDaysText,k=a.format,t=b.getDaysInMonth(h),x=b.getFirstDateOfMonth(h),e=x.getDay()-a.startDay,o=b.add(h,b.MONTH,-1),w=a.longDayFormat,r,c,p,g,s,m,n,q,f;if(e<0){e+=7}t+=e;r=b.getDaysInMonth(o)-e;c=new Date(o.getFullYear(),o.getMonth(),r,a.initHour);if(a.showToday){g=b.clearTime(new Date());p=g<v||g>u||j&&k&&j.test(b.dateFormat(g,k))||l&&l.indexOf(g.getDay())!=-1;if(!a.disabled){a.todayBtn.setDisabled(p);a.todayKeyListener.setDisabled(p)}}s=function(d,e){f=+b.clearTime(c,!0);d.title=b.format(c,w);d.firstChild.dateValue=f;if(f==F){e+=' '+a.todayCls;d.title=a.todayText;a.todayElSpan=Ext.DomHelper.append(d.firstChild,{tag:'span',cls:'x-hidden-clip',html:a.todayText},!0)}if(f==B){e+=' '+a.selectedCls;a.fireEvent('highlightitem',a,d);if(C&&a.floating){Ext.fly(d.firstChild).focus(50)}}if(f<v){e+=' '+i;d.title=a.minText}else {if(f>u){e+=' '+i;d.title=a.maxText}else {if(l&&l.indexOf(c.getDay())!==-1){d.title=y;e+=' '+i}else {if(j&&k){q=b.dateFormat(c,k);if(j.test(q)){d.title=D.replace('%0',q);e+=' '+i}}}}}d.className=e+' '+a.cellCls};for(;d<a.numDays;++d){if(d<e){m=++r;n=a.prevCls}else {if(d>=t){m=++z;n=a.nextCls}else {m=d-e+1;n=a.activeCls}}A[d].innerHTML=m;c.setDate(c.getDate()+1);s(E[d],n)}a.monthBtn.setText(Ext.Date.format(h,a.monthYearFormat))},update:function(c,d){var a=this,b=a.activeDate;if(a.rendered){a.activeDate=c;if(!d&&b&&a.el&&b.getMonth()==c.getMonth()&&b.getFullYear()==c.getFullYear()){a.selectedUpdate(c,b)}else {a.fullUpdate(c,b)}}return a},beforeDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.todayKeyListener,a.keyNav,a.monthPicker,a.monthBtn,a.nextRepeater,a.prevRepeater,a.todayBtn);delete a.textNodes;delete a.cells.elements}Ext.Component.prototype.beforeDestroy.call(this)},onShow:function(){Ext.Component.prototype.onShow.apply(this,arguments);if(this.focusOnShow){this.focus()}}},0,['datepicker'],['component','box','datepicker'],{'component':!0,'box':!0,'datepicker':!0},['widget.datepicker'],0,[Ext.picker,'Date',Ext,'DatePicker'],0);Ext.cmd.derive('Ext.form.field.Date',Ext.form.field.Picker,{alternateClassName:['Ext.form.DateField','Ext.form.Date'],format:'m/d/Y',altFormats:'m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j',disabledDaysText:'Disabled',disabledDatesText:'Disabled',minText:'The date in this field must be equal to or after {0}',maxText:'The date in this field must be equal to or before {0}',invalidText:'{0} is not a valid date - it must be in the format {1}',triggerCls:'x-form-date-trigger',showToday:!0,useStrict:undefined,initTime:'12',initTimeFormat:'H',matchFieldWidth:!1,startDay:0,initComponent:function(){var a=this,d=Ext.isString,c,b;c=a.minValue;b=a.maxValue;if(d(c)){a.minValue=a.parseDate(c)}if(d(b)){a.maxValue=a.parseDate(b)}a.disabledDatesRE=null;a.initDisabledDays();Ext.form.field.Picker.prototype.initComponent.call(this)},initValue:function(){var a=this,b=a.value;if(Ext.isString(b)){a.value=a.rawToValue(b)}Ext.form.field.Picker.prototype.initValue.call(this)},initDisabledDays:function(){if(this.disabledDates){var c=this.disabledDates,f=c.length-1,d='(?:',a,e=c.length,b;for(a=0;a<e;a++){b=c[a];d+=Ext.isDate(b)?'^'+Ext.String.escapeRegex(b.dateFormat(this.format))+'$':b;if(a!==f){d+='|'}}this.disabledDatesRE=new RegExp(d+')')}},setDisabledDates:function(c){var a=this,b=a.picker;a.disabledDates=c;a.initDisabledDays();if(b){b.setDisabledDates(a.disabledDatesRE)}},setDisabledDays:function(b){var a=this.picker;this.disabledDays=b;if(a){a.setDisabledDays(b)}},setMinValue:function(c){var a=this,b=a.picker,d=Ext.isString(c)?a.parseDate(c):c;a.minValue=d;if(b){b.minText=Ext.String.format(a.minText,a.formatDate(a.minValue));b.setMinDate(d)}},setMaxValue:function(c){var a=this,b=a.picker,d=Ext.isString(c)?a.parseDate(c):c;a.maxValue=d;if(b){b.maxText=Ext.String.format(a.maxText,a.formatDate(a.maxValue));b.setMaxDate(d)}},getErrors:function(b){var a=this,e=Ext.String.format,l=Ext.Date.clearTime,c=Ext.form.field.Picker.prototype.getErrors.apply(this,arguments),d=a.disabledDays,k=a.disabledDatesRE,g=a.minValue,f=a.maxValue,o=d?d.length:0,j=0,m,h,n,i;b=a.formatDate(b||a.processRawValue(a.getRawValue()));if(b===null||b.length<1){return c}m=b;b=a.parseDate(b);if(!b){c.push(e(a.invalidText,m,Ext.Date.unescapeFormat(a.format)));return c}i=b.getTime();if(g&&i<l(g).getTime()){c.push(e(a.minText,a.formatDate(g)))}if(f&&i>l(f).getTime()){c.push(e(a.maxText,a.formatDate(f)))}if(d){n=b.getDay();for(;j<o;j++){if(n===d[j]){c.push(a.disabledDaysText);break}}}h=a.formatDate(b);if(k&&k.test(h)){c.push(e(a.disabledDatesText,h))}return c},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(g,c){var e=this,a=Ext.Date,d=null,f=e.useStrict,b;if(a.formatContainsHourInfo(c)){d=a.parse(g,c,f)}else {b=a.parse(g+' '+e.initTime,c+' '+e.initTimeFormat,f);if(b){d=a.clearTime(b)}}return d},getSubmitValue:function(){var b=this.submitFormat||this.format,a=this.getValue();return a?Ext.Date.format(a,b):''},parseDate:function(a){if(!a||Ext.isDate(a)){return a}var b=this,d=b.safeParse(a,b.format),f=b.altFormats,c=b.altFormatsArray,e=0,g;if(!d&&f){c=c||f.split('|');g=c.length;for(;e<g&&!d;++e){d=b.safeParse(a,c[e])}}return d},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({pickerField:a,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse();a.focus()}}})},onDownArrow:function(a){Ext.form.field.Picker.prototype.onDownArrow.apply(this,arguments);if(this.isExpanded){this.getPicker().focus()}},onSelect:function(c,b){var a=this;a.setValue(b);a.fireEvent('select',a,b);a.collapse();a.focus(50)},onExpand:function(){var a=this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date())},beforeBlur:function(){var a=this,b=a.rawToValue(a.getRawValue());if(Ext.isDate(b)){a.setValue(b)}}},0,['datefield'],['component','box','field','textfield','pickerfield','datefield'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'pickerfield':!0,'datefield':!0},['widget.datefield'],0,[Ext.form.field,'Date',Ext.form,'DateField',Ext.form,'Date'],0);Ext.cmd.derive('Ext.form.field.FileButton',Ext.button.Button,{childEls:['btnEl','btnWrap','btnInnerEl','btnIconEl','fileInputEl'],inputCls:'x-form-file-input',cls:'x-form-file-btn',preventDefault:!1,autoEl:{tag:'div',unselectable:'on'},renderTpl:['<span id="{id}-btnWrap" role="presentation" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button" role="button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">','{text}','</span>','<span role="presentation" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>','</span>','</span>','</span>','<input id="{id}-fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}" role="{role}" tabIndex="{tabIndex}">'],getTemplateArgs:function(){var a=Ext.button.Button.prototype.getTemplateArgs.call(this);a.inputCls=this.inputCls;a.inputName=this.inputName;a.tabIndex=this.ownerCt.tabIndex;return a},afterRender:function(){var a=this;Ext.button.Button.prototype.afterRender.apply(this,arguments);a.fileInputEl.on('change',a.fireChange,a)},fireChange:function(a){this.fireEvent('change',this,a,this.fileInputEl.dom.value)},createFileInput:function(b){var a=this;a.fileInputEl=a.el.createChild({name:a.inputName,id:!b?a.id+'-fileInputEl':undefined,cls:a.inputCls,tag:'input',type:'file',size:1,role:'button'});a.fileInputEl.on('change',a.fireChange,a)},reset:function(a){if(a){this.fileInputEl.destroy()}this.createFileInput(!a)},restoreInput:function(a){this.fileInputEl.destroy();a=Ext.get(a);this.el.appendChild(a);this.fileInputEl=a},onDisable:function(){Ext.button.Button.prototype.onDisable.call(this);this.fileInputEl.dom.disabled=!0},onEnable:function(){Ext.button.Button.prototype.onEnable.call(this);this.fileInputEl.dom.disabled=!1}},0,['filebutton'],['component','box','button','filebutton'],{'component':!0,'box':!0,'button':!0,'filebutton':!0},['widget.filebutton'],0,[Ext.form.field,'FileButton'],0);Ext.cmd.derive('Ext.form.trigger.Component',Ext.form.trigger.Trigger,{cls:'x-form-trigger-cmp',onFieldRender:function(){var b=this,a=b.component;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);if(!a.isComponent&&!a.isWidget){a=Ext.widget(a)}b.component=a;a.render(b.el)},destroy:function(){var a=this.component;if(a.isComponent||a.isWidget){a.destroy()}}},0,0,0,0,['trigger.component'],0,[Ext.form.trigger,'Component'],0);Ext.cmd.derive('Ext.form.field.File',Ext.form.field.Text,{alternateClassName:['Ext.form.FileUploadField','Ext.ux.form.FileUploadField','Ext.form.File'],triggers:{filebutton:{type:'component',hideOnReadOnly:!1}},buttonText:'Browse...',buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:'x-form-file-wrap',inputCls:'x-form-text-file',readOnly:!0,editable:!1,submitValue:!1,triggerNoEditCls:'',childEls:['browseButtonWrap'],applyTriggers:function(c){var a=this,b=(c||{}).filebutton;if(b){b.component=Ext.apply({xtype:'filebutton',ownerCt:a,id:a.id+'-button',ui:a.ui,disabled:a.disabled,text:a.buttonText,style:a.buttonOnly?'':a.getButtonMarginProp()+a.buttonMargin+'px',inputName:a.getName(),listeners:{scope:a,change:a.onFileChange}},a.buttonConfig);return Ext.form.field.Text.prototype.applyTriggers.call(this,c)}},onRender:function(){var a=this,f=a.id,e,d,b,c;(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).apply(this,arguments);e=a.inputEl;e.dom.name='';c=a.getTrigger('filebutton');d=a.button=c.component;a.fileInputEl=d.fileInputEl;b=d.el;if(a.buttonOnly){a.inputWrap.setDisplayed(!1);a.shrinkWrap=3}c.el.setWidth(b.getWidth()+b.getMargin('lr'));if(Ext.isIE){a.button.getEl().repaint()}},getTriggerMarkup:function(){return '<td id="'+this.id+'-browseButtonWrap" role="presentation"></td>'},onFileChange:function(b,c,a){this.duringFileSelect=!0;Ext.form.field.File.superclass.setValue.call(this,a);delete this.duringFileSelect},didValueChange:function(){return !!this.duringFileSelect},setValue:Ext.emptyFn,reset:function(){var a=this,b=a.clearOnSubmit;if(a.rendered){a.button.reset(b);a.fileInputEl=a.button.fileInputEl;if(b){a.inputEl.dom.value='';Ext.form.field.File.superclass.setValue.call(this,null)}}Ext.form.field.Text.prototype.reset.call(this)},onShow:function(){Ext.form.field.Text.prototype.onShow.call(this);this.button.updateLayout()},onDisable:function(){Ext.form.field.Text.prototype.onDisable.call(this);this.button.disable()},onEnable:function(){Ext.form.field.Text.prototype.onEnable.call(this);this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var b=this,a;if(b.rendered){a=b.button.fileInputEl.dom;b.reset()}else {a=document.createElement('input');a.type='file';a.className='x-hidden-display';a.name=b.getName()}return a},restoreInput:function(b){if(this.rendered){var a=this.button;a.restoreInput(b);this.fileInputEl=a.fileInputEl}},onDestroy:function(){Ext.destroyMembers(this,'button');delete this.fileInputEl;Ext.form.field.Text.prototype.onDestroy.call(this)},getButtonMarginProp:function(){return 'margin-left:'}},0,['filefield','fileuploadfield'],['component','box','field','textfield','filefield','fileuploadfield'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'filefield':!0,'fileuploadfield':!0},['widget.filefield','widget.fileuploadfield'],0,[Ext.form.field,'File',Ext.form,'FileUploadField',Ext.ux.form,'FileUploadField',Ext.form,'File'],0);Ext.cmd.derive('Ext.form.field.Hidden',Ext.form.field.Base,{alternateClassName:'Ext.form.Hidden',inputType:'hidden',hideLabel:!0,hidden:!0,ariaRole:'presentation',initComponent:function(){this.formItemCls+='-hidden';Ext.form.field.Base.prototype.initComponent.call(this)},isEqual:function(a,b){return this.isEqualAsString(a,b)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,['hidden','hiddenfield'],['component','box','field','hiddenfield','hidden'],{'component':!0,'box':!0,'field':!0,'hiddenfield':!0,'hidden':!0},['widget.hidden','widget.hiddenfield'],0,[Ext.form.field,'Hidden',Ext.form,'Hidden'],0);Ext.cmd.derive('Ext.picker.Color',Ext.Component,{alternateClassName:'Ext.ColorPalette',componentCls:'x-color-picker',selectedCls:'x-color-picker-selected',itemCls:'x-color-picker-item',value:null,clickEvent:'click',allowReselect:!1,colors:['000000','993300','333300','003300','003366','000080','333399','333333','800000','FF6600','808000','008000','008080','0000FF','666699','808080','FF0000','FF9900','99CC00','339966','33CCCC','3366FF','800080','969696','FF00FF','FFCC00','FFFF00','00FF00','00FFFF','00CCFF','993366','C0C0C0','FF99CC','FFCC99','FFFF99','CCFFCC','CCFFFF','99CCFF','CC99FF','FFFFFF'],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>','</a>','</tpl>'],initComponent:function(){var a=this;Ext.Component.prototype.initComponent.apply(this,arguments);if(a.handler){a.on('select',a.handler,a.scope,!0)}},initRenderData:function(){var a=this;return Ext.apply(Ext.Component.prototype.initRenderData.call(this),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var a=this,b=a.clickEvent;Ext.Component.prototype.onRender.apply(this,arguments);a.mon(a.el,b,a.handleClick,a,{delegate:'a'});if(b!=='click'){a.mon(a.el,'click',Ext.emptyFn,a,{delegate:'a',stopEvent:!0})}},afterRender:function(){var a=this,b;Ext.Component.prototype.afterRender.apply(this,arguments);if(a.value){b=a.value;a.value=null;a.select(b,!0)}},handleClick:function(c){var a=this,b;c.stopEvent();if(!a.disabled){b=c.currentTarget.className.match(a.colorRe)[1];a.select(b.toUpperCase())}},select:function(b,f){var a=this,d=a.selectedCls,e=a.value,c;b=b.replace('#','');if(!a.rendered){a.value=b;return}if(b!=e||a.allowReselect){c=a.el;if(a.value){c.down('a.color-'+e).removeCls(d)}c.down('a.color-'+b).addCls(d);a.value=b;if(f!==!0){a.fireEvent('select',a,b)}}},clear:function(){var a=this,b=a.value,c;if(b&&a.rendered){c=a.el.down('a.color-'+b);c.removeCls(a.selectedCls)}a.value=null},getValue:function(){return this.value||null}},0,['colorpicker'],['component','box','colorpicker'],{'component':!0,'box':!0,'colorpicker':!0},['widget.colorpicker'],0,[Ext.picker,'Color',Ext,'ColorPalette'],0);Ext.cmd.derive('Ext.layout.component.field.HtmlEditor',Ext.layout.component.field.FieldContainer,{type:'htmleditor',naturalHeight:150,naturalWidth:300,beginLayout:function(a){var b=this.owner,c;if(Ext.isGecko){c=b.textareaEl.dom;this.lastValue=c.value;c.value=''}Ext.layout.component.field.FieldContainer.prototype.beginLayout.apply(this,arguments);a.toolbarContext=a.context.getCmp(b.toolbar);a.inputCmpContext=a.context.getCmp(b.inputCmp);a.bodyCellContext=a.getEl('bodyEl');a.textAreaContext=a.getEl('textareaEl');a.iframeContext=a.getEl('iframeEl')},beginLayoutCycle:function(b){var a=this,e=b.widthModel,c=b.heightModel,g=a.owner,f=g.iframeEl,d=g.textareaEl;Ext.layout.component.field.FieldContainer.prototype.beginLayoutCycle.apply(this,arguments);if(e.shrinkWrap){f.setStyle('width','');d.setStyle('width','')}else {if(e.natural){b.bodyCellContext.setWidth(a.naturalWidth)}}if(c.natural||c.shrinkWrap){f.setHeight(a.naturalHeight);d.setHeight(a.naturalHeight)}},finishedLayout:function(){var a=this.owner;Ext.layout.component.field.FieldContainer.prototype.finishedLayout.apply(this,arguments);if(Ext.isGecko){a.textareaEl.dom.value=this.lastValue}},publishOwnerWidth:function(a,b){Ext.layout.component.field.FieldContainer.prototype.publishOwnerWidth.apply(this,arguments);b-=a.inputCmpContext.getBorderInfo().width;a.textAreaContext.setWidth(b);a.iframeContext.setWidth(b)},publishInnerWidth:function(a,b){var e=a.inputCmpContext.getBorderInfo().width,c=Ext.isIE8,d=a.widthModel.natural;Ext.layout.component.field.FieldContainer.prototype.publishInnerWidth.apply(this,arguments);b=a.bodyCellContext.props.width-e;if(d){if(c){b-=2}a.textAreaContext.setWidth(b);a.iframeContext.setWidth(b)}else {if(c){a.textAreaContext.setWidth(b)}}},publishInnerHeight:function(a,b){var c=a.toolbarContext.getProp('height');Ext.layout.component.field.FieldContainer.prototype.publishInnerHeight.apply(this,arguments);b=a.bodyCellContext.props.height;if(c!==undefined){b-=c+a.inputCmpContext.getFrameInfo().height;if(Ext.isIE8){b-=2}a.iframeContext.setHeight(b);a.textAreaContext.setHeight(b)}else {this.done=!1}}},0,0,0,0,['layout.htmleditor'],0,[Ext.layout.component.field,'HtmlEditor'],0);Ext.cmd.derive('Ext.form.field.HtmlEditor',Ext.form.FieldContainer,{alternateClassName:'Ext.form.HtmlEditor',componentLayout:'htmleditor',componentTpl:['{beforeTextAreaTpl}','<textarea id="{id}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">','{[Ext.util.Format.htmlEncode(values.value)]}','</textarea>','{afterTextAreaTpl}','{beforeIFrameTpl}','<iframe id="{id}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>','{afterIFrameTpl}',{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:['beforeTextAreaTpl','afterTextAreaTpl','beforeIFrameTpl','afterIFrameTpl','iframeAttrTpl','inputAttrTpl'],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:'Please enter the URL for the link:',defaultLinkValue:'http://',fontFamilies:['Arial','Courier New','Tahoma','Times New Roman','Verdana'],defaultValue:Ext.isOpera?'&#160;':'&#8203;',extraFieldBodyCls:'x-html-editor-wrap',defaultButtonUI:'default-toolbar',initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:'offsets',maskOnDisable:!0,containerElCls:'x-html-editor-container',reStripQuotes:/^['"]*|['"]*$/g,initComponent:function(){var a=this;a.items=[a.createToolbar(),a.createInputCmp()];a.layout={type:'vbox',align:'stretch'};Ext.form.FieldContainer.prototype.initComponent.apply(this,arguments);a.initField()},createInputCmp:function(){this.inputCmp=Ext.widget(this.getInputCmpCfg());return this.inputCmp},getInputCmpCfg:function(){var a=this,c=a.id+'-inputCmp',b={id:c,name:a.name,textareaCls:'x-hidden',value:a.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:'x-htmleditor-iframe'};a.getInsertionRenderData(b,a.subTplInsertions);return {flex:1,xtype:'component',tpl:a.getTpl('componentTpl'),childEls:['iframeEl','textareaEl'],id:c,cls:'x-html-editor-input',data:b}},createToolbar:function(){this.toolbar=Ext.widget(this.getToolbarCfg());return this.toolbar},getToolbarCfg:function(){var a=this,b=[],e,f=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),c='x-',g,d;function btn(b,g,e){return {itemId:b,cls:c+'btn-icon',iconCls:c+'edit-'+b,enableToggle:g!==!1,scope:a,handler:e||a.relayBtnCmd,clickEvent:'mousedown',tooltip:f?a.buttonTips[b]||d:d,overflowText:a.buttonTips[b].title||d,tabIndex:-1}}if(a.enableFont&&!Ext.isSafari2){g=Ext.widget('component',{itemId:'fontSelect',renderTpl:['<select id="{id}-selectEl" class="'+c+'font-select">','</select>'],childEls:['selectEl'],afterRender:function(){a.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var a=this.selectEl;if(a){a.dom.disabled=!0}Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var a=this.selectEl;if(a){a.dom.disabled=!1}Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){a.win.focus();a.relayCmd('fontName',a.fontSelect.dom.value);a.deferFocus()},element:'selectEl'}});b.push(g,'-')}if(a.enableFormat){b.push(btn('bold'),btn('italic'),btn('underline'))}if(a.enableFontSize){b.push('-',btn('increasefontsize',!1,a.adjustFont),btn('decreasefontsize',!1,a.adjustFont))}if(a.enableColors){b.push('-',{itemId:'forecolor',cls:c+'btn-icon',iconCls:c+'edit-forecolor',overflowText:a.buttonTips.forecolor.title,tooltip:f?a.buttonTips.forecolor||d:d,tabIndex:-1,menu:Ext.widget('menu',{plain:!0,items:[{xtype:'colorpicker',allowReselect:!0,focus:Ext.emptyFn,value:'000000',plain:!0,clickEvent:'mousedown',handler:function(c,b){a.relayCmd('forecolor',Ext.isWebKit||Ext.isIE?'#'+b:b);this.up('menu').hide()}}]})},{itemId:'backcolor',cls:c+'btn-icon',iconCls:c+'edit-backcolor',overflowText:a.buttonTips.backcolor.title,tooltip:f?a.buttonTips.backcolor||d:d,tabIndex:-1,menu:Ext.widget('menu',{plain:!0,items:[{xtype:'colorpicker',focus:Ext.emptyFn,value:'FFFFFF',plain:!0,allowReselect:!0,clickEvent:'mousedown',handler:function(c,b){if(Ext.isGecko){a.execCmd('useCSS',!1);a.execCmd('hilitecolor','#'+b);a.execCmd('useCSS',!0);a.deferFocus()}else {a.relayCmd(Ext.isOpera?'hilitecolor':'backcolor',Ext.isWebKit||Ext.isIE||Ext.isOpera?'#'+b:b)}this.up('menu').hide()}}]})})}if(a.enableAlignments){b.push('-',btn('justifyleft'),btn('justifycenter'),btn('justifyright'))}if(!Ext.isSafari2){if(a.enableLinks){b.push('-',btn('createlink',!1,a.createLink))}if(a.enableLists){b.push('-',btn('insertorderedlist'),btn('insertunorderedlist'))}if(a.enableSourceEdit){b.push('-',btn('sourceedit',!0,function(b){a.toggleSourceEdit(!a.sourceEditMode)}))}}for(e=0;e<b.length;e++){if(b[e].itemId!=='sourceedit'){b[e].disabled=!0}}return {xtype:'toolbar',defaultButtonUI:a.defaultButtonUI,cls:'x-html-editor-tb',enableOverflow:!0,items:b,listeners:{click:function(a){a.preventDefault()},element:'el'}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(b){var a=this,d=a.textareaEl,e=a.iframeEl,c;a.readOnly=b;if(d){d.dom.readOnly=b}if(a.initialized){c=a.getEditorBody();if(Ext.isIE){e.setDisplayed(!1);c.contentEditable=!b;e.setDisplayed(!0)}else {a.setDesignMode(!b)}if(c){c.style.cursor=b?'default':'text'}a.disableItems(b)}},getDocMarkup:function(){var a=this,b=a.iframeEl.getHeight()-a.iframePad*2;return Ext.String.format('<!DOCTYPE html><html><head><style type="text/css">'+(Ext.isOpera?'p{margin:0;}':'')+'body{border:0;margin:0;padding:{0}px;direction:'+(a.rtl?'rtl;':'ltr;')+(Ext.isIE8?Ext.emptyString:'min-')+'height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;'+(Ext.isIE?'':'font-size:12px;font-family:{2}')+'}</style></head><body></body></html>',a.iframePad,b,a.defaultFont)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var b=this,h=0,c,a,f,e,d,i,g;if(!b.defaultFont){a=b.textareaEl.getStyle('font-family');a=Ext.String.capitalize(a.split(',')[0]);c=Ext.Array.clone(b.fontFamilies);Ext.Array.include(c,a);c.sort();b.defaultFont=a;f=b.down('#fontSelect').selectEl.dom;for(d=0,i=c.length;d<i;++d){a=c[d];g=a.toLowerCase();e=new Option(a,g);if(a===b.defaultFont){h=d}e.style.fontFamily=g;if(Ext.isIE){f.add(e)}else {f.options.add(e)}}f.options[h].selected=!0}},isEqual:function(a,b){return this.isEqualAsString(a,b)},afterRender:function(){var a=this,b=a.inputCmp;Ext.form.FieldContainer.prototype.afterRender.apply(this,arguments);a.iframeEl=b.iframeEl;a.textareaEl=b.textareaEl;a.inputEl=a.iframeEl;if(a.enableFont){a.initDefaultFont()}a.monitorTask=Ext.TaskManager.start({run:a.checkDesignMode,scope:a,interval:100})},initFrameDoc:function(){var a=this,b,c;Ext.TaskManager.stop(a.monitorTask);b=a.getDoc();a.win=a.getWin();b.open();b.write(a.getDocMarkup());b.close();c={run:function(){var b=a.getDoc();if(b.body||b.readyState==='complete'){Ext.TaskManager.stop(c);a.setDesignMode(!0);Ext.defer(a.initEditor,10,a)}},interval:10,duration:10000,scope:a};Ext.TaskManager.start(c)},checkDesignMode:function(){var a=this,b=a.getDoc();if(b&&(!b.editorInitialized||a.getDesignMode()!=='on')){a.initFrameDoc()}},setDesignMode:function(a){var c=this,b=c.getDoc();if(b){if(c.readOnly){a=!1}b.designMode=/on|true/i.test(String(a).toLowerCase())?'on':'off'}},getDesignMode:function(){var a=this.getDoc();return !a?'':String(a.designMode).toLowerCase()},disableItems:function(d){var c=this.getToolbar().items.items,a,e=c.length,b;for(a=0;a<e;a++){b=c[a];if(b.getItemId()!=='sourceedit'){b.setDisabled(d)}}},toggleSourceEdit:function(b){var a=this,e=a.iframeEl,c=a.textareaEl,d='x-hidden',f=a.getToolbar().getComponent('sourceedit');if(!Ext.isBoolean(b)){b=!a.sourceEditMode}a.sourceEditMode=b;if(f.pressed!==b){f.toggle(b)}if(b){a.disableItems(!0);a.syncValue();e.addCls(d);c.removeCls(d);c.dom.removeAttribute('tabIndex');c.focus();a.inputEl=c}else {if(a.initialized){a.disableItems(a.readOnly)}a.pushValue();e.removeCls(d);c.addCls(d);c.dom.setAttribute('tabIndex',-1);a.deferFocus();a.inputEl=e}a.fireEvent('editmodechange',a,b);a.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);if(a&&a!=='http://'){this.relayCmd('createlink',a)}},clearInvalid:Ext.emptyFn,setValue:function(b){var a=this,c=a.textareaEl,d=a.inputCmp;if(b===null||b===undefined){b=''}if(c){c.dom.value=b}a.pushValue();if(!a.rendered&&a.inputCmp){a.inputCmp.data.value=b}a.mixins.field.setValue.call(a,b);return a},cleanHtml:function(a){a=String(a);if(Ext.isWebKit){a=a.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,'')}if(a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,''),10)){a=a.substring(1)}return a},syncValue:function(){var b=this,e,g,a,f,d,c;if(b.initialized){e=b.getEditorBody();a=e.innerHTML;c=b.textareaEl.dom;if(Ext.isWebKit){f=e.getAttribute('style');d=f.match(/text-align:(.*?);/i);if(d&&d[1]){a='<div style="'+d[0]+'">'+a+'</div>'}}a=b.cleanHtml(a);if(b.fireEvent('beforesync',b,a)!==!1){if(Ext.isGecko&&c.value===''&&a==='<br>'){a=''}if(c.value!==a){c.value=a;g=!0}b.fireEvent('sync',b,a);if(g){b.checkChange()}}}},getValue:function(){var a=this,b;if(!a.sourceEditMode){a.syncValue()}b=a.rendered?a.textareaEl.dom.value:a.value;a.value=b;return b},pushValue:function(){var a=this,b;if(a.initialized){b=a.textareaEl.dom.value||'';if(!a.activated&&b.length<1){b=a.defaultValue}if(a.fireEvent('beforepush',a,b)!==!1){a.getEditorBody().innerHTML=b;if(Ext.isGecko){a.setDesignMode(!1);a.setDesignMode(!0)}a.fireEvent('push',a,b)}}},deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var a=this,b=a.win;return b&&!a.sourceEditMode?b:a.textareaEl},focus:function(e,c){var a=this,d,b;if(c){if(!a.focusTask){a.focusTask=new Ext.util.DelayedTask(a.focus)}a.focusTask.delay(Ext.isNumber(c)?c:10,null,a,[e,!1])}else {if(e){if(a.textareaEl&&a.textareaEl.dom){d=a.textareaEl.dom.value}if(d&&d.length){a.execCmd('selectall',!0)}}b=a.getFocusEl();if(b&&b.focus){b.focus()}}return a},initEditor:function(){var a=this,e,f,d,c,b;if(a.destroying||a.isDestroyed){return}e=a.getEditorBody();f=a.textareaEl.getStyle(['font-size','font-family','background-image','background-repeat','background-color','color']);f['background-attachment']='fixed';e.bgProperties='fixed';Ext.DomHelper.applyStyles(e,f);d=a.getDoc();c=Ext.get(d);if(c){try{c.clearListeners()}catch(g){}b=a.onEditorEvent.bind(a);c.on({mousedown:b,dblclick:b,click:b,keyup:b,delegated:!1,buffer:100});b=a.onRelayedEvent;c.on({mousedown:b,mousemove:b,mouseup:b,click:b,dblclick:b,delegated:!1,scope:a});if(Ext.isGecko){c.on('keypress',a.applyCommand,a)}if(a.fixKeys){c.on('keydown',a.fixKeys,a)}if(a.fixKeysAfter){c.on('keyup',a.fixKeysAfter,a)}if(Ext.isIE9){Ext.get(d.documentElement).on('focus',a.focus,a)}if(Ext.isIE8){c.on('focusout',function(){a.savedSelection=d.selection.type!=='None'?d.selection.createRange():null},a);c.on('focusin',function(){if(a.savedSelection){a.savedSelection.select()}},a)}Ext.getWin().on('beforeunload',a.beforeDestroy,a);d.editorInitialized=!0;a.initialized=!0;a.pushValue();a.setReadOnly(a.readOnly);a.fireEvent('initialize',a)}},beforeDestroy:function(){var a=this,d=a.monitorTask,b,c;if(d){Ext.TaskManager.stop(d)}if(a.rendered){Ext.getWin().un(a.beforeDestroy,a);b=a.getDoc();if(b){Ext.get(b).clearListeners();if(b.hasOwnProperty){for(c in b){try{if(b.hasOwnProperty(c)){delete b[c]}}catch(e){}}}}a.iframeEl.destroy();delete a.iframeEl;delete a.textareaEl;delete a.toolbar;delete a.inputCmp}Ext.form.FieldContainer.prototype.beforeDestroy.call(this)},onRelayedEvent:function(a){var b=this.iframeEl,c=Ext.fly(b).getTrueXY(),e=a.getXY(),d=a.getXY();a.xy=[c[0]+d[0],c[1]+d[1]];a.injectEvent(b);a.xy=e},onFirstFocus:function(){var a=this,b,c;a.activated=!0;a.disableItems(a.readOnly);if(Ext.isGecko){a.win.focus();b=a.win.getSelection();if(b.focusNode&&!a.getValue().length){c=b.getRangeAt(0);c.selectNodeContents(a.getEditorBody());c.collapse(!0);a.deferFocus()}try{a.execCmd('useCSS',!0);a.execCmd('styleWithCSS',!1)}catch(d){}}a.fireEvent('activate',a)},adjustFont:function(e){var b=e.getItemId()==='increasefontsize'?1:-1,a=this.getDoc().queryCommandValue('FontSize')||'2',d=Ext.isString(a)&&a.indexOf('px')!==-1,c;a=parseInt(a,10);if(d){if(a<=10){a=1+b}else {if(a<=13){a=2+b}else {if(a<=16){a=3+b}else {if(a<=18){a=4+b}else {if(a<=24){a=5+b}else {a=6+b}}}}}a=Ext.Number.constrain(a,1,6)}else {c=Ext.isSafari;if(c){b*=2}a=Math.max(1,a+b)+(c?'px':0)}this.relayCmd('FontSize',a)},onEditorEvent:function(a){this.updateToolbar()},updateToolbar:function(){var a=this,c,i,h,g,b,d,f,e;if(a.readOnly){return}if(!a.activated){a.onFirstFocus();return}h=a.getToolbar().items.map;g=a.getDoc();if(a.enableFont&&!Ext.isSafari2){d=g.queryCommandValue('fontName');b=(d?d.split(',')[0].replace(a.reStripQuotes,''):a.defaultFont).toLowerCase();f=a.fontSelect.dom;if(b!==f.value||b!==d){f.value=b}}function updateButtons(){var a;for(c=0,i=arguments.length,b;c<i;c++){b=arguments[c];try{a=g.queryCommandState(b)}catch(j){a=!1}h[b].toggle(a)}}if(a.enableFormat){updateButtons('bold','italic','underline')}if(a.enableAlignments){updateButtons('justifyleft','justifycenter','justifyright')}if(!Ext.isSafari2&&a.enableLists){updateButtons('insertorderedlist','insertunorderedlist')}e=a.toolbar.query('menu');for(c=0;c<e.length;c++){e[c].hide()}a.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(b,a){Ext.defer(function(){var c=this;if(!this.isDestroyed){c.win.focus();c.execCmd(b,a);c.updateToolbar()}},10,this)},execCmd:function(c,a){var b=this,d=b.getDoc();d.execCommand(c,!1,a===undefined?null:a);b.syncValue()},applyCommand:function(d){if(d.ctrlKey){var c=this,b=d.getCharCode(),a;if(b>0){b=String.fromCharCode(b);switch(b){case 'b':a='bold';break;case 'i':a='italic';break;case 'u':a='underline';break;}if(a){c.win.focus();c.execCmd(a);c.deferFocus();d.preventDefault()}}}},insertAtCursor:function(c){var a=this,b;if(a.activated){a.win.focus();if(Ext.isIE){b=a.getDoc().selection.createRange();if(b){b.pasteHTML(c);a.syncValue();a.deferFocus()}}else {a.execCmd('InsertHTML',c);a.deferFocus()}}},fixKeys:function(){var a;if(Ext.isIE){return function(c){var f=this,h=c.getKey(),d=f.getDoc(),g=f.readOnly,b,e;if(h===c.TAB){c.stopEvent();if(!g){b=d.selection.createRange();if(b){if(b.collapse){b.collapse(!0);b.pasteHTML('&#160;&#160;&#160;&#160;')}f.deferFocus()}}}else {if(h===c.ENTER){if(!g){if(Ext.isIE10m){b=d.selection.createRange();if(b){e=b.parentElement();if(!e||e.tagName.toLowerCase()!=='li'){c.stopEvent();b.pasteHTML('<br />');b.collapse(!1);b.select()}}}else {b=d.getSelection().getRangeAt(0);if(b&&b.commonAncestorContainer.parentNode.tagName.toLowerCase()!=='li'){c.stopEvent();a=d.createElement('div');b.insertNode(a)}}}}}}}if(Ext.isOpera){return function(b){var a=this,d=b.getKey(),c=a.readOnly;if(d===b.TAB){b.stopEvent();if(!c){a.win.focus();a.execCmd('InsertHTML','&#160;&#160;&#160;&#160;');a.deferFocus()}}}}return null}(),fixKeysAfter:function(){if(Ext.isIE){return function(b){var d=this,e=b.getKey(),c=d.getDoc(),f=d.readOnly,a;if(!f&&(e===b.BACKSPACE||e===b.DELETE)){a=c.body.innerHTML;if(a==='<p>&nbsp;</p>'||a==='<P>&nbsp;</P>'){c.body.innerHTML=''}}}}return null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:'Bold (Ctrl+B)',text:'Make the selected text bold.',cls:'x-html-editor-tip'},italic:{title:'Italic (Ctrl+I)',text:'Make the selected text italic.',cls:'x-html-editor-tip'},underline:{title:'Underline (Ctrl+U)',text:'Underline the selected text.',cls:'x-html-editor-tip'},increasefontsize:{title:'Grow Text',text:'Increase the font size.',cls:'x-html-editor-tip'},decreasefontsize:{title:'Shrink Text',text:'Decrease the font size.',cls:'x-html-editor-tip'},backcolor:{title:'Text Highlight Color',text:'Change the background color of the selected text.',cls:'x-html-editor-tip'},forecolor:{title:'Font Color',text:'Change the color of the selected text.',cls:'x-html-editor-tip'},justifyleft:{title:'Align Text Left',text:'Align text to the left.',cls:'x-html-editor-tip'},justifycenter:{title:'Center Text',text:'Center text in the editor.',cls:'x-html-editor-tip'},justifyright:{title:'Align Text Right',text:'Align text to the right.',cls:'x-html-editor-tip'},insertunorderedlist:{title:'Bullet List',text:'Start a bulleted list.',cls:'x-html-editor-tip'},insertorderedlist:{title:'Numbered List',text:'Start a numbered list.',cls:'x-html-editor-tip'},createlink:{title:'Hyperlink',text:'Make the selected text a hyperlink.',cls:'x-html-editor-tip'},sourceedit:{title:'Source Edit',text:'Switch to source editing mode.',cls:'x-html-editor-tip'}}},0,['htmleditor'],['component','box','container','fieldcontainer','htmleditor'],{'component':!0,'box':!0,'container':!0,'fieldcontainer':!0,'htmleditor':!0},['widget.htmleditor'],[['field',Ext.form.field.Field]],[Ext.form.field,'HtmlEditor',Ext.form,'HtmlEditor'],0);Ext.define('ExtThemeNeptune.form.field.HtmlEditor',{override:'Ext.form.field.HtmlEditor',defaultButtonUI:'plain-toolbar'});Ext.cmd.derive('Ext.form.field.Tag',Ext.form.field.ComboBox,{multiSelect:!0,forceSelection:!0,createNewOnEnter:!1,createNewOnBlur:!1,encodeSubmitValue:!1,triggerOnClick:!0,stacked:!1,pinList:!0,filterPickList:!1,selectOnFocus:!0,grow:!0,growMin:!1,growMax:!1,fieldSubTpl:['<div id="{cmpId}-listWrapper" class="x-tagfield {fieldCls} {typeCls}">','<ul id="{cmpId}-itemList" class="x-tagfield-list">','<li id="{cmpId}-inputElCt" class="x-tagfield-input">','<div id="{cmpId}-emptyEl" class="{emptyCls}">{emptyText}</div>','<input id="{cmpId}-inputEl" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','class="x-tagfield-input-field {inputElCls}" autocomplete="off">','</li>','</ul>','</div>',{disableFormats:!0}],childEls:['listWrapper','itemList','inputEl','inputElCt','emptyEl'],emptyInputCls:'x-tagfield-emptyinput',initComponent:function(){var a=this,b=a.typeAhead;a.typeAhead=!1;a.listConfig=Ext.apply({refreshSelmodelOnRefresh:!1},a.listConfig);Ext.form.field.ComboBox.prototype.initComponent.call(this);a.typeAhead=b;a.selectionModel=new Ext.selection.Model({store:a.valueStore,mode:'MULTI',lastFocused:null,onSelectChange:function(d,c,b,a){a()}});if(!Ext.isEmpty(a.delimiter)&&a.multiSelect){a.delimiterRegexp=new RegExp(String(a.delimiter).replace(/[$%()*+.?\[\\\]{|}]/g,'\\$&'))}},initEvents:function(){var a=this;Ext.form.field.ComboBox.prototype.initEvents.apply(this,arguments);if(!a.enableKeyEvents){a.mon(a.inputEl,'keydown',a.onKeyDown,a)}a.mon(a.inputEl,'paste',a.onPaste,a);a.mon(a.listWrapper,'click',a.onItemListClick,a);a.mon(a.selectionModel,{'selectionchange':a.onSelectionChange,'focuschange':a.onFocusChange,scope:a})},onBindStore:function(b,c){var a=this;if(b){a.valueStore=new Ext.data.Store({model:b.getModel()});a.mon(a.valueStore,{datachanged:a.onValueStoreChange,remove:a.onValueStoreRemove,scope:a});if(a.selectionModel){a.selectionModel.bindStore(a.valueStore)}a.store.addFilter(a.selectedFilter=new Ext.util.Filter({filterFn:function(d){return !a.valueStore.data.contains(d)},disabled:!a.filterPickList}))}},onUnbindStore:function(c){var a=this,b=a.valueStore;if(b){a.mun(b,{datachanged:a.onValueStoreChange,remove:a.onValueStoreRemove,scope:a});b.destroyStore()}if(a.selectionModel){a.selectionModel.destroy()}a.store.removeFilter(a.selectedFilter);a.valueStore=a.selectionModel=null;Ext.form.field.ComboBox.prototype.onUnbindStore.apply(this,arguments)},onValueStoreRemove:function(){if(this.filterPickList){this.store.filter()}},onValueStoreChange:function(){if(this.filterPickList){this.store.filter()}this.applyMultiselectItemMarkup()},onSelectionChange:function(b,a){this.applyMultiselectItemMarkup();this.fireEvent('valueselectionchange',this,a)},onFocusChange:function(c,b,a){this.fireEvent('valuefocuschange',this,b,a)},createPicker:function(){var a=this,b=Ext.form.field.ComboBox.prototype.createPicker.apply(this,arguments);a.mon(b,{'beforerefresh':a.onBeforeListRefresh,scope:a});return b},onDestroy:function(){var a=this;Ext.destroyMembers(a,'valueStore','selectionModel');Ext.form.field.ComboBox.prototype.onDestroy.apply(this,arguments)},getSubTplData:function(){var b=this,a=Ext.form.field.ComboBox.prototype.getSubTplData.call(this),c=b.emptyText&&a.value.length<1;a.value='';if(c){a.emptyText=b.emptyText;a.emptyCls=b.emptyCls;a.inputElCls=b.emptyInputCls}else {a.emptyText='';a.emptyCls=b.emptyInputCls;a.inputElCls=''}return a},afterRender:function(){var a=this;if(Ext.supports.Placeholder&&a.inputEl&&a.emptyText){delete a.inputEl.dom.placeholder}a.bodyEl.applyStyles('vertical-align:top');if(a.grow){if(Ext.isNumber(a.growMin)&&a.growMin>0){a.listWrapper.applyStyles('min-height:'+a.growMin+'px')}if(Ext.isNumber(a.growMax)&&a.growMax>0){a.listWrapper.applyStyles('max-height:'+a.growMax+'px')}}if(a.stacked===!0){a.itemList.addCls('x-tagfield-stacked')}if(!a.multiSelect){a.itemList.addCls('x-tagfield-singleselect')}a.applyMultiselectItemMarkup();Ext.form.field.ComboBox.prototype.afterRender.apply(this,arguments)},findRecord:function(c,d){var b=this.store,a;if(!b){return !1}a=b.queryBy(function(a,b){return a.isEqual(a.get(c),d)});return a.getCount()>0?a.first():!1},onLoad:function(){var b=this,c=b.valueField,a=b.valueStore,d=!1;if(a){if(!Ext.isEmpty(b.value)&&a.getCount()==0){b.setValue(b.value,!1,!0)}a.suspendEvents();a.each(function(f){var g=b.findRecord(c,f.get(c)),e=g?a.indexOf(f):-1;if(e>=0){a.removeAt(e);a.insert(e,g);d=!0}});a.resumeEvents();if(d){a.fireEvent('datachanged',a)}}Ext.form.field.ComboBox.prototype.onLoad.apply(this,arguments)},isFilteredRecord:function(e){var c=this,f=c.store,a=c.valueField,d,b=!1;d=f.findExact(a,e.get(a));b=d===-1&&(!f.snapshot||c.findRecord(a,e.get(a))!==!1);b=b||!b&&d===-1&&c.forceSelection!==!0&&c.valueStore.findExact(a,e.get(a))>=0;return b},doRawQuery:function(){var a=this,b=a.inputEl.dom.value;if(a.multiSelect){b=b.split(a.delimiter).pop()}a.doQuery(b,!1,!0)},onBeforeListRefresh:function(){this.ignoreSelection++},onListRefresh:function(){Ext.form.field.ComboBox.prototype.onListRefresh.apply(this,arguments);if(this.ignoreSelection>0){--this.ignoreSelection}},onListSelectionChange:function(f,e){var a=this,c=a.valueStore,b=[],d;if(a.ignoreSelection<=0&&a.isExpanded){c.each(function(c){if(Ext.Array.contains(e,c)||a.isFilteredRecord(c)){b.push(c)}});b=Ext.Array.merge(b,e);d=Ext.Array.intersect(b,c.getRange()).length;if(d!=b.length||d!=a.valueStore.getCount()){a.setValue(b,!1);if(!a.multiSelect||!a.pinList){Ext.defer(a.collapse,1,a)}if(c.getCount()>0){a.fireEvent('select',a,c.getRange())}}if(!a.pinList){a.inputEl.dom.value=''}if(!Ext.supports.TouchEvents){a.inputEl.focus();if(a.selectOnFocus){a.inputEl.dom.select()}}}},syncSelection:function(){var a=this,e=a.picker,f=a.valueField,c,b,d;if(e){c=e.store;b=[];if(a.valueStore){a.valueStore.each(function(d){var a=c.findExact(f,d.get(f));if(a>=0){b.push(c.getAt(a))}})}a.ignoreSelection++;d=e.getSelectionModel();d.deselectAll();if(b.length>0){d.select(b)}if(a.ignoreSelection>0){--a.ignoreSelection}}},getCursorPosition:function(){var a;if(Ext.isIE){a=document.selection.createRange();a.collapse(!0);a.moveStart('character',-this.inputEl.dom.value.length);a=a.text.length}else {a=this.inputEl.dom.selectionStart}return a},hasSelectedText:function(){var b,a;if(Ext.isIE){b=document.selection;a=b.createRange();return a.parentElement()==this.inputEl.dom}else {return this.inputEl.dom.selectionStart!=this.inputEl.dom.selectionEnd}},onKeyDown:function(b,i){var a=this,e=b.getKey(),h=a.inputEl.dom.value,g=a.valueStore,c=a.selectionModel,f=!1;if(a.readOnly||a.disabled||!a.editable){return}if(a.isExpanded&&(e==b.A&&b.ctrlKey)){a.select(a.getStore().getRange());c.setLastFocused(null);c.deselectAll();a.collapse();a.inputEl.focus();f=!0}else {if(g.getCount()>0&&(h==''||a.getCursorPosition()===0&&!a.hasSelectedText())){var d=c.getCount()>0?g.indexOf(c.getLastSelected()||c.getLastFocused()):-1;if(e==b.BACKSPACE||e==b.DELETE){if(d>-1){if(c.getCount()>1){d=-1}a.valueStore.remove(c.getSelection())}else {a.valueStore.remove(a.valueStore.last())}c.clearSelections();a.setValue(a.valueStore.getRange());if(d>0){c.select(d-1)}f=!0}else {if(e==b.RIGHT||e==b.LEFT){if(d==-1&&e==b.LEFT){c.select(g.last());f=!0}else {if(d>-1){if(e==b.RIGHT){if(d<g.getCount()-1){c.select(d+1,b.shiftKey);f=!0}else {if(!b.shiftKey){c.setLastFocused(null);c.deselectAll();f=!0}}}else {if(e==b.LEFT&&d>0){c.select(d-1,b.shiftKey);f=!0}}}}}else {if(e==b.A&&b.ctrlKey){c.selectAll();f=b.A}}}a.inputEl.focus()}}if(f){a.preventKeyUpEvent=f;b.stopEvent();return}if(a.isExpanded&&e==b.ENTER&&a.picker.highlightedItem){a.preventKeyUpEvent=!0}if(a.enableKeyEvents){Ext.form.field.ComboBox.prototype.onKeyDown.apply(this,arguments)}if(!b.isSpecialKey()&&!b.hasModifier()){a.selectionModel.setLastFocused(null);a.selectionModel.deselectAll();a.inputEl.focus()}},onKeyUp:function(b,d){var a=this,c=a.inputEl.dom.value;if(a.preventKeyUpEvent){b.stopEvent();if(a.preventKeyUpEvent===!0||b.getKey()===a.preventKeyUpEvent){delete a.preventKeyUpEvent}return}if(a.multiSelect&&(a.delimiterRegexp&&a.delimiterRegexp.test(c))||a.createNewOnEnter===!0&&b.getKey()==b.ENTER){c=Ext.Array.clean(c.split(a.delimiterRegexp));a.inputEl.dom.value='';a.setValue(a.valueStore.getRange().concat(c));a.inputEl.focus()}Ext.form.field.ComboBox.prototype.onKeyUp.call(this,b,d)},onPaste:function(d,e){var a=this,c=a.inputEl.dom.value,b=d&&d.browserEvent&&d.browserEvent.clipboardData?d.browserEvent.clipboardData:!1;if(a.multiSelect&&(a.delimiterRegexp&&a.delimiterRegexp.test(c))){if(b&&b.getData){if(/text\/plain/.test(b.types)){c=b.getData('text/plain')}else {if(/text\/html/.test(b.types)){c=b.getData('text/html')}}}c=Ext.Array.clean(c.split(a.delimiterRegexp));a.inputEl.dom.value='';a.setValue(a.valueStore.getRange().concat(c));a.inputEl.focus()}},onTypeAhead:function(){var a=this,f=a.displayField,d=a.inputEl.dom,g=a.getPicker(),e=a.store.findRecord(f,d.value),b,h,c;if(e){b=e.get(f);h=b.length;c=d.value.length;g.highlightItem(g.getNode(e));if(c!==0&&c!==h){d.value=b;a.selectText(c,b.length)}}},onItemListClick:function(c,e,f){var a=this,b=c.getTarget('.x-tagfield-item'),d=b?c.getTarget('.x-tagfield-item-close'):!1;if(a.readOnly||a.disabled){return}c.stopPropagation();if(b){if(d){a.removeByListItemNode(b);if(a.valueStore.getCount()>0){a.fireEvent('select',a,a.valueStore.getRange())}}else {a.toggleSelectionByListItemNode(b,c.shiftKey)}if(!Ext.supports.TouchEvents){a.inputEl.focus()}}else {if(a.selectionModel.getCount()>0){a.selectionModel.setLastFocused(null);a.selectionModel.deselectAll()}if(a.triggerOnClick){a.onTriggerClick()}}},getMultiSelectItemMarkup:function(){var a=this;if(!a.multiSelectItemTpl){if(!a.labelTpl){a.labelTpl='{'+a.displayField+'}'}a.labelTpl=a.getTpl('labelTpl');a.multiSelectItemTpl=new Ext.XTemplate(['<tpl for=".">','<li class="    x-tagfield-item ','<tpl if="this.isSelected(values)">',' selected','</tpl>','{%','values = values.data;','%}','" qtip="{'+a.displayField+'}">','<div class="x-tagfield-item-text">{[this.getItemLabel(values)]}</div>','<div class="x-tagfield-item-close"></div>','</li>','</tpl>',{isSelected:function(b){return a.selectionModel.isSelected(b)},getItemLabel:function(b){return a.labelTpl.apply(b)}}])}if(!a.multiSelectItemTpl.isTemplate){a.multiSelectItemTpl=this.getTpl('multiSelectItemTpl')}return a.multiSelectItemTpl.apply(this.valueStore.getRange())},applyMultiselectItemMarkup:function(){var a=this,c=a.itemList,b;if(c){while((b=a.inputElCt.prev())!=null){b.destroy()}a.inputElCt.insertHtml('beforeBegin',a.getMultiSelectItemMarkup())}Ext.GlobalEvents.on({idle:function(){if(a.picker&&a.isExpanded){a.alignPicker()}if(a.hasFocus&&a.inputElCt&&a.listWrapper){a.inputElCt.scrollIntoView(a.listWrapper)}},single:!0})},getRecordByListItemNode:function(c){var d=this,b=0,a=d.itemList.dom.firstChild;while(a&&a.nextSibling){if(a==c){break}b++;a=a.nextSibling}b=a==c?b:!1;if(b===!1){return !1}return d.valueStore.getAt(b)},toggleSelectionByListItemNode:function(e,d){var c=this,b=c.getRecordByListItemNode(e),a=c.selectionModel;if(b){if(a.isSelected(b)){if(a.isFocused(b)){a.setLastFocused(null)}a.deselect(b)}else {a.select(b,d)}}},removeByListItemNode:function(c){var a=this,b=a.getRecordByListItemNode(c);if(b){a.valueStore.remove(b);a.setValue(a.valueStore.getRange())}},getRawValue:function(){var a=this,c=a.inputEl,b;a.inputEl=!1;b=Ext.form.field.ComboBox.prototype.getRawValue.apply(this,arguments);a.inputEl=c;return b},setRawValue:function(d){var a=this,c=a.inputEl,b;a.inputEl=!1;b=Ext.form.field.ComboBox.prototype.setRawValue.call(this,d);a.inputEl=c;return b},addValue:function(a){var b=this;if(a){b.setValue(Ext.Array.merge(b.value,Ext.Array.from(a)))}},removeValue:function(a){var b=this;if(a){b.setValue(Ext.Array.difference(b.value,Ext.Array.from(a)))}},setValue:function(a,i,l){var b=this,h=b.valueStore,g=b.valueField,e,k,d,c,m,f=[];if(Ext.isEmpty(a)){a=null}if(Ext.isString(a)&&b.multiSelect){a=a.split(b.delimiter)}a=Ext.Array.from(a,!0);for(d=0,k=a.length;d<k;d++){e=a[d];if(!e||!e.isModel){c=h.findExact(g,e);if(c>=0){a[d]=h.getAt(c)}else {c=b.findRecord(g,e);if(!c){if(b.forceSelection){f.push(e)}else {c={};c[b.valueField]=e;c[b.displayField]=e;c=(new b.valueStore.getModel())(c)}}if(c){a[d]=c}}}}if(l!==!0&&f.length>0&&b.queryMode==='remote'){var j={};j[b.valueParam||b.valueField]=f.join(b.delimiter);b.store.load({params:j,callback:function(){if(b.itemList){b.itemList.unmask()}b.setValue(a,i,!0);b.autoSize();b.lastQuery=!1}});return !1}if(!b.multiSelect&&a.length>0){for(d=a.length-1;d>=0;d--){if(a[d].isModel){a=a[d];break}}if(Ext.isArray(a)){a=a[a.length-1]}}return Ext.form.field.ComboBox.prototype.setValue.call(this,a,i)},getValueRecords:function(){return this.valueStore.getRange()},getSubmitData:function(){var b=this,a=Ext.form.field.ComboBox.prototype.getSubmitData.apply(this,arguments);if(b.multiSelect&&b.encodeSubmitValue&&a&&a[b.name]){a[b.name]=Ext.encode(a[b.name])}return a},mimicBlur:function(){var a=this;if(a.selectOnTab&&a.picker&&a.picker.highlightedItem){a.inputEl.dom.value=''}Ext.form.field.ComboBox.prototype.mimicBlur.apply(this,arguments)},assertValue:function(){var a=this,b=a.inputEl.dom.value,d=!Ext.isEmpty(b)?a.findRecordByDisplay(b):!1,c=!1;if(!d&&!a.forceSelection&&a.createNewOnBlur&&!Ext.isEmpty(b)){c=b}else {if(d){c=d}}if(c){a.addValue(c)}a.inputEl.dom.value='';a.collapse()},checkChange:function(){if(!this.suspendCheckChange&&!this.isDestroyed){var a=this,b=a.valueStore,d=a.lastValue||'',f=a.valueField,c=Ext.Array.map(Ext.Array.from(a.value),function(a){if(a.isModel){return a.get(f)}return a},this).join(this.delimiter),e=a.isEqual(c,d);if(!e||c.length>0&&b.getCount()<a.value.length){b.suspendEvents();b.removeAll();if(Ext.isArray(a.valueModels)){b.add(a.valueModels)}b.resumeEvents();b.fireEvent('datachanged',b);if(!e){a.lastValue=c;a.fireEvent('change',a,c,d);a.onChange(c,d)}}}},isEqual:function(b,c){var f=Ext.Array.from,e=this.valueField,a,d,g,h;b=f(b);c=f(c);d=b.length;if(d!==c.length){return !1}for(a=0;a<d;a++){g=b[a].isModel?b[a].get(e):b[a];h=c[a].isModel?c[a].get(e):c[a];if(g!==h){return !1}}return !0},applyEmptyText:function(){var a=this,b=a.emptyText,c,d;if(a.rendered&&b){d=Ext.isEmpty(a.value)&&!a.hasFocus;c=a.inputEl;if(d){c.dom.value='';a.emptyEl.setHtml(b);a.emptyEl.addCls(a.emptyCls);a.emptyEl.removeCls(a.emptyInputCls);a.listWrapper.addCls(a.emptyCls);a.inputEl.addCls(a.emptyInputCls)}else {a.emptyEl.addCls(a.emptyInputCls);a.emptyEl.removeCls(a.emptyCls);a.listWrapper.removeCls(a.emptyCls);a.inputEl.removeCls(a.emptyInputCls)}a.autoSize()}},preFocus:function(){var a=this,b=a.inputEl,c=b.dom.value=='';a.emptyEl.addCls(a.emptyInputCls);a.emptyEl.removeCls(a.emptyCls);a.listWrapper.removeCls(a.emptyCls);a.inputEl.removeCls(a.emptyInputCls);if(a.selectOnFocus||c){b.dom.select()}},onFocus:function(){var c=this,a=c.focusCls,b=c.itemList;if(a&&b){b.addCls(a)}Ext.form.field.ComboBox.prototype.onFocus.apply(this,arguments)},onBlur:function(){var c=this,a=c.focusCls,b=c.itemList;if(a&&b){b.removeCls(a)}Ext.form.field.ComboBox.prototype.onBlur.apply(this,arguments)},renderActiveError:function(){var a=this,c=a.invalidCls,b=a.itemList,d=a.hasActiveError();if(c&&b){b[d?'addCls':'removeCls'](a.invalidCls+'-field')}Ext.form.field.ComboBox.prototype.renderActiveError.apply(this,arguments)},autoSize:function(){var a=this;if(a.grow&&a.rendered){a.autoSizing=!0;a.updateLayout()}return a},afterComponentLayout:function(){var a=this,b;if(a.autoSizing){b=a.getHeight();if(b!==a.lastInputHeight){if(a.isExpanded){a.alignPicker()}a.fireEvent('autosize',a,b);a.lastInputHeight=b;a.autoSizing=!1}}}},0,['tagfield'],['component','box','field','textfield','pickerfield','combobox','combo','tagfield'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'pickerfield':!0,'combobox':!0,'combo':!0,'tagfield':!0},['widget.tagfield'],0,[Ext.form.field,'Tag'],0);Ext.cmd.derive('Ext.picker.Time',Ext.view.BoundList,{increment:15,format:'g:i A',displayField:'disp',initDate:[2008,0,1],componentCls:'x-timepicker',loadMask:!1,initComponent:function(){var b=this,d=Ext.Date,c=d.clearTime,a=b.initDate;b.absMin=c(new Date(a[0],a[1],a[2]));b.absMax=d.add(c(new Date(a[0],a[1],a[2])),'mi',24*60-1);b.store=b.createStore();b.updateList();Ext.view.BoundList.prototype.initComponent.call(this)},setMinValue:function(a){this.minValue=a;this.updateList()},setMaxValue:function(a){this.maxValue=a;this.updateList()},normalizeDate:function(b){var a=this.initDate;b.setFullYear(a[0],a[1],a[2]);return b},updateList:function(){var a=this,e=a.normalizeDate(a.minValue||a.absMin),d=a.normalizeDate(a.maxValue||a.absMax),b=a.getStore().getFilters(),c=a.rangeFilter;b.beginUpdate();if(c){b.remove(c)}c=a.rangeFilter=new Ext.util.Filter({filterFn:function(b){var a=b.get('date');return a>=e&&a<=d}});b.add(c);b.endUpdate()},createStore:function(){var b=this,c=Ext.Date,d=[],a=b.absMin,e=b.absMax;while(a<=e){d.push({disp:c.dateFormat(a,b.format),date:a});a=c.add(a,'mi',b.increment)}return new Ext.data.Store({model:b.modelType,autoDestroy:!0,data:d})},focusNode:function(a){return !1}},0,['timepicker'],['component','box','dataview','boundlist','timepicker'],{'component':!0,'box':!0,'dataview':!0,'boundlist':!0,'timepicker':!0},['widget.timepicker'],0,[Ext.picker,'Time'],function(){this.prototype.modelType=Ext.define(null,{extend:'Ext.data.Model',fields:['disp','date']})});Ext.cmd.derive('Ext.form.field.Time',Ext.form.field.ComboBox,{alternateClassName:['Ext.form.TimeField','Ext.form.Time'],triggerCls:'x-form-time-trigger',minText:'The time in this field must be equal to or after {0}',maxText:'The time in this field must be equal to or before {0}',invalidText:'{0} is not a valid time',format:'g:i A',altFormats:'g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A',increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,initDate:'1/1/2008',initDateParts:[2008,0,1],initDateFormat:'j/n/Y',ignoreSelection:0,queryMode:'local',displayField:'disp',valueField:'date',initComponent:function(){var a=this,c=a.minValue,b=a.maxValue;if(c){a.setMinValue(c)}if(b){a.setMaxValue(b)}a.store=a.getPicker().store;a.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+a.displayField+'"])]}<tpl if="xindex < xcount">'+a.delimiter+'</tpl></tpl>',{formatDate:a.formatDate.bind(a)});Ext.form.field.ComboBox.prototype.initComponent.call(this)},isEqual:function(b,c){var e=Ext.Array.from,f=Ext.Date.isEqual,a,d;b=e(b);c=e(c);d=b.length;if(d!==c.length){return !1}for(a=0;a<d;a++){if(!f(c[a],b[a])){return !1}}return !0},setMinValue:function(c){var a=this,b=a.picker;a.setLimit(c,!0);if(b){b.setMinValue(a.minValue)}},setMaxValue:function(c){var a=this,b=a.picker;a.setLimit(c,!1);if(b){b.setMaxValue(a.maxValue)}},setLimit:function(b,e){var d=this,a,c;if(Ext.isString(b)){a=d.parseDate(b)}else {if(Ext.isDate(b)){a=b}}if(a){c=d.getInitDate();c.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}else {c=null}d[e?'minValue':'maxValue']=c},getInitDate:function(c,b){var a=this.initDateParts;return new Date(a[0],a[1],a[2],c||0,b||0,0,0)},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(l){var a=this,d=Ext.String.format,c=Ext.form.field.ComboBox.prototype.getErrors.apply(this,arguments),i=a.minValue,h=a.maxValue,e=a.displayTplData,j=a.getRawValue(),g,k,f,b;if(e&&e.length>0){for(g=0,k=e.length;g<k;g++){b=e[g];b=b.date||b.disp;f=a.parseDate(b);if(!f){c.push(d(a.invalidText,b,Ext.Date.unescapeFormat(a.format)));continue}if(i&&f<i){c.push(d(a.minText,a.formatDate(i)))}if(h&&f>h){c.push(d(a.maxText,a.formatDate(h)))}}}else {if(j.length&&!a.parseDate(j)){c.push(d(a.invalidText,j,Ext.Date.unescapeFormat(a.format)))}}return c},formatDate:function(a){var c=[],b,d;a=Ext.Array.from(a);for(b=0,d=a.length;b<d;b++){c.push(Ext.form.field.Date.prototype.formatDate.call(this,a[b]))}return c.join(this.delimiter)},parseDate:function(c){var b=this,a=c,f=b.altFormats,d=b.altFormatsArray,e=0,g;if(c&&!Ext.isDate(c)){a=b.safeParse(c,b.format);if(!a&&f){d=d||f.split('|');g=d.length;for(;e<g&&!a;++e){a=b.safeParse(c,d[e])}}}if(a&&b.snapToIncrement){a=new Date(Ext.Number.snap(a.getTime(),b.increment*60*1000))}return a},safeParse:function(e,c){var f=this,b=Ext.Date,a,d=null;if(b.formatContainsDateInfo(c)){d=b.parse(e,c)}else {a=b.parse(f.initDate+' '+e,f.initDateFormat+' '+c);if(a){d=a}}return d},getSubmitValue:function(){var a=this,c=a.submitFormat||a.format,b=a.getValue();return b?Ext.Date.format(b,c):null},createPicker:function(){var a=this,b;a.listConfig=Ext.apply({xtype:'timepicker',selModel:{mode:a.multiSelect?'SIMPLE':'SINGLE'},cls:undefined,minValue:a.minValue,maxValue:a.maxValue,increment:a.increment,format:a.format,maxHeight:a.pickerMaxHeight},a.listConfig);b=Ext.form.field.ComboBox.prototype.createPicker.call(this);return b},onItemClick:function(c,d){var b=this,a=c.getSelectionModel().getSelection();if(!b.multiSelect&&a.length){if(a.length>0){a=a[0];if(a&&Ext.Date.isEqual(d.get('date'),a.get('date'))){b.collapse()}}}},syncSelection:function(){var a=this,b=a.picker,n=Ext.Date.isEqual,f=[],e,h,g,d,m,j,i,c,l,k;if(b){b.clearHighlight();h=a.getValue();e=b.getSelectionModel();a.ignoreSelection++;if(h===null){e.deselectAll()}else {g=Ext.Array.from(h);i=b.store.data.items;l=i.length;for(d=0,m=g.length;d<m;d++){j=g[d];if(Ext.isDate(j)){for(c=0;c<l;c++){k=i[c];if(n(k.get('date'),j)){f.push(k);if(!a.multiSelect){break}}}if(f.length){e.select(f)}}}}a.ignoreSelection--}},postBlur:function(){var a=this,b=a.getValue();Ext.form.field.ComboBox.prototype.postBlur.apply(this,arguments);if(a.validateValue(b)){a.setValue(b)}},findRecordByValue:function(a){if(typeof a==='string'){a=this.parseDate(a)}return Ext.form.field.ComboBox.prototype.findRecordByValue.call(this,a)},rawToValue:function(e){var d=this,c,b,a,f;if(d.multiSelect){b=[];c=Ext.Array.from(e);for(a=0,f=c.length;a<f;a++){b.push(d.parseDate(c[a]))}return b}return d.parseDate(e)},setValue:function(a){this.getPicker();if(Ext.isDate(a)){a=this.getInitDate(a.getHours(),a.getMinutes())}return Ext.form.field.ComboBox.prototype.setValue.call(this,a)},getValue:function(){return this.rawToValue(Ext.form.field.ComboBox.prototype.getValue.apply(this,arguments))}},0,['timefield'],['component','box','field','textfield','pickerfield','combobox','combo','timefield'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'pickerfield':!0,'combobox':!0,'combo':!0,'timefield':!0},['widget.timefield'],0,[Ext.form.field,'Time',Ext.form,'TimeField',Ext.form,'Time'],0);Ext.cmd.derive('Ext.form.field.Trigger',Ext.form.field.Text,{alternateClassName:['Ext.form.TriggerField','Ext.form.TwinTriggerField','Ext.form.Trigger'],triggerCls:'x-form-arrow-trigger',inheritableStatics:{warnDeprecated:function(){}},onClassExtended:function(a){this.warnDeprecated()},constructor:function(a){this.self.warnDeprecated();Ext.form.field.Text.prototype.constructor.call(this,a)}},1,['trigger','triggerfield'],['component','box','field','textfield','triggerfield','trigger'],{'component':!0,'box':!0,'field':!0,'textfield':!0,'triggerfield':!0,'trigger':!0},['widget.trigger','widget.triggerfield'],0,[Ext.form.field,'Trigger',Ext.form,'TriggerField',Ext.form,'TwinTriggerField',Ext.form,'Trigger'],0);Ext.cmd.derive('Ext.grid.CellEditor',Ext.Editor,{y:0,constructor:function(a){a=Ext.apply({},a);if(a.field){a.field.monitorTab=!1}Ext.Editor.prototype.constructor.call(this,a)},setGrid:function(d){var a=this,c=a.grid,e,b;if(d!=c){b={beforerefresh:a.beforeViewRefresh,refresh:a.onViewRefresh,scope:a};if(c){c.getView().un(b)}e=d.getView();a.renderTo=e.getTargetEl().dom;a.grid=a.ownerCt=d;e.on(b)}},adjustPosition:function(){return {x:0,y:0}},beforeViewRefresh:function(){var a=this,b=a.el&&a.el.dom;if(b){if(a.editing&&!(a.field.column&&a.field.column.sorting)){a.wasAllowBlur=a.allowBlur;a.allowBlur=!1}if(b.parentNode){b.parentNode.removeChild(b)}}},onViewRefresh:function(){var a=this,c=a.el&&a.el.dom,b;if(c){b=a.field.column&&a.field.column.sorting;if(a.editing&&!b){a.allowBlur=a.wasAllowBlur;a.renderTo.appendChild(c);a.field.focus()}else {if(!b){Ext.getDetachedBody().dom.appendChild(c)}}if(a.editing&&b){a.completeEdit()}}},onShow:function(){var a=this,b=a.boundEl.first();if(a.el.dom.parentNode!==a.renderTo){a.renderTo.appendChild(a.el.dom)}if(b){if(a.isForTree){b=b.child(a.treeNodeSelector)}b.hide()}Ext.Editor.prototype.onShow.apply(this,arguments)},onEditComplete:function(a){if(a){this.restoreCell()}Ext.Editor.prototype.onEditComplete.apply(this,arguments)},onHide:function(){this.restoreCell();Ext.Editor.prototype.onHide.apply(this,arguments)},restoreCell:function(){var b=this,a=b.boundEl.first();if(a){if(b.isForTree){a=a.child(b.treeNodeSelector)}a.show()}},afterRender:function(){var a=this,b=a.field;Ext.Editor.prototype.afterRender.apply(this,arguments);if(b.isCheckbox){b.mon(b.inputEl,{mousedown:a.onCheckBoxMouseDown,click:a.onCheckBoxClick,scope:a})}Ext.on('mousedown',this.onDocMouseDown,this)},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onDocMouseDown:function(b){var a=this.field;if(a&&a.hasFocus&&!a.owns(b.target)){a.blur()}},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(!1,10)},realign:function(j){var a=this,d=a.boundEl,b=d.first(),c=b.dom.firstChild,f=d.getWidth(),h=Ext.Array.clone(a.offsets),k=a.grid,e,i='',g=!c||c.nodeType===3&&!Ext.String.trim(i=c.data).length;if(a.isForTree){e=a.getTreeNodeOffset(b);f-=Math.abs(e);h[0]+=e}if(k.columnLines){f-=d.getBorderWidth('rl')}if(j===!0){a.field.setWidth(f)}if(g){b.dom.innerHTML='X'}a.alignTo(b,a.alignment,h);if(g){b.dom.firstChild.data=i}},getTreeNodeOffset:function(a){return a.child(this.treeNodeSelector).getOffsetsTo(a)[0]},onEditorTab:function(b){var a=this.field;if(a.onEditorTab){a.onEditorTab(b)}},onFieldBlur:function(){Ext.Editor.prototype.onFieldBlur.apply(this,arguments);this.selectSameEditor=!1},alignment:'l-l',hideEl:!1,cls:'x-small-editor x-grid-editor x-grid-cell-editor',treeNodeSelector:'.x-tree-node-text',shim:!1,shadow:!1},1,0,['component','box','container','editor'],{'component':!0,'box':!0,'container':!0,'editor':!0},0,0,[Ext.grid,'CellEditor'],0);Ext.cmd.derive('Ext.grid.ColumnManager',Ext.Base,{alternateClassName:['Ext.grid.ColumnModel'],columns:null,constructor:function(b,c,a){this.headerCt=c;if(a){this.secondHeaderCt=a}this.visibleOnly=!!b},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},getHeaderIndex:function(a){if(a.isGroupHeader){a=this.getHeaderColumns(a)[0]}return Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(b){var a=this.getColumns(),c=a[b];return c||null},getPreviousSibling:function(c){var a=this.getHeaderIndex(c),b=null;if(a>0){b=this.getColumns()[a-1]}return b},getNextSibling:function(c){var a=this.getHeaderIndex(c),b;if(a!==-1){b=this.getColumns()[a+1]}return b||null},getFirst:function(){var a=this.getColumns();return a.length>0?a[0]:null},getLast:function(){var a=this.getColumns(),b=a.length;return b>0?a[b-1]:null},getHeaderById:function(e){var c=this.getColumns(),d=c.length,a,b;for(a=0;a<d;++a){b=c[a];if(b.getItemId()===e){return b}}return null},getVisibleHeaderClosestToIndex:function(b){var a=this.getHeaderAtIndex(b);if(a&&a.hidden){a=a.next(':not([hidden])')||a.prev(':not([hidden])')}return a},cacheColumns:function(){var a=this.getHeaderColumns(this.headerCt),b=this.secondHeaderCt;if(b){a=a.concat(this.getHeaderColumns(b))}this.columns=a},getHeaderColumns:function(a){var b=this.visibleOnly?a.getVisibleGridColumns():a.getGridColumns();return Ext.Array.clone(b)},invalidate:function(){var a=this.rootColumns;this.columns=null;if(a){a.invalidate()}},destroy:function(){this.columns=this.rootColumns=null}},1,0,0,0,0,0,[Ext.grid,'ColumnManager',Ext.grid,'ColumnModel'],function(){this.createAlias('indexOf','getHeaderIndex')});Ext.cmd.derive('Ext.grid.RowEditorButtons',Ext.container.Container,{frame:!0,shrinkWrap:!0,position:'bottom',constructor:function(b){var e=this,a=b.rowEditor,c='x-',d=a.editingPlugin;b=Ext.apply({baseCls:c+'grid-row-editor-buttons',defaults:{xtype:'button',ui:a.buttonUI,scope:d,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:c+'row-editor-update-button',itemId:'update',handler:d.completeEdit,text:a.saveBtnText,disabled:a.updateButtonDisabled},{cls:c+'row-editor-cancel-button',handler:d.cancelEdit,text:a.cancelBtnText}]},b);Ext.container.Container.prototype.constructor.call(this,b);e.addClsWithUI(e.position)},setButtonPosition:function(b){var a=this,e=this.rowEditor,c=e.getHeight(),d=e.body,f='',g='';a.removeClsWithUI(a.position);a.position=b;a.addClsWithUI(b);if(b==='top'){f=c-d.getBorderWidth('t')+'px'}else {g=c-d.getBorderWidth('b')+'px'}a.el.setStyle({top:g,bottom:f})},getFramingInfoCls:function(){return this.baseCls+'-'+this.ui+'-'+this.position},getFrameInfo:function(){var a=Ext.container.Container.prototype.getFrameInfo.call(this);a.top=!0;return a}},1,['roweditorbuttons'],['component','box','container','roweditorbuttons'],{'component':!0,'box':!0,'container':!0,'roweditorbuttons':!0},['widget.roweditorbuttons'],0,[Ext.grid,'RowEditorButtons'],0);Ext.cmd.derive('Ext.grid.RowEditor',Ext.form.Panel,{saveBtnText:'Update',cancelBtnText:'Cancel',errorsText:'Errors',dirtyText:'You need to commit or cancel your changes',lastScrollLeft:0,lastScrollTop:0,border:!1,errorCls:'x-grid-row-editor-errors-item',buttonUI:'default',hideMode:'offsets',initComponent:function(){var a=this,c=a.editingPlugin.grid,d=Ext.container.Container,b;a.cls='x-grid-editor x-grid-row-editor';a.layout={type:'hbox',align:'middle'};a.lockable=c.lockable;if(a.lockable){a.items=[a.lockedColumnContainer=new d({id:c.id+'-locked-editor-cells',layout:{type:'hbox',align:'middle'},margin:'0 1 0 0'}),a.normalColumnContainer=new d({flex:1,id:c.id+'-normal-editor-cells',layout:{type:'hbox',align:'middle'}})]}else {a.lockedColumnContainer=a.normalColumnContainer=a}Ext.form.Panel.prototype.initComponent.apply(this,arguments);if(a.fields){a.addFieldsForColumn(a.fields,!0);a.insertColumnEditor(a.fields);delete a.fields}a.mon(a.hierarchyEventSource,{scope:a,show:a.repositionIfVisible});b=a.getForm();b.trackResetOnLoad=!0;b.on('validitychange',a.onValidityChange,a)},onGridResize:function(){var a=this,c=a.getClientWidth(),b=a.editingPlugin.grid,d=b.body,e=a.getFloatingButtons();a.setLocalX(d.getOffsetsTo(b)[0]+d.getBorderWidth('l')-b.el.getBorderWidth('l'));a.setWidth(c);e.setLocalX((c-e.getWidth())/2)},syncAllFieldWidths:function(){var a=this;Ext.Array.each(a.query('[isEditorComponent]'),function(b){if(b.column.isVisible()){a.onColumnShow(b.column)}},a)},syncFieldWidth:function(c){var a=c.getEditor(),b;a._marginWidth=a._marginWidth||a.el.getMargin('lr');b=c.getWidth()-a._marginWidth;a.setWidth(b);if(a.xtype==='displayfield'){a.inputWidth=b}},onValidityChange:function(c,b){var a=this;if(a.errorSummary&&a.isVisible()){a[b?'hideToolTip':'showToolTip']()}a.updateButton(b);a.isValid=b},updateButton:function(b){var a=this.floatingButtons;if(a){a.child('#update').setDisabled(!b)}else {this.updateButtonDisabled=!b}},afterRender:function(){var a=this,d=a.editingPlugin,b=d.grid,c=b.lockable?b.normalGrid.view:b.view;Ext.form.Panel.prototype.afterRender.apply(this,arguments);a.scrollingView=c;a.scrollingViewEl=c.el;c.on('scroll',a.onViewScroll,a);a.mon(a.el,{click:Ext.emptyFn,stopPropagation:!0});a.mon(b,{resize:a.onGridResize,scope:a});a.el.swallowEvent(['keypress','keydown']);a.fieldScroller=a.normalColumnContainer.layout.innerCt;a.fieldScroller.dom.style.overflow='hidden';a.fieldScroller.on({scroll:a.onFieldContainerScroll,scope:a});a.initKeyNav();a.mon(d.view,{beforerefresh:a.onBeforeViewRefresh,refresh:a.onViewRefresh,itemremove:a.onViewItemRemove,scope:a});a.preventReposition=!0;a.syncAllFieldWidths();delete a.preventReposition},initKeyNav:function(){var b=this,a=b.editingPlugin;b.keyNav=new Ext.util.KeyNav(b.el,{enter:a.completeEdit,esc:a.onEscKey,scope:a})},onBeforeViewRefresh:function(c){var b=this,a=c.el.dom;if(b.el.dom.parentNode===a){a.removeChild(b.el.dom)}},onViewRefresh:function(d){var a=this,b=a.context,c;if(b&&(c=d.getRow(b.record))){b.row=c;a.reposition();if(a.tooltip&&a.tooltip.isVisible()){a.tooltip.setTarget(b.row)}}else {a.editingPlugin.cancelEdit()}},onViewItemRemove:function(b,d,e,c){if(!c.refreshing){var a=this.context;if(a&&b===a.record){this.editingPlugin.cancelEdit()}}},onViewScroll:function(){var a=this,h=a.editingPlugin.view.el,c=a.scrollingView,e=c.getScrollY(),d=c.getScrollX(),f=d!==a.lastScrollLeft,g=e!==a.lastScrollTop,b;a.lastScrollTop=e;a.lastScrollLeft=d;if(a.isVisible()){b=Ext.getDom(a.context.row);if(b&&h.contains(b)){if(g){a.context.row=b;a.reposition(null,!0);if(a.tooltip&&a.tooltip.isVisible()||a.hiddenTip){a.repositionTip()}a.syncEditorClip()}}else {a.setLocalY(-400)}}if(a.rendered&&f){a.syncFieldsHorizontalScroll()}},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingView.setScrollX(this.getFieldScrollerScrollX())},getFieldScrollerScrollX:function(){return this.fieldScroller.getScrollLeft()},onColumnResize:function(b,c){var a=this;if(a.rendered&&!a.editingPlugin.reconfiguring){a.onGridResize();a.onViewScroll();if(!b.isGroupHeader){a.syncFieldWidth(b);a.repositionIfVisible()}}},onColumnHide:function(a){if(!this.editingPlugin.reconfiguring&&!a.isGroupHeader){a.getEditor().hide();this.repositionIfVisible()}},onColumnShow:function(a){var b=this;if(b.rendered&&!b.editingPlugin.reconfiguring&&!a.isGroupHeader&&a.getEditor){a.getEditor().show();b.syncFieldWidth(a);if(!b.preventReposition){this.repositionIfVisible()}}},onColumnMove:function(b,f,a){var j=this,g,h=1,i,e,d,c=b.isLocked()?j.lockedColumnContainer:j.normalColumnContainer;if(b.isGroupHeader){Ext.suspendLayouts();b=b.getGridColumns();if(a>f){a--;h=0}this.addFieldsForColumn(b);for(g=0,i=b.length;g<i;g++,f+=h,a+=h){e=b[g].getEditor();d=c.items.indexOf(e);if(d===-1){c.insert(a,e)}else {if(d!=a){c.move(f,a)}}}Ext.resumeLayouts(!0)}else {if(a>f){a--}this.addFieldsForColumn(b);e=b.getEditor();d=c.items.indexOf(e);if(d===-1){c.insert(a,e)}else {if(d!=a){c.move(f,a)}}}},onColumnAdd:function(a){if(a.isGroupHeader){a=a.getGridColumns()}this.addFieldsForColumn(a);this.insertColumnEditor(a);this.preventReposition=!1},insertColumnEditor:function(a){var b=this,f=b.editingPlugin,g=f.grid,d,e,c;if(Ext.isArray(a)){for(c=0,e=a.length;c<e;c++){b.insertColumnEditor(a[c])}return}if(!a.getEditor){return}d=a.isLocked()?b.lockedColumnContainer:b.normalColumnContainer;d.insert(g.getColumnManager().getHeaderIndex(a),a.getEditor())},destroyColumnEditor:function(a){var e=this,c,d,b;if(Ext.isArray(a)){for(b=0,d=a.length;b<d;b++){e.removeColumnEditor(a[b])}return}if(a.hasEditor()&&(c=a.getEditor())){c.destroy()}},getFloatingButtons:function(){var b=this,a=b.floatingButtons;if(!a){b.floatingButtons=a=new Ext.grid.RowEditorButtons({rowEditor:b})}return a},repositionIfVisible:function(b){var a=this,c=a.view;if(b&&(b==a||!b.el.isAncestor(c.el))){return}if(a.isVisible()&&c.isVisible(!0)){a.reposition()}},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(c){var b=this,a;if(b.lockable){a=[b.lockedColumnContainer];a.push.apply(a,b.lockedColumnContainer.getRefItems(c));a.push(b.normalColumnContainer);a.push.apply(a,b.normalColumnContainer.getRefItems(c))}else {a=Ext.form.Panel.prototype.getRefItems.apply(this,arguments)}a.push.apply(a,b.getFloatingButtons().getRefItems(c));return a},reposition:function(d,j){var a=this,g=a.context,c=g&&g.row,h=0,i,f,e,b;if(c&&Ext.isElement(c)){e=a.syncButtonPosition(a.getScrollDelta());if(!a.editingPlugin.grid.rowLines){h=-parseInt(Ext.fly(c).first().getStyle('border-bottom-width'),10)}i=a.calculateLocalRowTop(c);f=a.calculateEditorTop(i)+h;if(!j){b=function(){if(e){a.scrollingViewEl.scrollBy(0,e,!0)}a.focusContextCell()}}a.syncEditorClip();if(d){a.animate(Ext.applyIf({to:{top:f},duration:d.duration||125,callback:b},d))}else {a.setLocalY(f);if(b){b()}}}},getScrollDelta:function(){var b=this,c=b.scrollingViewEl.dom,d=b.context,e=b.body,a=0;if(d){a=Ext.fly(d.row).getOffsetsTo(c)[1]-e.getBorderPadding().beforeY;if(a>0){a=Math.max(a+b.getHeight()+b.floatingButtons.getHeight()-c.clientHeight-e.getBorderWidth('b'),0)}}return a},calculateLocalRowTop:function(b){var a=this.editingPlugin.grid;return Ext.fly(b).getOffsetsTo(a)[1]-a.el.getBorderWidth('t')+this.lastScrollTop},calculateEditorTop:function(a){return a-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var c=this,b=c.editingPlugin.grid,a;if(c.lockable){a=b.lockedGrid.getWidth()+b.normalGrid.view.el.dom.clientWidth-1}else {a=b.view.el.dom.clientWidth}return a},getEditor:function(a){var b=this;if(Ext.isNumber(a)){return b.query('[isEditorComponent]')[a]}else {if(a.isHeader&&!a.isGroupHeader){return a.getEditor()}}},addFieldsForColumn:function(a,e){var b=this,d,f,c;if(Ext.isArray(a)){for(d=0,f=a.length;d<f;d++){b.addFieldsForColumn(a[d],e)}return}if(a.getEditor){c=a.getEditor(null,b.getDefaultFieldCfg());if(a.align==='right'){c.fieldStyle='text-align:right'}if(a.xtype==='actioncolumn'){c.fieldCls+=' x-form-action-col-field'}if(b.isVisible()&&b.context){if(c.is('displayfield')){b.renderColumnData(c,b.context.record,a)}else {c.suspendEvents();c.setValue(b.context.record.get(a.dataIndex));c.resumeEvents()}}if(a.hidden){b.onColumnHide(a)}else {if(a.rendered&&!e){b.onColumnShow(a)}}}},getDefaultFieldCfg:function(){return {xtype:'displayfield',getModelData:function(){return null}}},loadRecord:function(h){var b=this,c=b.getForm(),i=c.getFields(),g=i.items,d=g.length,a,e,f;for(a=0;a<d;a++){g[a].suspendEvents()}c.loadRecord(h);for(a=0;a<d;a++){g[a].resumeEvents()}if(c.hasInvalidField()===c.wasValid){delete c.wasValid}f=c.isValid();if(b.errorSummary){if(f){b.hideToolTip()}else {b.showToolTip()}}b.updateButton(f);e=b.query('>displayfield');d=e.length;for(a=0;a<d;a++){b.renderColumnData(e[a],h)}},renderColumnData:function(c,b,m){var l=this,n=l.editingPlugin.grid,e=n.headerCt,k=l.scrollingView,j=k.dataSource,a=m||c.column,d=b.get(a.dataIndex),g=a.editRenderer||a.renderer,f,i,h;if(g){f={tdCls:'',style:''};i=j.indexOf(b);h=e.getHeaderIndex(a);d=g.call(a.scope||e.ownerCt,d,f,b,i,h,j,k)}c.setRawValue(d);c.resetOriginalValue()},beforeEdit:function(){var a=this,b;if(a.isVisible()&&a.errorSummary&&!a.autoCancel&&a.isDirty()){b=a.getScrollDelta();if(b){a.scrollingViewEl.scrollBy(0,b,!0)}a.showToolTip();return !1}},startEdit:function(c,f){var a=this,b=a.editingPlugin,d=b.grid,e=a.context=b.context;if(!a.rendered){a.width=a.getClientWidth();a.render(d.el,d.el.dom.firstChild);a.getFloatingButtons().render(a.el);a.onViewScroll()}else {a.syncFieldsHorizontalScroll()}e.grid.getSelectionModel().select(c);if(a.isVisible()){a.reposition(!0)}else {a.show()}a.onGridResize();a.loadRecord(c)},syncButtonPosition:function(d){var a=this,b=a.getFloatingButtons(),c=a.scrollingView,e=c.el.dom,f=a.getScrollDelta()-(e.scrollHeight-c.getScrollY()-a.scrollingViewEl.dom.clientHeight);if(f>0){if(!a._buttonsOnTop){b.setButtonPosition('top');a._buttonsOnTop=!0}d=0}else {if(a._buttonsOnTop!==!1){b.setButtonPosition('bottom');a._buttonsOnTop=!1}}return d},syncEditorClip:function(){var a=this,b=a.getScrollDelta(),c;if(b){a.isOverflowing=!0;c=a.floatingButtons.getHeight();if(b>0){a.clipBottom(Math.max(a.getHeight()-b+c,-c))}else {if(b<0){b=Math.abs(b);a.clipTop(Math.max(b,0))}}}else {if(a.isOverflowing){a.clearClip();a.isOverflowing=!1}}},focusContextCell:function(){var b=this.context.column,a;if(!b.isDestroyed){a=this.getEditor(b);if(a&&a.focus){a.focus()}}},cancelEdit:function(){var e=this,c=e.getForm(),f=c.getFields(),b=f.items,d=b.length,a;e.hide();c.clearInvalid();for(a=0;a<d;a++){b[a].suspendEvents()}c.reset();for(a=0;a<d;a++){b[a].resumeEvents()}},completeEdit:function(){var a=this,b=a.getForm();if(!b.isValid()){return !1}b.updateRecord(a.context.record);a.hide();return !0},onShow:function(){var a=this;Ext.form.Panel.prototype.onShow.apply(this,arguments);if(a.needsSyncFieldWidths){a.suspendLayouts();a.syncAllFieldWidths();a.resumeLayouts(!0)}delete a.needsSyncFieldWidths;a.reposition()},onHide:function(){var a=this;Ext.form.Panel.prototype.onHide.apply(this,arguments);if(a.tooltip){a.hideToolTip()}if(a.context){a.context.view.focusRow(a.context.record);a.context=null}},isDirty:function(){var b=this,a=b.getForm();return a.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:'x-grid-row-editor-errors',title:this.errorsText,autoHide:!1,closable:!0,closeAction:'disable',anchor:'left',anchorToTarget:!1}))},hideToolTip:function(){var b=this,a=b.getToolTip();if(a.rendered){a.disable()}b.hiddenTip=!1},showToolTip:function(){var b=this,a=b.getToolTip();a.showAt([0,0]);a.update(b.getErrors());b.repositionTip();a.enable()},repositionTip:function(){var a=this,d=a.getToolTip(),k=a.context,c=Ext.get(k.row),b=a.scrollingViewEl,h=b.dom.clientHeight,e=a.lastScrollTop,g=e+h,j=c.getHeight(),f=c.getOffsetsTo(a.context.view.body)[1],i=f+j;if(i>e&&f<g){d.showAt(d.getAlignToXY(b,'tl-tr',[15,c.getOffsetsTo(b)[1]]));a.hiddenTip=!1}else {d.hide();a.hiddenTip=!0}},getErrors:function(){var a=this,b=[],d=a.query('>[isFormField]'),e=d.length,c;for(c=0;c<e;c++){b=b.concat(Ext.Array.map(d[c].getErrors(),a.createErrorListItem))}if(!b.length&&!a.autoCancel&&a.isDirty()){b[0]=a.createErrorListItem(a.dirtyText)}return '<ul class="'+Ext.plainListCls+'">'+b.join('')+'</ul>'},createErrorListItem:function(a){return '<li class="'+this.errorCls+'">'+a+'</li>'},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip);Ext.form.Panel.prototype.beforeDestroy.call(this)},clipBottom:function(a){this.el.setStyle('clip','rect(-1000px auto '+a+'px auto)')},clipTop:function(a){this.el.setStyle('clip','rect('+a+'px auto 1000px auto)')},clearClip:function(a){this.el.setStyle('clip',Ext.isIE8?'rect(-1000px auto 1000px auto)':'auto')}},0,['roweditor'],['component','box','container','panel','form','roweditor'],{'component':!0,'box':!0,'container':!0,'panel':!0,'form':!0,'roweditor':!0},['widget.roweditor'],0,[Ext.grid,'RowEditor'],0);Ext.define('ExtThemeNeptune.grid.RowEditor',{override:'Ext.grid.RowEditor',buttonUI:'default-toolbar'});Ext.cmd.derive('Ext.view.DropZone',Ext.dd.DropZone,{indicatorCls:'x-grid-drop-indicator',indicatorHtml:['<div class="','x-','grid-drop-indicator-left" role="presentation"></div>','<div class="x-grid-drop-indicator-right" role="presentation"></div>'].join(''),constructor:function(b){var a=this;Ext.apply(a,b);if(!a.ddGroup){a.ddGroup='view-dd-zone-'+a.view.id}Ext.dd.DropZone.prototype.constructor.call(this,a.view.el)},fireViewEvent:function(){var a=this,b;a.lock();b=a.view.fireEvent.apply(a.view,arguments);a.unlock();return b},getTargetFromEvent:function(h){var e=h.getTarget(this.view.getItemSelector()),d,b,c,a,g,f;if(!e){d=h.getY();for(a=0,b=this.view.getNodes(),g=b.length;a<g;a++){c=b[a];f=Ext.fly(c).getBox();if(d<=f.bottom){return c}}}return e},getIndicator:function(){var a=this;if(!a.indicator){a.indicator=new Ext.Component({ariaRole:'presentation',html:a.indicatorHtml,cls:a.indicatorCls,ownerCt:a.view,floating:!0,shadow:!1})}return a.indicator},getPosition:function(d,c){var e=d.getXY()[1],a=Ext.fly(c).getRegion(),b;if(a.bottom-e>=(a.bottom-a.top)/2){b='before'}else {b='after'}return b},containsRecordAtOffset:function(f,d,g){if(!d){return !1}var a=this.view,e=a.indexOf(d),c=a.getNode(e+g),b=c?a.getRecord(c):null;return b&&Ext.Array.contains(f,b)},positionIndicator:function(d,h,i){var a=this,g=a.view,c=a.getPosition(i,d),b=g.getRecord(d),e=h.records,f;if(!Ext.Array.contains(e,b)&&(c==='before'&&!a.containsRecordAtOffset(e,b,-1)||c==='after'&&!a.containsRecordAtOffset(e,b,1))){a.valid=!0;if(a.overRecord!==b||a.currentPosition!==c){f=Ext.fly(d).getY()-g.el.getY()-1;if(c==='after'){f+=Ext.fly(d).getHeight()}a.getIndicator().setWidth(Ext.fly(g.el).getWidth()).showAt(0,f);a.overRecord=b;a.currentPosition=c}}else {a.invalidateDrop()}},invalidateDrop:function(){if(this.valid){this.valid=!1;this.getIndicator().hide()}},onNodeOver:function(c,e,d,b){var a=this;if(!Ext.Array.contains(b.records,a.view.getRecord(c))){a.positionIndicator(c,b,d)}return a.valid?a.dropAllowed:a.dropNotAllowed},notifyOut:function(d,b,e,c){var a=this;Ext.dd.DropZone.prototype.notifyOut.apply(this,arguments);a.overRecord=a.currentPosition=null;a.valid=!1;if(a.indicator){a.indicator.hide()}},onContainerOver:function(f,e,d){var a=this,b=a.view,c=b.dataSource.getCount();if(c){a.positionIndicator(b.all.last(),d,e)}else {a.overRecord=a.currentPosition=null;a.getIndicator().setWidth(Ext.fly(b.el).getWidth()).showAt(0,0);a.valid=!0}return a.dropAllowed},onContainerDrop:function(b,c,a){return this.onNodeDrop(b,null,c,a)},onNodeDrop:function(f,g,h,e){var a=this,d=!1,c={wait:!1,processDrop:function(){a.invalidateDrop();a.handleNodeDrop(e,a.overRecord,a.currentPosition);d=!0;a.fireViewEvent('drop',f,e,a.overRecord,a.currentPosition)},cancelDrop:function(){a.invalidateDrop();d=!0}},b=!1;if(a.valid){b=a.fireViewEvent('beforedrop',f,e,a.overRecord,a.currentPosition,c);if(c.wait){return}if(b!==!1){if(!d){c.processDrop()}}}return b},destroy:function(){Ext.destroy(this.indicator);delete this.indicator;Ext.dd.DropZone.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.view,'DropZone'],0);Ext.cmd.derive('Ext.grid.ViewDropZone',Ext.view.DropZone,{indicatorHtml:'<div class="x-grid-drop-indicator-left" role="presentation"></div><div class="x-grid-drop-indicator-right" role="presentation"></div>',indicatorCls:'x-grid-drop-indicator',handleNodeDrop:function(a,h,g){var f=this.view,e=f.getStore(),d,c,b,i;if(a.copy){c=a.records;a.records=[];for(b=0,i=c.length;b<i;b++){a.records.push(c[b].copy())}}else {a.view.store.remove(a.records,a.view===f)}if(h&&g){d=e.indexOf(h);if(g!=='before'){d++}e.insert(d,a.records)}else {e.add(a.records)}f.getSelectionModel().select(a.records)}},0,0,0,0,0,0,[Ext.grid,'ViewDropZone'],0);Ext.cmd.derive('Ext.grid.column.Action',Ext.grid.column.Column,{alternateClassName:'Ext.grid.ActionColumn',stopSelection:!0,actionIdRe:new RegExp('x-action-col-(\\d+)'),altText:'',menuText:'<i>Actions</i>',sortable:!1,innerCls:'x-grid-cell-inner-action-col',actionIconCls:'x-action-col-icon',constructor:function(g){var a=this,b=Ext.apply({},g),d=b.items||a.items||[a],e,c,f;a.origRenderer=b.renderer||a.renderer;a.origScope=b.scope||a.scope;a.renderer=a.scope=b.renderer=b.scope=null;b.items=null;Ext.grid.column.Column.prototype.constructor.call(this,b);a.items=d;for(c=0,f=d.length;c<f;++c){if(d[c].getClass){e=!0;break}}if(a.origRenderer||e){a.hasCustomRenderer=!0}},initComponent:function(){var a=this;Ext.grid.column.Column.prototype.initComponent.call(this);if(a.sortable&&!a.dataIndex){a.sortable=!1}},defaultRenderer:function(q,j,l,m,k,p,n){var b=this,h='x-',d=b.origScope||b,i=b.items,o=i.length,c=0,a,g,e,f;g=Ext.isFunction(b.origRenderer)?b.origRenderer.apply(d,arguments)||'':'';j.tdCls+=' x-action-col-cell';for(;c<o;c++){a=i[c];e=a.disabled||(a.isDisabled?a.isDisabled.call(a.scope||d,n,m,k,a,l):!1);f=e?null:a.tooltip||(a.getTip?a.getTip.apply(a.scope||d,arguments):null);if(!a.hasActionConfiguration){a.stopSelection=b.stopSelection;a.disable=Ext.Function.bind(b.disableAction,b,[c],0);a.enable=Ext.Function.bind(b.enableAction,b,[c],0);a.hasActionConfiguration=!0}g+='<img role="button" alt="'+(a.altText||b.altText)+'" src="'+(a.icon||Ext.BLANK_IMAGE_URL)+'" class="'+b.actionIconCls+' '+h+'action-col-'+String(c)+' '+(e?h+'item-disabled':' ')+(Ext.isFunction(a.getClass)?a.getClass.apply(a.scope||d,arguments):a.iconCls||b.iconCls||'')+'"'+(f?' data-qtip="'+f+'"':'')+' />'}return g},updater:function(b,c){var a={};b.firstChild.innerHTML=Ext.grid.column.ActionColumn.prototype.defaultRenderer.call(this,c,a);Ext.fly(b).addCls(a.tdCls)},enableAction:function(a,c){var b=this;if(!a){a=0}else {if(!Ext.isNumber(a)){a=Ext.Array.indexOf(b.items,a)}}b.items[a].disabled=!1;b.up('tablepanel').el.select('.x-action-col-'+a).removeCls(b.disabledCls);if(!c){b.fireEvent('enable',b)}},disableAction:function(a,c){var b=this;if(!a){a=0}else {if(!Ext.isNumber(a)){a=Ext.Array.indexOf(b.items,a)}}b.items[a].disabled=!0;b.up('tablepanel').el.select('.x-action-col-'+a).addCls(b.disabledCls);if(!c){b.fireEvent('disable',b)}},destroy:function(){delete this.items;delete this.renderer;return Ext.grid.column.Column.prototype.destroy.apply(this,arguments)},processEvent:function(e,f,m,h,i,c,k,n){var b=this,d=c.getTarget(),g=e==='keydown'&&c.getKey(),l,a,j;if(e==='mousedown'){return !1}if(g&&!Ext.fly(d).findParent(f.getCellSelector())){d=Ext.fly(m).down('.x-action-col-icon',!0)}if(d&&(l=d.className.match(b.actionIdRe))){a=b.items[parseInt(l[1],10)];j=a.disabled||(a.isDisabled?a.isDisabled.call(a.scope||b.origScope||b,f,h,i,a,k):!1);if(a&&!j){if(e==='click'||(g===c.ENTER||g===c.SPACE)){Ext.callback(a.handler||b.handler,a.scope||b.origScope,[f,h,i,a,c,k,n],undefined,b);if(a.stopSelection!==!1){return !1}}}}return Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)},cascade:function(b,a){b.call(a||this,this)},getRefItems:function(){return []}},1,['actioncolumn'],['component','box','container','headercontainer','gridcolumn','actioncolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'actioncolumn':!0},['widget.actioncolumn'],0,[Ext.grid.column,'Action',Ext.grid,'ActionColumn'],0);Ext.cmd.derive('Ext.grid.column.Boolean',Ext.grid.column.Column,{alternateClassName:'Ext.grid.BooleanColumn',trueText:'true',falseText:'false',undefinedText:'&#160;',defaultRenderer:function(a){if(a===undefined){return this.undefinedText}if(!a||a==='false'){return this.falseText}return this.trueText},updater:function(b,a){b.firstChild.firstChild.data=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,a)}},0,['booleancolumn'],['component','box','container','headercontainer','gridcolumn','booleancolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'booleancolumn':!0},['widget.booleancolumn'],0,[Ext.grid.column,'Boolean',Ext.grid,'BooleanColumn'],0);Ext.cmd.derive('Ext.grid.column.Check',Ext.grid.column.Column,{alternateClassName:['Ext.ux.CheckColumn','Ext.grid.column.CheckColumn'],align:'center',stopSelection:!0,tdCls:'x-grid-cell-checkcolumn',innerCls:'x-grid-cell-inner-checkcolumn',clickTargetName:'el',constructor:function(){this.scope=this;Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},processEvent:function(g,k,j,c,i,b,f,l){var a=this,h=g==='keydown'&&b.getKey(),e=g=='mousedown';if(!a.disabled&&(e||(h==b.ENTER||h==b.SPACE))){var d=!a.isRecordChecked(f);if(a.fireEvent('beforecheckchange',a,c,d)!==!1){a.setRecordCheck(f,d,j,l,b);a.fireEvent('checkchange',a,c,d);if(e){b.stopEvent()}if(!a.stopSelection){k.selModel.selectByPosition({row:c,column:i})}return !1}else {return !a.stopSelection}}else {return Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)}},onEnable:function(){Ext.grid.column.Column.prototype.onEnable.apply(this,arguments);this._setDisabled(!1)},onDisable:function(){this._setDisabled(!0)},_setDisabled:function(d){var b=this,c=b.disabledCls,a;a=b.up('tablepanel').el.select(b.getCellSelector());if(d){a.addCls(c)}else {a.removeCls(c)}},defaultRenderer:function(d,c){var a='x-',b=a+'grid-checkcolumn';if(this.disabled){c.tdCls+=' '+this.disabledCls}if(d){b+=' '+a+'grid-checkcolumn-checked'}return '<img class="'+b+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'},isRecordChecked:function(a){var b=this.property;if(b){return a[b]}return a.get(this.dataIndex)},setRecordCheck:function(c,a,e,f,g){var b=this,d=b.property;if(d){c[d]=a;b.updater(e,a)}else {c.set(b.dataIndex,a)}},updater:function(b,c){var a={};b.firstChild.innerHTML=this.defaultRenderer(c,a);Ext.fly(b).addCls(a.tdCls)}},1,['checkcolumn'],['component','box','container','headercontainer','gridcolumn','checkcolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'checkcolumn':!0},['widget.checkcolumn'],0,[Ext.grid.column,'Check',Ext.ux,'CheckColumn',Ext.grid.column,'CheckColumn'],0);Ext.cmd.derive('Ext.grid.column.Date',Ext.grid.column.Column,{alternateClassName:'Ext.grid.DateColumn',initComponent:function(){if(!this.format){this.format=Ext.Date.defaultFormat}Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(a){return Ext.util.Format.date(a,this.format)},updater:function(b,a){b.firstChild.innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,a)}},0,['datecolumn'],['component','box','container','headercontainer','gridcolumn','datecolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'datecolumn':!0},['widget.datecolumn'],0,[Ext.grid.column,'Date',Ext.grid,'DateColumn'],0);Ext.cmd.derive('Ext.grid.column.Number',Ext.grid.column.Column,{alternateClassName:'Ext.grid.NumberColumn',format:'0,000.00',defaultRenderer:function(a){return Ext.util.Format.number(a,this.format)},updater:function(b,a){b.firstChild.innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,a)}},0,['numbercolumn'],['component','box','container','headercontainer','gridcolumn','numbercolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'numbercolumn':!0},['widget.numbercolumn'],0,[Ext.grid.column,'Number',Ext.grid,'NumberColumn'],0);Ext.cmd.derive('Ext.grid.column.RowNumberer',Ext.grid.column.Column,{alternateClassName:'Ext.grid.RowNumberer',text:'&#160;',width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:'right',constructor:function(b){var a=this;a.width=a.width;Ext.grid.column.Column.prototype.constructor.apply(this,arguments);a.sortable=!1;a.scope=a},beforeRender:function(){var a=this.up('tablepanel').view.findFeature('rowbody');Ext.grid.column.Column.prototype.beforeRender.apply(this,arguments);if(a&&this.ownerCt.items.indexOf(this)===1){a.colSpanDecrement=a.colSpanDecrement+1;this.rowspan=2}},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:'',cls:'x-row-numberer',tdCls:'x-grid-cell-row-numberer x-grid-cell-special',innerCls:'x-grid-cell-inner-row-numberer',rowspan:undefined,defaultRenderer:function(j,e,f,i,h,a,g){var b=this.rowspan,d=a.currentPage,c=g.store.indexOf(f);if(b){e.tdAttr='rowspan="'+b+'"'}if(d>1){c+=(d-1)*a.pageSize}return c+1},updater:function(b,a){b.firstChild.innerHTML=Ext.grid.column.RowNumberer.prototype.defaultRenderer.call(this,a)}},1,['rownumberer'],['component','box','container','headercontainer','gridcolumn','rownumberer'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'rownumberer':!0},['widget.rownumberer'],0,[Ext.grid.column,'RowNumberer',Ext.grid,'RowNumberer'],0);Ext.define('ExtThemeNeptune.grid.column.RowNumberer',{override:'Ext.grid.column.RowNumberer',width:25});Ext.cmd.derive('Ext.grid.column.Template',Ext.grid.column.Column,{alternateClassName:'Ext.grid.TemplateColumn',initComponent:function(){var a=this;a.tpl=!Ext.isPrimitive(a.tpl)&&a.tpl.compile?a.tpl:new Ext.XTemplate(a.tpl);a.hasCustomRenderer=!0;Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(c,d,a){var b=Ext.apply({},a.data,a.getAssociatedData());return this.tpl.apply(b)},updater:function(b,a){b.firstChild.innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,a)}},0,['templatecolumn'],['component','box','container','headercontainer','gridcolumn','templatecolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'templatecolumn':!0},['widget.templatecolumn'],0,[Ext.grid.column,'Template',Ext.grid,'TemplateColumn'],0);Ext.cmd.derive('Ext.grid.column.Widget',Ext.grid.column.Column,{sortable:!1,stopSelection:!0,preventUpdate:!0,processEvent:function(d,e,i,f,g,b,h,j){var c=e.innerSelector,a;if(this.stopSelection&&d==='click'){a=b.getTarget(c);if(a&&a!==b.target){return !1}}},beforeRender:function(){var a=this,b;a.liveWidgets={};a.cachedStyles={};a.freeWidgetStack=[];a.listenerScopeFn=function(b){return a.resolveListenerScope(b)};b=a.getWidget();a.tdCls=b.getTdCls();a.setupViewListeners(a.getView());Ext.grid.column.Column.prototype.beforeRender.apply(this,arguments)},setupViewListeners:function(b){var a=this;a.viewListeners=b.on({refresh:a.onViewRefresh,itemupdate:a.onItemUpdate,itemadd:a.onItemAdd,itemremove:a.onItemRemove,scope:a,destroyable:!0})},defaultRenderer:Ext.emptyFn,updater:function(e,d,c){var b=this,a=b.liveWidgets[c.internalId];if(a&&a.defaultBindProperty&&b.dataIndex){a.setConfig(a.defaultBindProperty,c.get(b.dataIndex))}},onResize:function(c){var a=this,b=a.liveWidgets,e=a.getView(),d=e.el.down(a.getCellInnerSelector()),f;if(e.all.getCount()){c-=parseInt(a.getCachedStyle(d,'padding-left'),10)+parseInt(a.getCachedStyle(d,'padding-right'),10);for(f in b){b[f].setWidth(c)}}},onAdded:function(){var a;Ext.grid.column.Column.prototype.onAdded.apply(this,arguments);a=this.getView();if(a){this.setupViewListeners(a)}},onRemoved:function(f){var e=this,c=e.liveWidgets,b=e.viewListeners,d,a;if(b){b.destroy();this.viewListeners=null}if(!f){for(d in c){a=c[d];Ext.detachedBodyEl.dom.appendChild((a.el||a.element).dom)}}Ext.grid.column.Column.prototype.onRemoved.apply(this,arguments)},onViewRefresh:function(l,k){var b=this,j=l.all,o=!!b.onWidgetAttach,c,a,m,i,h,g,f,d,n,e=b.liveWidgets;b.liveWidgets={};if(!b.hidden){Ext.suspendLayouts();for(g=j.startIndex,f=0;g<=j.endIndex;g++,f++){d=k[f];if(d.isNonData){continue}h=d.internalId;c=l.getRow(j.item(g)).cells[b.getVisibleIndex()].firstChild;a=b.liveWidgets[h]=e[h]||b.getWidget();delete e[h];if(i===undefined){i=b.lastBox.width-parseInt(b.getCachedStyle(c,'padding-left'),10)-parseInt(b.getCachedStyle(c,'padding-right'),10)}Ext.fly(c).empty();if(m=a.el||a.element){c.appendChild(m.dom);a.setWidth(i)}else {a.width=i;a.render(c)}if(a.defaultBindProperty&&b.dataIndex){a.setConfig(a.defaultBindProperty,k[f].get(b.dataIndex))}a.$widgetRecord=d;a.$widgetColumn=b;if(o){b.onWidgetAttach(a,d)}}Ext.resumeLayouts(!0)}for(n in e){a=e[n];a.$widgetRecord=a.$widgetColumn=null;b.freeWidgetStack.unshift(a);Ext.detachedBodyEl.dom.appendChild((a.el||a.element).dom)}},onItemUpdate:function(c,d,e){var b=this,a=b.liveWidgets[c.internalId];if(a&&a.defaultBindProperty&&b.dataIndex){a.setConfig(a.defaultBindProperty,c.get(b.dataIndex))}},onItemAdd:function(h,n,k){var a=this,l=a.getView(),j=!!a.onWidgetAttach,m=h.length,e,c,g,d,b,i,f;if(!a.hidden){for(e=0;e<m;e++){c=h[e];if(c.isNonData){continue}g=l.getRowFromItem(k[e]);if(g){d=g.cells[a.getVisibleIndex()].firstChild;if(!f){f=a.lastBox.width-parseInt(a.getCachedStyle(d,'padding-left'),10)-parseInt(a.getCachedStyle(d,'padding-right'),10)}b=a.liveWidgets[c.internalId]=a.getWidget();Ext.fly(d).empty();if(i=b.el||b.element){d.appendChild(i.dom);b.setWidth(f)}else {b.width=f;b.render(d)}if(b.defaultBindProperty&&a.dataIndex){b.setConfig(b.defaultBindProperty,c.get(a.dataIndex))}b.$widgetRecord=c;b.$widgetColumn=a;if(j){a.onWidgetAttach(b,c)}}}}},onItemRemove:function(b,d,e){var c=this,a;if(b&&(a=c.liveWidgets[b.internalId])){delete c.liveWidgets[b.internalId];c.freeWidgetStack.unshift(a);a.$widgetRecord=a.$widgetColumn=null;Ext.detachedBodyEl.dom.appendChild((a.el||a.element).dom)}},onDestroy:function(){var b=this,d=b.liveWidgets,f=b.freeWidgetStack,e,a,c,g;for(e in d){a=d[e];a.$widgetRecord=a.$widgetColumn=null;delete a.getWidgetRecord;delete a.getWidgetColumn;a.destroy()}for(c=0;c<g;++c){f[c].destroy()}b.freeWidgetStack=b.liveWidgets=null;Ext.grid.column.Column.prototype.onDestroy.call(this)},getCachedStyle:function(b,a){return this.cachedStyles[a]||(this.cachedStyles[a]=Ext.fly(b).getStyle(a))},getWidget:function(){var b=this,a=b.freeWidgetStack.pop();if(!a){a=Ext.widget(b.widget);a.resolveListenerScope=b.listenerScopeFn;a.getWidgetRecord=b.widgetRecordDecorator;a.getWidgetColumn=b.widgetColumnDecorator;a.dataIndex=b.dataIndex;a.measurer=b}return a},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}},0,['widgetcolumn'],['component','box','container','headercontainer','gridcolumn','widgetcolumn'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'widgetcolumn':!0},['widget.widgetcolumn'],0,[Ext.grid.column,'Widget'],0);Ext.cmd.derive('Ext.grid.feature.Feature',Ext.util.Observable,{wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(a){this.initialConfig=a;Ext.util.Observable.prototype.constructor.apply(this,arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(b,c,a,d){return [b,c,a,d]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}},1,0,0,0,['feature.feature'],0,[Ext.grid.feature,'Feature'],0);Ext.cmd.derive('Ext.grid.feature.AbstractSummary',Ext.grid.feature.Feature,{summaryRowCls:'x-grid-row-summary',summaryRowSelector:'.x-grid-row-summary',readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(c,a,b){if(a.record.isSummary&&this.summaryFeature.showSummaryRow){this.summaryFeature.outputSummaryRecord(a.record,a,c,b)}else {this.nextTpl.applyOut(a,c,b)}},priority:1000},showSummaryRow:!0,init:function(){var a=this;a.view.summaryFeature=a;a.rowTpl=a.view.self.prototype.rowTpl;a.view.addRowTpl(a.summaryRowTpl).summaryFeature=a;a.summaryData={};a.groupInfo={};if(!a.summaryTableCls){a.summaryTableCls='x-grid-item'}},toggleSummaryRow:function(a){this.showSummaryRow=arguments.length===1?!!a:!this.showSummaryRow},createRenderer:function(a,b){var e=this,c=b.ownerGroup,f=c?e.summaryData[c]:e.summaryData,d=a.dataIndex||a.id;return function(){return a.summaryRenderer?a.summaryRenderer(b.data[d],f,d):c?b.data[d]:b.summaryValue}},outputSummaryRecord:function(e,f,j){var c=f.view,i=c.rowValues,d=f.columns||c.headerCt.getVisibleGridColumns(),g=d.length,b,a,h={view:c,record:e,rowStyle:'',rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:c.getRowId(e),columns:d};for(b=0;b<g;b++){a=d[b];a.savedRenderer=a.renderer;if(a.summaryType||a.summaryRenderer){a.renderer=this.createRenderer(a,e)}else {a.renderer=Ext.emptyFn}if(!a.dataIndex){a.dataIndex=a.id}}c.rowValues=h;c.self.prototype.rowTpl.applyOut(h,j,parent);c.rowValues=i;for(b=0;b<g;b++){a=d[b];a.renderer=a.savedRenderer;a.savedRenderer=null}},getSummary:function(f,c,a,e){var d=!!e,b=d?e:f;if(c){if(Ext.isFunction(c)){if(d){return b.aggregate(a,c)}else {return b.aggregate(c,null,!1,[a])}}switch(c){case 'count':return b.count(a);case 'min':return b.min(a);case 'max':return b.max(a);case 'sum':return b.sum(a);case 'average':return b.average(a);default:return '';}}},generateSummaryData:function(){var a=this,m=a.view.store,l=m.getGroups().items,b=m.getProxy().getReader(),j=l.length,q=a.getGroupField(),n={},p=a.lockingPartner,c,d,i,o,g,k,f,h,e;if(a.remoteRoot&&b.rawData){k=!0;h={};o=b.getRootProperty();b.setRootProperty(a.remoteRoot);b.buildExtractors(!0);g=b.getRoot(b.rawData)||[];j=g.length;for(c=0;c<j;++c){f=b.extractRecordData(g[c],a.readDataOptions);h[f[q]]=f}b.setRootProperty(o);b.buildExtractors(!0)}for(c=0;c<j;++c){d=l[c];e=a.getGroupInfo(d);if(k||e.lastGeneration!==d.generation){i=a.populateRecord(d,e,h);if(!p||a.view.ownerCt===a.view.ownerCt.ownerLockable.normalGrid){e.lastGeneration=d.generation}}else {i=a.getAggregateRecord(d)}n[d.getGroupKey()]=i}return n},setSummaryData:function(c,d,b,a){if(a){if(!this.summaryData[a]){this.summaryData[a]={}}this.summaryData[a][d]=c.summaryValue=b}else {this.summaryData[d]=c.summaryValue=b}},populateRecord:function(k,p,h){var b=this,n=b.grid.ownerLockable?b.grid.ownerLockable.view:b.view,m=b.view.getStore(),a=b.getAggregateRecord(k),l=n.headerCt.getGridColumns(),o=l.length,j=k.getGroupKey(),f,d,g,c,i,e;a.beginEdit();if(h){f=h[j];for(d in f){if(f.hasOwnProperty(d)){if(d!==a.idProperty){a.set(d,f[d])}}}}for(g=0;g<o;++g){c=l[g];i=c.dataIndex||c.id;if(!h){e=b.getSummary(m,c.summaryType,i,k);a.set(i,e)}else {e=a.get(c.dataIndex)}b.setSummaryData(a,c.id,e,j)}a.ownerGroup=j;a.endEdit(!0);a.commit();return a},getGroupInfo:function(e){var b=this.groupInfo,d=e.getGroupKey(),a=b[d],c;if(!a){c=this.view.getStore().getModel();a=b[d]={lastGeneration:null,aggregateRecord:new c()}}return a},getAggregateRecord:function(a,c){var d=this,b;if(c===!0||a.dirty||!a.aggregateRecord){b=new (d.view.store.getModel())();a.aggregateRecord=b;b.isNonData=b.isSummary=!0}return a.aggregateRecord}},0,0,0,0,['feature.abstractsummary'],0,[Ext.grid.feature,'AbstractSummary'],0);Ext.cmd.derive('Ext.grid.feature.GroupStore',Ext.util.Observable,{isStore:!0,defaultViewSize:100,isFeatureStore:!0,constructor:function(b,c){var a=this;Ext.util.Observable.prototype.constructor.call(this);a.groupingFeature=b;a.bindStore(c)},bindStore:function(b){var a=this;if(a.store){Ext.destroy(a.storeListeners);a.store=null}if(b){a.storeListeners=b.on({groupchange:a.onGroupChange,remove:a.onRemove,add:a.onAdd,update:a.onUpdate,refresh:a.onRefresh,clear:a.onClear,scope:a,destroyable:!0});a.store=b;a.processStore(b)}},processStore:function(e){var b=this,i=e.getGroups(),l=i?i.length:0,h,a,f,c=b.data,k=b.groupingFeature.groupCache,n=b.groupingFeature.clearGroupCache(),m=b.groupingFeature.startCollapsed,o=e.getGroupField(),d,g,j;if(c){c.clear()}else {c=b.data=new Ext.util.Collection({rootProperty:'data',extraKeys:{byInternalId:{property:'internalId',rootProperty:''}}})}if(e.getCount()){b.groupingFeature.startCollapsed=!1;if(l>0){for(h=0;h<l;h++){a=i.getAt(h);d=a.getGroupKey();n[d]=a;a.isCollapsed=m||k[d]&&k[d].isCollapsed;if(a.isCollapsed){j=e.getModel();g={};g[j.idProperty]='group-'+d+'-placeholder';g[o]=d;a.placeholder=f=new j(g);f.isNonData=f.isCollapsedPlaceholder=!0;c.add(f)}else {c.insert(b.data.length,a.items)}}}else {c.add(e.getRange())}}},isCollapsed:function(a){return this.groupingFeature.groupCache[a].isCollapsed},isInCollapsedGroup:function(c){var b=this.store,a;if(b.isGrouped()&&(a=this.groupingFeature.groupCache[c.get(b.getGroupField())])){return a.isCollapsed||!1}return !1},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(b,a){return a<this.getCount()},getRange:function(d,b,a){var c=this.data.getRange(d,Ext.isNumber(b)?b+1:b);if(a&&a.callback){a.callback.call(a.scope||this,c,d,b,a)}return c},getAt:function(a){return this.data.getAt(a)},getById:function(a){return this.store.getById(a)},getByInternalId:function(a){return this.data.byInternalId.get(a)||null},expandGroup:function(a){var b=this,c,d;if(typeof a==='string'){a=b.groupingFeature.groupCache[a]}if(a){d=a.items}if(d.length&&(c=b.data.indexOf(a.placeholder))!==-1){a.isCollapsed=!1;b.isExpandingOrCollapsing=1;b.data.removeAt(c);b.data.insert(c,a.items);b.fireEvent('replace',b,c,[a.placeholder],a.items);b.fireEvent('groupexpand',b,a);b.isExpandingOrCollapsing=0}},collapseGroup:function(b){var a=this,d,e,f,c;if(typeof b==='string'){b=a.groupingFeature.groupCache[b]}if(b){c=b.items}if(c&&(f=c.length)&&(d=a.data.indexOf(c[0]))!==-1){b.isCollapsed=!0;a.isExpandingOrCollapsing=2;a.data.removeAt(d,f);a.data.insert(d,e=a.getGroupPlaceholder(b));a.fireEvent('replace',a,d,c,[e]);a.fireEvent('groupcollapse',a,b);a.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(a){if(!a.placeholder){var e=this.store,d=e.getModel(),c={},f=a.getGroupKey(),b;c[d.idProperty]='group-'+f+'-placeholder';c[e.getGroupField()]=f;b=a.placeholder=new d(c);b.isNonData=b.isCollapsedPlaceholder=!0}return a.placeholder},indexOf:function(a){if(!a.isCollapsedPlaceholder){return this.data.indexOf(a)}return -1},indexOfTotal:function(a){return this.store.indexOf(a)},onRefresh:function(a){this.processStore(this.store);this.fireEvent('refresh',this)},onRemove:function(d,a,c,b){this.processStore(this.store);this.fireEvent('refresh',this)},onClear:function(c,b,a){this.processStore(this.store);this.fireEvent('clear',this)},onAdd:function(c,a,b){this.processStore(this.store);this.fireEvent('replace',this,this.indexOf(a[0]),[],a)},onUpdate:function(i,b,h,c){var a=this,d,e,f,g;if(i.isGrouped()){d=b.group=a.groupingFeature.getRecordGroup(b);if(c&&Ext.Array.contains(c,a.groupingFeature.getGroupField())){return a.onRefresh(a.store)}if(d.isCollapsed){a.fireEvent('update',a,d.placeholder)}else {Ext.suspendLayouts();a.fireEvent('update',a,b,h,c);g=d.items;e=g[0];f=g[g.length-1];if(e!==b){e.group=d;a.fireEvent('update',a,e,'edit',c);delete e.group}if(f!==b&&f!==e&&a.groupingFeature.showSummaryRow){f.group=d;a.fireEvent('update',a,f,'edit',c);delete f.group}Ext.resumeLayouts(!0)}delete b.group}else {a.fireEvent('update',a,b,h,c)}},onGroupChange:function(a){this.fireEvent('groupchange',a)}},1,0,0,0,0,0,[Ext.grid.feature,'GroupStore'],0);Ext.cmd.derive('Ext.grid.feature.Grouping',Ext.grid.feature.Feature,{eventPrefix:'group',groupCls:'x-grid-group-hd',eventSelector:'.x-grid-group-hd',refreshData:{},groupInfo:{},wrapsItem:!0,groupHeaderTpl:'{columnName}: {name}',depthToIndent:17,collapsedCls:'x-grid-group-collapsed',hdCollapsedCls:'x-grid-group-hd-collapsed',hdNotCollapsibleCls:'x-grid-group-hd-not-collapsible',collapsibleCls:'x-grid-group-hd-collapsible',ctCls:'x-group-hd-container',groupByText:'Group by this field',showGroupsText:'Show in groups',hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,expandTip:'Click to expand. CTRL key collapses all others',collapseTip:'Click to collapse. CTRL/click collapses all others',showSummaryRow:!1,outerTpl:['{%','if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {','this.groupingFeature.setup(values.rows, values.view.rowValues);','}','this.nextTpl.applyOut(values, out, parent);','if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {','this.groupingFeature.cleanup(values.rows, values.view.rowValues);','}','%}',{priority:200}],groupRowTpl:['{%','var me = this.groupingFeature,','colspan = "colspan=" + values.columns.length;','if (me.disabled || parent.rows.length === 1 && parent.rows[0].isSummary) {','values.needsWrap = false;','} else {','me.setupRowData(values.record, values.rowIndex, values);','}','%}','<tpl if="needsWrap">','<tpl if="isFirstRow">','{% values.view.renderColumnSizer(values, out); %}','<tr data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{groupHeaderCls}">','<td class="{[me.ctCls]}" {[colspan]}>','{%','var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";','%}','<div id="{groupId}" class="','x-','grid-group-hd {collapsibleCls}" tabIndex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="','x-','grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr}>','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}','</div>','</div>','</td>','</tr>','</tpl>','<tpl if="!isCollapsedGroup">','{%','values.itemClasses.length = 0;','this.nextTpl.applyOut(values, out, parent);','%}','</tpl>','<tpl if="summaryRecord">','{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}','</tpl>','<tpl else>','{%this.nextTpl.applyOut(values, out, parent);%}','</tpl>',{priority:200,syncRowHeights:function(f,e){f=Ext.fly(f,'syncDest');e=Ext.fly(e,'sycSrc');var i=this.owner,h=f.down(i.eventSelector,!0),g,d=f.down(i.summaryRowSelector,!0),c,b,a;if(h&&(g=e.down(i.eventSelector,!0))){h.style.height=g.style.height='';if((b=h.offsetHeight)>(a=g.offsetHeight)){Ext.fly(g).setHeight(b)}else {if(a>b){Ext.fly(h).setHeight(a)}}}if(d&&(c=e.down(i.summaryRowSelector,!0))){d.style.height=c.style.height='';if((b=d.offsetHeight)>(a=c.offsetHeight)){Ext.fly(c).setHeight(b)}else {if(a>b){Ext.fly(d).setHeight(a)}}}},syncContent:function(b,a,f){b=Ext.fly(b,'syncDest');a=Ext.fly(a,'sycSrc');var c=this.owner,h=b.down(c.eventSelector,!0),g=a.down(c.eventSelector,!0),e=b.down(c.summaryRowSelector,!0),d=a.down(c.summaryRowSelector,!0);if(h&&g){Ext.fly(h).syncContent(g)}if(e&&d){if(f){this.groupingFeature.view.updateColumns(e,d,f)}else {Ext.fly(e).syncContent(d)}}}}],constructor:function(){this.groupCache={};Ext.grid.feature.Feature.prototype.constructor.apply(this,arguments)},init:function(e){var a=this,b=a.view,d=b.getStore(),c;if(d.getGroupField()){b.isGrouping=!0}if(a.lockingPartner&&a.lockingPartner.groupCache){a.groupCache=a.lockingPartner.groupCache}a.mixins.summary.init.call(a);Ext.grid.feature.Feature.prototype.init.apply(this,arguments);b.headerCt.on({columnhide:a.onColumnHideShow,columnshow:a.onColumnHideShow,columnmove:a.onColumnMove,scope:a});b.addTpl(Ext.XTemplate.getTpl(a,'outerTpl')).groupingFeature=a;b.addRowTpl(Ext.XTemplate.getTpl(a,'groupRowTpl')).groupingFeature=a;b.preserveScrollOnRefresh=!0;if(d.isBufferedStore){a.collapsible=!1}else {c=a.lockingPartner;if(c&&c.dataSource){a.dataSource=b.dataSource=c.dataSource}else {a.dataSource=b.dataSource=new Ext.grid.feature.GroupStore(a,d)}}e.on({reconfigure:a.onReconfigure,scope:a});b.on({afterrender:a.afterViewRender,scope:a,single:!0});a.storeListeners=b.store.on({groupchange:a.onGroupChange,scope:a,destroyable:!0})},indexOf:function(a){return this.dataSource.indexOf(a)},isInCollapsedGroup:function(b){var a,c=this.view.getStore();if(c.isGrouped()&&(a=this.getGroup(b))){return a.isCollapsed||!1}return !1},clearGroupCache:function(){var a=this,b=a.groupCache={};if(a.lockingPartner){a.lockingPartner.groupCache=b}return b},vetoEvent:function(c,d,b,a){if(a.type!=='mouseover'&&a.type!=='mouseout'&&a.type!=='mouseenter'&&a.type!=='mouseleave'&&a.getTarget(this.eventSelector)){return !1}},enable:function(){var a=this,c=a.view,d=c.getStore(),b;c.isGrouping=!0;Ext.grid.feature.Feature.prototype.enable.call(this);if(a.lastGrouper){d.group(a.lastGrouper);a.lastGrouper=null}b=a.view.headerCt.getMenu().down('#groupToggleMenuItem');if(b){b.setChecked(!0,!0)}},disable:function(){var b=this,e=b.view,d=e.getStore(),a,c=d.getGrouper();e.isGrouping=!1;Ext.grid.feature.Feature.prototype.disable.call(this);if(c){b.lastGrouper=c;d.clearGrouping()}a=b.view.headerCt.getMenu().down('#groupToggleMenuItem');if(a){a.setChecked(!1,!0)}},afterViewRender:function(){var a=this,b=a.view;b.on({scope:a,groupclick:a.onGroupClick});if(a.enableGroupingMenu){a.injectGroupingMenu()}a.pruneGroupedHeader();a.lastGrouper=a.view.getStore().getGrouper();if(a.disabled){a.disable()}},injectGroupingMenu:function(){var a=this,b=a.view.headerCt;b.showMenuBy=a.showMenuBy;b.getMenuItems=a.getMenuItems()},onColumnHideShow:function(k,l){var d=this.view,j=d.headerCt,g=j.getMenu(),b=g.activeHeader,e=g.down('#groupMenuItem'),f,i=this.grid.getVisibleColumnManager().getColumns().length,c,h,a;if(b&&e){f=b.groupable===!1||b.dataIndex==null||this.view.headerCt.getVisibleGridColumns().length<2?'disable':'enable';e[f]()}if(d.rendered){c=d.el.query('.'+this.ctCls);for(a=0,h=c.length;a<h;++a){c[a].colSpan=i}}},onColumnMove:function(){var g=this,a=g.view.getStore(),b,d,c,e,f;if(a.isGrouped()){b=g.groupCache;Ext.suspendLayouts();for(d in b){if(b.hasOwnProperty(d)){c=b[d];e=c.items[0];f=c.items[c.items.length-1];a.fireEvent('update',a,e,'edit',null);if(f!==e&&g.showSummaryRow){a.fireEvent('update',a,f,'edit',null)}}}Ext.resumeLayouts(!0)}},showMenuBy:function(g,c){var d=this.getMenu(),e=d.down('#groupMenuItem'),f=c.groupable===!1||c.dataIndex==null||this.view.headerCt.getVisibleGridColumns().length<2?'disable':'enable',a=d.down('#groupToggleMenuItem'),b=this.view.store.isGrouped();e[f]();if(a){a.setChecked(b,!0);a[b?'enable':'disable']()}Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var a=this,e=a.groupByText,f=a.disabled||!a.getGroupField(),c=a.showGroupsText,b=a.enableNoGroups,d=a.view.headerCt.getMenuItems;return function(){var g=d.call(this);g.push('-',{iconCls:'x-group-by-icon',itemId:'groupMenuItem',text:e,handler:a.onGroupMenuItemClick,scope:a});if(b){g.push({itemId:'groupToggleMenuItem',text:c,checked:!f,checkHandler:a.onGroupToggleMenuItemClick,scope:a})}return g}},onGroupMenuItemClick:function(b,g){var a=this,d=b.parentMenu,f=d.activeHeader,e=a.view,c=e.store;if(a.disabled){a.lastGrouper=null;a.block();a.enable();a.unblock()}c.group(f.dataIndex);a.pruneGroupedHeader()},block:function(a){this.blockRefresh=this.view.blockRefresh=!0;if(this.lockingPartner&&!a){this.lockingPartner.block(!0)}},unblock:function(a){this.blockRefresh=this.view.blockRefresh=!1;if(this.lockingPartner&&!a){this.lockingPartner.unblock(!0)}},onGroupToggleMenuItemClick:function(b,a){this[a?'enable':'disable']()},pruneGroupedHeader:function(){var a=this,b=a.getGroupedHeader();if(a.hideGroupedHeader&&b){Ext.suspendLayouts();if(a.prunedHeader&&a.prunedHeader!==b){a.prunedHeader.show()}a.prunedHeader=b;if(b.rendered){b.hide()}Ext.resumeLayouts(!0)}},getHeaderNode:function(a){return document.getElementById(this.createGroupId(a))},getGroup:function(a){if(a.isModel){a=a.get(this.view.getStore().getGroupField())}var c=this.groupCache,b=c[a];if(!b){b=c[a]={isCollapsed:!1}}return b},isExpanded:function(a){return !this.getGroup(a).isCollapsed},expand:function(a,b){this.doCollapseExpand(!1,a,b)},expandAll:function(){var c=this,b=c.groupCache,a,d=c.lockingPartner;for(a in b){if(b.hasOwnProperty(a)){b[a].isCollapsed=!1}}Ext.suspendLayouts();c.dataSource.onRefresh();Ext.resumeLayouts(!0);for(a in b){if(b.hasOwnProperty(a)){c.afterCollapseExpand(!1,a);if(d){d.afterCollapseExpand(!1,a)}}}},collapse:function(a,b){this.doCollapseExpand(!0,a,b)},isAllCollapsed:function(){var c=this,a=c.groupCache,b;for(b in a){if(a.hasOwnProperty(b)){if(!a[b].isCollapsed){return !1}}}return !0},isAllExpanded:function(){var c=this,a=c.groupCache,b;for(b in a){if(a.hasOwnProperty(b)){if(a[b].isCollapsed){return !1}}}return !0},collapseAll:function(){var d=this,c=d.groupCache,a,b=d.lockingPartner;for(a in c){if(c.hasOwnProperty(a)){c[a].isCollapsed=!0}}Ext.suspendLayouts();d.dataSource.onRefresh();if(b&&!b.isAllCollapsed()){b.collapseAll()}Ext.resumeLayouts(!0);for(a in c){if(c.hasOwnProperty(a)){d.afterCollapseExpand(!0,a);if(b){b.afterCollapseExpand(!0,a)}}}},doCollapseExpand:function(b,c,f){var a=this,e=a.lockingPartner,d=a.groupCache[c];if(d.isCollapsed!==b){Ext.suspendLayouts();if(b){a.dataSource.collapseGroup(d)}else {a.dataSource.expandGroup(d)}Ext.resumeLayouts(!0);a.afterCollapseExpand(b,c,f);if(e){e.afterCollapseExpand(b,c,!1)}}},afterCollapseExpand:function(e,c,f){var d=this,a=d.view,b;b=d.getHeaderNode(c);a.fireEvent(e?'groupcollapse':'groupexpand',a,b,c);if(f){a.scrollElIntoView(Ext.fly(b).up(a.getItemSelector()),!1,!0)}},onGroupChange:function(e,c){var b=this,a=b.grid.ownerCt,d=b.view;if(!c){if(a&&a.lockable){a.view.refresh()}else {d.refresh()}}else {b.lastGrouper=c}},getMenuItem:function(c){var b=this.view,a=b.headerCt.down('gridcolumn[dataIndex='+c+']'),d=b.headerCt.getMenu();return a?d.down('menuitem[headerId='+a.id+']'):null},onGroupKey:function(d,a){var b=this,c=b.getGroupName(a.target);if(c){b.onGroupClick(b.view,a.target,c,a)}},onGroupClick:function(h,g,b,f){var a=this,e=a.groupCache,d=!a.isExpanded(b),c;if(a.collapsible){if(f.ctrlKey){Ext.suspendLayouts();for(c in e){if(c===b){if(d){a.expand(b)}}else {if(!e[c].isCollapsed){a.doCollapseExpand(!0,c,!1)}}}Ext.resumeLayouts(!0);return}if(d){a.expand(b)}else {a.collapse(b)}}},setupRowData:function(e,p,a){var b=this,k=a.recordIndex,j=b.refreshData,c=b.groupInfo,l=j.header,h=j.groupField,g=b.view.getStore(),o=b.view.dataSource,i,d,n,m,f;a.isCollapsedGroup=!1;a.summaryRecord=a.groupHeaderCls=null;if(j.doGrouping){i=g.getGrouper();if(e.isCollapsedPlaceholder){d=i.getGroupString(e);f=g.getGroups().get(d).items;a.isFirstRow=a.isLastRow=!0;a.groupHeaderCls=b.hdCollapsedCls;a.isCollapsedGroup=a.needsWrap=!0;a.groupInfo=c;c.groupField=h;c.name=d;c.groupValue=f[0].get(h);c.columnName=l?l.text:h;a.collapsibleCls=b.collapsible?b.collapsibleCls:b.hdNotCollapsibleCls;a.groupId=b.createGroupId(d);c.rows=c.children=f;if(b.showSummaryRow){a.summaryRecord=j.summaryData[d]}return}d=i.getGroupString(e);if(e.group){f=e.group.items;a.isFirstRow=e===f[0];a.isLastRow=e===f[f.length-1]}else {a.isFirstRow=k===0;if(!a.isFirstRow){n=g.getAt(k-1);if(n){a.isFirstRow=!n.isEqual(i.getGroupString(n),d)}}a.isLastRow=k==(g.isBufferedStore?g.getTotalCount():g.getCount())-1;if(!a.isLastRow){m=g.getAt(k+1);if(m){a.isLastRow=!m.isEqual(i.getGroupString(m),d)}}}if(a.isFirstRow){c.groupField=h;c.name=d;c.groupValue=e.get(h);c.columnName=l?l.text:h;a.collapsibleCls=b.collapsible?b.collapsibleCls:b.hdNotCollapsibleCls;a.groupId=b.createGroupId(d);if(!b.isExpanded(d)){a.itemClasses.push(b.hdCollapsedCls);a.isCollapsedGroup=!0}if(o.isBufferedStore){c.rows=c.children=[]}else {c.rows=c.children=b.getRecordGroup(e).items}a.groupInfo=c}if(a.isLastRow){if(b.showSummaryRow){a.summaryRecord=j.summaryData[d];a.itemClasses.push('x-grid-group-last')}}a.needsWrap=a.isFirstRow||a.summaryRecord}},setup:function(f,e){var a=this,b=a.refreshData,c=e.view,d=!a.disabled&&c.store.isGrouped();a.skippedRows=0;if(c.bufferedRenderer){c.bufferedRenderer.variableRowHeight=c.bufferedRenderer.variableRowHeight||c.store.isGrouped()}b.groupField=a.getGroupField();b.header=a.getGroupedHeader(b.groupField);b.doGrouping=d;e.groupHeaderTpl=Ext.XTemplate.getTpl(a,'groupHeaderTpl');if(d&&a.showSummaryRow){b.summaryData=a.generateSummaryData()}},cleanup:function(c,a){var b=this.refreshData;a.groupInfo=a.groupHeaderTpl=a.isFirstRow=null;b.groupField=b.header=null},getGroupName:function(e){var g=this,f=g.view,d=g.eventSelector,b,a,c;a=Ext.fly(e).findParent(d);if(!a){c=Ext.fly(e).findParent(f.itemSelector);if(c){a=c.down(d,!0)}}if(a){b=a.id.split(f.id+'-hd-');if(b.length===2){return Ext.htmlDecode(b[1])}}},getRecordGroup:function(b){var a=this.view.getStore().getGrouper();if(a){return this.groupCache[a.getGroupString(b)]}},createGroupId:function(a){return this.view.id+'-hd-'+Ext.htmlEncode(a)},createGroupCls:function(a){return this.view.id+'-'+Ext.htmlEncode(a)+'-item'},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(a){var e=this,f=e.view.headerCt,d=e.lockingPartner,c,b;a=a||this.getGroupField();if(a){c='[dataIndex='+a+']';b=f.down(c);if(!b&&d){b=d.view.headerCt.down(c)}}return b||null},getFireEventArgs:function(b,c,a,d){return [b,c,a,this.getGroupName(a),d]},destroy:function(){var a=this,b=a.dataSource;a.view=a.prunedHeader=a.grid=a.groupCache=a.dataSource=null;Ext.grid.feature.Feature.prototype.destroy.call(this);if(b){b.bindStore(null)}},onReconfigure:function(e,a,g,d,f){var b=this,c;if(a&&a!==d){c=a.isBufferedStore;b.storeListeners&&b.storeListeners.destroy();b.storeListeners=a.on({groupchange:b.onGroupChange,scope:b,destroyable:!0});if(c!==d.isBufferedStore){Ext.Error.raise('Cannot reconfigure grouping switching between buffered and non-buffered stores')}if(c||e.findPlugin('bufferedrenderer')){e.view.dataSource.bindStore(a)}}}},1,0,0,0,['feature.grouping'],[['summary',Ext.grid.feature.AbstractSummary]],[Ext.grid.feature,'Grouping'],0);Ext.cmd.derive('Ext.grid.feature.GroupingSummary',Ext.grid.feature.Grouping,{showSummaryRow:!0,vetoEvent:function(d,e,c,b){var a=Ext.grid.feature.Grouping.prototype.vetoEvent.apply(this,arguments);if(a!==!1){if(b.getTarget(this.summaryRowSelector)){a=!1}}return a}},0,0,0,0,['feature.groupingsummary'],0,[Ext.grid.feature,'GroupingSummary'],0);Ext.cmd.derive('Ext.grid.feature.RowBody',Ext.grid.feature.Feature,{rowBodyCls:'x-grid-row-body',rowBodyHiddenCls:'x-grid-row-body-hidden',rowBodyTdSelector:'td.x-grid-cell-rowbody',eventPrefix:'rowbody',eventSelector:'tr.x-grid-rowbody-tr',colSpanDecrement:0,outerTpl:{fn:function(e,a,c){var d=a.view,b=d.rowValues;this.rowBody.setup(a.rows,b);this.nextTpl.applyOut(a,e,c);this.rowBody.cleanup(a.rows,b)},priority:100},extraRowTpl:['{%','this.nextTpl.applyOut(values, out, parent);','values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);','%}','<tr class="x-grid-rowbody-tr {rowBodyCls}" {ariaRowAttr}>','<td class="x-grid-td x-grid-cell-rowbody" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="x-grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}</div>','</td>','</tr>',{priority:100,syncRowHeights:function(g,f){var e=this.owner,b=Ext.fly(g).down(e.eventSelector,!0),a,d,c;if(b&&(a=Ext.fly(f).down(e.eventSelector,!0))){if((d=b.offsetHeight)>(c=a.offsetHeight)){Ext.fly(a).setHeight(d)}else {if(c>d){Ext.fly(b).setHeight(c)}}}},syncContent:function(e,d,f){var c=this.owner,b=Ext.fly(e).down(c.eventSelector,!0),a;if(b&&(a=Ext.fly(d).down(c.eventSelector,!0))){Ext.fly(b).syncContent(a)}}}],init:function(c){var a=this,b=a.view=c.getView();b.rowBodyFeature=a;c.mon(b,{element:'el',click:a.onClick,scope:a});b.headerCt.on({columnschanged:a.onColumnsChanged,scope:a});b.addTpl(a.outerTpl).rowBody=a;b.addRowTpl(Ext.XTemplate.getTpl(this,'extraRowTpl'));Ext.grid.feature.Feature.prototype.init.apply(this,arguments)},onClick:function(c){var b=this,a=c.getTarget(b.eventSelector);if(a&&Ext.fly(a=a.previousSibling).is(b.view.rowSelector)){c.target=a;b.view.handleEvent(c)}},getSelectedRow:function(c,b){var a=c.getNode(b);if(a){return Ext.fly(a).down(this.eventSelector)}return null},onColumnsChanged:function(c){var b=this.view.el.query(this.rowBodyTdSelector),d=c.getVisibleGridColumns().length,e=b.length,a;for(a=0;a<e;++a){b[a].colSpan=d}},setupRowData:function(b,c,a){if(this.getAdditionalData){Ext.apply(a,this.getAdditionalData(b.data,c,b,a))}},setup:function(b,a){a.rowBodyCls=this.rowBodyCls;a.rowBodyColspan=a.view.getGridColumns().length-this.colSpanDecrement},cleanup:function(b,a){a.rowBodyCls=a.rowBodyColspan=a.rowBody=null}},0,0,0,0,['feature.rowbody'],0,[Ext.grid.feature,'RowBody'],0);Ext.cmd.derive('Ext.grid.feature.Summary',Ext.grid.feature.AbstractSummary,{dock:undefined,dockedSummaryCls:'x-docked-summary',panelBodyCls:'x-summary-',scrollPadProperty:'padding-right',hasFeatureEvent:!1,init:function(b){var a=this,c=a.view;Ext.grid.feature.AbstractSummary.prototype.init.apply(this,arguments);if(a.dock){b.headerCt.on({add:a.onStoreUpdate,afterlayout:a.onStoreUpdate,scope:a});b.on({beforerender:function(){var d=[a.summaryTableCls];if(c.columnLines){d[d.length]=c.ownerCt.colLinesCls}a.summaryBar=b.addDocked({childEls:['innerCt','item'],renderTpl:['<div id="{id}-innerCt" role="presentation">','<table id="{id}-item" cellPadding="0" cellSpacing="0" class="'+d.join(' ')+'">','<tr class="'+a.summaryRowCls+'"></tr>','</table>','</div>'],style:'overflow:hidden',itemId:'summaryBar',cls:[a.dockedSummaryCls,a.dockedSummaryCls+'-'+a.dock],xtype:'component',dock:a.dock,weight:10000000})[0]},afterrender:function(){b.body.addCls(a.panelBodyCls+a.dock);c.on('scroll',a.onViewScroll,a);a.onStoreUpdate()},single:!0});b.headerCt.afterComponentLayout=Ext.Function.createSequence(b.headerCt.afterComponentLayout,function(){var c=this.getTableWidth(),d=a.summaryBar.innerCt;a.summaryBar.item.setWidth(c);if(this.tooNarrow){c+=Ext.getScrollbarSize().width}d.setWidth(c)})}else {a.view.addFooterFn(a.renderTFoot)}b.on({columnmove:a.onStoreUpdate,scope:a});c.mon(c.store,{update:a.onStoreUpdate,datachanged:a.onStoreUpdate,scope:a})},renderTFoot:function(b,e,d){var c=b.view,a=c.findFeature('summary');if(a.showSummaryRow){a.outputSummaryRecord(a.createSummaryRecord(c),b,e,d)}},toggleSummaryRow:function(c){var a=this,b=a.summaryBar;Ext.grid.feature.AbstractSummary.prototype.toggleSummaryRow.apply(this,arguments);if(b){b.setVisible(a.showSummaryRow);a.onViewScroll()}},vetoEvent:function(c,d,b,a){return !a.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},createSummaryRecord:function(c){var h=c.headerCt.getVisibleGridColumns(),a=this.summaryRecord,i=h.length,d,b,e,g,f;if(!a){g=c.store.getModel();f={};f[g.idProperty]=c.id+'-summary-record';a=this.summaryRecord=new g(f)}a.beginEdit();for(d=0;d<i;d++){b=h[d];if(!b.dataIndex){b.dataIndex=b.id}e=this.getSummary(c.store,b.summaryType,b.dataIndex);a.set(b.dataIndex,e);this.setSummaryData(a,b.id,e)}a.endEdit(!0);a.commit(!0);a.isSummary=!0;return a},onStoreUpdate:function(){var a=this,d=a.view,e=a.createSummaryRecord(d),f=d.createRowElement(e,-1).firstChild.firstChild,b,g,c;if(!d.rendered){return}if(a.dock){c=a.summaryBar.item.dom.firstChild;b=c.firstChild}else {b=a.view.getRow(e);c=b?b.parentNode:null}if(c){c.insertBefore(f,b);c.removeChild(b)}if(a.dock){a.onColumnHeaderLayout()}},onColumnHeaderLayout:function(){var e=this.view,d=e.headerCt.getVisibleGridColumns(),a,g=d.length,b,f=this.summaryBar.el,c;for(b=0;b<g;b++){a=d[b];c=f.down(e.getCellSelector(a));if(c){c.setWidth(a.width||(a.lastBox?a.lastBox.width:100))}}}},0,0,0,0,['feature.summary'],0,[Ext.grid.feature,'Summary'],0);Ext.cmd.derive('Ext.grid.locking.HeaderContainer',Ext.grid.header.Container,{headerCtRelayEvents:['blur','focus','move','resize','destroy','beforedestroy','boxready','afterrender','render','beforerender','removed','hide','beforehide','show','beforeshow','enable','disable','added','deactivate','beforedeactivate','activate','beforeactivate','remove','add','beforeremove','beforeadd','afterlayout','menucreate','sortchange','columnschanged','columnshow','columnhide','columnmove','headertriggerclick','headercontextmenu','headerclick','columnresize','statesave','beforestatesave','staterestore','beforestaterestore'],constructor:function(d){var a=this,b=d.lockedGrid,c=d.normalGrid;a.lockable=d;Ext.grid.header.Container.prototype.constructor.call(this);b.visibleColumnManager.rootColumns=c.visibleColumnManager.rootColumns=d.visibleColumnManager=a.visibleColumnManager=new Ext.grid.ColumnManager(!0,b.headerCt,c.headerCt);b.columnManager.rootColumns=c.columnManager.rootColumns=d.columnManager=a.columnManager=new Ext.grid.ColumnManager(!1,b.headerCt,c.headerCt);a.relayEvents(b.headerCt,a.headerCtRelayEvents);a.relayEvents(c.headerCt,a.headerCtRelayEvents)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var a=this,b=a.lockable.lockedGrid.headerCt.getColumnsState(),c=a.lockable.normalGrid.headerCt.getColumnsState();return b.concat(c)},applyColumnsState:function(k){var l=this,j=l.lockable.lockedGrid,b=j.headerCt,c=l.lockable.normalGrid.headerCt,m=Ext.Array.toValueMap(b.items.items,'headerId'),n=Ext.Array.toValueMap(c.items.items,'headerId'),g=[],h=[],i=1,o=k.length,e,a,f,d;for(e=0;e<o;e++){d=k[e];f=m[d.id];a=f||n[d.id];if(a){if(a.applyColumnState){a.applyColumnState(d)}if(a.locked===undefined){a.locked=!!f}if(a.locked){g.push(a);if(!a.hidden&&typeof a.width=='number'){i+=a.width}}else {h.push(a)}}}if(g.length+h.length==b.items.getCount()+c.items.getCount()){b.removeAll(!1);c.removeAll(!1);b.add(g);c.add(h);j.setWidth(i)}}},1,0,['component','box','container','headercontainer'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0},0,0,[Ext.grid.locking,'HeaderContainer'],0);Ext.cmd.derive('Ext.grid.locking.View',Ext.Base,{alternateClassName:'Ext.grid.LockingView',isLockingView:!0,loadMask:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(b){var a=this,d,c;a.panel=b.panel;b.locked.viewConfig.bindStore=b.normal.viewConfig.bindStore=Ext.emptyFn;b.locked.viewConfig.beforeLayout=b.normal.viewConfig.beforeLayout=a.beforeLayout;a.lockedGrid=a.panel.lockedGrid=Ext.ComponentManager.create(b.locked);a.lockedView=d=a.lockedGrid.getView();if(a.lockedGrid.isTree){a.lockedView.animate=!1;b.normal.store=d.store;b.normal.viewConfig.stripeRows=a.lockedView.stripeRows;b.normal.rowLines=a.lockedGrid.rowLines}a.normalGrid=a.panel.normalGrid=Ext.ComponentManager.create(b.normal);d.lockingPartner=c=a.normalView=a.normalGrid.getView();c.lockingPartner=d;a.deferInitialRefresh=c.deferInitialRefresh&&d.deferInitialRefresh;a.loadMask=b.loadMask!==undefined?b.loadMask:a.loadMask;a.mixins.observable.constructor.call(a);a.relayEvents(d,Ext.view.Table.events);a.relayEvents(c,Ext.view.Table.events);c.on({scope:a,itemmouseleave:a.onItemMouseLeave,itemmouseenter:a.onItemMouseEnter});d.on({scope:a,itemmouseleave:a.onItemMouseLeave,itemmouseenter:a.onItemMouseEnter});a.panel.on({render:a.onPanelRender,scope:a});a.loadingText=c.loadingText;a.loadingCls=c.loadingCls;a.loadingUseMsg=c.loadingUseMsg;a.bindStore(c.dataSource,!0,'dataSource')},beforeLayout:function(){var a=this.ownerCt.ownerLockable.view,b=a.lockedGrid.view,c=a.normalGrid.view;if(!a.relayingOperation){if(a.lockedGrid.isVisible()){if(b.refreshNeeded){b.doFirstRefresh(b.dataSource)}}if(c.refreshNeeded){c.doFirstRefresh(c.dataSource)}}},onPanelRender:function(){var a=this,b=a.loadMask,c={target:a.panel,msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:a.panel.store};a.el=a.panel.body;a.fireEvent('render',a);if(b){if(Ext.isObject(b)){c=Ext.apply(c,b)}a.loadMask=new Ext.LoadMask(c)}},getRefOwner:function(){return this.panel},getGridColumns:function(){var a=this.lockedGrid.headerCt.getVisibleGridColumns();return a.concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(c){var b=this.lockedView,a;b.headerCt.cascade(function(b){if(b===c){a=!0;return !1}});return a?b:this.normalView},onItemMouseEnter:function(d,f){var e=this,b=e.lockedView,a=e.normalView,c;if(d.trackOver){if(d!==b){a=b}c=a.getNode(f);a.highlightItem(c)}},onItemMouseLeave:function(c,e){var d=this,a=d.lockedView,b=d.normalView;if(c.trackOver){if(c!==a){b=a}b.clearHighlight()}},relayFn:function(c,b){b=b||[];var a=this.lockedView;this.relayingOperation=!0;a[c].apply(a,b);a=this.normalView;a[c].apply(a,b);this.relayingOperation=!1},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},bindStore:function(b,c,d){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);if(!c){a.getSelectionModel().bindStore(b)}if(a.componentLayoutCounter){Ext.suspendLayouts();a.normalView.doFirstRefresh(b);a.lockedView.doFirstRefresh(b);Ext.resumeLayouts(!0)}},getStoreListeners:function(){var a=this;return {refresh:a.onDataRefresh,replace:a.onReplace,add:a.onAdd,remove:a.onRemove,update:a.onUpdate,clear:a.refresh}},onDataRefresh:function(a,c,b){this.relayFn('onDataRefresh',arguments)},onReplace:function(a,c,b){this.relayFn('onReplace',arguments)},onAdd:function(a,c,b){this.relayFn('onAdd',arguments)},onRemove:function(a,c,b){this.relayFn('onRemove',arguments)},onUpdate:function(a,c,b){this.relayFn('onUpdate',arguments)},refresh:function(a,c,b){this.relayFn('refresh',arguments)},getNode:function(a){return this.normalView.getNode(a)},getRow:function(a){return this.normalView.getRow(a)},getCell:function(b,a){var c=this.getViewForColumn(a),d=c.getRow(b);return Ext.fly(d).down(a.getCellSelector())},indexOf:function(b){var a=this.lockedView.indexOf(b);if(!a){a=this.normalView.indexOf(b)}return a},focus:function(){var a=this.getSelectionModel().getCurrentPosition(),b=a?a.view:this.normalView;b.focus()},focusRow:function(a){this.normalView.focusRow(a)},focusCell:function(a){a.view.focusCell(a)},isVisible:function(a){return this.panel.isVisible(a)},getCellByPosition:function(a,c){var d=a.column,b=this.lockedGrid.getColumnManager().getColumns().length;if(d>=b){a=Ext.apply({},a);a.column-=b;return this.normalView.getCellByPosition(a,c)}else {return this.lockedView.getCellByPosition(a,c)}},getRecord:function(b){var a=this.lockedView.getRecord(b);if(!a){a=this.normalView.getRecord(b)}return a},scrollBy:function(){var a=this.normalView;a.scrollBy.apply(a,arguments)},addElListener:function(a,c,b){this.relayFn('addElListener',arguments)},refreshNode:function(){this.relayFn('refreshNode',arguments)},addRowCls:function(){this.relayFn('addRowCls',arguments)},removeRowCls:function(){this.relayFn('removeRowCls',arguments)},destroy:function(){var b=this,a=b.loadMask;this.isDestroyed=!0;b.clearListeners();if(a&&a.bindStore){a.bindStore(null)}}},1,0,0,0,0,[['observable',Ext.util.Observable],['bindable',Ext.util.Bindable]],[Ext.grid.locking,'View',Ext.grid,'LockingView'],function(){this.borrow(Ext.Component,['up']);this.borrow(Ext.view.AbstractView,['doFirstRefresh','applyFirstRefresh'])});Ext.cmd.derive('Ext.grid.locking.Lockable',Ext.Base,{alternateClassName:'Ext.grid.Lockable',supportsOverflowX:'overflow-x' in document.documentElement.style,syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:'x-grid-inner-locked',normalGridCls:'x-grid-inner-normal',unlockText:'Unlock',lockText:'Lock',bothCfgCopy:['invalidateScrollerOnRefresh','hideHeaders','enableColumnHide','enableColumnMove','enableColumnResize','sortableColumns','multiColumnSort','columnLines','rowLines','deferRowRender'],normalCfgCopy:['verticalScroller','verticalScrollDock','verticalScrollerType','scroll'],lockedCfgCopy:[],determineXTypeToCreate:function(g){var f=this,a,b,d,e,c;if(f.subGridXType){a=f.subGridXType}else {if(!g){return 'gridpanel'}b=this.getXTypes().split('/');d=b.length;e=b[d-1];c=b[d-2];if(c!=='tablepanel'){a=c}else {a=e}}return a},injectLockable:function(){this.lockable=!0;this.hasView=!0;var a=this,e=Ext.getScrollbarSize().height,n=a.store=Ext.StoreManager.lookup(a.store),r=a.getSelectionModel(),l,i,b,c,d,m,f,h,j,q,g,k=a.viewConfig,p=k&&k.loadMask,s=p!==undefined?p:a.loadMask,o=a.findPlugin('bufferedrenderer');l=a.constructLockableFeatures();if(a.features){a.features=null}i=a.constructLockablePlugins();a.plugins=i.topPlugins;b=Ext.apply({id:a.id+'-locked',isLocked:!0,ownerGrid:a,ownerLockable:a,xtype:a.determineXTypeToCreate(!0),store:n,scrollerOwner:!1,animate:!1,scroll:e?!1:'vertical',selModel:r,border:!1,cls:a.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||a.normalGrid.floatedFromCollapse},features:l.lockedFeatures,plugins:i.lockedPlugins},a.lockedGridConfig);c=Ext.apply({id:a.id+'-normal',isLocked:!1,ownerGrid:a,ownerLockable:a,xtype:a.determineXTypeToCreate(),store:n,scrollerOwner:!1,selModel:r,border:!1,cls:a.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||a.lockedGrid.floatedFromCollapse},features:l.normalFeatures,plugins:i.normalPlugins},a.normalGridConfig);a.addCls('x-grid-locked');Ext.copyTo(c,a,a.bothCfgCopy,!0);Ext.copyTo(b,a,a.bothCfgCopy,!0);Ext.copyTo(c,a,a.normalCfgCopy,!0);Ext.copyTo(b,a,a.lockedCfgCopy,!0);for(d=0;d<a.normalCfgCopy.length;d++){delete a[a.normalCfgCopy[d]]}for(d=0;d<a.lockedCfgCopy.length;d++){delete a[a.lockedCfgCopy[d]]}a.addStateEvents(['lockcolumn','unlockcolumn']);m=a.processColumns(a.columns,b);b.columns=m.locked;if(!b.columns.items.length){b.hidden=!0}c.columns=m.normal;c.flex=1;b.viewConfig=a.lockedViewConfig||{};c.viewConfig=a.normalViewConfig||{};b.viewConfig.loadingUseMsg=!1;b.viewConfig.loadMask=!1;if(e&&!a.supportsOverflowX){b.viewConfig.style='border-bottom:'+e+'px solid #f6f6f6;'+(b.viewConfig.style||'');c.viewConfig.style='border-bottom:'+e+'px solid #f6f6f6;'+(b.viewConfig.style||'')}c.viewConfig.loadMask=!1;Ext.applyIf(b.viewConfig,k);Ext.applyIf(c.viewConfig,k);if(!a.initialConfig.layout){a.layout={type:'hbox',align:'stretch'}}a.getLayout();if(a.layout.type==='border'){if(a.split){b.split=!0}if(!c.title){b.header=!1}if(!b.region){b.region='west'}if(!c.region){c.region='center'}a.addCls('x-grid-locked-split')}if(!(a.layout instanceof Ext.layout.container.Box)){a.split=!1}a.view=new Ext.grid.locking.View({loadMask:s,locked:b,normal:c,panel:a});j=a.lockedGrid.getView();q=a.normalGrid.getView();g=o?{}:{scroll:a.onLockedViewScroll,scope:a};if(e){a.lockedGrid.on({afterlayout:a.afterLockedViewLayout,scope:a});j.getOverflowStyle();if(!j.scrollFlags.y){g.mousewheel={fn:a.onLockedViewMouseWheel,element:'el',scope:a}}}j.on(g);g=o?{}:{scroll:a.onNormalViewScroll,scope:a};q.on(g);f=a.lockedGrid.headerCt;h=a.normalGrid.headerCt;a.headerCt=a.view.headerCt=new Ext.grid.locking.HeaderContainer(a);f.lockedCt=!0;f.lockableInjected=!0;h.lockableInjected=!0;f.on({add:{buffer:1,scope:a,fn:a.onLockedHeaderAdd},columnshow:a.onLockedHeaderShow,columnhide:a.onLockedHeaderHide,sortchange:a.onLockedHeaderSortChange,columnresize:a.onLockedHeaderResize,scope:a});h.on({sortchange:a.onNormalHeaderSortChange,scope:a});a.modifyHeaderCt();a.items=[a.lockedGrid];if(a.split){a.addCls('x-grid-locked-split');a.items[1]={xtype:'splitter'}}a.items.push(a.normalGrid);a.relayHeaderCtEvents(f);a.relayHeaderCtEvents(h);a.storeRelayers=a.relayEvents(n,['filterchange','groupchange']);a.gridRelayers=a.relayEvents(a.normalGrid,['viewready'])},getLockingViewConfig:function(){return {xclass:'Ext.grid.locking.View',locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(b,f){var c=this,g,n,a,d=new Ext.grid.header.Container(),e=[],h=[],l={itemId:'lockedHeaderCt',stretchMaxPartner:'^^>>#normalHeaderCt',items:e},m={itemId:'normalHeaderCt',stretchMaxPartner:'^^>>#lockedHeaderCt',items:h},i={lockedWidth:f.width||0,locked:l,normal:m},k=c.shrinkWrapLocked=!(f.width||f.flex),j;if(Ext.isObject(b)){Ext.applyIf(l,b);Ext.applyIf(m,b);j=Ext.apply({},b);delete j.items;Ext.apply(d,j);b=b.items}for(g=0,n=b.length;g<n;++g){a=b[g];if(!a.isComponent){a=d.lookupComponent(d.applyDefaults(a))}a.processed=!0;if(a.locked||a.autoLock){if(k&&!a.hidden){i.lockedWidth+=c.getColumnWidth(a)||d.defaultWidth}e.push(a)}else {h.push(a)}if(!a.headerId){a.headerId=(a.initialConfig||a).id||'h'+ ++c.headerCounter}}c.fireEvent('processcolumns',c,e,h);d.destroy();if(k){f.width=i.lockedWidth+=Ext.num(c.getSelectionModel().headerWidth,0)+(e.length?1:0)}return i},getColumnWidth:function(c){var d=c.width||0,b,e,a;if(!d&&c.isGroupHeader){b=c.items.items;e=b.length;for(a=0;a<e;a++){d+=this.getColumnWidth(b[a])}}return d},afterLockedViewLayout:function(){var a=this,c=a.lockedGrid.getView(),b=a.normalGrid.getView(),d=c.el,e=b.el,h=Ext.getScrollbarSize().height,f=c.scrollFlags.x&&a.lockedGrid.headerCt.tooNarrow?h:0,g=b.scrollFlags.x&&a.normalGrid.headerCt.tooNarrow?h:0;if(f!==g){if(f){if(a.supportsOverflowX){e.dom.style.overflowX='scroll';c.getOverflowEl().setStyle(c.getOverflowStyle())}else {e.dom.style.borderBottomWidth=f+'px';d.dom.style.borderBottomWidth='0px'}}else {if(a.supportsOverflowX){d.dom.style.overflowX='scroll';b.getOverflowEl().setStyle(b.getOverflowStyle())}else {d.dom.style.borderBottomWidth=g+'px';e.dom.style.borderBottomWidth='0px'}}}else {if(a.supportsOverflowX){c.getOverflowEl().dom.style.overflowX=g?'scroll':'';b.getOverflowEl().setStyle(b.getOverflowStyle())}else {e.dom.style.borderBottomWidth=d.dom.style.borderBottomWidth='0px'}}},onLockedViewMouseWheel:function(h){var b=this,e=-b.scrollDelta*h.getWheelDeltas().y,d=b.lockedGrid.getView(),c=d.el.dom,a,f,g;if(!b.ignoreMousewheel){if(c){a=d.getScrollY();f=a!==c.scrollHeight-c.clientHeight;g=a!==0}if(e<0&&g||e>0&&f){h.stopEvent();a+=e;d.setScrollY(a);b.normalGrid.getView().setScrollY(a);b.onNormalViewScroll()}}},onLockedViewScroll:function(){var f=this,e=f.lockedGrid.getView(),a=f.normalGrid.getView(),c=e.getScrollY(),g=a.getScrollY(),b,d;if(g!==c){a.setScrollY(c);if(a.bufferedRenderer){d=e.body.dom;b=a.body.dom;b.style.position='absolute';b.style.top=d.style.top}}},onNormalViewScroll:function(){var f=this,b=f.lockedGrid.getView(),c=f.normalGrid.getView(),g=b.getScrollY(),d=c.getScrollY(),e,a;if(d!==g){b.setScrollY(d);if(c.bufferedRenderer){a=b.body.dom;e=c.body.dom;a.style.position='absolute';a.style.top=e.style.top}}},syncRowHeights:function(){var h=this,a,f=h.lockedGrid.getView(),b=h.normalGrid.getView(),d=f.all.slice(),e=b.all.slice(),g=d.length,c;if(e.length===g){for(a=0;a<g;a++){b.syncRowHeights(d[a],e[a])}c=b.getScrollY();b.setScrollY(c);f.setScrollY(c)}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(a.lockedGrid.headerCt.getMenuItems,!0);a.normalGrid.headerCt.getMenuItems=a.getMenuItems(a.normalGrid.headerCt.getMenuItems,!1);a.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.lockedGrid.headerCt.showMenuBy,a.showMenuBy);a.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.normalGrid.headerCt.showMenuBy,a.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(f,c){var d=this.getMenu(),a=d.down('#unlockItem'),b=d.down('#lockItem'),e=a.prev();if(c.lockable===!1){e.hide();a.hide();b.hide()}else {e.show();a.show();b.show();if(!a.initialConfig.disabled){a.setDisabled(c.lockable===!1)}if(!b.initialConfig.disabled){b.setDisabled(!c.isLockable())}}},getMenuItems:function(d,b){var a=this,f=a.unlockText,h=a.lockText,g='x-hmenu-unlock',i='x-hmenu-lock',c=a.onUnlockMenuClick.bind(a),e=a.onLockMenuClick.bind(a);return function(){var a=d.call(this);a.push('-',{itemId:'unlockItem',iconCls:g,text:f,handler:c,disabled:!b});a.push({itemId:'lockItem',iconCls:i,text:h,handler:e,disabled:b});return a}},syncLockedWidth:function(){var b=this,a=b.lockedGrid,c=a.view,g=c.el.dom,d=b.normalGrid,e=a.headerCt.getVisibleGridColumns().length,f=d.headerCt.getVisibleGridColumns().length;Ext.suspendLayouts();if(f){d.show();if(e){if(b.shrinkWrapLocked&&!a.headerCt.forceFit){delete a.flex;a.setWidth(a.headerCt.getTableWidth()+a.el.getBorderWidth('lr'))}a.addCls(b.lockedGridCls);a.show();if(b.split){b.child('splitter').show()}}else {a.getView().clearViewEl();a.hide();if(b.split){b.child('splitter').hide()}}c.el.setStyle(c.getOverflowStyle());b.ignoreMousewheel=c.scrollFlags.y}else {d.hide();g.style.borderBottomWidth='0';a.flex=1;delete a.width;a.removeCls(b.lockedGridCls);a.show();c.el.setStyle(d.view.getOverflowStyle());b.ignoreMousewheel=!0}Ext.resumeLayouts(!0);return [e,f]},onLockedHeaderAdd:function(){if(!this.ignoreAddLockedColumn){this.syncLockedWidth()}},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(a,j,c){var b=this,f=b.normalGrid,e=b.lockedGrid,h=f.view,g=e.view,k=f.headerCt,d,i;a=a||k.getMenu().activeHeader;c=c||e.headerCt;i=a.ownerCt;if(!a.isLockable()){return}if(a.flex){a.width=a.getWidth();a.flex=null}Ext.suspendLayouts();h.blockRefresh=g.blockRefresh=!0;i.remove(a,!1);a.locked=!0;b.ignoreAddLockedColumn=!0;if(Ext.isDefined(j)){c.insert(j,a)}else {c.add(a)}b.ignoreAddLockedColumn=!1;h.blockRefresh=g.blockRefresh=!1;d=b.syncLockedWidth();if(d[0]){e.getView().refreshView()}if(d[1]){f.getView().refreshView()}Ext.resumeLayouts(!0);b.fireEvent('lockcolumn',b,a)},unlock:function(a,f,g){var b=this,e=b.normalGrid,d=b.lockedGrid,i=e.view,h=d.view,j=d.headerCt,c;if(!Ext.isDefined(f)){f=0}a=a||j.getMenu().activeHeader;g=g||e.headerCt;Ext.suspendLayouts();i.blockRefresh=h.blockRefresh=!0;a.ownerCt.remove(a,!1);a.locked=!1;g.insert(f,a);i.blockRefresh=h.blockRefresh=!1;c=b.syncLockedWidth();if(c[0]){d.getView().refreshView()}if(c[1]){e.getView().refreshView()}Ext.resumeLayouts(!0);b.fireEvent('unlockcolumn',b,a)},reconfigureLockable:function(b,d){var a=this,f=a.store,c=a.lockedGrid,e=a.normalGrid;Ext.suspendLayouts();if(d){c.headerCt.removeAll();e.headerCt.removeAll();d=a.processColumns(d,c);a.ignoreAddLockedColumn=!0;c.headerCt.add(d.locked.items);a.ignoreAddLockedColumn=!1;e.headerCt.add(d.normal.items);a.syncLockedWidth()}if(b&&b!==f){b=Ext.data.StoreManager.lookup(b);a.store=b;c.bindStore(b);e.bindStore(b)}else {c.getView().refresh();e.getView().refresh()}Ext.resumeLayouts(!0)},constructLockableFeatures:function(){var b=this.features,a,e,c,d,f=0,g;if(b){if(!Ext.isArray(b)){b=[b]}c=[];d=[];g=b.length;for(;f<g;f++){a=b[f];if(!a.isFeature){a=Ext.create('feature.'+a.ftype,a)}switch(a.lockableScope){case 'locked':c.push(a);break;case 'normal':d.push(a);break;default:a.lockableScope='both';c.push(a);d.push(e=a.clone());e.lockingPartner=a;a.lockingPartner=e;}}}return {normalFeatures:d,lockedFeatures:c}},constructLockablePlugins:function(){var b=this.plugins,a,g,f,h,c,d,i=0,k,e,j;if(b){if(!Ext.isArray(b)){b=[b]}h=[];c=[];d=[];k=b.length;for(;i<k;i++){a=b[i];if(a.init){e=a.lockableScope}else {j=a.ptype?Ext.ClassManager.getByAlias('plugin.'+a.ptype):Ext.ClassManager.get(a.xclass);e=j.prototype.lockableScope}switch(e){case 'both':c.push(f=a.clonePlugin());d.push(g=a.clonePlugin());f.lockingPartner=g;g.lockingPartner=f;Ext.destroy(a);break;case 'locked':c.push(a);break;case 'normal':d.push(a);break;default:h.push(a);}}}return {topPlugins:h,normalPlugins:d,lockedPlugins:c}},destroyLockable:function(){Ext.destroy(this.view,this.headerCt)}},0,0,0,0,0,0,[Ext.grid.locking,'Lockable',Ext.grid,'Lockable'],function(){this.borrow(Ext.Component,['constructPlugin'])});Ext.cmd.derive('Ext.grid.plugin.BufferedRenderer',Ext.AbstractPlugin,{lockableScope:'both',percentageFromEdge:0.35,variableRowHeight:!1,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(c){var a=this,b=c.view,d={scroll:a.onViewScroll,boxready:a.onViewResize,resize:a.onViewResize,refresh:a.onViewRefresh,scope:a,destroyable:!0};if(!a.variableRowHeight&&c.ownerLockable){c.ownerLockable.syncRowHeight=!1}if(c.isTree||c.ownerLockable&&c.ownerLockable.isTree){b.blockRefresh=!1;b.loadMask=!0}if(b.positionBody){d.refresh=a.onViewRefresh}a.grid=c;a.view=b;a.isRTL=b.getInherited().rtl;b.bufferedRenderer=a;b.preserveScrollOnRefresh=!0;b.deferInitialRefresh=!1;b.animate=!1;a.bindStore(b.dataSource);if(b.hasOwnProperty('rowHeight')){a.rowHeight=b.rowHeight}a.position=0;a.gridListeners=c.on('reconfigure',a.onReconfigure,a);a.viewListeners=b.on(d)},bindStore:function(b){var a=this,e=a.view,c=e.dataSource,d=c&&c.isFeatureStore;if(d===b.isFeatureStore){if(a.store){a.unbindStore()}a.storeListeners=b.on({scope:a,groupchange:a.onStoreGroupChange,clear:a.onStoreClear,destroyable:!0});a.store=b}if(a.view.componentLayout.layoutCount){a.onViewResize(a.view,0,a.view.getHeight())}},onReconfigure:function(b,a){if(a&&a!==this.store){this.bindStore(a)}},unbindStore:function(){this.storeListeners.destroy();this.store=null},onStoreClear:function(){var a=this,b=a.view;if(b.rendered&&!a.store.isDestroyed){if(a.scrollTop!==0){a.bodyTop=a.scrollTop=a.position=a.scrollHeight=0;a.view.setScrollY(0)}a.lastScrollDirection=a.scrollOffset=null;if(!b.hasOwnProperty('rowHeight')){delete a.rowHeight}}},onStoreGroupChange:function(c){var a=this,b;if(c.isGrouped()){a.savedVariableRowHeight=a.variableRowHeight;a.variableRowHeight=!0}else {a.variableRowHeight='savedVariableRowHeight' in a?a.savedVariableRowHeight:'variableRowHeight' in a.pluginConfig?a.pluginConfig.variableRowHeight:a.self.prototype.variableRowHeight}delete a.rowHeight;b=a.getScrollHeight();a.stretchView(a.view,b)},onViewRefresh:function(){var a=this,b=a.view,d=a.scrollHeight,c;if(!b.hasOwnProperty('rowHeight')&&b.all.getCount()){delete a.rowHeight}c=a.getScrollHeight();if(!d||c!=d){a.stretchView(b,c)}if(a.scrollTop!==b.getScrollY()){a.onViewScroll()}else {if(!a.hasOwnProperty('bodyTop')){a.bodyTop=b.all.startIndex*a.rowHeight;b.setScrollY(a.bodyTop)}a.setBodyTop(a.bodyTop);if(b.all.getCount()){Ext.on({idle:function(){if(!b.isDestroyed){a.onViewResize(b,null,b.getHeight())}},single:!0})}}},onViewResize:function(e,g,d,f,c){var a=this,b;a.tableTopBorderWidth=e.body.getBorderWidth('t');if(!c||d!==c){b=Math.ceil(d/a.rowHeight)+a.trailingBufferZone+a.leadingBufferZone;a.viewSize=a.setViewSize(b);a.viewClientHeight=e.el.dom.clientHeight}},stretchView:function(b,c){var a=this,f=a.store.isBufferedStore?a.store.getTotalCount():a.store.getCount(),e=b.getTargetEl(),d;if(a.scrollTop>c){a.position=a.scrollTop=c-b.body.dom.offsetHeight;a.view.setScrollY(a.scrollTop)}if(a.bodyTop>c){b.body.translate(null,a.bodyTop=a.position)}if(b.scrollManager){b.scrollManager.scroller.setSize({x:b.headerCt.getTableWidth(),y:c});b.scrollManager.refresh()}if(!b.scrollManager||Ext.supports.touchScroll===1){if(!a.stretcher){e=b.getTargetEl();if(b.refreshCounter){b.fixedNodes++}d={style:{width:'1px',height:'1px','marginTop':c-1+'px',position:'absolute'}};d.style[a.isRTL?'right':'left']=0;a.stretcher=e.createChild(d,e.dom.firstChild)}if(a.hasOwnProperty('viewSize')&&f<=a.viewSize){a.stretcher.dom.style.display='none'}else {a.stretcher.dom.style.marginTop=c-1+'px';a.stretcher.dom.style.display=''}}},setViewSize:function(c){if(c!==this.viewSize){this.scrollTop=this.view.getScrollY();var a=this,d=a.store,f=a.view,h=f.all.getCount(),e,g,b=a.lockingPartner;a.viewSize=d.viewSize=c;if(h){e=f.all.startIndex;g=Math.min(e+c-1,(d.isBufferedStore?d.getTotalCount():d.getCount())-1);if(b){b.disable()}f.clearViewEl(!0);a.renderRange(e,g);if(b){b.enable()}}}return c},getViewRange:function(){var d=this,c=d.view.all,a=d.store,b=0;if(c.getCount()){b=c.startIndex}else {if(a.isBufferedStore){if(!a.currentPage){a.currentPage=1}b=c.startIndex=(a.currentPage-1)*(a.pageSize||1);a.currentPage=1}}if(a.data.getCount()){return a.getRange(b,b+d.viewSize-1)}else {return []}},onReplace:function(d,j,f,e){var a=this,b=a.view,i=b.all,c=i.getCount(),h=d.getCount(),g;if(!c||j<=i.endIndex||c<a.viewSize&&e.length>f.length||h<c){a.refreshView();g=!0}a.stretchView(b,a.getScrollHeight(!0));if(g&&e.length<f.length){if(d.isBufferedStore?d.getTotalCount():h<=a.viewSize){if(a.stretcher){a.stretcher.dom.style.display='none';a.setBodyTop(0)}}else {if(a.bodyTop+b.body.dom.offsetHeight-1>a.scrollHeight){a.setBodyTop(a.scrollHeight-(b.body.dom.offsetHeight-1))}}}},scrollTo:function(b,p,m,q){var a=this,c=a.view,n=c.el.dom,d=a.store,i=d.isBufferedStore?d.getTotalCount():d.getCount(),h,o,g,l,e,f,k,j;if((f=c.dataSource.groupingFeature)&&f.collapsible!==!1){b=Math.min(Math.max(b,0),c.store.getCount()-1);j=c.store.getAt(b);k=f.getGroup(j);if(k.isCollapsed){f.expand(k.getGroupKey());i=d.isBufferedStore?d.getTotalCount():d.getCount()}b=f.indexOf(j)}else {b=Math.min(Math.max(b,0),i-1)}h=Math.max(Math.min(b-Math.floor((a.leadingBufferZone+a.trailingBufferZone)/2),i-a.viewSize+1),0);e=Math.max(h*a.rowHeight-a.tableTopBorderWidth,0);o=Math.min(h+a.viewSize-1,i-1);d.getRange(h,o,{callback:function(i,f,h){a.renderRange(f,h,!0);g=d.data.getRange(b,b+1)[0];l=c.getNode(g);c.body.translate(null,a.bodyTop=e);a.position=a.scrollTop=e=Math.min(Math.max(0,e-c.body.getOffsetsTo(l)[1]),n.scrollHeight-n.clientHeight);c.setScrollY(e);if(Ext.isIE){c.setScrollY(e)}if(p){c.selModel.select(g)}if(m){m.call(q||a,b,g)}}})},onViewScroll:function(){var a=this,e=a.store,g=e.isBufferedStore?e.getTotalCount():e.getCount(),c,b,d=a.scrollTop=a.view.getScrollY(),f=!1;if(!(a.disabled||g<a.viewSize)){c=d-a.position;b=c>0?1:-1;if(Math.abs(c)>=20||b!==a.lastScrollDirection){a.lastScrollDirection=b;f=a.handleViewScroll(a.lastScrollDirection)}}if(!f){if(a.lockingPartner&&a.lockingPartner.scrollTop!==d){a.lockingPartner.view.setScrollY(a.lockingPartner.position=d)}}},handleViewScroll:function(h){var a=this,d=a.view.all,e=a.store,g=a.viewSize,f=(e.isBufferedStore?e.getTotalCount():e.getCount())-1,b,c;if(h==-1){if(d.startIndex){if(a.topOfViewCloseToEdge()){b=Math.max(0,a.getLastVisibleRowIndex()+a.trailingBufferZone-g)}}}else {if(d.endIndex<f){if(a.bottomOfViewCloseToEdge()){b=Math.max(0,a.getFirstVisibleRowIndex()-a.trailingBufferZone)}}}if(b!=null){c=Math.min(b+g-1,f);if(a.variableRowHeight&&c===d.endIndex&&c<f){c++;a.viewSize=e.viewSize=g++}if(b!==d.startIndex||c!==d.endIndex){a.renderRange(b,c);return !0}}},bottomOfViewCloseToEdge:function(){var a=this;if(a.variableRowHeight){return a.bodyTop+a.view.body.dom.offsetHeight<a.scrollTop+a.view.lastBox.height+a.numFromEdge*a.rowHeight}else {return a.view.all.endIndex-a.getLastVisibleRowIndex()<a.numFromEdge}},topOfViewCloseToEdge:function(){var a=this;if(a.variableRowHeight){return a.bodyTop>a.scrollTop-a.numFromEdge*a.rowHeight}else {return a.getFirstVisibleRowIndex()-a.view.all.startIndex<a.numFromEdge}},refreshView:function(b){var a=this,f=a.view.all,c=a.store,e=(c.isBufferedStore?c.getTotalCount():c.getCount())-1,d;b=Math.max(0,Math.min(b==null?f.startIndex:b,e-a.viewSize+1));d=Math.min(f.startIndex+a.viewSize-1,e);c.getRange(b,d,{callback:a.doRefreshView,scope:a})},doRefreshView:function(b,c,f,g){var e=this,a=e.view,d;if(a.refreshCounter){a.clearViewEl(!0);if(b.length){d=a.doAdd(b,c);a.fireEvent('itemadd',b,c,d)}a.selModel.onLastFocusChanged(null,a.selModel.lastFocused,!0);a.refreshNeeded=!1}else {a.refresh()}},renderRange:function(b,c,e){var a=this,d=a.view.all,f=a.store;if(!(b===d.startIndex&&c===d.endIndex)){if(f.rangeCached(b,c)){a.cancelLoad();if(a.synchronousRender||e){a.onRangeFetched(null,b,c)}else {if(!a.renderTask){a.renderTask=new Ext.util.DelayedTask(a.onRangeFetched,a,null,!1)}a.renderTask.delay(1,null,null,[null,b,c])}}else {a.attemptLoad(b,c)}}},onRangeFetched:function(g,d,h,q,p){var a=this,e=a.view,o,b=e.all,k,i=0,j,c,f=a.lockingPartner,l,n,m;if(e.isDestroyed){return}if(g){a.scrollTop=a.view.getScrollY()}else {g=a.store.getRange(d,h);if(!g){return}}if(a.variableRowHeight){j=a.scrollTop-a.rowHeight*(a.scrollTop<a.position?a.leadingBufferZone:a.trailingBufferZone)}else {j=d*a.rowHeight-a.tableTopBorderWidth}if(d<b.startIndex&&h>b.endIndex){n=b.startIndex-d;e.clearViewEl(!0);l=e.doAdd(g,d);e.fireEvent('itemadd',g,d,l);for(m=0;m<n;m++){i-=l[m].offsetHeight}a.setBodyTop(a.bodyTop+i);return}if(a.teleported||d>b.endIndex||h<b.startIndex){e.clearViewEl(!0);c=j;a.teleported=!1}if(!b.getCount()){l=e.doAdd(g,d);e.fireEvent('itemadd',g,d,l)}else {if(h>b.endIndex){k=Math.max(d-b.startIndex,0);if(a.variableRowHeight){i=b.item(b.startIndex+k,!0).offsetTop}b.scroll(Ext.Array.slice(g,b.endIndex+1-d),1,k,d,h);if(a.variableRowHeight){c=a.bodyTop+i}else {c=j}}else {k=Math.max(b.endIndex-h,0);o=b.startIndex;b.scroll(Ext.Array.slice(g,0,b.startIndex-d),-1,k,d,h);if(a.variableRowHeight){c=a.bodyTop-b.item(o,!0).offsetTop;if(!b.startIndex){if(c){e.setScrollY(a.position=a.scrollTop-=c);c=0}}else {if(c<0){i=b.startIndex*a.rowHeight;e.setScrollY(a.position=a.scrollTop+=i);c=a.bodyTop+i}}}else {c=j}}}a.position=a.scrollTop;c=Math.max(Math.floor(c),0);if(e.positionBody){a.setBodyTop(c)}if(f&&!f.disabled&&!p){f.onRangeFetched(null,d,h,q,!0);if(f.bodyTop!==c){f.setBodyTop(c)}if(f.scrollTop!==a.scrollTop){f.view.setScrollY(f.scrollTop=f.position=a.scrollTop)}}},setBodyTop:function(e){var a=this,c=a.view,b=a.store,d=c.body;d.translate(a.isRTL&&Ext.supports.xOriginBug&&c.scrollFlags.y?Ext.getScrollbarSize().width:null,a.bodyTop=e);if(a.variableRowHeight){if(c.all.endIndex===(b.isBufferedStore?b.getTotalCount():b.getCount())-1){a.stretchView(c,a.bodyTop+d.dom.offsetHeight-1)}else {if(a.bodyTop+d.dom.offsetHeight-1>a.scrollHeight){a.stretchView(c,a.scrollHeight+=((b.isBufferedStore?b.getTotalCount():b.getCount())-c.all.endIndex)*a.rowHeight)}}}},getFirstVisibleRowIndex:function(d,f,c,e){var a=this,k=a.view,g=k.all,j=g.elements,l=a.viewClientHeight,b,h,i=a.bodyTop;if(g.getCount()&&a.variableRowHeight){if(!arguments.length){d=g.startIndex;f=g.endIndex;c=a.scrollTop;e=c+l;if(i>e||i+k.body.dom.offsetHeight<c){a.teleported=!0;return Math.floor(a.scrollTop/a.rowHeight)}b=d+Math.min(a.numFromEdge+(a.lastScrollDirection===-1?a.leadingBufferZone:a.trailingBufferZone),Math.floor((f-d)/2))}else {b=d+Math.floor((f-d)/2)}h=i+j[b].offsetTop;if(h+j[b].offsetHeight<c){return a.getFirstVisibleRowIndex(b+1,f,c,e)}if(h<=c){return b}else {if(b!==d){return a.getFirstVisibleRowIndex(d,b-1,c,e)}}}return Math.floor(a.scrollTop/a.rowHeight)},getLastVisibleRowIndex:function(f,d,e,c){var a=this,m=a.view,g=m.all,l=g.elements,h=a.viewClientHeight,b,i,k,j=a.bodyTop;if(g.getCount()&&a.variableRowHeight){if(!arguments.length){f=g.startIndex;d=g.endIndex;e=a.scrollTop;c=e+h;if(j>c||j+m.body.dom.offsetHeight<e){a.teleported=!0;return Math.floor(a.scrollTop/a.rowHeight)+Math.ceil(h/a.rowHeight)}b=d-Math.min(a.numFromEdge+(a.lastScrollDirection===1?a.leadingBufferZone:a.trailingBufferZone),Math.floor((d-f)/2))}else {b=f+Math.floor((d-f)/2)}i=j+l[b].offsetTop;if(i>c){return a.getLastVisibleRowIndex(f,b-1,e,c)}k=i+l[b].offsetHeight;if(k>=c){return b}else {if(b!==d){return a.getLastVisibleRowIndex(b+1,d,e,c)}}}return a.getFirstVisibleRowIndex()+Math.ceil(h/a.rowHeight)},getScrollHeight:function(h){var a=this,f=a.view,e=f.all,d=a.store,c=d.isBufferedStore?d.getTotalCount():d.getCount(),g,b;if(!c){return 0}if(!a.hasOwnProperty('rowHeight')){if(g=e.getCount()){a.rowHeight=a.variableRowHeight?Math.floor(f.body.dom.clientHeight/g):e.first(!0).offsetHeight}}b=Math.floor(c*a.rowHeight);if(!h){if(b&&e.endIndex===c-1){b=Math.max(b,a.bodyTop+f.body.dom.offsetHeight-1)}}return this.scrollHeight=b},attemptLoad:function(b,c){var a=this;if(a.scrollToLoadBuffer){if(!a.loadTask){a.loadTask=new Ext.util.DelayedTask(a.doAttemptLoad,a,[])}a.loadTask.delay(a.scrollToLoadBuffer,a.doAttemptLoad,a,[b,c])}else {a.store.getRange(b,c,{callback:a.onRangeFetched,scope:a,fireEvent:!1})}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(a,b){this.store.getRange(a,b,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},destroy:function(){var a=this,b=a.view;if(b&&b.el){b.un('scroll',a.onViewScroll,a)}Ext.destroy(a.viewListeners,a.storeListeners,a.gridListeners)}},0,0,0,0,['plugin.bufferedrenderer'],0,[Ext.grid.plugin,'BufferedRenderer'],function(a){if(Ext.supports.Touch){a.prototype.leadingBufferZone=a.prototype.trailingBufferZone=2;a.prototype.numFromEdge=1}});Ext.cmd.derive('Ext.grid.plugin.Editing',Ext.AbstractPlugin,{clicksToEdit:2,triggerEvent:undefined,relayedEvents:['beforeedit','edit','validateedit','canceledit'],defaultFieldUI:'grid',defaultFieldXType:'textfield',editStyle:'',constructor:function(b){var a=this;Ext.AbstractPlugin.prototype.constructor.apply(this,arguments);a.mixins.observable.constructor.call(a);a.on('edit',function(c,d){a.fireEvent('afteredit',c,d)})},init:function(b){var a=this;a.grid=b;a.view=b.view;a.initEvents();a.mon(b,{beforereconfigure:a.onBeforeReconfigure,reconfigure:a.onReconfigure,scope:a,beforerender:{fn:a.onReconfigure,single:!0,scope:a}});b.relayEvents(a,a.relayedEvents);if(a.grid.ownerLockable){a.grid.ownerLockable.relayEvents(a,a.relayedEvents)}b.isEditable=!0;b.editingPlugin=b.view.editingPlugin=a},resolveListenerScope:function(a){var b=this.grid;return b?b.resolveListenerScope(a):this.callParent([a])},onBeforeReconfigure:function(){this.reconfiguring=!0},onReconfigure:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns());delete this.reconfiguring},destroy:function(){var a=this,b=a.grid;Ext.destroy(a.keyNav);a.clearListeners();if(b){b.editingPlugin=b.view.editingPlugin=a.grid=a.view=a.editor=a.keyNav=null}},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(a){if(a.isGroupHeader){a=a.getGridColumns()}else {if(!Ext.isArray(a)){a=[a]}}var d=this,c,e=a.length,b;for(c=0;c<e;c++){b=a[c];if(!b.getEditor){b.getEditor=function(c,b){return d.getColumnField(this,b)}}if(!b.hasEditor){b.hasEditor=function(){return d.hasColumnField(this)}}if(!b.setEditor){b.setEditor=function(b){d.setColumnField(this,b)}}}},removeFieldAccessors:function(a){if(a.isGroupHeader){a=a.getGridColumns()}else {if(!Ext.isArray(a)){a=[a]}}var c,d=a.length,b;for(c=0;c<d;c++){b=a[c];b.getEditor=b.hasEditor=b.setEditor=b.field=b.editor=null}},getColumnField:function(b,d){var c=this,a=b.field;if(!(a&&a.isFormField)){a=b.field=c.createColumnField(b,d)}if(a&&a.ui==='default'&&!a.hasOwnProperty('ui')){a.ui=c.defaultFieldUI}return a},hasColumnField:function(a){return !!(a.field&&a.field.isComponent)},setColumnField:function(a,b){a.field=b;a.field=this.createColumnField(a)},createColumnField:function(b,d){var a=b.field,c;if(!a&&b.editor){a=b.editor;b.editor=null}if(!a&&d){a=d}if(a){c=b.dataIndex;if(a.isComponent){a.column=b}else {if(Ext.isString(a)){a={name:c,xtype:a,column:b}}else {a=Ext.apply({name:c,column:b},a)}a=Ext.ComponentManager.create(a,this.defaultFieldXType)}a.dataIndex=c;a.isEditorComponent=!0;b.field=a}return a},initEvents:function(){var a=this;a.initEditTriggers();a.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var a=this,b=a.view;if(a.triggerEvent=='cellfocus'){a.mon(b,'cellfocus',a.onCellFocus,a)}else {if(a.triggerEvent=='rowfocus'){a.mon(b,'rowfocus',a.onRowFocus,a)}else {if(b.getSelectionModel().isCellModel){b.onCellFocus=a.beforeViewCellFocus.bind(a)}a.mon(b,a.triggerEvent||'cell'+(a.clicksToEdit===1?'click':'dblclick'),a.onCellClick,a)}}a.initAddRemoveHeaderEvents();b.on('render',a.initKeyNavHeaderEvents,a,{single:!0})},beforeViewCellFocus:function(a){if(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(a.row,a.columnHeader)){this.view.focusCell.apply(this.view,arguments)}},onRowFocus:function(b,a,c){this.startEdit(a,0)},onCellFocus:function(b,c,a){this.startEdit(a.row,a.column)},onCellClick:function(d,i,e,c,j,h,g){var a=d.expanderSelector,b=d.ownerCt.getColumnManager().getHeaderAtIndex(e),f=b.getEditor(c);if(f&&!a||!g.getTarget(a)){this.startEdit(c,b)}},initAddRemoveHeaderEvents:function(){var a=this,b=a.grid.headerCt;a.mon(b,{scope:a,add:a.onColumnAdd,columnmove:a.onColumnMove});b.beforeDestroy=Ext.Function.createInterceptor(b.beforeDestroy,a.beforeGridHeaderDestroy,a)},initKeyNavHeaderEvents:function(){var a=this;a.keyNav=Ext.create('Ext.util.KeyNav',a.view.el,{enter:a.onEnterKey,esc:a.onEscKey,scope:a})},onColumnAdd:function(b,a){this.initFieldAccessors(a)},onColumnMove:Ext.emptyFn,onEnterKey:function(g){var f=this,e=f.grid,c=e.getSelectionModel(),b,d,a;if(c.getCurrentPosition&&(d=c.getCurrentPosition())){b=d.record;a=d.columnHeader}else {b=c.getLastSelected();a=e.getColumnManager().getHeaderAtIndex(0)}if(b&&a){f.startEdit(b,a)}},onEscKey:function(a){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(e,c){var a=this,b,d=a.grid.lockable?a.grid:a.view;if(!d.componentLayoutCounter){d.on({boxready:Ext.Function.bind(a.startEdit,a,[e,c]),single:!0});return !1}if(a.grid.collapsed||!a.grid.view.isVisible(!0)){return !1}b=a.getEditingContext(e,c);if(b==null){return !1}if(!a.preventBeforeCheck){if(a.beforeEdit(b)===!1||a.fireEvent('beforeedit',a,b)===!1||b.cancel){return !1}}return b},getEditingContext:function(b,a){var i=this,h=i.grid,g=h.getColumnManager(),c,d,e,f;if(Ext.isNumber(a)){a=g.getHeaderAtIndex(a)}if(a.hidden){a=a.next(':not([hidden])')||a.prev(':not([hidden])')}if(!a){return}c=a.getOwnerHeaderCt().view;d=c.getRow(b);if(!d){return}f=g.getHeaderIndex(a);if(Ext.isNumber(b)){e=b;b=c.getRecord(d)}else {e=c.indexOf(d)}if(!b){return}return {grid:h,view:c,store:c.dataSource,record:b,field:a.dataIndex,value:b.get(a.dataIndex),row:d,column:a,rowIdx:e,colIdx:f}},cancelEdit:function(){var a=this;a.editing=!1;a.fireEvent('canceledit',a,a.context)},completeEdit:function(){var a=this;if(a.editing&&a.validateEdit()){a.fireEvent('edit',a,a.context)}a.context=null;a.editing=!1},validateEdit:function(){var a=this,b=a.context;return a.fireEvent('validateedit',a,b)!==!1&&!b.cancel}},1,0,0,0,['editing.editing'],[['observable',Ext.util.Observable]],[Ext.grid.plugin,'Editing'],0);Ext.cmd.derive('Ext.grid.plugin.CellEditing',Ext.grid.plugin.Editing,{lockableScope:'both',init:function(c){var b=this,a=b.lockingPartner;Ext.grid.plugin.Editing.prototype.init.apply(this,arguments);if(a){if(a.editors){b.editors=a.editors}else {b.editors=a.editors=new Ext.util.MixedCollection(!1,function(a){return a.editorId})}}else {b.editors=new Ext.util.MixedCollection(!1,function(a){return a.editorId})}},beforeGridHeaderDestroy:function(g){var d=this,e=d.grid.getColumnManager().getColumns(),f=e.length,c,a,b;for(c=0;c<f;c++){a=e[c];b=d.editors.getByKey(a.getItemId());if(!b&&a.hasEditor&&a.hasEditor()){b=a.getEditor()}Ext.destroy(b);d.removeFieldAccessors(a)}},onReconfigure:function(c,b,a){if(a){this.editors.clear()}Ext.grid.plugin.Editing.prototype.onReconfigure.call(this)},destroy:function(){var a=this;if(a.editors){a.editors.each(Ext.destroy,Ext);a.editors.clear()}Ext.grid.plugin.Editing.prototype.destroy.apply(this,arguments)},initCancelTriggers:function(){var a=this,b=a.grid,c=b.view;a.mon(b,{columnresize:a.cancelEdit,columnmove:a.cancelEdit,scope:a})},isCellEditable:function(c,a){var d=this,b=d.getEditingContext(c,a);if(d.grid.view.isVisible(!0)&&b){a=b.column;c=b.record;if(a&&d.getEditor(c,a)){return !0}}},startEdit:function(e,c,a){var b=this,f,g,d;if(!a){b.preventBeforeCheck=!0;a=Ext.grid.plugin.Editing.prototype.startEdit.apply(this,arguments);delete b.preventBeforeCheck;if(a===!1){return !1}}if(a&&b.grid.view.isVisible(!0)){e=a.record;c=a.column;a.originalValue=a.value=e.get(c.dataIndex);g=c&&c.getEditor(e)&&!(b.beforeEdit(a)===!1||b.fireEvent('beforeedit',b,a)===!1||a.cancel);if(g){d=b.getEditor(e,c);f=d.editing}else {return !1}b.completeEdit(f);b.context=a;b.grid.view.cancelFocus();b.view.scrollCellIntoView(b.getCell(e,c));if(d){if(f){d.editing=!1;if(Ext.isIE){d.selectSameEditor=!0}}b.showEditor(d,a,a.value);return !0}return !1}},showEditor:function(f,d,h){var a=this,e=d.record,b=d.column,c=a.grid.getSelectionModel(),i=c.preventFocus,g=c.getCurrentPosition();if(!b.up(a.view.ownerCt)){return a.lockingPartner.showEditor(f,a.lockingPartner.getEditingContext(g.record,g.columnHeader),h)}a.setEditingContext(d);a.setActiveEditor(f);a.setActiveRecord(e);a.setActiveColumn(b);if(!g||!c.isCellSelected(a.view,e,b)){c.preventFocus=!0;c.selectByPosition({row:e,column:b,view:a.view},!0);c.preventFocus=i}if(Ext.isIE&&Ext.event.Event.type==='click'){Ext.Function.defer(f.startEdit,1,f,[a.getCell(e,b),h,d])}else {f.startEdit(a.getCell(e,b),h,d)}a.editing=!0;a.scroll=a.view.el.getScroll()},completeEdit:function(b){var a=this.getActiveEditor();if(a){a.completeEdit(b);this.editing=!1}},setEditingContext:function(a){this.context=a;if(this.lockingPartner){this.lockingPartner.context=a}},setActiveEditor:function(a){this.activeEditor=a;if(this.lockingPartner){this.lockingPartner.activeEditor=a}},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a;if(this.lockingPartner){this.lockingPartner.activeColumn=a}},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a;if(this.lockingPartner){this.lockingPartner.activeRecord=a}},getActiveRecord:function(){return this.activeRecord},getEditor:function(g,c){var b=this,f=b.editors,e=c.getItemId(),a=f.getByKey(e),d=b.grid.ownerLockable||b.grid;if(!a){a=c.getEditor(g);if(!a){return !1}if(a instanceof Ext.grid.CellEditor){a.floating=!0}else {a=new Ext.grid.CellEditor({floating:!0,editorId:e,field:a})}a.field.excludeForm=!0;if(a.ownerCt!==d){d.add(a);a.on({scope:b,specialkey:b.onSpecialKey,complete:b.onEditComplete,canceledit:b.cancelEdit});c.on('removed',b.onColumnRemoved,b)}f.add(a)}if(c.isTreeColumn){a.isForTree=c.isTreeColumn;a.addCls('x-tree-cell-editor')}a.setGrid(b.grid);a.editingPlugin=b;return a},onColumnRemoved:function(b){var a=this,e=a.context,c,d=a.grid.ownerLockable||a.grid;if(e&&e.column===b){a.cancelEdit()}b.un('removed',a.onColumnRemoved,a);if(b.getEditor&&(c=b.getEditor())&&c.ownerCt===d){d.remove(c);c.un({scope:a,specialkey:a.onSpecialKey,complete:a.onEditComplete,canceledit:a.cancelEdit})}},setColumnField:function(a,c){var b=this.editors.getByKey(a.getItemId());Ext.destroy(b,a.field);this.editors.removeAtKey(a.getItemId());Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments)},getCell:function(b,a){return this.grid.getView().getCell(b,a)},onSpecialKey:function(b,d,a){var c;if(a.getKey()===a.TAB){a.stopEvent();if(b){b.onEditorTab(a)}c=b.up('tablepanel').getSelectionModel();if(c.onEditorTab){return c.onEditorTab(b.editingPlugin,a)}}},onEditComplete:function(g,d,f){var a=this,e=a.getActiveColumn(),b=a.context,c;if(e){c=b.record;a.setActiveEditor(null);a.setActiveColumn(null);a.setActiveRecord(null);b.value=d;if(!a.validateEdit()){a.editing=!1;return}if(!c.isEqual(d,f)){c.set(e.dataIndex,d)}b.view.focusRow(b.rowIdx,100);a.fireEvent('edit',a,b);a.editing=!1}},cancelEdit:function(){var b=this,c=b.context,a=b.getActiveEditor();b.setActiveEditor(null);b.setActiveColumn(null);b.setActiveRecord(null);if(a){if(a.field){b.context.value='editedValue' in a?a.editedValue:a.getValue();a.cancelEdit()}c.view.focusRow(c.rowIdx,100);Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments);return}return !0},startEditByPosition:function(a){var c=this.grid.getColumnManager(),b,d;if(!a.isCellContext){a=(new Ext.grid.CellContext(this.view)).setPosition(a)}b=c.getHeaderIndex(a.columnHeader);a.setColumn(c.getVisibleHeaderClosestToIndex(b));return this.startEdit(a.record,a.columnHeader)}},0,0,0,0,['plugin.cellediting'],0,[Ext.grid.plugin,'CellEditing'],0);Ext.cmd.derive('Ext.grid.plugin.CellUpdating',Ext.AbstractPlugin,{lockableScope:'both',unhighlightDelay:1000,constructor:function(d){var e=this,b=d.cmp,a=b.viewConfig||(b.viewConfig={}),c=a.xhooks||(a.xhooks={});c.handleUpdate=e.handleRecordUpdate;Ext.AbstractPlugin.prototype.constructor.apply(this,arguments)},handleRecordUpdate:function(p,c,o,k){var a=this,h=a.ownerCt,m=h.visibleColumnManager.getColumns(),j=a.getNodeByRecord(c),f,n,b,g,e,d,l,i;if(!j){return}if(!a.cellFly){a.cellFly=new Ext.dom.Fly()}for(f=0,n=m.length;f<n;f++){b=m[f];g=b.dataIndex;if(!k||Ext.Array.indexOf(k,g)!==-1){e=c.get(g);d=j.firstChild.firstChild.childNodes[f];if(a.markDirty){a.cellFly.attach(d);if(c.isModified(b.dataIndex)){a.cellFly.addCls(a.dirtyCls)}else {a.cellFly.removeCls(a.dirtyCls)}}l=b.usingDefaultRenderer;i=l?b:b.scope;if(b.updater){Ext.callback(b.updater,i,[d,e,c,a],0,b,h)}else {if(b.renderer){e=Ext.callback(b.renderer,i,[e,null,c,0,0,a.dataSource,a],0,b,h)}if(b.producesHTML){d.childNodes[0].innerHTML=e}else {d.childNodes[0].childNodes[0].data=e}}if(a.highlightClass){Ext.fly(d).addCls(a.highlightClass);if(!a.changedCells){a.self.prototype.changedCells=[];a.prototype.clearChangedTask=new Ext.util.DelayedTask(a.clearChangedCells,a.prototype);a.clearChangedTask.delay(a.unhighlightDelay)}a.changedCells.push({cell:d,cls:a.highlightClass,expires:Ext.Date.now()+1000})}}}Ext.suspendLayouts();a.fireEvent('itemupdate',c,a.store.indexOf(c),j);Ext.resumeLayouts(!0)},clearChangedCells:function(){var a=this,e=Ext.Date.now(),b;for(var d=0,c=a.changedCells.length;d<c;){b=a.changedCells[d];if(b.expires<=e){Ext.fly(b.cell).removeCls(b.highlightClass);Ext.Array.erase(a.changedCells,d,1);c--}else {break}}if(c){a.clearChangedTask.delay(a.unhighlightDelay)}}},1,0,0,0,['plugin.cellupdating'],0,[Ext.grid.plugin,'CellUpdating'],0);Ext.cmd.derive('Ext.grid.plugin.DragDrop',Ext.AbstractPlugin,{dragText:'{0} selected row{1}',ddGroup:'GridDD',enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(a){a.on('render',this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var a=this;if(a.dragZone){a.dragZone.unlock()}if(a.dropZone){a.dropZone.unlock()}Ext.AbstractPlugin.prototype.enable.call(this)},disable:function(){var a=this;if(a.dragZone){a.dragZone.lock()}if(a.dropZone){a.dropZone.lock()}Ext.AbstractPlugin.prototype.disable.call(this)},onViewRender:function(b){var a=this,c;if(a.enableDrag){if(a.containerScroll){c=b.getEl()}a.dragZone=new Ext.view.DragZone(Ext.apply({view:b,ddGroup:a.dragGroup||a.ddGroup,dragText:a.dragText,containerScroll:a.containerScroll,scrollEl:c},a.dragZone))}if(a.enableDrop){a.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:b,ddGroup:a.dropGroup||a.ddGroup},a.dropZone))}}},0,0,0,0,['plugin.gridviewdragdrop'],0,[Ext.grid.plugin,'DragDrop'],0);Ext.cmd.derive('Ext.grid.plugin.RowEditing',Ext.grid.plugin.Editing,{lockableScope:'top',editStyle:'row',autoCancel:!0,errorSummary:!0,constructor:function(){var a=this;Ext.grid.plugin.Editing.prototype.constructor.apply(this,arguments);if(!a.clicksToMoveEditor){a.clicksToMoveEditor=a.clicksToEdit}a.autoCancel=!!a.autoCancel},destroy:function(){Ext.destroy(this.editor);Ext.grid.plugin.Editing.prototype.destroy.apply(this,arguments)},onBeforeReconfigure:function(){Ext.grid.plugin.Editing.prototype.onBeforeReconfigure.apply(this,arguments);this.cancelEdit()},onReconfigure:function(d,c,b){var a=this.editor;Ext.grid.plugin.Editing.prototype.onReconfigure.apply(this,arguments);if(b&&a&&a.rendered){a.needsSyncFieldWidths=!0}},startEdit:function(e,c){var b=this,d=b.getEditor(),a;if(Ext.isEmpty(c)){c=b.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)}if(d.beforeEdit()!==!1){a=Ext.grid.plugin.Editing.prototype.startEdit.call(this,e,c);if(a){b.context=a;if(b.lockingPartner){b.lockingPartner.cancelEdit()}d.startEdit(a.record,a.column,a);b.editing=!0;return !0}}return !1},cancelEdit:function(){var a=this;if(a.editing){a.getContextFieldValues();a.getEditor().cancelEdit();Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments);return}return !0},completeEdit:function(){var a=this;if(a.editing&&a.validateEdit()){a.editing=!1;a.fireEvent('edit',a,a.context)}},validateEdit:function(){this.getContextFieldValues();return Ext.grid.plugin.Editing.prototype.validateEdit.apply(this,arguments)&&this.getEditor().completeEdit()},getEditor:function(){var a=this;if(!a.editor){a.editor=a.initEditor()}return a.editor},getContextFieldValues:function(){var h=this.editor,f=this.context,i=f.record,e={},d={},g=h.query('>[isFormField]'),j=g.length,b,a,c;for(b=0;b<j;b++){c=g[b];a=c.dataIndex;e[a]=c.getValue();d[a]=i.get(a)}Ext.apply(f,{newValues:e,originalValues:d})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var a=this,h=a.grid,i=a.view,f=h.headerCt,d=['saveBtnText','cancelBtnText','errorsText','dirtyText'],c,g=d.length,e={autoCancel:a.autoCancel,errorSummary:a.errorSummary,fields:f.getGridColumns(),hidden:!0,view:i,editingPlugin:a},b;for(c=0;c<g;c++){b=d[c];if(Ext.isDefined(a[b])){e[b]=a[b]}}return e},initEditTriggers:function(){var a=this,b=a.view,c=a.clicksToMoveEditor===1?'click':'dblclick';Ext.grid.plugin.Editing.prototype.initEditTriggers.apply(this,arguments);if(a.clicksToMoveEditor!==a.clicksToEdit){a.mon(b,'cell'+c,a.moveEditorByClick,a)}b.on({render:function(){a.mon(a.grid.headerCt,{scope:a,columnresize:a.onColumnResize,columnhide:a.onColumnHide,columnshow:a.onColumnShow})},single:!0})},startEditByClick:function(){var a=this;if(!a.editing||a.clicksToMoveEditor===a.clicksToEdit){a.callParent(arguments)}},moveEditorByClick:function(){var a=this;if(a.editing){a.superclass.onCellClick.apply(a,arguments)}},onColumnAdd:function(d,a){if(a.isHeader){var c=this,b;c.initFieldAccessors(a);b=c.editor;if(b){b.onColumnAdd(a)}}},beforeGridHeaderDestroy:function(f){var c=this.grid.getColumnManager().getColumns(),e=c.length,b,a,d;for(b=0;b<e;b++){a=c[b];if(a.hasEditor){if(a.hasEditor()&&(d=a.getEditor())){d.destroy()}this.removeFieldAccessors(a)}}},onColumnResize:function(e,a,c){if(a.isHeader){var d=this,b=d.getEditor();if(b){b.onColumnResize(a,c)}}},onColumnHide:function(d,b){var c=this,a=c.getEditor();if(a){a.onColumnHide(b)}},onColumnShow:function(d,b){var c=this,a=c.getEditor();if(a){a.onColumnShow(b)}},onColumnMove:function(f,a,d,e){var c=this,b=c.getEditor();c.initFieldAccessors(a);if(b){b.onColumnMove(a,d,e)}},setColumnField:function(b,d){var c=this,a=c.getEditor();if(a){a.destroyColumnEditor(b)}Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments);if(a){a.insertColumnEditor(b)}},createColumnField:function(d,c){var a=this.editor,b;if(a){b=a.getDefaultFieldCfg()}return Ext.grid.plugin.Editing.prototype.createColumnField.call(this,d,c||b)}},1,0,0,0,['plugin.rowediting'],0,[Ext.grid.plugin,'RowEditing'],0);Ext.cmd.derive('Ext.grid.plugin.RowExpander',Ext.AbstractPlugin,{lockableScope:'normal',columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,headerWidth:24,rowBodyTrSelector:'.x-grid-rowbody-tr',rowBodyHiddenCls:'x-grid-row-body-hidden',rowCollapsedCls:'x-grid-row-collapsed',addCollapsedCls:{fn:function(d,a,c){var b=this.rowExpander;if(!b.recordsExpanded[a.record.internalId]){a.itemClasses.push(b.rowCollapsedCls)}this.nextTpl.applyOut(a,d,c)},syncRowHeights:function(a,b){this.rowExpander.syncRowHeights(a,b)},priority:20000},setCmp:function(a){var b=this,c;Ext.AbstractPlugin.prototype.setCmp.apply(this,arguments);b.recordsExpanded={};b.rowBodyTpl=Ext.XTemplate.getTpl(b,'rowBodyTpl');c=b.getFeatureConfig(a);if(a.features){a.features=Ext.Array.push(c,a.features)}else {a.features=c}},getFeatureConfig:function(d){var a=this,b=[],c={ftype:'rowbody',rowExpander:a,recordsExpanded:a.recordsExpanded,rowBodyHiddenCls:a.rowBodyHiddenCls,rowCollapsedCls:a.rowCollapsedCls,setupRowData:a.getRowBodyFeatureData,setup:a.setup};b.push(Ext.apply({lockableScope:'normal',getRowBodyContents:a.getRowBodyContentsFn(a.rowBodyTpl)},c));if(d.enableLocking){b.push(Ext.apply({lockableScope:'locked',getRowBodyContents:a.lockedTpl?a.getRowBodyContentsFn(a.lockedTpl):function(){return ''}},c))}return b},getRowBodyContentsFn:function(a){var b=this;return function(c){a.owner=b;return a.applyTemplate(c.record.getData())}},init:function(b){if(b.lockable){b=b.normalGrid}var a=this,c=b.ownerLockable,e,d;Ext.AbstractPlugin.prototype.init.apply(this,arguments);a.grid=b;e=a.view=b.getView();a.bindView(e);e.addRowTpl(a.addCollapsedCls).rowExpander=a;if(c){a.addExpander(c.lockedGrid.headerCt.items.getCount()?c.lockedGrid:b);c=b.ownerLockable;d=c.lockedGrid.getView();a.bindView(d);d.addRowTpl(a.addCollapsedCls).rowExpander=a;c.mon(c,{processcolumns:a.onLockableProcessColumns,lockcolumn:a.onColumnLock,unlockcolumn:a.onColumnUnlock,scope:a})}else {a.addExpander(b);b.on('beforereconfigure',a.beforeReconfigure,a)}},beforeReconfigure:function(f,e,b,d,c){var a=this.getHeaderConfig();a.locked=!0;b.unshift(a)},onLockableProcessColumns:function(a,b,c){this.addExpander(b.length?a.lockedGrid:a.normalGrid)},addExpander:function(a){var c=this,b=c.getHeaderConfig();if(a.isLocked&&a.ownerLockable.shrinkWrapLocked){a.width+=b.width}c.expanderColumn=a.headerCt.insert(0,b);a.getSelectionModel().injectCheckbox=1},getRowBodyFeatureData:function(c,d,b){var a=this;a.self.prototype.setupRowData.apply(a,arguments);b.rowBody=a.getRowBodyContents(b);b.rowBodyCls=a.recordsExpanded[c.internalId]?'':a.rowBodyHiddenCls},setup:function(d,b){var a=this,c=a.grid.ownerLockable;a.self.prototype.setup.apply(a,arguments);if(c&&Ext.Array.indexOf(a.grid.columnManager.getColumns(),a.rowExpander.expanderColumn)!==-1){b.rowBodyColspan-=1}},bindView:function(a){if(this.expandOnEnter){a.on('itemkeydown',this.onKeyDown,this)}if(this.expandOnDblClick){a.on('itemdblclick',this.onDblClick,this)}},onKeyDown:function(d,h,i,c,e){if(e.getKey()==e.ENTER){var f=d.store,b=d.getSelectionModel().getSelection(),g=b.length,a=0;for(;a<g;a++){c=f.indexOf(b[a]);this.toggleRow(c,b[a])}}},onDblClick:function(c,a,d,b,e){this.toggleRow(b,a)},toggleRow:function(k,j){var a=this,b=a.view,i=b,l=b.getNode(k),e=Ext.fly(l,'_rowExpander'),d,f=e.down(a.rowBodyTrSelector,!0),h=e.hasCls(a.rowCollapsedCls),c=h?'removeCls':'addCls',g=a.grid.ownerLockable;e[c](a.rowCollapsedCls);Ext.fly(f)[c](a.rowBodyHiddenCls);a.recordsExpanded[j.internalId]=h;if(a.grid.ownerLockable){i=g.getView();b=g.lockedGrid.view;d=Ext.fly(b.getNode(k),'_rowExpander');if(d){d[c](a.rowCollapsedCls);f=d.down(a.rowBodyTrSelector,!0);Ext.fly(f)[c](a.rowBodyHiddenCls)}}i.fireEvent(h?'expandbody':'collapsebody',e.dom,j,f);if(b.getSizeModel().height.shrinkWrap||g){b.refreshSize()}},syncRowHeights:function(f,g){var e=this,d=Ext.fly(f).down(e.rowBodyTrSelector),a=Ext.fly(g).down(e.rowBodyTrSelector),b,c;if(a.isVisible()){if((b=d.getHeight())!==(c=a.getHeight())){if(b>c){a.setHeight(b)}else {d.setHeight(c)}}}else {d.dom.style.height=a.dom.style.height=''}},onColumnUnlock:function(a,d){var b=this,c;a=b.grid.ownerLockable;c=a.lockedGrid.visibleColumnManager.getColumns();if(c.length===1){if(c[0]===b.expanderColumn){a.unlock(b.expanderColumn)}else {a.lock(b.expanderColumn,0)}}},onColumnLock:function(a,d){var c=this,b;a=c.grid.ownerLockable;b=a.lockedGrid.visibleColumnManager.getColumns();if(b.length===1){a.lockedGrid.headerCt.insert(0,c.expanderColumn)}},getHeaderConfig:function(){var a=this;return {width:a.headerWidth,lockable:!1,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:'x-grid-cell-special',innerCls:'x-grid-cell-inner-row-expander',renderer:function(b,a){a.tdAttr+=' rowspan="2"';return '<div class="x-grid-row-expander" role="presentation"></div>'},processEvent:function(d,h,g,b,f,e,c){if(e.getTarget('.x-grid-row-expander')){if(d==='click'){a.toggleRow(b,c);return a.selectRowOnExpand}}}}}},0,0,0,0,['plugin.rowexpander'],0,[Ext.grid.plugin,'RowExpander'],0);Ext.cmd.derive('Ext.grid.plugin.SubTable',Ext.grid.plugin.RowExpander,{rowBodyTpl:['<table class="x-grid-subtable"><tbody>','{%','this.owner.renderTable(out, values);','%}','</tbody></table>'],getRowBodyFeatureData:function(b,c,a){Ext.grid.plugin.RowExpander.prototype.getRowBodyFeatureData.apply(this,arguments);a.rowBodyCls+=' x-grid-subtable-row'},renderTable:function(b,k){var h=this,f=h.columns,j=f.length,i=h.getAssociatedRecords(k.record),l=i.length,g,a,e,c,d;b.push('<thead>');for(c=0;c<j;c++){b.push('<th class="x-grid-subtable-header">',f[c].text,'</th>')}b.push('</thead>');for(e=0;e<l;e++){g=i[e];b.push('<tr>');for(c=0;c<j;c++){a=f[c];d=g.get(a.dataIndex);if(a.renderer&&a.renderer.call){d=a.renderer.call(a.scope||h,d,{},g)}b.push('<td class="x-grid-subtable-cell"');if(a.width!=null){b.push(' style="width:'+a.width+'px"')}b.push('><div class="x-grid-cell-inner">',d,'</div></td>')}b.push('</tr>')}},getRowBodyContentsFn:function(a){var b=this;return function(c){a.owner=b;return a.applyTemplate(c)}},getAssociatedRecords:function(a){return a[this.association]().getRange()}},0,0,0,0,['plugin.subtable'],0,[Ext.grid.plugin,'SubTable'],0);Ext.cmd.derive('Ext.grid.property.Grid',Ext.grid.Panel,{alternateClassName:'Ext.grid.PropertyGrid',valueField:'value',nameField:'name',inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:'x-property-grid',initComponent:function(){var a=this;a.source=a.source||{};a.addCls(a.gridCls);a.plugins=a.plugins||[];a.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:a.clicksToEdit,startEdit:function(b,c){return this.self.prototype.startEdit.call(this,b,a.valueColumn)}}));a.selModel={selType:'cellmodel',onCellSelect:function(b){b.columnHeader=a.valueColumn;b.column=a.valueColumn.getVisibleIndex();return this.self.prototype.onCellSelect.call(this,b)}};a.sourceConfig=Ext.apply({},a.sourceConfig);if(!a.store){a.propStore=a.store=new Ext.grid.property.Store(a,a.source)}a.configure(a.sourceConfig);if(a.sortableColumns){a.store.sort('name','ASC')}a.columns=new Ext.grid.property.HeaderContainer(a,a.store);Ext.grid.Panel.prototype.initComponent.call(this);a.getView().walkCells=this.walkCells;a.editors={'date':new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),'string':new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),'number':new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),'boolean':new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,a.headerCt.trueText],[!1,a.headerCt.falseText]]})})};a.store.on('update',a.onUpdate,a)},configure:function(i){var a=this,j=a.store,f=0,k=a.store.getCount(),h=a.nameField,g=a.valueField,d,c,e,b;a.configureLegacy(i);if(a.inferTypes){for(;f<k;++f){e=j.getAt(f);d=e.get(h);if(!a.getConfig(d,'type')){c=e.get(g);if(Ext.isDate(c)){b='date'}else {if(Ext.isNumber(c)){b='number'}else {if(Ext.isBoolean(c)){b='boolean'}else {b='string'}}}a.setConfig(d,'type',b)}}}},getConfig:function(d,e,c){var a=this.sourceConfig[d],b;if(a){b=a[e]}return b||c},setConfig:function(b,e,d){var c=this.sourceConfig,a=c[b];if(!a){a=c[b]={__copied:!0}}else {if(!a.__copied){a=Ext.apply({__copied:!0},a);c[b]=a}}a[e]=d;return d},configureLegacy:function(b){var a=this;a.copyLegacyObject(b,a.customRenderers,'renderer');a.copyLegacyObject(b,a.customEditors,'editor');a.copyLegacyObject(b,a.propertyNames,'displayName')},copyLegacyObject:function(b,c,d){var a;for(a in c){if(c.hasOwnProperty(a)){if(!b[a]){b[a]={}}b[a][d]=c[a]}}},onUpdate:function(f,b,e){var a=this,c,d;if(a.rendered&&e==Ext.data.Model.EDIT){c=b.get(a.valueField);d=b.modified.value;if(a.fireEvent('beforepropertychange',a.source,b.getId(),c,d)!==!1){if(a.source){a.source[b.getId()]=c}b.commit();a.fireEvent('propertychange',a.source,b.getId(),c,d)}else {b.reject()}}},walkCells:function(b,a,h,e,f,g){var d=this,c=d.ownerCt.valueColumn;if(a=='left'){a='up'}else {if(a=='right'){a='down'}}b=Ext.view.Table.prototype.walkCells.call(d,b,a,h,e,f,g);b.columnHeader=c;b.column=c.getVisibleIndex();return b},getCellEditor:function(f,h){var b=this,d=f.get(b.nameField),e=f.get(b.valueField),a=b.getConfig(d,'editor'),g=b.getConfig(d,'type'),c=b.editors;if(a){if(!(a instanceof Ext.grid.CellEditor)){if(!(a instanceof Ext.form.field.Base)){a=Ext.ComponentManager.create(a,'textfield')}a=b.setConfig(d,'editor',new Ext.grid.CellEditor({field:a}))}}else {if(g){switch(g){case 'date':a=c.date;break;case 'number':a=c.number;break;case 'boolean':a=b.editors['boolean'];break;default:a=c.string;}}else {if(Ext.isDate(e)){a=c.date}else {if(Ext.isNumber(e)){a=c.number}else {if(Ext.isBoolean(e)){a=c['boolean']}else {a=c.string}}}}}a.editorId=d;a.field.column=b.valueColumn;return a},beforeDestroy:function(){var a=this;Ext.grid.Panel.prototype.beforeDestroy.call(this);a.destroyEditors(a.editors);a.destroyEditors(a.customEditors);delete a.source},destroyEditors:function(a){for(var b in a){if(a.hasOwnProperty(b)){Ext.destroy(a[b])}}},setSource:function(c,b){var a=this;a.source=c;if(b!==undefined){a.sourceConfig=Ext.apply({},b);a.configure(a.sourceConfig)}a.propStore.setSource(c)},getSource:function(){return this.propStore.getSource()},setProperty:function(c,b,a){this.propStore.setValue(c,b,a)},removeProperty:function(a){this.propStore.remove(a)}},0,['propertygrid'],['component','box','container','panel','tablepanel','gridpanel','grid','propertygrid'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tablepanel':!0,'gridpanel':!0,'grid':!0,'propertygrid':!0},['widget.propertygrid'],0,[Ext.grid.property,'Grid',Ext.grid,'PropertyGrid'],0);Ext.cmd.derive('Ext.grid.property.HeaderContainer',Ext.grid.header.Container,{alternateClassName:'Ext.grid.PropertyColumnModel',nameWidth:115,nameText:'Name',valueText:'Value',dateFormat:'m/j/Y',trueText:'true',falseText:'false',nameColumnCls:'x-grid-property-name',nameColumnInnerCls:'x-grid-cell-inner-property-name',constructor:function(b,c){var a=this;a.grid=b;a.store=c;Ext.grid.header.Container.prototype.constructor.call(this,{isRootHeader:!0,enableColumnResize:Ext.isDefined(b.enableColumnResize)?b.enableColumnResize:a.enableColumnResize,enableColumnMove:Ext.isDefined(b.enableColumnMove)?b.enableColumnMove:a.enableColumnMove,items:[{header:a.nameText,width:b.nameColumnWidth||a.nameWidth,sortable:b.sortableColumns,dataIndex:b.nameField,renderer:a.renderProp.bind(a),itemId:b.nameField,menuDisabled:!0,tdCls:a.nameColumnCls,innerCls:a.nameColumnInnerCls},{header:a.valueText,renderer:a.renderCell.bind(a),getEditor:a.getCellEditor.bind(a),sortable:b.sortableColumns,flex:1,fixed:!0,dataIndex:b.valueField,itemId:b.valueField,menuDisabled:!0}]});a.grid.valueColumn=a.items.items[1]},getCellEditor:function(a){return this.grid.getCellEditor(a,this)},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(a,g,f){var b=this,e=b.grid,d=e.getConfig(f.get(e.nameField),'renderer'),c=a;if(d){return d.apply(b,arguments)}if(Ext.isDate(a)){c=b.renderDate(a)}else {if(Ext.isBoolean(a)){c=b.renderBool(a)}}return Ext.util.Format.htmlEncode(c)},renderDate:Ext.util.Format.date,renderBool:function(a){return this[a?'trueText':'falseText']},getPropertyName:function(a){return this.grid.getConfig(a,'displayName',a)}},1,0,['component','box','container','headercontainer'],{'component':!0,'box':!0,'container':!0,'headercontainer':!0},0,0,[Ext.grid.property,'HeaderContainer',Ext.grid,'PropertyColumnModel'],0);Ext.cmd.derive('Ext.grid.property.Property',Ext.data.Model,{alternateClassName:'Ext.PropGridProperty',fields:[{name:'name',type:'string'},{name:'value'}],idProperty:'name'},0,0,0,0,0,0,[Ext.grid.property,'Property',Ext,'PropGridProperty'],0);Ext.cmd.derive('Ext.grid.property.Store',Ext.data.Store,{alternateClassName:'Ext.grid.PropertyStore',sortOnLoad:!1,constructor:function(c,b){var a=this;a.grid=c;a.source=b;Ext.data.Store.prototype.constructor.call(this,{data:b,model:Ext.grid.property.Property,proxy:a.getProxy()})},getProxy:function(){if(!this.proxy){Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})}return this.proxy},getReader:function(){if(!this.reader){Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(a){return this.readRecords(a)},readRecords:function(c){var d,b,a={records:[],success:!0};for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(this.isEditableValue(d)){a.records.push(new Ext.grid.property.Property({name:b,value:d}))}}}a.total=a.count=a.records.length;return new Ext.data.ResultSet(a)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)||a===null}})}return this.reader},setSource:function(b){var a=this;a.source=b;a.suspendEvents();a.removeAll();a.proxy.setData(b);a.load();a.resumeEvents();a.fireEvent('datachanged',a);a.fireEvent('refresh',a)},getProperty:function(a){return Ext.isNumber(a)?this.getAt(a):this.getById(a)},setValue:function(a,b,e){var d=this,c=d.getRec(a);if(c){c.set('value',b);d.source[a]=b}else {if(e){d.source[a]=b;c=new Ext.grid.property.Property({name:a,value:b},a);d.add(c)}}},remove:function(a){var b=this.getRec(a);if(b){Ext.data.Store.prototype.remove.call(this,b);delete this.source[a]}},getRec:function(a){return this.getById(a)},getSource:function(){return this.source}},1,0,0,0,0,0,[Ext.grid.property,'Store',Ext.grid,'PropertyStore'],0);Ext.cmd.derive('Ext.layout.ClassList',Ext.Base,function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return {dirty:!1,constructor:function(c){this.owner=c;this.map=b(this.classes=a(c.el.className))},add:function(b){var a=this;if(!a.map[b]){a.map[b]=!0;a.classes.push(b);if(!a.dirty){a.dirty=!0;a.owner.markDirty()}}},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(' ');this.dirty=!1},remove:function(b){var a=this;if(a.map[b]){delete a.map[b];a.classes=Ext.Array.filter(a.classes,function(a){return a!=b});if(!a.dirty){a.dirty=!0;a.owner.markDirty()}}},removeMany:function(d){var c=this,e=b(a(d));c.classes=Ext.Array.filter(c.classes,function(a){if(!e[a]){return !0}delete c.map[a];if(!c.dirty){c.dirty=!0;c.owner.markDirty()}return !1})}}}(),1,0,0,0,0,0,[Ext.layout,'ClassList'],0);Ext.cmd.derive('Ext.util.Queue',Ext.Base,{constructor:function(){this.clear()},add:function(b){var a=this,c=a.getKey(b);if(!a.map[c]){++a.length;a.items.push(b);a.map[c]=b}return b},clear:function(){var a=this,b=a.items;a.items=[];a.map={};a.length=0;return b},contains:function(b){var a=this.getKey(b);return this.map.hasOwnProperty(a)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(b){var a=this,e=a.getKey(b),d=a.items,c;if(a.map[e]){c=Ext.Array.indexOf(d,b);Ext.Array.erase(d,c,1);delete a.map[e];--a.length}return b}},1,0,0,0,0,0,[Ext.util,'Queue'],0);Ext.cmd.derive('Ext.layout.ContextItem',Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(s){var a=this,p=Ext.layout.SizeModel.sizeModels,m=p.configured,g=p.shrinkWrap,l,c,f,d,k,i,b,q,n,r,o,h,e,j;Ext.apply(a,s);l=a.el;a.id=l.id;a.flushedProps={};a.props=k={};a.styles={};b=a.target;if(!b.isComponent){c=l.lastBox}else {a.wrapsComponent=!0;a.framing=b.frameSize||null;a.isComponentChild=b.ownerLayout&&b.ownerLayout.isComponentLayout;c=b.lastBox;f=b.ownerCt;if(f&&(d=f.el&&a.context.items[f.el.id])){a.ownerCtContext=d}a.sizeModel=i=b.getSizeModel(d&&d.widthModel.pairsByHeightOrdinal[d.heightModel.ordinal]);a.widthModel=h=i.width;a.heightModel=e=i.height;if(c&&c.invalid===!1){r=b.width===(q=c.width);o=b.height===(n=c.height);if(h===g&&e===g){j=!0}else {if(h===m&&r){j=e===g||e===m&&o}}if(j){a.optOut=!0;k.width=q;k.height=n}}}a.lastBox=c},init:function(r,i){var a=this,c=a.props,e=a.dirty,b=a.ownerCtContext,h=a.target.ownerLayout,j=!a.state,s=r||j,n,l,t,q,k,d,o=a.heightModel,p=a.widthModel,f,g,m=0;a.dirty=a.invalid=!1;a.props={};a.remainingChildDimensions=0;if(a.boxChildren){a.boxChildren.length=0}if(!j){a.clearAllBlocks('blocks');a.clearAllBlocks('domBlocks')}if(!a.wrapsComponent){return s}d=a.target;a.state={};if(j){if(d.beforeLayout&&d.beforeLayout!==Ext.emptyFn){d.beforeLayout()}if(!b&&(q=d.ownerCt)){b=a.context.items[q.el.id]}if(b){a.ownerCtContext=b;a.isBoxParent=h&&h.isItemBoxParent(a)}else {a.isTopLevel=!0}a.frameBodyContext=a.getEl('frameBody')}else {b=a.ownerCtContext;a.isTopLevel=!b;n=a.children;for(l=0,t=n.length;l<t;++l){n[l].init(!0)}}a.hasRawContent=!(d.isContainer&&d.items.items.length>0);if(r){a.widthModel=a.heightModel=null;k=d.getSizeModel(b&&b.widthModel.pairsByHeightOrdinal[b.heightModel.ordinal]);if(j){a.sizeModel=k}a.widthModel=k.width;a.heightModel=k.height;if(b&&!a.isComponentChild){if(h.needsItemSize||!d.liquidLayout){b.remainingChildDimensions+=2}else {if(a.widthModel.calculated){++b.remainingChildDimensions}if(a.heightModel.calculated){++b.remainingChildDimensions}}}}else {if(c){a.recoverProp('x',c,e);a.recoverProp('y',c,e);if(a.widthModel.calculated){a.recoverProp('width',c,e)}else {if('width' in c){++m}}if(a.heightModel.calculated){a.recoverProp('height',c,e)}else {if('height' in c){++m}}if(b&&!a.isComponentChild){b.remainingChildDimensions+=m}}}if(c&&h&&h.manageMargins){a.recoverProp('margin-top',c,e);a.recoverProp('margin-right',c,e);a.recoverProp('margin-bottom',c,e);a.recoverProp('margin-left',c,e)}if(i){f=i.heightModel;g=i.widthModel;if(g&&f&&p&&o){if(p.shrinkWrap&&o.shrinkWrap){if(g.constrainedMax&&f.constrainedMin){f=null}}}if(g){a.widthModel=g}if(f){a.heightModel=f}if(i.state){Ext.apply(a.state,i.state)}}return s},initContinue:function(f){var b=this,a=b.ownerCtContext,g=b.target,c=b.widthModel,e=g.getInherited(),d;if(c.fixed){e.inShrinkWrapTable=!1}else {delete e.inShrinkWrapTable}if(f){if(a&&c.shrinkWrap){d=a.isBoxParent?a:a.boxParent;if(d){d.addBoxChild(b)}}else {if(c.natural){b.boxParent=a}}}return f},initDone:function(d){var a=this,b=a.props,c=a.state;if(a.remainingChildDimensions===0){b.containerChildrenSizeDone=!0}if(d){b.containerLayoutDone=!0}if(a.boxChildren&&a.boxChildren.length&&a.widthModel.shrinkWrap){a.el.setWidth(10000);c.blocks=(c.blocks||0)+1}},initAnimation:function(){var a=this,b=a.target,c=a.ownerCtContext;if(c&&c.isTopLevel){a.animatePolicy=b.ownerLayout.getAnimatePolicy(a)}else {if(!c&&b.isCollapsingOrExpanding&&b.animCollapse){a.animatePolicy=b.componentLayout.getAnimatePolicy(a)}}if(a.animatePolicy){a.context.queueAnimation(a)}},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(f,a,e){var b=this,d=b[f]||(b[f]={}),c=d[e]||(d[e]={});if(!c[a.id]){c[a.id]=a;++a.blockCount;++b.context.blockCount}},addBoxChild:function(a){var d=this,b,c=a.widthModel;a.boxParent=this;a.measuresBox=c.shrinkWrap?a.hasRawContent:c.natural;if(a.measuresBox){b=d.boxChildren;if(b){b.push(a)}else {d.boxChildren=[a]}}},addPositionStyles:function(b,c){var d=c.x,e=c.y,a=0;if(d!==undefined){b.left=d+'px';++a}if(e!==undefined){b.top=e+'px';++a}return a},addTrigger:function(c,e){var b=this,h=e?'domTriggers':'triggers',f=b[h]||(b[h]={}),g=b.context,a=g.currentLayout,d=f[c]||(f[c]={});if(!d[a.id]){d[a.id]=a;++a.triggerCount;d=g.triggers[e?'dom':'data'];(d[a.id]||(d[a.id]=[])).push({item:this,prop:c});if(b.props[c]!==undefined){if(!e||!(b.dirty&&c in b.dirty)){++a.firedTriggers}}}},boxChildMeasured:function(){var a=this,b=a.state,c=b.boxesMeasured=(b.boxesMeasured||0)+1;if(c==a.boxChildren.length){b.clearBoxWidth=1;++a.context.progressCount;a.markDirty()}},borderNames:['border-top-width','border-right-width','border-bottom-width','border-left-width'],marginNames:['margin-top','margin-right','margin-bottom','margin-left'],paddingNames:['padding-top','padding-right','padding-bottom','padding-left'],trblNames:['top','right','bottom','left'],cacheMissHandlers:{borderInfo:function(b){var a=b.getStyles(b.borderNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},marginInfo:function(b){var a=b.getStyles(b.marginNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},paddingInfo:function(b){var c=b.frameBodyContext||b,a=c.getStyles(b.paddingNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(c){var a=this[c],b;if(a){for(b in a){this.clearBlocks(c,b)}}},clearBlocks:function(g,f){var c=this[g],b=c&&c[f],d,a,e;if(b){delete c[f];d=this.context;for(e in b){a=b[e];--d.blockCount;if(!--a.blockCount&&!a.pending&&!a.done){d.queueLayout(a)}}}},block:function(b,a){this.addBlock('blocks',b,a)},domBlock:function(b,a){this.addBlock('domBlocks',b,a)},fireTriggers:function(g,e){var c=this[g],b=c&&c[e],f=this.context,a,d;if(b){for(d in b){a=b[d];++a.firedTriggers;if(!a.done&&!a.blockCount&&!a.pending){f.queueLayout(a)}}}},flush:function(){var a=this,d=a.dirty,b=a.state,c=a.el;a.dirtyCount=0;if(a.classList&&a.classList.dirty){a.classList.flush()}if('attributes' in a){c.set(a.attributes);delete a.attributes}if('innerHTML' in a){c.innerHTML=a.innerHTML;delete a.innerHTML}if(b&&b.clearBoxWidth){b.clearBoxWidth=0;a.el.setStyle('width',null);if(!--b.blocks){a.context.queueItemLayouts(a)}}if(d){delete a.dirty;a.writeProps(d,!0)}},flushAnimations:function(){var a=this,k=a.previousSize,c,h,l,f,d,g,e,m,b,j,i;if(k){c=a.target;h=c.getAnimationProps();l=h.duration;f=Ext.Object.getKeys(a.animatePolicy);d=Ext.apply({},{from:{},to:{},duration:l||Ext.fx.Anim.prototype.duration},h);for(g=0,e=0,m=f.length;e<m;e++){b=f[e];j=k[b];i=a.peek(b);if(j!=i){b=a.translateProps[b]||b;d.from[b]=j;d.to[b]=i;++g}}if(g){if(a.isCollapsingOrExpanding===1){c.componentLayout.undoLayout(a)}else {a.writeProps(d.from)}a.el.animate(d);Ext.fx.Manager.getFxQueue(a.el.id)[0].on({afteranimate:function(){if(a.isCollapsingOrExpanding===1){c.componentLayout.redoLayout(a);c.afterCollapse(!0)}else {if(a.isCollapsingOrExpanding===2){c.afterExpand(!0)}}}})}}},getBorderInfo:function(){var b=this,a=b.borderInfo;if(!a){b.borderInfo=a=b.checkCache('borderInfo')}return a},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(b,f){var d=this,c,a,e;if(b){if(b.dom){a=b}else {c=d.target;if(f){c=f}a=c[b];if(typeof a=='function'){a=a.call(c);if(a===d.el){return this}}}if(a){e=d.context.getEl(d,a)}}return e||null},getFrameInfo:function(){var c=this,d=c.frameInfo,a,b;if(!d){a=c.framing;b=c.getBorderInfo();c.frameInfo=d=a?{top:a.top+b.top,right:a.right+b.right,bottom:a.bottom+b.bottom,left:a.left+b.left,width:a.width+b.width,height:a.height+b.height}:b}return d},getMarginInfo:function(){var b=this,a=b.marginInfo,c,g,e,d,f;if(!a){if(!b.wrapsComponent){a=b.checkCache('marginInfo')}else {c=b.target;d=c.ownerLayout;f=d?d.id:null;g=d&&d.manageMargins;a=c.margin$;if(a&&a.ownerId!==f){a=null}if(!a){a=b.parseMargins(c,c.margin)||b.checkCache('marginInfo');if(g){e=b.parseMargins(c,c.margins,d.defaultMargins);if(e){a={top:a.top+e.top,right:a.right+e.right,bottom:a.bottom+e.bottom,left:a.left+e.left}}b.setProp('margin-top',0);b.setProp('margin-right',0);b.setProp('margin-bottom',0);b.setProp('margin-left',0)}a.ownerId=f;c.margin$=a}a.width=a.left+a.right;a.height=a.top+a.bottom}b.marginInfo=a}return a},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var b=this,a=b.paddingInfo;if(!a){b.paddingInfo=a=b.checkCache('paddingInfo')}return a},getProp:function(a){var b=this,c=b.props[a];b.addTrigger(a);return c},getDomProp:function(b){var a=this,c=a.dirty&&b in a.dirty?undefined:a.props[b];a.addTrigger(b,!0);return c},getStyle:function(b){var e=this,c=e.styles,d,a;if(b in c){a=c[b]}else {d=e.styleInfo[b];a=e.el.getStyle(b);if(d&&d.parseInt){a=parseInt(a,10)||0}c[b]=a}return a},getStyles:function(f,e){var l=this,i=l.styles,j={},h=0,o=f.length,a,b,d,c,k,m,n,g;e=e||f;for(a=0;a<o;++a){c=f[a];if(c in i){j[e[a]]=i[c];++h;if(a&&h==1){b=f.slice(0,a);d=e.slice(0,a)}}else {if(h){(b||(b=[])).push(c);(d||(d=[])).push(e[a])}}}if(h<o){b=b||f;d=d||e;m=l.styleInfo;n=l.el.getStyle(b);for(a=b.length;a--;){c=b[a];k=m[c];g=n[c];if(k&&k.parseInt){g=parseInt(g,10)||0}j[d[a]]=g;i[c]=g}}return j},hasProp:function(a){return this.getProp(a)!=null},hasDomProp:function(a){return this.getDomProp(a)!=null},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){if(++this.dirtyCount==1){this.context.queueFlush(this)}},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(d,a,c){if(a===!0){a=5}var e=typeof a,b;if(e=='string'||e=='number'){b=d.parseBox(a)}else {if(a||c){b={top:0,right:0,bottom:0,left:0};if(c){Ext.apply(b,this.parseMargins(d,c))}if(a){a=Ext.apply(b,d.parseBox(a))}}}return b},peek:function(a){return this.props[a]},recoverProp:function(a,d,b){var c=this,f=c.props,e;if(a in d){f[a]=d[a];if(b&&a in b){e=c.dirty||(c.dirty={});e[a]=b[a]}}},redo:function(e){var c=this,b,d,a;c.revertProps(c.props);if(e&&c.wrapsComponent){if(c.childItems){for(a=0,b=c.childItems,d=b.length;a<d;a++){b[a].redo(e)}}for(a=0,b=c.children,d=b.length;a<d;a++){b[a].redo()}}},removeEl:function(b,e){var d=this,c,a;if(b){if(b.dom){a=b}else {c=d.target;if(e){c=e}a=c[b];if(typeof a=='function'){a=a.call(c);if(a===d.el){return this}}}if(a){d.context.removeEl(d,a)}}},revertProps:function(c){var a,d=this.flushedProps,b={};for(a in c){if(d.hasOwnProperty(a)){b[a]=c[a]}}this.writeProps(b)},setAttribute:function(c,b){var a=this;if(!a.attributes){a.attributes={}}a.attributes[c]=b;a.markDirty()},setBox:function(a){var b=this;if('left' in a){b.setProp('x',a.left)}if('top' in a){b.setProp('y',a.top)}b.setSize(a.width,a.height)},setContentHeight:function(b,a){if(!a&&this.hasRawContent){return 1}return this.setProp('contentHeight',b)},setContentWidth:function(b,a){if(!a&&this.hasRawContent){return 1}return this.setProp('contentWidth',b)},setContentSize:function(c,b,a){return this.setContentWidth(c,a)+this.setContentHeight(b,a)==2},setProp:function(b,c,f){var a=this,d=typeof c,e;if(d=='undefined'||d==='number'&&isNaN(c)){return 0}if(a.props[b]===c){return 1}a.props[b]=c;++a.context.progressCount;if(f===!1){a.fireTriggers('domTriggers',b);a.clearBlocks('domBlocks',b)}else {e=a.styleInfo[b];if(e){if(!a.dirty){a.dirty={}}a.dirty[b]=c;a.markDirty()}}a.fireTriggers('triggers',b);a.clearBlocks('blocks',b);return 1},setHeight:function(b,e){var a=this,h=a.target,c=a.ownerCtContext,d,f,i,g,j;if(b<0){b=0}if(!a.wrapsComponent){if(!a.setProp('height',b,e)){return NaN}}else {i=a.collapsedVert?0:h.minHeight||0;b=Ext.Number.constrain(b,i,h.maxHeight);g=a.props.height;if(!a.setProp('height',b,e)){return NaN}if(c&&!a.isComponentChild&&isNaN(g)){j=--c.remainingChildDimensions;if(!j){c.setProp('containerChildrenSizeDone',!0)}}d=a.frameBodyContext;if(d){f=a.getFrameInfo();d.setHeight(b-f.height,e)}}return b},setWidth:function(b,e){var a=this,h=a.target,c=a.ownerCtContext,d,f,i,g,j;if(b<0){b=0}if(!a.wrapsComponent){if(!a.setProp('width',b,e)){return NaN}}else {i=a.collapsedHorz?0:h.minWidth||0;b=Ext.Number.constrain(b,i,h.maxWidth);g=a.props.width;if(!a.setProp('width',b,e)){return NaN}if(c&&!a.isComponentChild&&isNaN(g)){j=--c.remainingChildDimensions;if(!j){c.setProp('containerChildrenSizeDone',!0)}}d=a.frameBodyContext;if(d){f=a.getFrameInfo();d.setWidth(b-f.width,e)}}return b},setSize:function(c,b,a){this.setWidth(c,a);this.setHeight(b,a)},translateProps:{x:'left',y:'top'},undo:function(e){var c=this,b,d,a;c.revertProps(c.lastBox);if(e&&c.wrapsComponent){if(c.childItems){for(a=0,b=c.childItems,d=b.length;a<d;a++){b[a].undo(e)}}for(a=0,b=c.children,d=b.length;a<d;a++){b[a].undo()}}},unsetProp:function(a){var b=this.dirty;delete this.props[a];if(b){delete b[a]}},writeProps:function(a,s){if(!(a&&typeof a=='object')){return}var b=this,q=b.el,d={},e=0,r=b.styleInfo,f,c,k,i=a.width,h=a.height,o=b.target,m,l,g,j,p,n;if('displayed' in a){q.setDisplayed(a.displayed)}for(c in a){if(s){b.fireTriggers('domTriggers',c);b.clearBlocks('domBlocks',c);b.flushedProps[c]=1}f=r[c];if(f&&f.dom){if(f.suffix&&(k=parseInt(a[c],10))){d[c]=k+f.suffix}else {d[c]=a[c]}++e}}if('x' in a||'y' in a){if(o.isComponent){o.setPosition(a.x,a.y)}else {e+=b.addPositionStyles(d,a)}}if(b.wrapsComponent&&Ext.isIE9){if((m=i!==undefined&&b.hasOverflowY)||(l=h!==undefined&&b.hasOverflowX)){g=b.isAbsolute;if(g===undefined){g=!1;n=b.target.getTargetEl();p=n.getStyle('position');b.isAbsolute=p==='absolute'}if(g){j=Ext.getScrollbarSize();if(m){i=parseInt(i,10)+j.width;d.width=i+'px';++e}if(l){h=parseInt(h,10)+j.height;d.height=h+'px';++e}}}}if(e){q.setStyle(d)}}},1,0,0,0,0,0,[Ext.layout,'ContextItem'],function(){var a={dom:!0,parseInt:!0,suffix:'px'},c={dom:!0},b={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:b,containerLayoutDone:b,displayed:b,done:b,x:b,y:b,columnWidthsDone:b,left:a,top:a,right:a,bottom:a,width:a,height:a,'border-top-width':a,'border-right-width':a,'border-bottom-width':a,'border-left-width':a,'margin-top':a,'margin-right':a,'margin-bottom':a,'margin-left':a,'padding-top':a,'padding-right':a,'padding-bottom':a,'padding-left':a,'line-height':c,display:c}});Ext.cmd.derive('Ext.layout.Context',Ext.Base,{remainingLayouts:0,state:0,constructor:function(b){var a=this;Ext.apply(a,b);a.items={};a.layouts={};a.blockCount=0;a.cycleCount=0;a.flushCount=0;a.calcCount=0;a.animateQueue=a.newQueue();a.completionQueue=a.newQueue();a.finalizeQueue=a.newQueue();a.finishQueue=a.newQueue();a.flushQueue=a.newQueue();a.invalidateData={};a.layoutQueue=a.newQueue();a.invalidQueue=[];a.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=a;a[b](this.getCmp(a.owner))},cancelComponent:function(a,p,o){var c=this,l=a,n=!a.isComponent,q=n?l.length:1,e,f,j,d,b,m,h,i,k,g;for(e=0;e<q;++e){if(n){a=l[e]}if(o&&a.ownerCt){g=this.items[a.ownerCt.el.id];if(g){Ext.Array.remove(g.childItems,c.getCmp(a))}}if(!p){h=c.invalidQueue;j=h.length;if(j){c.invalidQueue=m=[];for(f=0;f<j;++f){i=h[f];k=i.item.target;if(k!=a&&!k.isDescendantOf(a)){m.push(i)}}}}b=a.componentLayout;c.cancelLayout(b);if(b.getLayoutItems){d=b.getLayoutItems();if(d.length){c.cancelComponent(d,!0)}}if(a.isContainer&&!a.collapsed){b=a.layout;c.cancelLayout(b);d=b.getVisibleItems();if(d.length){c.cancelComponent(d,!0)}}}},cancelLayout:function(a){var b=this;b.completionQueue.remove(a);b.finalizeQueue.remove(a);b.finishQueue.remove(a);b.layoutQueue.remove(a);if(a.running){b.layoutDone(a)}a.ownerContext=null},clearTriggers:function(h,f){var g=h.id,a=this.triggers[f?'dom':'data'],c=a&&a[g],i=c&&c.length||0,b,e,d;for(b=0;b<i;++b){d=c[b];e=d.item;a=f?e.domTriggers:e.triggers;delete a[d.prop][g]}},flush:function(){var d=this,c=d.flushQueue.clear(),b=c.length,a;if(b){++d.flushCount;for(a=0;a<b;++a){c[a].flush()}}},flushAnimations:function(){var d=this,b=d.animateQueue.clear(),c=b.length,a;if(c){for(a=0;a<c;a++){if(b[a].target.animate!==!1){b[a].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var b=this,f=b.invalidQueue,g=f&&f.length,a,d,e,c;b.invalidQueue=[];if(g){d=[];for(c=0;c<g;++c){a=(e=f[c]).item.target;if(!a.container.isDetachedBody){d.push(a);if(e.options){b.invalidateData[a.id]=e.options}}}b.invalidate(d,null)}},flushLayouts:function(d,g,h){var a=this,e=h?a[d].items:a[d].clear(),f=e.length,b,c;if(f){for(b=0;b<f;++b){c=e[b];if(!c.running){a.callLayout(c,g)}}a.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(b,c){var a=this.getItem(c,c);if(!a.parent){a.parent=b;if(b.children.length){b.children.push(a)}else {b.children=[a]}}return a},getItem:function(d,b){var c=b.id,a=this.items,e=a[c]||(a[c]=new Ext.layout.ContextItem({context:this,target:d,el:b}));return e},handleFailure:function(){var a=this.layouts,b,c;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(c in a){b=a[c];if(a.hasOwnProperty(c)){b.running=!1;b.ownerContext=null}}},invalidate:function(i,q){var d=this,o=!i.isComponent,l,h,m,k,c,a,g,p,e,b,f,n,j;for(k=0,p=o?i.length:1;k<p;++k){c=o?i[k]:i;if(c.rendered&&!c.hidden){h=c.ownerLayout;e=c.componentLayout;m=!e.ownerContext;j=!1;if((!h||!h.needsItemSize)&&c.liquidLayout){j=!0}if(!j||h&&h.setsItemSize){a=d.getCmp(c);b=c.isContainer&&!c.collapsed?c.layout:null;f=d.invalidateData[a.id];delete d.invalidateData[a.id];n=a.init(q,f)}if(j){continue}if(f){d.processInvalidate(f,a,'before')}if(e.beforeLayoutCycle){e.beforeLayoutCycle(a)}if(b&&b.beforeLayoutCycle){b.beforeLayoutCycle(a)}n=a.initContinue(n);l=!0;if(e.getLayoutItems){e.renderChildren();g=e.getLayoutItems();if(g.length){d.invalidate(g,!0)}}if(b){l=!1;b.renderChildren();if(b.needsItemSize||b.activeItemCount){g=b.getVisibleItems();if(g.length){d.invalidate(g,!0)}}}a.initDone(l);d.resetLayout(e,a,m);if(b){d.resetLayout(b,a,m)}a.initAnimation();if(f){d.processInvalidate(f,a,'after')}}}d.currentLayout=null},layoutDone:function(b){var a=b.ownerContext;b.running=!1;if(b.isComponentLayout){if(a.measuresBox){a.onBoxMeasured()}a.setProp('done',!0)}else {a.setProp('containerLayoutDone',!0)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(a,e,c){if(a[c]){var b=this,d=b.currentLayout;b.currentLayout=a.layout||null;a[c](e,a);b.currentLayout=d}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(b,a,d){var c=this,g=b.layout,f=a.layout,e=b[d],h=a[d];return function(i){var j=c.currentLayout;if(e){c.currentLayout=g;e.call(b.scope||b,i,b)}c.currentLayout=f;h.call(a.scope||a,i,a);c.currentLayout=j}},purgeInvalidates:function(){var j=this,a=[],i=j.invalidQueue,k=i.length,c,b,h,e,d,f,g;for(c=0;c<k;++c){d=i[c];f=d.item.target;g=!0;for(b=a.length;b--;){h=a[b];e=h.item.target;if(f.isDescendant(e)){g=!1;break}if(e.isDescendant(f)){Ext.Array.erase(a,b,1)}}if(g){a.push(d)}}j.invalidQueue=a},queueInvalidate:function(c,a){var f=this,h=[],i=f.invalidQueue,k=i.length,d,e,g,b,j;if(c.isComponent){c=f.getCmp(d=c)}else {d=c.target}c.invalid=!0;while(k--){e=i[k];g=e.item.target;if(d.isDescendantOf(g)){return}if(g==d){if(!(b=e.options)){e.options=a}else {if(a){if(a.widthModel){b.widthModel=a.widthModel}if(a.heightModel){b.heightModel=a.heightModel}if(!(j=b.state)){b.state=a.state}else {if(a.state){Ext.apply(j,a.state)}}if(a.before){b.before=f.chainFns(b,a,'before')}if(a.after){b.after=f.chainFns(b,a,'after')}}}return}if(!g.isDescendantOf(d)){h.push(e)}}h.push({item:c,options:a});f.invalidQueue=h},queueItemLayouts:function(b){var c=b.isComponent?b:b.target,a=c.componentLayout;if(!a.pending&&!a.invalid&&!a.done){this.queueLayout(a)}a=c.layout;if(a&&!a.pending&&!a.invalid&&!a.done){this.queueLayout(a)}},queueLayout:function(a){this.layoutQueue.add(a);a.pending=!0},removeEl:function(d,e){var c=e.id,a=d.children,b=this.items;if(a){Ext.Array.remove(a,b[c])}delete b[c]},resetLayout:function(a,c,d){var b=this;b.currentLayout=a;a.done=!1;a.pending=!0;a.firedTriggers=0;b.layoutQueue.add(a);if(d){b.layouts[a.id]=a;a.running=!0;if(a.finishedLayout){b.finishQueue.add(a)}++b.remainingLayouts;++a.layoutCount;a.ownerContext=c;a.beginCount=0;a.blockCount=0;a.calcCount=0;a.triggerCount=0;if(!a.initialized){a.initLayout()}a.beginLayout(c)}else {++a.beginCount;if(!a.running){++b.remainingLayouts;a.running=!0;if(a.isComponentLayout){c.unsetProp('done')}b.completionQueue.remove(a);b.finalizeQueue.remove(a)}}a.beginLayoutCycle(c,d)},run:function(){var a=this,b=!1,c=100;a.purgeInvalidates();a.flushInvalidates();a.state=1;a.totalCount=a.layoutQueue.getCount();a.flush();while((a.remainingLayouts||a.invalidQueue.length)&&c--){if(a.invalidQueue.length){a.flushInvalidates()}if(a.runCycle()){b=!1}else {if(!b){a.flush();b=!0;a.flushLayouts('completionQueue','completeLayout')}else {if(!a.invalidQueue.length){a.state=2;break}}}if(!(a.remainingLayouts||a.invalidQueue.length)){a.flush();a.flushLayouts('completionQueue','completeLayout');a.flushLayouts('finalizeQueue','finalizeLayout')}}return a.runComplete()},runComplete:function(){var a=this;a.state=2;if(a.remainingLayouts){a.handleFailure();return !1}a.flush();a.flushLayouts('finishQueue','finishedLayout',!0);a.flushLayouts('finishQueue','notifyOwner');a.flush();a.flushAnimations();return !0},runCycle:function(){var a=this,c=a.layoutQueue.clear(),d=c.length,b;++a.cycleCount;a.progressCount=0;for(b=0;b<d;++b){a.runLayout(a.currentLayout=c[b])}a.currentLayout=null;return a.progressCount>0},runLayout:function(a){var b=this,c=b.getCmp(a.owner);a.pending=!1;if(c.state.blocks){return}a.done=!0;++a.calcCount;++b.calcCount;a.calculate(c);if(a.done){b.layoutDone(a);if(a.completeLayout){b.queueCompletion(a)}if(a.finalizeLayout){b.queueFinalize(a)}}else {if(!a.pending&&!a.invalid&&!(a.blockCount+a.triggerCount-a.firedTriggers)){b.queueLayout(a)}}},setItemSize:function(a,g,f){var b=a,c=1,e,d;if(a.isComposite){b=a.elements;c=b.length;a=b[0]}else {if(!a.dom&&!a.el){c=b.length;a=b[0]}}for(d=0;d<c;){e=this.get(a);e.setSize(g,f);a=b[++d]}}},1,0,0,0,0,0,[Ext.layout,'Context'],0);Ext.cmd.derive('Ext.layout.component.Body',Ext.layout.component.Auto,{type:'body',beginLayout:function(a){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);a.bodyContext=a.getEl('body')},beginLayoutCycle:function(d,f){var a=this,c=a.lastWidthModel,b=a.lastHeightModel,e=a.owner.body;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(c&&c.fixed&&d.widthModel.shrinkWrap){e.setWidth(null)}if(b&&b.fixed&&d.heightModel.shrinkWrap){e.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(a,c){var b=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);if(a.targetContext!=a){b+=a.getPaddingInfo().height}return b},calculateOwnerWidthFromContentWidth:function(a,c){var b=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.apply(this,arguments);if(a.targetContext!=a){b+=a.getPaddingInfo().width}return b},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(a,d){var b=d-a.getFrameInfo().height,c=a.targetContext;if(c!=a){b-=a.getPaddingInfo().height}return a.bodyContext.setHeight(b,!a.heightModel.natural)},publishInnerWidth:function(a,d){var b=d-a.getFrameInfo().width,c=a.targetContext;if(c!=a){b-=a.getPaddingInfo().width}a.bodyContext.setWidth(b,!a.widthModel.natural)}},0,0,0,0,['layout.body'],0,[Ext.layout.component,'Body'],0);Ext.cmd.derive('Ext.layout.component.FieldSet',Ext.layout.component.Body,{type:'fieldset',defaultCollapsedWidth:100,beforeLayoutCycle:function(a){if(a.target.collapsed){a.heightModel=this.sizeModels.shrinkWrap}},beginLayoutCycle:function(a){var b=a.target,c;Ext.layout.component.Body.prototype.beginLayoutCycle.apply(this,arguments);if(b.collapsed){a.setContentHeight(0);a.restoreMinHeight=b.minHeight;delete b.minHeight;if(a.widthModel.shrinkWrap){c=b.lastComponentSize;a.setContentWidth(c&&c.contentWidth||this.defaultCollapsedWidth)}}},finishedLayout:function(b){var c=this.owner,a=b.restoreMinHeight;Ext.layout.component.Body.prototype.finishedLayout.apply(this,arguments);if(a){c.minHeight=a}},calculateOwnerHeightFromContentHeight:function(a,d){var b=a.getBorderInfo(),c=a.target.legend;return a.getProp('contentHeight')+a.getPaddingInfo().height+(Ext.isIE8?a.bodyContext.getPaddingInfo().top:0)+(c?c.getHeight():b.top)+b.bottom},publishInnerHeight:function(a,b){var c=a.target.legend;if(c){b-=c.getHeight()}Ext.layout.component.Body.prototype.publishInnerHeight.call(this,a,b)},getLayoutItems:function(){var a=this.owner.legend;return a?[a]:[]}},0,0,0,0,['layout.fieldset'],0,[Ext.layout.component,'FieldSet'],0);Ext.cmd.derive('Ext.menu.Item',Ext.Component,{alternateClassName:'Ext.menu.TextItem',isMenuItem:!0,activeCls:'x-menu-item-active',ariaRole:'menuitem',canActivate:!0,clickHideDelay:0,destroyMenu:!0,disabledCls:'x-menu-item-disabled',hideOnClick:!0,menuAlign:'tl-tr?',menuExpandDelay:200,menuHideDelay:200,tooltipType:'qtip',arrowCls:'x-menu-item-arrow',baseIconCls:'x-menu-item-icon',textCls:'x-menu-item-text',indentCls:'x-menu-item-indent',indentNoSeparatorCls:'x-menu-item-indent-no-separator',indentRightIconCls:'x-menu-item-indent-right-icon',indentRightArrowCls:'x-menu-item-indent-right-arrow',linkCls:'x-menu-item-link',linkHrefCls:'x-menu-item-link-href',childEls:['itemEl','iconEl','textEl','arrowEl'],renderTpl:['<tpl if="plain">','{text}','<tpl else>','<a id="{id}-itemEl"',' class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}"',' href="{href}" role="menuitem" ','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"','</tpl>','>','<span id="{id}-textEl" class="{textCls} {indentCls}{childElCls}" unselectable="on">{text}</span>','<tpl if="hasIcon">','<div role="presentation" id="{id}-iconEl" class="{baseIconCls}','{[values.rightIcon ? "-right" : ""]} {iconCls}','{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>','</div>','</tpl>','<tpl if="showCheckbox">','<div role="presentation" id="{id}-checkEl" class="{baseIconCls}','{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} ','{groupCls} {checkboxCls}{childElCls}">','</div>','</tpl>','<tpl if="hasMenu">','<div role="presentation" id="{id}-arrowEl" class="{arrowCls}{childElCls}"></div>','</tpl>','</a>','</tpl>'],maskOnDisable:!1,iconAlign:'left',activate:function(b){var a=this;if(b||!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible()){if(!a.plain){a.el.addCls(a.activeCls)}a.focus(!1,!0);a.activated=!0;if(a.hasListeners.activate){a.fireEvent('activate',a)}}},getFocusEl:function(){return this.itemEl},deactivate:function(){var a=this,b;if(a.activated){b=a.up('');if(!a.plain){a.el.removeCls(a.activeCls)}if(b){b.focus(!1,!0)}a.hideMenu();a.activated=!1;if(a.hasListeners.deactivate){a.fireEvent('deactivate',a)}}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement()){a=this.up(':not([hidden])');if(a){a.focus()}}},expandMenu:function(b){var a=this;if(a.menu){a.cancelDeferHide();if(b===0){a.doExpandMenu()}else {clearTimeout(a.expandMenuTimer);a.expandMenuTimer=Ext.defer(a.doExpandMenu,Ext.isNumber(b)?b:a.menuExpandDelay,a)}}},doExpandMenu:function(){var b=this,a=b.menu;if(b.activated&&(!a.rendered||!a.isVisible())){b.parentMenu.activeChild=a;a.parentItem=b;a.parentMenu=b.parentMenu;a.constrainTo=document.body;a.showBy(b,b.menuAlign)}},getRefItems:function(c){var b=this.menu,a;if(b){a=b.getRefItems(c);a.unshift(b)}return a||[]},hideMenu:function(b){var a=this;if(a.menu){clearTimeout(a.expandMenuTimer);a.hideMenuTimer=Ext.defer(a.deferHideMenu,Ext.isNumber(b)?b:a.menuHideDelay,a)}},initComponent:function(){var a=this,c='x-',b=[c+'menu-item'],d;if(a.plain){b.push(c+'menu-item-plain')}if(a.cls){b.push(a.cls)}a.cls=b.join(' ');if(a.menu){d=a.menu;delete a.menu;a.setMenu(d)}Ext.Component.prototype.initComponent.apply(this,arguments)},onClick:function(b){var a=this,c=a.clickHideDelay;if(!a.href||a.disabled){b.stopEvent()}if(a.disabled){return}if(a.hideOnClick&&b.browserEvent.type!=='touchcancel'&&!(b.type==='tap'&&a.menu)){if(!c){a.deferHideParentMenus()}else {a.deferHideParentMenusTimer=Ext.defer(a.deferHideParentMenus,c,a)}}Ext.callback(a.handler,a.scope,[a,b],0,a);a.fireEvent('click',a,b);if(!a.hideOnClick){a.focus()}},onRemoved:function(){var a=this;if(a.activated&&a.parentMenu.activeItem===a){a.parentMenu.deactivateActiveItem()}Ext.Component.prototype.onRemoved.apply(this,arguments);a.parentMenu=a.ownerButton=null},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer);a.cancelDeferHide();clearTimeout(a.deferHideParentMenusTimer);a.setMenu(null);Ext.Component.prototype.onDestroy.apply(this,arguments)},beforeRender:function(){var a=this,c=a.glyph,j=Ext._glyphFontFamily,b=!!(a.icon||a.iconCls||c),f=!!a.menu,i=a.iconAlign==='right'&&!f,e=a.isMenuCheckItem,d=[],k=a.ownerCt,g=k.plain,h;Ext.Component.prototype.beforeRender.call(this);if(b){if(f&&a.showCheckbox){b=!1}}if(typeof c==='string'){h=c.split('@');c=h[0];j=h[1]}if(!g||b&&!i||e){if(k.showSeparator&&!g){d.push(a.indentCls)}else {d.push(a.indentNoSeparatorCls)}}if(f){d.push(a.indentRightArrowCls)}else {if(b&&(i||e)){d.push(a.indentRightIconCls)}}Ext.applyIf(a.renderData,{hasHref:!!a.href,href:a.href||'#',hrefTarget:a.hrefTarget,icon:a.icon,iconCls:a.iconCls,glyph:c,glyphCls:c?'x-menu-item-glyph':undefined,glyphFontFamily:j,hasIcon:b,hasMenu:f,indent:!g||b||e,isCheckItem:e,rightIcon:i,plain:a.plain,text:a.text,arrowCls:a.arrowCls,baseIconCls:a.baseIconCls,textCls:a.textCls,indentCls:d.join(' '),linkCls:a.linkCls,linkHrefCls:a.linkHrefCls,groupCls:a.group?a.groupCls:'',tabIndex:a.tabIndex})},onRender:function(){var a=this;Ext.Component.prototype.onRender.apply(this,arguments);if(a.tooltip){a.setTooltip(a.tooltip,!0)}},setMenu:function(e,c){var a=this,b=a.menu,d=a.arrowEl;if(b){delete b.parentItem;delete b.parentMenu;delete b.ownerItem;if(c===!0||c!==!1&&a.destroyMenu){Ext.destroy(b)}}if(e){a.menu=Ext.menu.Manager.get(e);a.menu.ownerItem=a}else {a.menu=null}if(a.rendered&&!a.destroying&&d){d[a.menu?'addCls':'removeCls'](a.arrowCls)}},setHandler:function(b,a){this.handler=b||null;this.scope=a},setIcon:function(a){var b=this.iconEl,c=this.icon;if(b){b.src=a||Ext.BLANK_IMAGE_URL}this.icon=a;this.fireEvent('iconchange',this,c,a)},setIconCls:function(b){var a=this,c=a.iconEl,d=a.iconCls;if(c){if(a.iconCls){c.removeCls(a.iconCls)}if(b){c.addCls(b)}}a.iconCls=b;a.fireEvent('iconchange',a,d,b)},setText:function(b){var a=this,d=a.textEl||a.el,c=a.text;a.text=b;if(a.rendered){d.setHtml(b||'');a.ownerCt.updateLayout()}a.fireEvent('textchange',a,c,b)},getTipAttr:function(){return this.tooltipType=='qtip'?'data-qtip':'title'},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(b,c){var a=this;if(a.rendered){if(!c){a.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(b)){Ext.tip.QuickTipManager.register(Ext.apply({target:a.itemEl.id},b));a.tooltip=b}else {a.itemEl.dom.setAttribute(a.getTipAttr(),b)}}else {a.tooltip=b}return a}},0,['menuitem'],['component','box','menuitem'],{'component':!0,'box':!0,'menuitem':!0},['widget.menuitem'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.menu,'Item',Ext.menu,'TextItem'],0);Ext.cmd.derive('Ext.menu.CheckItem',Ext.menu.Item,{checkedCls:'x-menu-item-checked',uncheckedCls:'x-menu-item-unchecked',groupCls:'x-menu-group-icon',hideOnClick:!1,checkChangeDisabled:!1,ariaRole:'menuitemcheckbox',childEls:['itemEl','iconEl','textEl','checkEl'],showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:'x-menu-item-checkbox',initComponent:function(){var a=this;a.checked=!!a.checked;Ext.menu.Item.prototype.initComponent.apply(this,arguments);Ext.menu.Manager.registerCheckable(a);if(a.group){if(a.initialConfig.hideOnClick!==!1){a.hideOnClick=!0}}},beforeRender:function(){var a=this;Ext.menu.Item.prototype.beforeRender.call(this);Ext.apply(a.renderData,{checkboxCls:a.checkboxCls,showCheckbox:a.showCheckbox})},afterRender:function(){var a=this;Ext.menu.Item.prototype.afterRender.call(this);a.checked=!a.checked;a.setChecked(!a.checked,!0);if(a.checkChangeDisabled){a.disableCheckChange()}},disableCheckChange:function(){var a=this,b=a.checkEl;if(b){b.addCls(a.disabledCls)}if(Ext.isIE8&&a.rendered){a.el.repaint()}a.checkChangeDisabled=!0},enableCheckChange:function(){var a=this,b=a.checkEl;if(b){b.removeCls(a.disabledCls)}a.checkChangeDisabled=!1},onClick:function(b){var a=this;if(!a.disabled&&!a.checkChangeDisabled&&!(a.checked&&a.group)){a.setChecked(!a.checked)}Ext.menu.Item.prototype.onClick.call(this,b)},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);Ext.menu.Item.prototype.onDestroy.apply(this,arguments)},setChecked:function(b,d){var a=this,f=a.checkedCls,e=a.uncheckedCls,c=a.el;if(a.checked!==b&&(d||a.fireEvent('beforecheckchange',a,b)!==!1)){if(c){if(b){c.addCls(f);c.removeCls(e)}else {c.addCls(e);c.removeCls(f)}}a.checked=b;Ext.menu.Manager.onCheckChange(a,b);if(!d){Ext.callback(a.checkHandler,a.scope||a,[a,b]);a.fireEvent('checkchange',a,b)}}}},0,['menucheckitem'],['component','box','menuitem','menucheckitem'],{'component':!0,'box':!0,'menuitem':!0,'menucheckitem':!0},['widget.menucheckitem'],0,[Ext.menu,'CheckItem'],0);Ext.cmd.derive('Ext.menu.KeyNav',Ext.util.KeyNav,{constructor:function(b){var a=this;a.menu=b.target;Ext.util.KeyNav.prototype.constructor.call(this,Ext.apply({down:a.down,enter:a.enter,esc:a.escape,left:a.left,right:a.right,space:a.enter,tab:a.tab,up:a.up},b))},down:function(c){var a=this,b=a.menu.focusedItem;if(b&&c.getKey()==c.DOWN&&a.isWhitelisted(b)){return !0}a.focusNextItem(1)},enter:function(c){var a=this.menu,b=a.focusedItem;if(a.activeItem){a.onClick(c)}else {if(b&&b.isFormField){return !0}}},escape:function(a){Ext.menu.Manager.hideAll()},focusNextItem:function(i){var b=this.menu,c=b.items,f=b.focusedItem,g=f?c.indexOf(f):-1,a=g+i,e=c.length,h=0,d;while(h<e&&a!==g){if(a<0){a=e-1}else {if(a>=e){a=0}}d=c.getAt(a);if(b.canActivateItem(d)){b.setActiveItem(d);break}a+=i;++h}},isWhitelisted:function(b){var a=Ext['FocusManager'];return a&&a.isWhitelisted(b)},left:function(c){var a=this.menu,b=a.focusedItem;if(b&&this.isWhitelisted(b)){return !0}if(a.parentMenu){a.hide();a.parentMenu.focus()}},right:function(e){var b=this.menu,d=b.focusedItem,c=b.activeItem,a;if(d&&this.isWhitelisted(d)){return !0}if(c){a=b.activeItem.menu;if(a){c.expandMenu(0);a.setActiveItem(a.child(':focusable'))}}},tab:function(a){var b=this;if(a.shiftKey){b.up(a)}else {b.down(a)}},up:function(c){var a=this,b=a.menu.focusedItem;if(b&&c.getKey()==c.UP&&a.isWhitelisted(b)){return !0}a.focusNextItem(-1)}},1,0,0,0,0,0,[Ext.menu,'KeyNav'],0);Ext.cmd.derive('Ext.menu.Separator',Ext.menu.Item,{canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:'x-menu-item-separator',text:'&#160;',ariaRole:'separator',beforeRender:function(c,b){var a=this;Ext.menu.Item.prototype.beforeRender.call(this);a.addCls(a.separatorCls)}},0,['menuseparator'],['component','box','menuitem','menuseparator'],{'component':!0,'box':!0,'menuitem':!0,'menuseparator':!0},['widget.menuseparator'],0,[Ext.menu,'Separator'],0);Ext.define('ExtThemeNeptune.menu.Separator',{override:'Ext.menu.Separator',border:!0});Ext.cmd.derive('Ext.menu.Menu',Ext.panel.Panel,{enableKeyNav:!0,allowOtherMenus:!1,ariaRole:'menu',floating:!0,constrain:!0,hidden:!0,hideMode:'visibility',ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:undefined,defaultMinWidth:120,defaultAlign:'tl-bl?',layout:{type:'vbox',align:'stretchmax',overflowHandler:'Scroller'},initComponent:function(){var a=this,c=['x-menu'],b=a.bodyCls?[a.bodyCls]:[],d=a.floating!==!1;Ext.menu.Manager.register(a);if(a.plain){c.push('x-menu-plain')}a.cls=c.join(' ');b.push('x-menu-body',Ext.dom.Element.unselectableCls);a.bodyCls=b.join(' ');if(d){if(a.minWidth===undefined){a.minWidth=a.defaultMinWidth}}else {a.hidden=!!a.initialConfig.hidden;a.constrain=!1}Ext.panel.Panel.prototype.initComponent.apply(this,arguments);Ext.override(a.getLayout(),{configureItem:a.configureItem})},initHierarchyEvents:Ext.emptyFn,getInherited:function(){var a=Ext.panel.Panel.prototype.getInherited.call(this);a.hidden=this.hidden;return a},beforeRender:function(){Ext.panel.Panel.prototype.beforeRender.apply(this,arguments);if(!this.getSizeModel().width.shrinkWrap){this.layout.align='stretch'}},onBoxReady:function(){var a=this,b={click:a.onClick,mouseover:a.onMouseOver,scope:a};if(Ext.supports.Touch){b.touchstart=a.onMouseOver}Ext.panel.Panel.prototype.onBoxReady.apply(this,arguments);if(a.showSeparator){a.iconSepEl=a.layout.getElementTarget().insertFirst({role:'presentation',cls:'x-menu-icon-separator',html:'&#160;'})}a.mon(a.el,b);a.mouseMonitor=a.el.monitorMouseLeave(100,a.onMouseLeave,a);if(a.enableKeyNav){a.keyNav=new Ext.menu.KeyNav({target:a,keyMap:a.getKeyMap()})}},getRefOwner:function(){return this.parentMenu||this.ownerButton||Ext.panel.Panel.prototype.getRefOwner.apply(this,arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||!a.isMenuItem)},deactivateActiveItem:function(d){var a=this,b=a.activeItem,c=a.focusedItem;if(b){b.deactivate();if(!b.activated){delete a.activeItem}}if(c&&d){c.blur();delete a.focusedItem}},getFocusEl:function(){return this.focusedItem||this.items.items[0]},hide:function(){this.deactivateActiveItem(!0);Ext.panel.Panel.prototype.hide.apply(this,arguments)},getItemFromEvent:function(d){var c=this,b=c.layout.getRenderTarget().dom,a=d.getTarget();while(a.parentNode!==b){a=a.parentNode;if(!a){return}}return Ext.getCmp(a.id)},lookupComponent:function(a){var b=this;if(typeof a=='string'){a=b.lookupItemFromString(a)}else {if(Ext.isObject(a)){a=b.lookupItemFromObject(a)}}a.minWidth=a.minWidth||b.minWidth;return a},lookupItemFromObject:function(a){var b=this;if(!a.isComponent){if(!a.xtype){a=Ext.create('Ext.menu.'+(Ext.isBoolean(a.checked)?'Check':'')+'Item',a)}else {a=Ext.ComponentManager.create(a,a.xtype)}}if(a.isMenuItem){a.parentMenu=b}return a},lookupItemFromString:function(a){return a=='separator'||a=='-'?new Ext.menu.Separator():new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:a})},configureItem:function(a){var d=this,e=d.owner,c='x-',b;if(d.owner.items.getCount()>1&&!a.rendered&&!a.isMenuItem&&!a.dock){b=[c+'menu-item-cmp'];if(!e.plain&&(a.indent!==!1||a.iconCls==='no-icon')){b.push(c+'menu-item-indent')}if(a.rendered){a.el.addCls(b)}else {a.cls=(a.cls||'')+' '+b.join(' ')}}this.callParent(arguments)},onClick:function(c){var b=this,d=c.type,a;if(b.disabled){c.stopEvent();return}a=d!=='keydown'?b.getItemFromEvent(c):b.activeItem;if(a&&a.isMenuItem){if(!a.menu||!b.ignoreParentClicks){a.onClick(c)}else {c.stopEvent()}}if(!a||a.disabled){a=undefined}b.fireEvent('click',b,a,c)},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a);a.parentMenu=a.ownerButton=null;if(a.rendered){a.el.un(a.mouseMonitor);Ext.destroy(a.keyNav);a.keyNav=null}Ext.panel.Panel.prototype.onDestroy.apply(this,arguments)},onMouseLeave:function(b){var a=this;a.deactivateActiveItem();if(a.disabled){return}a.fireEvent('mouseleave',a,b)},onMouseOver:function(c){var a=this,g=c.getRelatedTarget(),e=!a.el.contains(g),b=a.getItemFromEvent(c),d=a.parentMenu,f=a.parentItem;if(e&&d){d.setActiveItem(f);f.cancelDeferHide();d.mouseMonitor.mouseenter()}if(a.disabled){return}if(b&&!b.activated){a.setActiveItem(b);if(b.activated&&b.expandMenu){b.expandMenu()}}if(e){a.fireEvent('mouseenter',a,c)}a.fireEvent('mouseover',a,b,c)},setActiveItem:function(a){var b=this;if(a&&a!=b.activeItem){b.deactivateActiveItem();if(b.canActivateItem(a)){if(a.activate){a.activate(!0);if(a.activated){b.activeItem=a;b.focusedItem=a}}else {a.focus();b.focusedItem=a}}}},beforeShow:function(){var a=this,b;if(a.floating){a.savedMaxHeight=a.maxHeight;b=a.container.getViewSize().height;a.maxHeight=Math.min(a.maxHeight||b,b)}Ext.panel.Panel.prototype.beforeShow.apply(this,arguments)},afterShow:function(){var a=this;Ext.panel.Panel.prototype.afterShow.apply(this,arguments);if(a.floating){a.maxHeight=a.savedMaxHeight}}},0,['menu'],['component','box','container','panel','menu'],{'component':!0,'box':!0,'container':!0,'panel':!0,'menu':!0},['widget.menu'],0,[Ext.menu,'Menu'],0);Ext.define('ExtThemeNeptune.menu.Menu',{override:'Ext.menu.Menu',showSeparator:!1});Ext.cmd.derive('Ext.resizer.BorderSplitterTracker',Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var h=this,e=h.splitter,j=e.collapseTarget,m=e.defaultSplitMin,k=e.vertical?'Width':'Height',o='min'+k,n='max'+k,v='get'+k,q=e.neighbors,w=q.length,c=j.el.getBox(),t=c.x,u=c.y,s=c.right,r=c.bottom,b=e.vertical?s-t:r-u,i,g,d,a,f,l,p;d=(j[o]||Math.min(b,m))-b;a=j[n];if(!a){a=1000000000}else {a-=b}p=b;for(i=0;i<w;++i){g=q[i];b=g[v]();f=b-g[n];l=b-(g[o]||Math.min(b,m));if(!isNaN(f)){if(d<f){d=f}}if(a>l){a=l}}if(a-d<2){return null}c=new Ext.util.Region(u,s,r,t);h.constraintAdjusters[h.getCollapseDirection()](c,d,a,e);h.dragInfo={minRange:d,maxRange:a,targetSize:p};return c},constraintAdjusters:{left:function(a,c,b,d){a[0]=a.x=a.left=a.right+c;a.right+=b+d.getWidth()},top:function(a,c,b,d){a[1]=a.y=a.top=a.bottom+c;a.bottom+=b+d.getHeight()},bottom:function(a,c,b,d){a.bottom=a.top-c;a.top-=b+d.getHeight()},right:function(a,c,b,d){a.right=a.left-c;a[0]=a.x=a.left=a.x-b+d.getWidth()}},onBeforeStart:function(h){var c=this,f=c.splitter,d=f.collapseTarget,e=f.neighbors,g=e.length,a,b;if(d.collapsed){return !1}for(a=0;a<g;++a){b=e[a];if(b.collapsed&&b.isHorz===d.isHorz){return !1}}if(!(c.constrainTo=c.calculateConstrainRegion())){return !1}return !0},performResize:function(j,i){var d=this,b=d.splitter,e=b.getCollapseDirection(),h=b.collapseTarget,f=d.splitAdjusters[b.vertical?'horz':'vert'],a=i[f.index],c=d.dragInfo,g;if(e=='right'||e=='bottom'){a=-a}a=Math.min(Math.max(c.minRange,a),c.maxRange);if(a){(g=b.ownerCt).suspendLayouts();f.adjustTarget(h,c.targetSize,a);g.resumeLayouts(!0)}},splitAdjusters:{horz:{index:0,adjustTarget:function(a,c,b){a.flex=null;a.setSize(c+b)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null;a.setSize(undefined,b+c)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,'BorderSplitterTracker'],0);Ext.cmd.derive('Ext.resizer.ResizeTracker',Ext.dd.DragTracker,{dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:'x-resizable-proxy',constructor:function(b){var a=this,d,c,e;if(!b.el){if(b.target.isComponent){a.el=b.target.getEl()}else {a.el=b.target}}Ext.dd.DragTracker.prototype.constructor.apply(this,arguments);if(a.preserveRatio&&a.minWidth&&a.minHeight){d=a.minWidth/a.el.getWidth();c=a.minHeight/a.el.getHeight();if(c>d){a.minWidth=a.el.getWidth()*c}else {a.minHeight=a.el.getHeight()*d}}if(a.throttle){e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(a,arguments)},a.throttle);a.resize=function(f,d,c){if(c){Ext.resizer.ResizeTracker.prototype.resize.apply(a,arguments)}else {e.apply(null,arguments)}}}},onBeforeStart:function(a){this.startBox=this.target.getBox()},getProxy:function(){var a=this;if(!a.dynamic&&!a.proxy){a.proxy=a.createProxy(a.target||a.el);a.hideProxy=!0}if(a.proxy){a.proxy.show();return a.proxy}},createProxy:function(a){var b,c=this.proxyCls;if(a.isComponent){b=a.getProxy().addCls(c)}else {b=a.createProxy({tag:'div',role:'presentation',cls:c,id:a.id+'-rzproxy'},Ext.getBody())}b.removeCls('x-proxy-el');return b},onStart:function(a){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox)}},onDrag:function(a){if(this.dynamic||this.proxy){this.updateDimensions(a)}},updateDimensions:function(s,r){var c=this,h=c.activeResizeHandle.region,d=c.getOffset(c.constrainTo?'dragTarget':null),b=c.startBox,n,f=0,e=0,k,j,l=0,m=0,q,i,g,a,o,p;h=c.convertRegionName(h);switch(h){case 'south':e=d[1];g=2;break;case 'north':e=-d[1];m=-e;g=2;break;case 'east':f=d[0];g=1;break;case 'west':f=-d[0];l=-f;g=1;break;case 'northeast':e=-d[1];m=-e;f=d[0];i=[b.x,b.y+b.height];g=3;break;case 'southeast':e=d[1];f=d[0];i=[b.x,b.y];g=3;break;case 'southwest':f=-d[0];l=-f;e=d[1];i=[b.x+b.width,b.y];g=3;break;case 'northwest':e=-d[1];m=-e;f=-d[0];l=-f;i=[b.x+b.width,b.y+b.height];g=3;break;}a={width:b.width+f,height:b.height+e,x:b.x+l,y:b.y+m};k=Ext.Number.snap(a.width,c.widthIncrement);j=Ext.Number.snap(a.height,c.heightIncrement);if(k!=a.width||j!=a.height){switch(h){case 'northeast':a.y-=j-a.height;break;case 'north':a.y-=j-a.height;break;case 'southwest':a.x-=k-a.width;break;case 'west':a.x-=k-a.width;break;case 'northwest':a.x-=k-a.width;a.y-=j-a.height;}a.width=k;a.height=j}if(a.width<c.minWidth||a.width>c.maxWidth){a.width=Ext.Number.constrain(a.width,c.minWidth,c.maxWidth);if(l){a.x=b.x+(b.width-a.width)}}else {c.lastX=a.x}if(a.height<c.minHeight||a.height>c.maxHeight){a.height=Ext.Number.constrain(a.height,c.minHeight,c.maxHeight);if(m){a.y=b.y+(b.height-a.height)}}else {c.lastY=a.y}if(c.preserveRatio||s.shiftKey){n=c.startBox.width/c.startBox.height;o=Math.min(Math.max(c.minHeight,a.width/n),c.maxHeight);p=Math.min(Math.max(c.minWidth,a.height*n),c.maxWidth);if(g==1){a.height=o}else {if(g==2){a.width=p}else {q=Math.abs(i[0]-this.lastXY[0])/Math.abs(i[1]-this.lastXY[1]);if(q>n){a.height=o}else {a.width=p}if(h=='northeast'){a.y=b.y-(a.height-b.height)}else {if(h=='northwest'){a.y=b.y-(a.height-b.height);a.x=b.x-(a.width-b.width)}else {if(h=='southwest'){a.x=b.x-(a.width-b.width)}}}}}}c.setPosition=a.x!==c.startBox.x||a.y!==c.startBox.y;c.resize(a,r)},resize:function(b,e){var a=this,c,d=a.setPosition;if(a.dynamic||!a.dynamic&&e){if(d){a.target.setBox(b)}else {a.target.setSize(b.width,b.height)}}if(!e){c=a.getProxy();if(c&&c!==a.target){if(d||a.hideProxy){c.setBox(b)}else {c.setSize(b.width,b.height)}}}},onEnd:function(a){this.updateDimensions(a,!0);if(this.proxy&&this.hideProxy){this.proxy.hide()}},convertRegionName:function(a){return a}},1,0,0,0,0,0,[Ext.resizer,'ResizeTracker'],0);Ext.cmd.derive('Ext.resizer.Resizer',Ext.Base,{alternateClassName:'Ext.Resizable',handleCls:'x-resizable-handle',pinnedCls:'x-resizable-pinned',overCls:'x-resizable-over',wrapCls:'x-resizable-wrap',wrappedCls:'x-resizable-wrapped',delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:'s e se',height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:'north',s:'south',e:'east',w:'west',se:'southeast',sw:'southwest',nw:'northwest',ne:'northeast'},ariaRole:'presentation',constructor:function(f){var a=this,b,k,e=a.handles,i,g,m,c=0,d,j,l,n=[],h,o=Ext.dom.Element.unselectableCls;if(Ext.isString(f)||Ext.isElement(f)||f.dom){b=f;f=arguments[1]||{};f.target=b}a.mixins.observable.constructor.call(a,f);b=a.target;if(b){if(b.isComponent){b.addClsWithUI('resizable');a.el=b.getEl();if(b.minWidth){a.minWidth=b.minWidth}if(b.minHeight){a.minHeight=b.minHeight}if(b.maxWidth){a.maxWidth=b.maxWidth}if(b.maxHeight){a.maxHeight=b.maxHeight}if(b.floating){if(!a.hasOwnProperty('handles')){a.handles='n ne e se s sw w nw'}}a.el=b.getEl()}else {b=a.el=a.target=Ext.get(b)}}else {b=a.target=a.el=Ext.get(a.el)}a.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(a.width)){a.width=Ext.Number.constrain(a.width,a.minWidth,a.maxWidth)}if(Ext.isNumber(a.height)){a.height=Ext.Number.constrain(a.height,a.minHeight,a.maxHeight)}if(a.width!==null||a.height!==null){a.target.setSize(a.width,a.height)}k=a.el.dom.tagName.toUpperCase();if(k=='TEXTAREA'||k=='IMG'||k=='TABLE'){a.originalTarget=a.target;a.el.addCls(a.wrappedCls);a.target=a.el=a.el.wrap({role:'presentation',cls:a.wrapCls,id:a.el.id+'-rzwrap',style:b.getStyle(['margin-top','margin-bottom'])});l=b.getPositioning();a.el.setPositioning(l);b.clearPositioning();j=b.getBox();if(l.position!='absolute'){j.x=0;j.y=0}a.el.setBox(j);b.setStyle('position','absolute')}a.el.position();if(a.pinned){a.el.addCls(a.pinnedCls)}a.resizeTracker=new Ext.resizer.ResizeTracker({disabled:a.disabled,target:b,el:a.el,constrainTo:a.constrainTo,overCls:a.overCls,throttle:a.throttle,proxy:a.originalTarget?a.el:null,dynamic:a.originalTarget?!0:a.dynamic,originalTarget:a.originalTarget,delegate:'.'+a.handleCls,preserveRatio:a.preserveRatio,heightIncrement:a.heightIncrement,widthIncrement:a.widthIncrement,minHeight:a.minHeight,maxHeight:a.maxHeight,minWidth:a.minWidth,maxWidth:a.maxWidth});a.resizeTracker.on({mousedown:a.onBeforeResize,drag:a.onResize,dragend:a.onResizeEnd,scope:a});if(a.handles=='all'){a.handles='n s e w ne nw se sw'}e=a.handles=a.handles.split(a.delimiterRe);g=a.possiblePositions;m=e.length;i=a.handleCls+' '+a.handleCls+'-{0}';if(a.target.isComponent){h=a.target.baseCls;i+=' '+h+'-handle '+h+'-handle-{0}';if(Ext.supports.CSS3BorderRadius){i+=' '+h+'-handle-{0}-br'}}for(;c<m;c++){if(e[c]&&g[e[c]]){d=g[e[c]];n.push('<div id="',a.el.id,'-',d,'-handle" class="',Ext.String.format(i,d),' ',o,'" unselectable="on" role="presentation"','></div>')}}Ext.DomHelper.append(a.el,n.join(''));for(c=0;c<m;c++){if(e[c]&&g[e[c]]){d=g[e[c]];a[d]=a.el.getById(a.el.id+'-'+d+'-handle');a[d].region=d;if(a.transparent){a[d].setOpacity(0)}}}},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(c,b){var a=this.el.getBox();return this.fireEvent('beforeresize',this,a.width,a.height,b)},onResize:function(c,d){var b=this,a;if(b.hasListeners.resizeDrag){a=c.getResizeTarget().getBox();return b.fireEvent('resizedrag',b,a.width,a.height,d)}},onResizeEnd:function(d,c){var a=this,b=a.el.getBox();return a.fireEvent('resize',a,b.width,b.height,c)},resizeTo:function(c,b){var a=this;a.target.setSize(c,b);a.fireEvent('resize',a,c,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var a=this,b,c=a.handles,f=c.length,e=a.possiblePositions,d;a.resizeTracker.destroy();for(b=0;b<f;b++){if(d=a[e[c[b]]]){d.destroy()}}}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.resizer,'Resizer',Ext,'Resizable'],0);Ext.cmd.derive('Ext.scroll.Indicator',Ext.Base,{config:{axis:null,containerEl:null,scroller:null,minLength:null,scrollSize:null,maxScrollPosition:null,hasOpposite:null},hideAnimConfig:{to:{opacity:0},duration:300},names:{x:{side:'l',getSize:'getHeight',clientSize:'clientWidth',setLength:'setWidth',setPosition:'setLocalX'},y:{side:'t',getSize:'getWidth',clientSize:'clientHeight',setLength:'setHeight',setPosition:'setLocalY'}},cls:'x-scroll-indicator',constructor:function(e){var a=this,b,d,c;a.initConfig(e);c=a.getAxis();a.names=a.names[c];a.el=a.getContainerEl().createChild({cls:a.cls+' '+a.cls+'-'+c});if(!a.size){a.cacheStyles()}b=a.getMinLength();d=a.size;if(!b||b<d){a.setMinLength(d)}},cacheStyles:function(){var a=this,c=a.self.prototype,d=a.el,e=a.getAxis(),b=a.names;c.size=d[b.getSize]();c.margin=d.getMargin(b.side)},hide:function(){this.el.animate(this.hideAnimConfig)},refreshLength:function(){var a=this,f=a.names,h=a.getScrollSize(),c=a.getContainerEl().dom[f.clientSize],i=c/h,g=a.getHasOpposite(),b=a.margin*2,d=g?b+a.size:b,e=Math.max(Math.round((c-d)*i),a.getMinLength());a.sizeAdjust=d;a.length=e;a.el[f.setLength](e)},setValue:function(c){var b=this,m=b.el,h=b.names,f=b.getMaxScrollPosition(),g=b.getContainerEl().dom[h.clientSize],a=b.length,k=b.getMinLength(),e=a,j=g-a-b.sizeAdjust,i=Math.round,l=Math.max,d;if(c<0){e=i(l(a+a*c/g,k));d=0}else {if(c>f){e=i(l(a-a*(c-f)/g,k));d=j+a-e}else {d=i(c/f*j)}}m[h.setPosition](d);m[h.setLength](e)},show:function(){var c=this,b=c.el,a=b.getActiveAnimation();if(a){a.end()}c.refreshLength();b.setStyle('opacity','')},destroy:function(){this.el.destroy()}},1,0,0,0,0,0,[Ext.scroll,'Indicator'],0);Ext.cmd.derive('Ext.scroll.Manager',Ext.util.Observable,{minIndicatorLength:24,refreshCounter:0,translationMethods:{1:'scrollparent',2:'csstransform'},constructor:function(d){var a=this,b={dragend:'onDragEnd',dragcancel:'onDragEnd',scope:a},c;if(Ext.supports.touchScroll===2){b.mousewheel='onMouseWheel'}Ext.util.Observable.prototype.constructor.apply(this,arguments);a.scroller=new Ext.scroll.Scroller({autoRefresh:!1,element:a.el,direction:a.direction,momentumEasing:{bounce:{springTension:1}},outOfBoundRestrictFactor:0,translatable:{translationMethod:a.translationMethods[Ext.supports.touchScroll]},listeners:{scrollstart:'onScrollStart',scroll:'onScroll',scrollend:'onScrollEnd',scope:a}});Ext.GlobalEvents.on('idle',a.doRefresh,a);c=a.containerEl=a.el.parent();a.owner.mon(c,b);a.initIndicators()},destroy:function(){var a=this;a.clearListeners();Ext.GlobalEvents.un('idle',a.doRefresh,a);a.scroller.destroy()},initIndicators:function(){var a=this,b=a.containerEl,d=a.scroller,c=a.minIndicatorLength;if(Ext.supports.touchScroll===2){a.xIndicator=new Ext.scroll.Indicator({axis:'x',scroller:d,containerEl:b,minLength:c});a.yIndicator=new Ext.scroll.Indicator({axis:'y',scroller:d,containerEl:b,minLength:c});a.refreshIndicators()}},invokeIndicators:function(e,d,f){var a=this,b=a.xIndicator,c=a.yIndicator;if(b&&a.isAxisEnabled('x')){b[e].apply(b,d)}if(c&&a.isAxisEnabled('y')){c[e].apply(c,f||d)}},refresh:function(a){++this.refreshCounter;if(a){this.doRefresh()}},refreshIndicators:function(){var a=this,c=a.scroller,b=c.getMaxPosition(),d=c.getSize();a.invokeIndicators('setMaxScrollPosition',[b.x],[b.y]);a.invokeIndicators('setScrollSize',[d.x],[d.y]);a.invokeIndicators('setHasOpposite',[a.isAxisEnabled('y')],[a.isAxisEnabled('x')])},doRefresh:function(){var a=this,b=a.scroller;if(a.refreshCounter){b.refresh();a.refreshIndicators();a.refreshCounter=0}},onScrollStart:function(){this.isTouching=Ext.isScrolling=!0;this.invokeIndicators('show');this.toggleOthers(!0)},onScroll:function(d,b,c){var a=this;a.invokeIndicators('setValue',[b],[c]);a.fireEvent('scroll',a,b,c)},onScrollEnd:function(){var a=this;Ext.isScrolling=!1;if(a.isTouching){return}a.invokeIndicators('hide')},onDragEnd:function(){this.isTouching=!1;this.toggleOthers(!1)},onMouseWheel:function(m){var b=this,a=b.scroller,j=m.getWheelDeltas(),d=-j.x,e=-j.y,c=a.position,f=a.getMaxPosition(),g=a.getMinPosition(),k=Math.max,l=Math.min,h=k(l(c.x+d,f.x),g.x),i=k(l(c.y+e,f.y),g.y);d=h-c.x;e=i-c.y;if(!d&&!e){return}m.stopEvent();b.onScrollStart();b.scrollBy(d,e);b.onScroll(a,h,i);b.onScrollEnd(a)},isAxisEnabled:function(a){return this.scroller.isAxisEnabled(a)},setScrollX:function(b){var a=this.scroller;a.scrollTo(b,a.position.y)},setScrollY:function(b){var a=this.scroller;a.scrollTo(a.position.x,b)},scrollTo:function(b,c,a){this.scroller.scrollTo(b,c,a)},scrollBy:function(a,b,c){if(a.length){c=b;b=a[1];a=a[0]}else {if(!Ext.isNumber(a)){c=b;b=a.y;a=a.x}}this.scroller.scrollBy(a,b,c)},scrollIntoView:function(l,k,j){var h=this,i=h.containerEl,f=h.scroller,c=f.position,a=c.x,d=c.y,e=Ext.fly(l).getScrollIntoViewXY(i,a,d),b=e.x,g=e.y;if(k===!1){b=a}if(b!==a||g!==d){f.scrollTo(b,g,j)}},toggleOthers:function(d){var b=Ext.scroll.Scroller.instances,a,c;for(c in b){a=b[c];if(a!==this.scroller){a.setDisabled(d)}}},preventDefault:function(a){if(a.touches.length===1){a.preventDefault()}}},1,0,0,0,0,0,[Ext.scroll,'Manager'],0);Ext.cmd.derive('Ext.selection.CellModel',Ext.selection.Model,{isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},bindComponent:function(b){var a=this,c=b.ownerCt;a.primaryView=b;a.views=a.views||[];a.views.push(b);a.bindStore(b.getStore(),!0);b.on({cellclick:a.onCellClick,refresh:a.onViewRefresh,scope:a});if(c.optimizedColumnMove!==!1){c.on('columnmove',a.onColumnMove,a)}if(a.enableKeyNav){a.initKeyNav(b)}},initKeyNav:function(b){var a=this;if(!b.rendered){b.on('render',Ext.Function.bind(a.initKeyNav,a,[b],0),a,{single:!0});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b.el,ignoreInputFields:!0,up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,tab:a.onKeyTab,scope:a})},getHeaderCt:function(){var a=this.getCurrentPosition(),b=a?a.view:this.primaryView;return b.headerCt},onKeyUp:function(a){this.doMove('up',a)},onKeyDown:function(a){this.doMove('down',a)},onKeyLeft:function(a){this.doMove('left',a)},onKeyRight:function(a){this.doMove('right',a)},doMove:function(a,b){this.keyNavigation=!0;this.move(a,b);this.keyNavigation=!1},selectWithEvent:function(a,b){this.select(a)},select:function(a,g,e){var b=this,c,d=b.getCurrentPosition(),f=b.view.store;if(a||a===0){if(a.isModel){c=f.indexOf(a);if(c!==-1){a={row:c,column:d?d.column:0}}else {a=null}}else {if(typeof a==='number'){a={row:a,column:0}}}}if(a){b.selectByPosition(a,e)}else {b.deselect()}},deselect:function(b,a){this.selectByPosition(null,a)},move:function(d,e){var c=this,b=c.getCurrentPosition(),a;if(b){a=b.view.walkCells(b,d,e,c.preventWrap);if(a){return c.setCurrentPosition(a)}}},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(a,d,e){var b=this,c=b.selection;b.lastSelection=c;if(a){a=a.isCellContext?a:(new Ext.grid.CellContext(b.primaryView)).setPosition(a)}if(!e&&c){if(a&&(a.record===c.record&&a.columnHeader===c.columnHeader&&a.view===c.view)){a=null}else {b.onCellDeselect(b.selection,d)}}if(a){b.nextSelection=a;b.selecting=!0;b.onCellSelect(b.nextSelection,d);b.selecting=!1;return b.selection=a}},isCellSelected:function(c,e,d){var f=this,b,a=f.getCurrentPosition();if(a&&a.view===c){b=(new Ext.grid.CellContext(c)).setPosition({row:e,column:d});return b.record===a.record&&b.columnHeader===a.columnHeader}},onStoreRemove:function(c,e,d){var b=this,a=b.getCurrentPosition();Ext.selection.Model.prototype.onStoreRemove.apply(this,arguments);if(a&&c.getCount()&&c.indexOf(a.record)!==-1){b.setCurrentPosition({row:a.record,column:a.columnHeader},!0,!0)}else {b.selection=null}},onStoreClear:function(){Ext.selection.Model.prototype.onStoreClear.apply(this,arguments);this.selection=null},onStoreAdd:function(){var b=this,a=b.getCurrentPosition();Ext.selection.Model.prototype.onStoreAdd.apply(this,arguments);if(a){b.setCurrentPosition({row:a.record,column:a.columnHeader},!0,!0)}else {b.selection=null}},onCellClick:function(a,g,d,f,e,c,h){var b;if(c!==-1){b=(new Ext.grid.CellContext(a)).setPosition({view:a,row:e,column:a.ownerCt.getColumnManager().getHeaderAtIndex(d)});this.setCurrentPosition(b)}},onCellSelect:function(a,b){if(a&&a.row!==undefined&&a.row>-1){this.doSelect(a.record,!1,b)}},onCellDeselect:function(a,b){if(a&&a.row!==undefined){this.doDeselect(a.record,b)}},onSelectChange:function(g,f,e,h){var b=this,a,c,d;if(f){a=b.nextSelection;c='select'}else {a=b.lastSelection||b.noSelection;c='deselect'}d=a.view||b.primaryView;if((e||b.fireEvent('before'+c,b,g,a.row,a.column))!==!1&&h()!==!1){if(f){if(!b.preventFocus){d.focusCell(a,!0)}d.onCellSelect(a)}else {d.onCellDeselect(a);delete b.selection}if(!e){b.fireEvent(c,b,g,a.row,a.column)}}},onKeyTab:function(c,e){var a=this,d=a.getCurrentPosition(),b;if(d){b=d.view.editingPlugin;if(b&&a.wasEditing){a.onEditorTab(b,c)}else {a.move(c.shiftKey?'left':'right',c)}}},onEditorTab:function(e,d){var a=this,f=d.shiftKey?'left':'right',c=a.getCurrentPosition(),b=c.view.walkCells(c,f,d,a.preventWrap);if(b){if(e.startEdit(b.record,b.columnHeader)){a.wasEditing=!1}else {a.setCurrentPosition(b);a.wasEditing=!0}}},refresh:function(){var b=this.getCurrentPosition(),a;if(b&&(a=this.store.indexOf(this.selected.last()))!==-1){b.row=a}},onColumnMove:function(b,d,c,e){var a=b.up('tablepanel');if(a){this.onViewRefresh(a.view)}},onUpdate:function(c){var a=this,b;if(a.isSelected(c)){b=a.selecting?a.nextSelection:a.selection;a.view.onCellSelect(b)}},onViewRefresh:function(d){var f=this,b=f.getCurrentPosition(),g,c=d.headerCt,e,a;if(b&&b.view===d){e=b.record;a=b.columnHeader;if(!a.isDescendantOf(c)){a=c.queryById(a.id)||c.down('[text="'+a.text+'"]')||c.down('[dataIndex="'+a.dataIndex+'"]')}if(b.record){if(a&&d.store.indexOfId(e.getId())!==-1){g=(new Ext.grid.CellContext(d)).setPosition({row:e,column:a});f.setCurrentPosition(g)}}else {f.selection=null}}},selectByPosition:function(b,a){this.setCurrentPosition(b,a)}},0,0,0,0,['selection.cellmodel'],0,[Ext.selection,'CellModel'],0);Ext.cmd.derive('Ext.selection.CheckboxModel',Ext.selection.RowModel,{mode:'MULTI',injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:undefined,checkSelector:'.x-grid-row-checker',headerWidth:24,checkerOnCls:'x-grid-hd-checker-on',tdCls:'x-grid-cell-special x-grid-cell-row-checker',constructor:function(){var a=this;Ext.selection.RowModel.prototype.constructor.apply(this,arguments);if(a.mode==='SINGLE'&&a.showHeaderCheckbox!==!0){a.showHeaderCheckbox=!1}},beforeViewRender:function(b){var a=this,c;Ext.selection.RowModel.prototype.beforeViewRender.apply(this,arguments);if(!a.hasLockedHeader()||b.headerCt.lockedCt){if(a.showHeaderCheckbox!==!1){b.headerCt.on('headerclick',a.onHeaderClick,a)}a.addCheckbox(b,!0);c=b.ownerCt;if(b.headerCt.lockedCt){c=c.ownerCt}a.mon(c,'reconfigure',a.onReconfigure,a)}},bindComponent:function(b){var a=this;a.sortable=!1;Ext.selection.RowModel.prototype.bindComponent.apply(this,arguments)},hasLockedHeader:function(){var b=this.views,c=b.length,a;for(a=0;a<c;a++){if(b[a].headerCt.lockedCt){return !0}}return !1},addCheckbox:function(b,e){var c=this,a=c.injectCheckbox,d=b.headerCt;if(a!==!1){if(a==='first'){a=0}else {if(a==='last'){a=d.getColumnCount()}}Ext.suspendLayouts();if(b.getStore().isBufferedStore){c.showHeaderCheckbox=!1}d.add(a,c.getHeaderConfig());Ext.resumeLayouts()}if(e!==!0){b.refresh()}},onReconfigure:function(c,b,a){if(a){this.addCheckbox(this.views[0])}},toggleUiHeader:function(c){var e=this.views[0],d=e.headerCt,a=d.child('gridcolumn[isCheckerHd]'),b=this.checkerOnCls;if(a){if(c){a.addCls(b)}else {a.removeCls(b)}}},onHeaderClick:function(e,b,d){if(b.isCheckerHd){d.stopEvent();var a=this,c=b.el.hasCls('x-grid-hd-checker-on');a.preventFocus=!0;if(c){a.deselectAll()}else {a.selectAll()}delete a.preventFocus}},getHeaderConfig:function(){var a=this,b=a.showHeaderCheckbox!==!1;return {isCheckerHd:b,text:'&#160;',clickTargetName:'el',width:a.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:'',tdCls:a.tdCls,cls:b?'x-column-header-checkbox ':'',defaultRenderer:a.renderer.bind(a),editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader()}},renderEmpty:function(){return '&#160;'},refresh:function(){Ext.selection.RowModel.prototype.refresh.apply(this,arguments);this.updateHeaderState()},renderer:function(f,b,d,c,a,e,g){return '<div class="x-grid-row-checker" role="presentation">&#160;</div>'},processSelection:function(h,e,g,f,c){var a=this,d=c.getTarget(a.checkSelector),b;if(a.checkOnly&&!d){return}if(d){b=a.getSelectionMode();if(b!=='SINGLE'){a.setSelectionMode('SIMPLE')}a.selectWithEvent(e,c);a.setSelectionMode(b)}else {a.selectWithEvent(e,c)}},onSelectChange:function(){Ext.selection.RowModel.prototype.onSelectChange.apply(this,arguments);if(!this.suspendChange){this.updateHeaderState()}},onStoreLoad:function(){Ext.selection.RowModel.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()},onStoreAdd:function(){Ext.selection.RowModel.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()},onStoreRemove:function(){Ext.selection.RowModel.prototype.onStoreRemove.apply(this,arguments);this.updateHeaderState()},onStoreRefresh:function(){Ext.selection.RowModel.prototype.onStoreRefresh.apply(this,arguments);this.updateHeaderState()},maybeFireSelectionChange:function(a){if(a&&!this.suspendChange){this.updateHeaderState()}Ext.selection.RowModel.prototype.maybeFireSelectionChange.apply(this,arguments)},resumeChanges:function(){Ext.selection.RowModel.prototype.resumeChanges.call(this);if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var a=this,e=a.store,g=e.getCount(),h=a.views,c=!1,f=0,d,i,b;if(!e.isBufferedStore&&g>0){d=a.selected;c=!0;for(b=0,i=d.getCount();b<i;++b){if(e.indexOfId(d.getAt(b).id)===-1){break}++f}c=g===f}if(h&&h.length){a.toggleUiHeader(c)}}},1,0,0,0,['selection.checkboxmodel'],0,[Ext.selection,'CheckboxModel'],0);Ext.cmd.derive('Ext.slider.Thumb',Ext.Base,{topZIndex:10000,constructor:function(a){var b=this;Ext.apply(b,a||{},{cls:'x-slider-thumb',constrain:!1});b.callParent([a])},render:function(){var a=this;a.el=a.slider.innerEl.insertFirst(a.getElConfig());a.onRender()},onRender:function(){if(this.disabled){this.disable()}this.initEvents()},getElConfig:function(){var c=this,a=c.slider,b={};b[a.vertical?'bottom':a.horizontalProp]=a.calculateThumbPosition(a.normalizeValue(c.value))+'%';return {style:b,id:this.id,cls:this.cls,role:'presentation'}},move:function(e,h){var g=this,c=g.el,f=g.slider,a=f.vertical?'bottom':f.horizontalProp,d,b;e+='%';if(!h){c.dom.style[a]=e}else {d={};d[a]=e;if(!Ext.supports.GetPositionPercentage){b={};b[a]=c.dom.style[a]}new Ext.fx.Anim({target:c,duration:350,from:b,to:d})}},bringToFront:function(){this.el.setStyle('zIndex',this.topZIndex)},sendToBack:function(){this.el.setStyle('zIndex','')},enable:function(){var a=this;a.disabled=!1;if(a.el){a.el.removeCls(a.slider.disabledCls)}},disable:function(){var a=this;a.disabled=!0;if(a.el){a.el.addCls(a.slider.disabledCls)}},initEvents:function(){var a=this;a.tracker=new Ext.dd.DragTracker({el:a.el,onBeforeStart:a.onBeforeDragStart.bind(a),onStart:a.onDragStart.bind(a),onDrag:a.onDrag.bind(a),onEnd:a.onDragEnd.bind(a),tolerance:3,autoStart:300,overCls:'x-slider-thumb-over'})},onBeforeDragStart:function(e){var a=this,b=a.el,c=a.tracker.getXY(),d=a.pointerOffset=b.getXY();if(a.disabled){return !1}else {d[0]+=Math.floor(b.getWidth()/2)-c[0];d[1]+=Math.floor(b.getHeight()/2)-c[1];a.slider.promoteThumb(a);return !0}},onDragStart:function(c){var a=this,b=a.slider;b.onDragStart(a,c);a.el.addCls('x-slider-thumb-drag');a.dragging=a.slider.dragging=!0;a.dragStartValue=a.value;b.fireEvent('dragstart',b,c,a)},onDrag:function(g){var c=this,b=c.slider,f=c.index,a=c.getValueFromTracker(),d,e;if(a!==undefined){if(c.constrain){d=b.thumbs[f+1];e=b.thumbs[f-1];if(e!==undefined&&a<=e.value){a=e.value}if(d!==undefined&&a>=d.value){a=d.value}}b.setValue(f,a,!1);b.fireEvent('drag',b,g,c)}},getValueFromTracker:function(){var c=this.slider,b=this.tracker.getXY(),a;b[0]+=this.pointerOffset[0];b[1]+=this.pointerOffset[1];a=c.getTrackpoint(b);if(a!==undefined){return c.reversePixelValue(a)}},onDragEnd:function(d){var b=this,a=b.slider,c=b.value;a.onDragEnd(b,d);b.el.removeCls('x-slider-thumb-drag');b.dragging=a.dragging=!1;a.fireEvent('dragend',a,d);if(b.dragStartValue!=c){a.fireEvent('changecomplete',a,c,b);if(a.publishOnComplete){a.publishValue(c)}}},destroy:function(){Ext.destroy(this.tracker);this.el.destroy();this.el=null}},1,0,0,0,0,0,[Ext.slider,'Thumb'],0);Ext.cmd.derive('Ext.slider.Tip',Ext.tip.Tip,{minWidth:10,offsets:null,align:null,position:'',defaultVerticalPosition:'left',defaultHorizontalPosition:'top',isSliderTip:!0,init:function(d){var a=this,c,b;if(!a.position){a.position=d.vertical?a.defaultVerticalPosition:a.defaultHorizontalPosition}switch(a.position){case 'top':b=[0,-10];c='b-t?';break;case 'bottom':b=[0,10];c='t-b?';break;case 'left':b=[-10,0];c='r-l?';break;case 'right':b=[10,0];c='l-r?';}if(!a.align){a.align=c}if(!a.offsets){a.offsets=b}d.on({scope:a,dragstart:a.onSlide,drag:a.onSlide,dragend:a.hide,destroy:a.destroy})},onSlide:function(c,d,b){var a=this;a.show();a.update(a.getText(b));a.el.alignTo(b.el,a.align,a.offsets)},getText:function(a){return String(a.value)}},0,['slidertip'],['component','box','container','panel','slidertip'],{'component':!0,'box':!0,'container':!0,'panel':!0,'slidertip':!0},['widget.slidertip'],0,[Ext.slider,'Tip'],0);Ext.cmd.derive('Ext.slider.Multi',Ext.form.field.Base,{alternateClassName:'Ext.slider.MultiSlider',childEls:['endEl','innerEl'],fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl} class="x-slider {fieldCls} {vertical}','{childElCls}"','<tpl if="tabIdx != null"> tabIndex="{tabIdx}"</tpl>','<tpl if="isVertical"> aria-orientation="vertical"<tpl else> aria-orientation="horizontal"</tpl>','>','<div id="{cmpId}-endEl" class="x-slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="x-slider-inner" role="presentation">','{%this.renderThumbs(out, values)%}','</div>','</div>','</div>',{renderThumbs:function(h,f){var e=f.$comp,a=0,c=e.thumbs,g=c.length,d,b;for(;a<g;a++){d=c[a];b=d.getElConfig();b.id=e.id+'-thumb-'+a;Ext.DomHelper.generateMarkup(b,h)}},disableFormats:!0}],horizontalProp:'left',vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,useTips:!0,tipText:null,ariaRole:'slider',initValue:function(){var a=this,b=Ext.valueFrom,c=b(a.values,[b(a.value,b(a.minValue,0))]),d=0,e=c.length;a.originalValue=c;for(;d<e;d++){a.addThumb(a.normalizeValue(c[d]))}},initComponent:function(){var a=this,d,e,b,f,c;a.thumbs=[];a.keyIncrement=Math.max(a.increment,a.keyIncrement);a.extraFieldBodyCls='x-slider-ct-'+(a.vertical?'vert':'horz');Ext.form.field.Base.prototype.initComponent.call(this);if(a.useTips){if(Ext.isObject(a.useTips)){d=Ext.apply({},a.useTips)}else {d=a.tipText?{getText:a.tipText}:{}}c=a.plugins=a.plugins||[];f=c.length;for(b=0;b<f;b++){if(c[b].isSliderTip){e=!0;break}}if(!e){a.plugins.push(new Ext.slider.Tip(d))}}},addThumb:function(c){var a=this,b=new Ext.slider.Thumb({ownerCt:a,value:c,slider:a,index:a.thumbs.length,constrain:a.constrainThumbs,disabled:!!a.readOnly});a.thumbs.push(b);if(a.rendered){b.render()}return b},promoteThumb:function(d){var c=this.thumbs,e=c.length,a,b;for(b=0;b<e;b++){a=c[b];if(a==d){a.bringToFront()}else {a.sendToBack()}}},getSubTplData:function(){var a=this;return Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this),{$comp:a,isVertical:a.vertical,vertical:a.vertical?'x-slider-vert':'x-slider-horz',minValue:a.minValue,maxValue:a.maxValue,value:a.value,tabIdx:a.tabIndex,childElCls:''})},onRender:function(){var c=this,d=c.thumbs,e=d.length,a=0,b;(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).apply(this,arguments);for(a=0;a<e;a++){b=d[a];b.el=c.el.getById(c.id+'-thumb-'+a);b.onRender()}},initEvents:function(){var a=this;a.mon(a.el,{scope:a,mousedown:a.onMouseDown,keydown:a.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(f){var b=this,g=b.vertical,d=b.innerEl,a,e,c;if(g){c='top';a=d.getHeight()}else {c=b.horizontalProp;a=d.getWidth()}f=b.transformTrackPoints(d.translatePoints(f));e=Ext.Number.constrain(f[c],0,a);return g?a-e:e},transformTrackPoints:Ext.identityFn,onMouseDown:function(f){var a=this,b=!1,d=0,e=a.thumbs,g=e.length,c;if(a.disabled){return}for(;!b&&d<g;d++){b=b||f.target==e[d].el.dom}if(a.clickToChange&&!b){c=a.getTrackpoint(f.getXY());if(c!==undefined){a.onClickChange(c)}}a.focus()},onClickChange:function(c){var a=this,b,d;b=a.getNearest(c);if(!b.disabled){d=b.index;a.setValue(d,Ext.util.Format.round(a.reversePixelValue(c),a.decimalPrecision),undefined,!0)}},getNearest:function(i){var a=this,h=a.reversePixelValue(i),e=a.getRange()+5,f=null,j=a.thumbs,d=0,k=j.length,b,g,c;for(;d<k;d++){b=a.thumbs[d];g=b.value;c=Math.abs(g-h);if(Math.abs(c)<=e){f=b;e=c}}return f},onKeyDown:function(a){var b=this,d,c;if(b.disabled||b.thumbs.length!==1){a.preventDefault();return}d=a.getKey();switch(d){case a.UP:case a.RIGHT:a.stopEvent();c=a.ctrlKey?b.maxValue:b.getValue(0)+b.keyIncrement;b.setValue(0,c,undefined,!0);break;case a.DOWN:case a.LEFT:a.stopEvent();c=a.ctrlKey?b.minValue:b.getValue(0)-b.keyIncrement;b.setValue(0,c,undefined,!0);break;default:a.preventDefault();}},normalizeValue:function(b){var a=this,c=a.zeroBasedSnapping?'snap':'snapInRange';b=Ext.Number[c](b,a.increment,a.minValue,a.maxValue);b=Ext.util.Format.round(b,a.decimalPrecision);b=Ext.Number.constrain(b,a.minValue,a.maxValue);return b},setMinValue:function(c){var b=this,d=b.thumbs,f=d.length,e,a;b.minValue=c;for(a=0;a<f;++a){e=d[a];if(e.value<c){b.setValue(a,c,!1)}}b.syncThumbs()},setMaxValue:function(c){var b=this,d=b.thumbs,f=d.length,e,a;b.maxValue=c;for(a=0;a<f;++a){e=d[a];if(e.value>c){b.setValue(a,c,!1)}}b.syncThumbs()},setValue:function(g,b,e,j){var a=this,k=a.thumbs,h=a.publishOnComplete,c,i,d,f;if(Ext.isArray(g)){f=g;e=b;for(d=0,i=f.length;d<i;++d){c=k[d];if(c){a.setValue(d,f[d],e)}}return a}c=a.thumbs[g];b=a.normalizeValue(b);if(b!==c.value&&a.fireEvent('beforechange',a,b,c.value,c)!==!1){c.value=b;if(a.rendered){c.move(a.calculateThumbPosition(b),Ext.isDefined(e)?e!==!1:a.animate);a.fireEvent('change',a,b,c);a.checkDirty();if(j){a.fireEvent('changecomplete',a,b,c);if(h){a.publishValue(b)}}else {if(h===!1){a.publishValue(b)}}}}return a},calculateThumbPosition:function(d){var b=this,c=b.minValue,a=(d-c)/b.getRange()*100;if(isNaN(a)){a=0}return a},getRatio:function(){var a=this,d=a.innerEl,b=a.vertical?d.getHeight():d.getWidth(),c=a.getRange();return c===0?b:b/c},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(a){return this.minValue+a/this.getRatio()},reversePercentageValue:function(a){return this.minValue+this.getRange()*(a/100)},onDisable:function(){var a=this,d=0,e=a.thumbs,g=e.length,b,c,f;Ext.form.field.Base.prototype.onDisable.call(this);for(;d<g;d++){b=e[d];c=b.el;b.disable();if(Ext.isIE){f=c.getXY();c.hide();a.innerEl.addCls(a.disabledCls).dom.disabled=!0;if(!a.thumbHolder){a.thumbHolder=a.endEl.createChild({role:'presentation',cls:'x-slider-thumb '+a.disabledCls})}a.thumbHolder.show().setXY(f)}}},onEnable:function(){var a=this,c=0,d=a.thumbs,f=d.length,b,e;Ext.form.field.Base.prototype.onEnable.call(this);for(;c<f;c++){b=d[c];e=b.el;b.enable();if(Ext.isIE){a.innerEl.removeCls(a.disabledCls).dom.disabled=!1;if(a.thumbHolder){a.thumbHolder.hide()}e.show();a.syncThumbs()}}},syncThumbs:function(){if(this.rendered){var b=this.thumbs,c=b.length,a=0;for(;a<c;a++){b[a].move(this.calculateThumbPosition(b[a].value))}}},getValue:function(a){return Ext.isNumber(a)?this.thumbs[a].value:this.getValues()},getValues:function(){var c=[],a=0,b=this.thumbs,d=b.length;for(;a<d;a++){c.push(b[a].value)}return c},getSubmitValue:function(){var a=this;return a.disabled||!a.submitValue?null:a.getValue()},reset:function(){var a=this,c=[].concat(a.originalValue),b=0,e=c.length,d;for(;b<e;b++){d=c[b];a.setValue(b,d)}a.clearInvalid();delete a.wasValid},setReadOnly:function(c){var d=this,b=d.thumbs,e=b.length,a=0;Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments);c=d.readOnly;for(;a<e;++a){if(c){b[a].disable()}else {b[a].enable()}}},beforeDestroy:function(){var e=this,b=e.thumbs,a=0,d=b.length,c;for(;a<d;a++){c=b[a];Ext.destroy(c)}Ext.form.field.Base.prototype.beforeDestroy.call(this)}},0,['multislider'],['component','box','field','multislider'],{'component':!0,'box':!0,'field':!0,'multislider':!0},['widget.multislider'],0,[Ext.slider,'Multi',Ext.slider,'MultiSlider'],0);Ext.cmd.derive('Ext.slider.Single',Ext.slider.Multi,{alternateClassName:['Ext.Slider','Ext.form.SliderField','Ext.slider.SingleSlider','Ext.slider.Slider'],publishOnComplete:!1,getValue:function(){return Ext.slider.Multi.prototype.getValue.call(this,0)},setValue:function(d,c){var a=arguments,b=a.length;if(b==1||b<=3&&typeof a[1]!='number'){a=Ext.toArray(a);a.unshift(0)}return Ext.slider.Multi.prototype.setValue.apply(this,a)},getNearest:function(){return this.thumbs[0]}},0,['slider','sliderfield'],['component','box','field','multislider','slider','sliderfield'],{'component':!0,'box':!0,'field':!0,'multislider':!0,'slider':!0,'sliderfield':!0},['widget.slider','widget.sliderfield'],0,[Ext.slider,'Single',Ext,'Slider',Ext.form,'SliderField',Ext.slider,'SingleSlider',Ext.slider,'Slider'],0);Ext.cmd.derive('Ext.view.DragZone',Ext.dd.DragZone,{containerScroll:!1,constructor:function(e){var a=this,c,b,d;Ext.apply(a,e);if(!a.ddGroup){a.ddGroup='view-dd-zone-'+a.view.id}c=a.view;b=c.ownerCt;if(b){d=b.getTargetEl().dom}else {d=c.el.dom.parentNode}Ext.dd.DragZone.prototype.constructor.call(this,d);a.ddel=Ext.get(document.createElement('div'));a.ddel.addCls('x-grid-dd-wrap')},init:function(f,e,d){var a=this,c=Ext.supports.touchScroll?'itemlongpress':'itemmousedown',b={scope:a};b[c]=a.onItemMouseDown;a.initTarget(f,e,d);a.view.mon(a.view,b)},onValidDrop:function(a,c,b){Ext.dd.DragZone.prototype.onValidDrop.call(this);a.el.focus()},onItemMouseDown:function(b,a,e,d,c){if(!this.isPreventDrag(c,a,e,d)){if(b.focusRow){b.focusRow(a)}this.handleMouseDown(c)}},isPreventDrag:function(d,a,c,b){return !1},getDragData:function(c){var a=this.view,b=c.getTarget(a.getItemSelector());if(b){return {copy:a.copy||a.allowCopy&&c.ctrlKey,event:c,view:a,ddel:this.ddel,item:b,records:a.getSelectionModel().getSelection(),fromPosition:Ext.fly(b).getXY()}}},onInitDrag:function(f,g){var a=this,c=a.dragData,e=c.view,b=e.getSelectionModel(),d=e.getRecord(c.item);if(!b.isSelected(d)){b.selectWithEvent(d,a.DDMInstance.mousedownEvent)}c.records=b.getSelection();a.ddel.setHtml(a.getDragText());a.proxy.update(a.ddel.dom);a.onStartDrag(f,g);return !0},getDragText:function(){var a=this.dragData.records.length;return Ext.String.format(this.dragText,a,a===1?'':'s')},getRepairXY:function(b,a){return a?a.fromPosition:!1}},1,0,0,0,0,0,[Ext.view,'DragZone'],0);Ext.cmd.derive('Ext.util.Cookies',Ext.Base,{singleton:!0,set:function(h,g){var b=arguments,a=arguments.length,c=a>2?b[2]:null,e=a>3?b[3]:'/',d=a>4?b[4]:null,f=a>5?b[5]:!1;document.cookie=h+'='+escape(g)+(c===null?'':'; expires='+c.toGMTString())+(e===null?'':'; path='+e)+(d===null?'':'; domain='+d)+(f===!0?'; secure':'')},get:function(f){var c=f+'=',d=c.length,e=document.cookie.length,a=0,b=0;while(a<e){b=a+d;if(document.cookie.substring(a,b)==c){return this.getCookieVal(b)}a=document.cookie.indexOf(' ',a)+1;if(a===0){break}}return null},clear:function(b,a){if(this.get(b)){a=a||'/';document.cookie=b+'=; expires=Thu, 01-Jan-70 00:00:01 GMT; path='+a}},getCookieVal:function(b){var a=document.cookie.indexOf(';',b);if(a==-1){a=document.cookie.length}return unescape(document.cookie.substring(b,a))}},0,0,0,0,0,0,[Ext.util,'Cookies'],0);Ext.cmd.derive('Ext.ux.data.PagingMemoryProxy',Ext.data.proxy.Memory,{alternateClassName:'Ext.data.PagingMemoryProxy',constructor:function(){Ext.log.warn('Ext.ux.data.PagingMemoryProxy functionality has been merged into Ext.data.proxy.Memory by using the enablePaging flag.');Ext.data.proxy.Memory.prototype.constructor.apply(this,arguments)},read:function(a,h,f){var i=this.getReader(),b=i.read(this.data),c,d,g,e;f=f||this;d=a.filters;if(d.length>0){e=[];Ext.each(b.records,function(i){var c=!0,j=d.length,b;for(b=0;b<j;b++){var g=d[b],l=g.filterFn,k=g.scope;c=c&&l.call(k,i)}if(c){e.push(i)}},this);b.records=e;b.totalRecords=b.total=e.length}c=a.sorters;if(c.length>0){g=function(e,g){var d=c[0].sort(e,g),i=c.length,b;for(b=1;b<i;b++){d=d||c[b].sort.call(this,e,g)}return d};b.records.sort(g)}if(a.start!==undefined&&a.limit!==undefined){b.records=b.records.slice(a.start,a.start+a.limit);b.count=b.records.length}Ext.apply(a,{resultSet:b});a.setCompleted();a.setSuccessful();Ext.Function.defer(function(){Ext.callback(h,f,[a])},10)}},1,0,0,0,['proxy.pagingmemory'],0,[Ext.ux.data,'PagingMemoryProxy',Ext.data,'PagingMemoryProxy'],0);Ext.cmd.derive('MyApp.model.Movie',Ext.data.Model,{fields:[{name:'movieTitle'},{name:'releaseYear'},{name:'category'},{name:'director'},{name:'imdbLink'},{name:'cat_description'},{name:'dir_description'}]},0,0,0,0,0,0,[MyApp.model,'Movie'],0);Ext.cmd.derive('MyApp.model.Category',Ext.data.Model,{fields:[{name:'cat_id'},{name:'categoryName'}]},0,0,0,0,0,0,[MyApp.model,'Category'],0);Ext.cmd.derive('MyApp.view.login.LoginController',Ext.app.ViewController,{init:function(a){},onLoginClick:function(){var b=this;var a=Ext.ComponentQuery.query('form')[0].getForm().getValues();if('admin'==a.username&&'adminPassword'==a.password){this.getView().destroy();Ext.widget('app-main')}}},0,0,0,0,['controller.login'],0,[MyApp.view.login,'LoginController'],0);Ext.cmd.derive('MyApp.view.login.Login',Ext.window.Window,{constructor:function(a){return Ext.window.Window.prototype.constructor.apply(this,arguments)},controller:'login',initComponent:function(){Ext.apply(this,{bodyPadding:10,title:'Login Window',closable:!1,autoShow:!0,items:{xtype:'form',reference:'form',items:[{xtype:'textfield',name:'username',fieldLabel:'Username',allowBlank:!1,reference:'username',msgTarget:'side',blankText:'Your User Name  is admin!',tip:'This is a tip'},{xtype:'textfield',name:'password',inputType:'password',fieldLabel:'Password',allowBlank:!1,reference:'password',msgTarget:'side',blankText:'Your Password is adminPassword!'},{xtype:'displayfield',hideEmptyLabel:!1}],buttons:[{text:'Login',formBind:!0,listeners:{click:'onLoginClick'}}]}});Ext.window.Window.prototype.initComponent.apply(this,arguments)}},1,['login'],['component','box','container','panel','window','login'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0,'login':!0},['widget.login'],0,[MyApp.view.login,'Login'],0);Ext.cmd.derive('MyApp.view.main.MainController',Ext.app.ViewController,{onClickButton:function(){this.getView().destroy()}},0,0,0,0,['controller.main'],0,[MyApp.view.main,'MainController'],0);Ext.cmd.derive('MyApp.view.main.Main',Ext.container.Container,{controller:'main',plugins:'viewport',layout:{type:'border'},items:[{xtype:'panel',region:'north',height:100,layout:'column',items:[{xtype:'panel',columnWidth:0.5,height:90,html:'<img src="resources/image/image.png" alt=""  style="height:100px;"/>'},{xtype:'panel',columnWidth:0.5,height:90,items:[{xtype:'button',text:'Refresh',id:'refresh',style:{'float':'right'},listeners:{click:function(){window.location.reload()}}}]}]},{xtype:'panel',region:'west',collapsed:!1,collapsible:!0,split:!0,title:'Navigation',width:450,items:[{xtype:'panel',items:[{xtype:'panel',items:[{xtype:'treepanel',useArrows:!1,rootVisible:!0,root:{text:'Directors',expanded:!0,children:[{text:'Add',leaf:!0},{text:'List',leaf:!0}]},listeners:{itemclick:function(i,f,h,c,j,g){if(c==2){var a=this.up('app-main').down('tabpanel');var d=a.items.length;var b=a.child('directorGrid');if(b==null){a.add({xtype:'directorGrid',listeners:{afterrender:function(d,b){var a=Ext.getCmp('movieList').getStore().getRange();this.getStore().removeAll();this.getStore().loadData(a)}}});a.setActiveTab(d)}else {if(b.tab.hidden==!0){b.tab.show()}}a.setActiveTab(b)}else {if(c==1){var e=Ext.widget('directorForm');e.show()}}}}},{xtype:'treepanel',useArrows:!1,rootVisible:!0,root:{text:'Category',expanded:!0,children:[{text:'Add',leaf:!0},{text:'List',leaf:!0}]},listeners:{itemclick:function(i,f,h,c,j,g){if(c==2){var a=this.up('app-main').down('tabpanel');var d=a.items.length;var b=a.child('categoryGrid');if(b==null){a.add({xtype:'categoryGrid',listeners:{afterrender:function(d,b){var a=Ext.getCmp('movieList').getStore().getRange();this.getStore().removeAll();this.getStore().loadData(a)}}});a.setActiveTab(d)}else {if(b.tab.hidden==!0){b.tab.show()}}a.setActiveTab(b)}else {if(c==1){var e=Ext.widget('categoryForm');e.show()}}}}}]}]}]},{region:'center',xtype:'tabpanel',id:'tabpanel',items:[{xtype:'movieList',session:!0}]}]},0,['app-main'],['component','box','container','app-main'],{'component':!0,'box':!0,'container':!0,'app-main':!0},['widget.app-main'],0,[MyApp.view.main,'Main'],0);Ext.cmd.derive('MyApp.view.movie.DirectorGrid',Ext.grid.Panel,{title:'Director',selModel:{selType:'rowmodel'},reference:'movieGrids',initComponent:function(){var a=new MyApp.store.Movie({});Ext.apply(this,{store:a,columns:[{text:'Director',dataIndex:'director',flex:1,renderer:function(a,b,e,d,c,f,g){b.tdAttr='data-qtip="'+a+'"';return a}},{text:'Description',dataIndex:'dir_description',flex:1,renderer:function(a,b,e,d,c,f,g){b.tdAttr='data-qtip="'+a+'"';return a}}],viewConfig:{getRowClass:function(a,b){}},listeners:{itemdblclick:function(d,a,c,b,e){}}});Ext.grid.Panel.prototype.initComponent.apply(this,arguments)}},0,['directorGrid'],['component','box','container','panel','tablepanel','gridpanel','grid','directorGrid'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tablepanel':!0,'gridpanel':!0,'grid':!0,'directorGrid':!0},['widget.directorGrid'],0,[MyApp.view.movie,'DirectorGrid'],0);Ext.cmd.derive('MyApp.view.movie.DirectorForm',Ext.window.Window,{title:'Director Form',layout:'fit',autoShow:!0,modal:!0,width:400,height:250,closable:!0,viewModel:{type:'movieViewport'},initComponent:function(){var a=new MyApp.store.Category({});this.items=[{xtype:'form',height:300,width:400,bodyPadding:10,items:[{xtype:'textfield',name:'director',fieldLabel:'Director',allowBlank:!1,reference:'director',msgTarget:'side',blankText:'Director Name  is Mandatory!',reference:'director'},{xtype:'textfield',name:'dir_description',fieldLabel:'Dir. Description',reference:'dir_description',msgTarget:'side'}],buttons:[{text:'Submit',scope:this,formBind:!0,listeners:{click:function(a){var c=a.up('window');var b=this.up('form').getForm().getValues();Ext.getCmp('movieList').getStore().add(b);c.close()}}},{text:'Cancel',scope:this,handler:this.close,listeners:{}}]}];Ext.window.Window.prototype.initComponent.apply(this,arguments)}},0,['directorForm'],['component','box','container','panel','window','directorForm'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0,'directorForm':!0},['widget.directorForm'],0,[MyApp.view.movie,'DirectorForm'],0);Ext.cmd.derive('MyApp.view.movie.CategoryGrid',Ext.grid.Panel,{title:'Category',selModel:{selType:'rowmodel'},reference:'categoryGrids',initComponent:function(){var a=new MyApp.store.Category({});var b=new MyApp.store.Movie({});Ext.apply(this,{store:b,columns:[{text:'Category',dataIndex:'category',flex:2,editor:{xtype:'combobox',maxHeight:150,multiSelect:!0,emptyText:'Select Category',store:a,displayField:'categoryName',valueField:'cat_id',forceSelection:!1,editable:!1,queryMode:'local',triggerAction:'all',allowBlank:!1},renderer:function(e,d,h,g,f,i,j){var c=a.find('cat_id',e);var b=c!==-1?a.getAt(c).get('categoryName'):'';d.tdAttr='data-qtip="'+b+'"';return b}},{text:'Description',dataIndex:'cat_description',flex:1,renderer:function(a,b,e,d,c,f,g){b.tdAttr='data-qtip="'+a+'"';return a}}],viewConfig:{getRowClass:function(a,b){}},listeners:{itemdblclick:function(d,a,c,b,e){}}});Ext.grid.Panel.prototype.initComponent.apply(this,arguments)}},0,['categoryGrid'],['component','box','container','panel','tablepanel','gridpanel','grid','categoryGrid'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tablepanel':!0,'gridpanel':!0,'grid':!0,'categoryGrid':!0},['widget.categoryGrid'],0,[MyApp.view.movie,'CategoryGrid'],0);Ext.cmd.derive('MyApp.view.movie.CategoryForm',Ext.window.Window,{title:'Category Form',layout:'fit',autoShow:!0,modal:!0,width:400,height:250,closable:!0,viewModel:{type:'movieViewport'},initComponent:function(){var a=new MyApp.store.Category({});this.items=[{xtype:'form',height:300,width:400,bodyPadding:10,items:[{name:'category',fieldLabel:'Category',xtype:'combobox',maxHeight:150,multiSelect:!0,emptyText:'Select Category',store:a,displayField:'categoryName',valueField:'cat_id',forceSelection:!1,editable:!1,queryMode:'local',triggerAction:'all',allowBlank:!1,reference:'category',msgTarget:'side',blankText:'Category  is Mandatory!',listeners:{}},{xtype:'textfield',name:'cat_description',fieldLabel:'Cat. Description',reference:'cat_description',msgTarget:'side'}],buttons:[{text:'Submit',scope:this,formBind:!0,listeners:{click:function(a){var c=a.up('window');var b=this.up('form').getForm().getValues();Ext.getCmp('movieList').getStore().add(b);c.close()}}},{text:'Cancel',scope:this,handler:this.close,listeners:{}}]}];Ext.window.Window.prototype.initComponent.apply(this,arguments)}},0,['categoryForm'],['component','box','container','panel','window','categoryForm'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0,'categoryForm':!0},['widget.categoryForm'],0,[MyApp.view.movie,'CategoryForm'],0);Ext.cmd.derive('MyApp.view.movie.MovieViewModel',Ext.app.ViewModel,{stores:{movieStore:{autoLoad:!0,pageSize:3,model:'MyApp.model.Movie',proxy:{type:'ajax',url:'data/movies.json',reader:{type:'json',rootProperty:'rows'}}}}},0,0,0,0,['viewmodel.movieViewport'],0,[MyApp.view.movie,'MovieViewModel'],0);Ext.cmd.derive('MyApp.view.movie.MovieController',Ext.app.ViewController,{init:function(a){},onAddMovies:function(){Ext.widget('movieEdit')},onEditMovies:function(e){var d=this.getView();var b=d.getSelectionModel().getSelection();if(Ext.isEmpty(b)){Ext.Msg.alert('Alert','You should select a row.')}else {var c=Ext.create('MyApp.view.movie.MovieForm',{viewModel:{data:{theMovies:this.getView().getSelectionModel().getSelection()[0]}},session:!0});var a=Ext.create('Ext.Window',{frame:!0,width:350,height:320,modal:!0,layout:'fit'});a.add(c);this.getView().add(a);a.show()}},deleteMovies:function(f,e){var d=this;var a=d.getView(),b=a.getSelectionModel().getSelection()[0],c=a.getViewModel().getStore('movieStore');c.remove(b)},gridRowClick:function(d,a,c,b,e){alert('working')},control:{'movieForm button[action=save]':{click:function(a){var c=a.up('form'),b=c.up('window');b.close()}},'movieForm button[action=cancel]':{click:function(a){var c=a.up('form'),b=c.up('window');b.close()}}}},0,0,0,0,['controller.movieController'],0,[MyApp.view.movie,'MovieController'],0);Ext.cmd.derive('MyApp.store.Category',Ext.data.Store,{constructor:function(a){var b=this;a=a||{};Ext.data.Store.prototype.constructor.call(this,Ext.apply({storeId:'Category',model:'MyApp.model.Category',data:[{cat_id:'AC',categoryName:'Action'},{cat_id:'SD',categoryName:'Sports and Drama'},{cat_id:'FM',categoryName:'Family'}]},a))}},1,0,0,0,0,0,[MyApp.store,'Category'],0);Ext.cmd.derive('MyApp.view.movie.MoviesGrid',Ext.grid.Panel,{title:'Movies',plugins:[{xclass:'Ext.grid.plugin.RowEditing',clicksToMoveEditor:2,autoCancel:!1}],id:'movieList',controller:'movieController',viewModel:{type:'movieViewport'},selModel:{selType:'rowmodel'},bind:{store:'{movieStore}'},reference:'movieGrids',initComponent:function(){var a=new MyApp.store.Category({});var b=this;Ext.apply(this,{tbar:[{text:'Add ',scope:this,listeners:{click:'onAddMovies'}},{text:'Edit ',scope:this,listeners:{click:'onEditMovies'}},{text:'Delete ',scope:this,listeners:{click:'deleteMovies'}}],columns:[{text:'Movie Title',dataIndex:'movieTitle',flex:1,editor:{allowBlank:!1},renderer:function(a,b,e,d,c,f,g){b.tdAttr='data-qtip="'+a+'"';return a}},{text:'Release year',flex:1,dataIndex:'releaseYear',editor:{allowBlank:!1},renderer:function(a,b,e,d,c,f,g){b.tdAttr='data-qtip="'+a+'"';return a}},{text:'Category',dataIndex:'category',flex:2,editor:{xtype:'combobox',maxHeight:150,multiSelect:!0,emptyText:'Select Category',store:a,displayField:'categoryName',valueField:'cat_id',forceSelection:!1,editable:!1,queryMode:'local',triggerAction:'all',allowBlank:!1},renderer:function(e,d,h,g,f,i,j){var c=a.find('cat_id',e);var b=c!==-1?a.getAt(c).get('categoryName'):'';d.tdAttr='data-qtip="'+b+'"';return b}},{text:'Director',dataIndex:'director',flex:1,editor:{allowBlank:!1},renderer:function(a,b,e,d,c,f,g){b.tdAttr='data-qtip="'+a+'"';return a}},{text:'IMDB Link',dataIndex:'imdbLink',flex:1,editor:{allowBlank:!1},renderer:function(a,b,e,d,c,f,g){b.tdAttr='data-qtip="Please click on cell to open a  tab ."';if(a!=null&&a!=''){return '<a  class="link" href=\'idmb@link:'+a+";'>"+a+'</a>'}return a}}],viewConfig:{getRowClass:function(a,b){}},listeners:{itemdblclick:function(d,a,c,b,e){},cellclick:function(j,k,d,c,l,h,f,i){if(d==4){if(typeof f.target.getElementsByTagName('a')[0]=='undefined'){Ext.Msg.alert('Alert',c.get('movieTitle')+' has no link.')}else {var a=b.up('app-main').down('tabpanel');var g=a.items.length;var e=a.add({xtype:'panel',closable:!0,title:c.get('imdbLink'),html:c.get('cat_description')});a.setActiveTab(e)}}}}});Ext.grid.Panel.prototype.initComponent.apply(this,arguments)}},0,['movieList'],['component','box','container','panel','tablepanel','gridpanel','grid','movieList'],{'component':!0,'box':!0,'container':!0,'panel':!0,'tablepanel':!0,'gridpanel':!0,'grid':!0,'movieList':!0},['widget.movieList'],0,[MyApp.view.movie,'MoviesGrid'],0);Ext.cmd.derive('MyApp.view.movie.MovieWindow',Ext.window.Window,{layout:'fit',autoShow:!0,modal:!0,width:400,height:350,closable:!0,viewModel:{type:'movieViewport'},initComponent:function(){var a=new MyApp.store.Category({});this.items=[{xtype:'form',height:300,width:400,bodyPadding:10,items:[{xtype:'textfield',name:'movieTitle',allowBlank:!1,msgTarget:'side',blankText:'Movie Name  is Mandatory!',fieldLabel:'Movie Title',reference:'movieTitle',listeners:{}},{xtype:'textfield',name:'releaseYear',fieldLabel:'Release year',reference:'releaseYear',listeners:{}},{name:'category',fieldLabel:'Category',xtype:'combobox',maxHeight:150,multiSelect:!0,emptyText:'Select Category',store:a,displayField:'categoryName',valueField:'cat_id',forceSelection:!1,editable:!1,queryMode:'local',value:'AC',triggerAction:'all',allowBlank:!1,reference:'category',msgTarget:'side',blankText:'Category  is Mandatory!',reference:'category',listeners:{}},{xtype:'textfield',name:'director',fieldLabel:'Director',allowBlank:!1,reference:'director',msgTarget:'side',blankText:'Director Name  is Mandatory!',reference:'director'},{xtype:'textfield',name:'imdbLink',fieldLabel:'IMDB Link',reference:'imdbLink'}],buttons:[{text:'Submit',scope:this,formBind:!0,listeners:{click:function(a){var c=a.up('window');var b=this.up('form').getForm().getValues();Ext.getCmp('movieList').getStore().add(b);c.close()}}},{text:'Cancel',scope:this,handler:this.close,listeners:{}}]}];Ext.window.Window.prototype.initComponent.apply(this,arguments)}},0,['movieEdit'],['component','box','container','panel','window','movieEdit'],{'component':!0,'box':!0,'container':!0,'panel':!0,'window':!0,'movieEdit':!0},['widget.movieEdit'],0,[MyApp.view.movie,'MovieWindow'],0);Ext.cmd.derive('MyApp.view.movie.MovieForm',Ext.form.Panel,{autoDestroy:!1,controller:'movieController',initComponent:function(){var a=new MyApp.store.Category({});this.items=[{xtype:'textfield',name:'movieTitle',allowBlank:!1,msgTarget:'side',blankText:'Movie Name  is Mandatory!',fieldLabel:'Movie Title',reference:'movieTitle',bind:'{theMovies.movieTitle}',listeners:{}},{xtype:'textfield',name:'releaseYear',fieldLabel:'Release year',reference:'releaseYear',bind:'{theMovies.releaseYear}',listeners:{}},{name:'category',fieldLabel:'Category',xtype:'combobox',maxHeight:150,multiSelect:!0,emptyText:'Select Category',store:a,displayField:'categoryName',valueField:'cat_id',forceSelection:!1,editable:!1,queryMode:'local',value:'AC',triggerAction:'all',allowBlank:!1,reference:'category',msgTarget:'side',blankText:'Category  is Mandatory!',reference:'category',bind:'{theMovies.category}',listeners:{}},{xtype:'textfield',name:'director',fieldLabel:'Director',allowBlank:!1,reference:'director',msgTarget:'side',blankText:'Director Name  is Mandatory!',reference:'director',bind:'{theMovies.director}'},{xtype:'textfield',name:'imdbLink',fieldLabel:'IMDB Link',reference:'imdbLink',bind:'{theMovies.imdbLink}'}];this.buttons=[{text:'Save',scope:this,action:'save',formBind:!0},'->',{text:'Cancel',action:'cancel',scope:this,handler:this.close}];Ext.form.Panel.prototype.initComponent.call(this)}},0,['movieForm'],['component','box','container','panel','form','movieForm'],{'component':!0,'box':!0,'container':!0,'panel':!0,'form':!0,'movieForm':!0},['widget.movieForm'],0,[MyApp.view.movie,'MovieForm'],0);Ext.cmd.derive('MyApp.store.Movie',Ext.data.Store,{constructor:function(a){var b=this;a=a||{};Ext.data.Store.prototype.constructor.call(this,Ext.apply({storeId:'Movie',model:'MyApp.model.Movie',data:[{movieTitle:'Sultan',releaseYear:'2016',category:'SD',director:'Ali Abbas Zafar',imdbLink:'sultan',dir_description:'Ali Abbas Zafar',cat_description:'Sports and Drama Films'}]},a))}},1,0,0,0,0,0,[MyApp.store,'Movie'],0);Ext.cmd.derive('MyApp.Application',Ext.app.Application,{name:'MyApp',models:['MyApp.model.Movie','MyApp.model.Category'],stores:['MyApp.store.Movie','MyApp.store.Category'],views:['MyApp.view.login.Login','MyApp.view.main.Main','MyApp.view.movie.MoviesGrid','MyApp.view.movie.MovieWindow','MyApp.view.movie.CategoryGrid','MyApp.view.movie.DirectorGrid','MyApp.view.movie.MovieForm','MyApp.view.movie.CategoryForm','MyApp.view.movie.DirectorForm'],launch:function(){Ext.tip.QuickTipManager.init();Ext.widget('login')}},0,0,0,0,0,0,[MyApp,'Application'],0);Ext.application({name:'MyApp',extend:MyApp.Application});